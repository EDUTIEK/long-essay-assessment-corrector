var uce=Object.defineProperty;var dce=(n,r,l)=>r in n?uce(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l;var Sn=(n,r,l)=>dce(n,typeof r!="symbol"?r+"":r,l);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=l(g);fetch(g.href,v)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tU(n){const r=Object.create(null);for(const l of n.split(","))r[l]=1;return l=>l in r}const zi={},Vk=[],vv=()=>{},fce=()=>!1,BL=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),nU=n=>n.startsWith("onUpdate:"),zl=Object.assign,oU=(n,r)=>{const l=n.indexOf(r);l>-1&&n.splice(l,1)},mce=Object.prototype.hasOwnProperty,ui=(n,r)=>mce.call(n,r),ts=Array.isArray,zk=n=>yD(n)==="[object Map]",Xk=n=>yD(n)==="[object Set]",xK=n=>yD(n)==="[object Date]",Is=n=>typeof n=="function",Ka=n=>typeof n=="string",yv=n=>typeof n=="symbol",Ai=n=>n!==null&&typeof n=="object",Hq=n=>(Ai(n)||Is(n))&&Is(n.then)&&Is(n.catch),$q=Object.prototype.toString,yD=n=>$q.call(n),gce=n=>yD(n).slice(8,-1),Uq=n=>yD(n)==="[object Object]",sU=n=>Ka(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,FO=tU(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LL=n=>{const r=Object.create(null);return l=>r[l]||(r[l]=n(l))},hce=/-(\w)/g,gm=LL(n=>n.replace(hce,(r,l)=>l?l.toUpperCase():"")),pce=/\B([A-Z])/g,mC=LL(n=>n.replace(pce,"-$1").toLowerCase()),O1=LL(n=>n.charAt(0).toUpperCase()+n.slice(1)),NH=LL(n=>n?`on${O1(n)}`:""),Uy=(n,r)=>!Object.is(n,r),QB=(n,...r)=>{for(let l=0;l<n.length;l++)n[l](...r)},Wq=(n,r,l,d=!1)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,writable:d,value:l})},uL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},vce=n=>{const r=Ka(n)?Number(n):NaN;return isNaN(r)?n:r};let wK;const Zq=()=>wK||(wK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xD(n){if(ts(n)){const r={};for(let l=0;l<n.length;l++){const d=n[l],g=Ka(d)?wce(d):xD(d);if(g)for(const v in g)r[v]=g[v]}return r}else if(Ka(n)||Ai(n))return n}const bce=/;(?![^(]*\))/g,yce=/:([^]+)/,xce=/\/\*[^]*?\*\//g;function wce(n){const r={};return n.replace(xce,"").split(bce).forEach(l=>{if(l){const d=l.split(yce);d.length>1&&(r[d[0].trim()]=d[1].trim())}}),r}function wd(n){let r="";if(Ka(n))r=n;else if(ts(n))for(let l=0;l<n.length;l++){const d=wd(n[l]);d&&(r+=d+" ")}else if(Ai(n))for(const l in n)n[l]&&(r+=l+" ");return r.trim()}const Cce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_ce=tU(Cce);function jq(n){return!!n||n===""}function Sce(n,r){if(n.length!==r.length)return!1;let l=!0;for(let d=0;l&&d<n.length;d++)l=wD(n[d],r[d]);return l}function wD(n,r){if(n===r)return!0;let l=xK(n),d=xK(r);if(l||d)return l&&d?n.getTime()===r.getTime():!1;if(l=yv(n),d=yv(r),l||d)return n===r;if(l=ts(n),d=ts(r),l||d)return l&&d?Sce(n,r):!1;if(l=Ai(n),d=Ai(r),l||d){if(!l||!d)return!1;const g=Object.keys(n).length,v=Object.keys(r).length;if(g!==v)return!1;for(const x in n){const S=n.hasOwnProperty(x),M=r.hasOwnProperty(x);if(S&&!M||!S&&M||!wD(n[x],r[x]))return!1}}return String(n)===String(r)}function rU(n,r){return n.findIndex(l=>wD(l,r))}const Kq=n=>!!(n&&n.__v_isRef===!0),Go=n=>Ka(n)?n:n==null?"":ts(n)||Ai(n)&&(n.toString===$q||!Is(n.toString))?Kq(n)?Go(n.value):JSON.stringify(n,Gq,2):String(n),Gq=(n,r)=>Kq(r)?Gq(n,r.value):zk(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[d,g],v)=>(l[PH(d,v)+" =>"]=g,l),{})}:Xk(r)?{[`Set(${r.size})`]:[...r.values()].map(l=>PH(l))}:yv(r)?PH(r):Ai(r)&&!ts(r)&&!Uq(r)?String(r):r,PH=(n,r="")=>{var l;return yv(n)?`Symbol(${(l=n.description)!=null?l:r})`:n};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vd;class qq{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vd,!r&&vd&&(this.index=(vd.scopes||(vd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=vd;try{return vd=this,r()}finally{vd=l}}}on(){vd=this}off(){vd=this.parent}stop(r){if(this._active){let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.scopes)for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0,this._active=!1}}}function CD(n){return new qq(n)}function Yq(){return vd}function Du(n,r=!1){vd&&vd.cleanups.push(n)}let Vi;const MH=new WeakSet;class Xq{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vd&&vd.active&&vd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,MH.has(this)&&(MH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qq(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,CK(this),eY(this);const r=Vi,l=Hh;Vi=this,Hh=!0;try{return this.fn()}finally{tY(this),Vi=r,Hh=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)lU(r);this.deps=this.depsTail=void 0,CK(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?MH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){p$(this)&&this.run()}get dirty(){return p$(this)}}let Jq=0,VO;function Qq(n){n.flags|=8,n.next=VO,VO=n}function iU(){Jq++}function aU(){if(--Jq>0)return;let n;for(;VO;){let r=VO;for(VO=void 0;r;){const l=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(d){n||(n=d)}r=l}}if(n)throw n}function eY(n){for(let r=n.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function tY(n){let r,l=n.depsTail,d=l;for(;d;){const g=d.prevDep;d.version===-1?(d===l&&(l=g),lU(d),kce(d)):r=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=g}n.deps=r,n.depsTail=l}function p$(n){for(let r=n.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(nY(r.dep.computed)||r.dep.version!==r.version))return!0;return!!n._dirty}function nY(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===KO))return;n.globalVersion=KO;const r=n.dep;if(n.flags|=2,r.version>0&&!n.isSSR&&n.deps&&!p$(n)){n.flags&=-3;return}const l=Vi,d=Hh;Vi=n,Hh=!0;try{eY(n);const g=n.fn(n._value);(r.version===0||Uy(g,n._value))&&(n._value=g,r.version++)}catch(g){throw r.version++,g}finally{Vi=l,Hh=d,tY(n),n.flags&=-3}}function lU(n){const{dep:r,prevSub:l,nextSub:d}=n;if(l&&(l.nextSub=d,n.prevSub=void 0),d&&(d.prevSub=l,n.nextSub=void 0),r.subs===n&&(r.subs=l),!r.subs&&r.computed){r.computed.flags&=-5;for(let g=r.computed.deps;g;g=g.nextDep)lU(g)}}function kce(n){const{prevDep:r,nextDep:l}=n;r&&(r.nextDep=l,n.prevDep=void 0),l&&(l.prevDep=r,n.nextDep=void 0)}let Hh=!0;const oY=[];function qy(){oY.push(Hh),Hh=!1}function Yy(){const n=oY.pop();Hh=n===void 0?!0:n}function CK(n){const{cleanup:r}=n;if(n.cleanup=void 0,r){const l=Vi;Vi=void 0;try{r()}finally{Vi=l}}}let KO=0;class Ece{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cU{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0}track(r){if(!Vi||!Hh||Vi===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Vi)l=this.activeLink=new Ece(Vi,this),Vi.deps?(l.prevDep=Vi.depsTail,Vi.depsTail.nextDep=l,Vi.depsTail=l):Vi.deps=Vi.depsTail=l,Vi.flags&4&&sY(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const d=l.nextDep;d.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=d),l.prevDep=Vi.depsTail,l.nextDep=void 0,Vi.depsTail.nextDep=l,Vi.depsTail=l,Vi.deps===l&&(Vi.deps=d)}return l}trigger(r){this.version++,KO++,this.notify(r)}notify(r){iU();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{aU()}}}function sY(n){const r=n.dep.computed;if(r&&!n.dep.subs){r.flags|=20;for(let d=r.deps;d;d=d.nextDep)sY(d)}const l=n.dep.subs;l!==n&&(n.prevSub=l,l&&(l.nextSub=n)),n.dep.subs=n}const dL=new WeakMap,nC=Symbol(""),v$=Symbol(""),GO=Symbol("");function Ou(n,r,l){if(Hh&&Vi){let d=dL.get(n);d||dL.set(n,d=new Map);let g=d.get(l);g||d.set(l,g=new cU),g.track()}}function _1(n,r,l,d,g,v){const x=dL.get(n);if(!x){KO++;return}const S=M=>{M&&M.trigger()};if(iU(),r==="clear")x.forEach(S);else{const M=ts(n),R=M&&sU(l);if(M&&l==="length"){const I=Number(d);x.forEach((L,$)=>{($==="length"||$===GO||!yv($)&&$>=I)&&S(L)})}else switch(l!==void 0&&S(x.get(l)),R&&S(x.get(GO)),r){case"add":M?R&&S(x.get("length")):(S(x.get(nC)),zk(n)&&S(x.get(v$)));break;case"delete":M||(S(x.get(nC)),zk(n)&&S(x.get(v$)));break;case"set":zk(n)&&S(x.get(nC));break}}aU()}function Ace(n,r){var l;return(l=dL.get(n))==null?void 0:l.get(r)}function Ck(n){const r=ss(n);return r===n?r:(Ou(r,"iterate",GO),Dg(n)?r:r.map(ku))}function FL(n){return Ou(n=ss(n),"iterate",GO),n}const Tce={__proto__:null,[Symbol.iterator](){return BH(this,Symbol.iterator,ku)},concat(...n){return Ck(this).concat(...n.map(r=>ts(r)?Ck(r):r))},entries(){return BH(this,"entries",n=>(n[1]=ku(n[1]),n))},every(n,r){return h1(this,"every",n,r,void 0,arguments)},filter(n,r){return h1(this,"filter",n,r,l=>l.map(ku),arguments)},find(n,r){return h1(this,"find",n,r,ku,arguments)},findIndex(n,r){return h1(this,"findIndex",n,r,void 0,arguments)},findLast(n,r){return h1(this,"findLast",n,r,ku,arguments)},findLastIndex(n,r){return h1(this,"findLastIndex",n,r,void 0,arguments)},forEach(n,r){return h1(this,"forEach",n,r,void 0,arguments)},includes(...n){return LH(this,"includes",n)},indexOf(...n){return LH(this,"indexOf",n)},join(n){return Ck(this).join(n)},lastIndexOf(...n){return LH(this,"lastIndexOf",n)},map(n,r){return h1(this,"map",n,r,void 0,arguments)},pop(){return OO(this,"pop")},push(...n){return OO(this,"push",n)},reduce(n,...r){return _K(this,"reduce",n,r)},reduceRight(n,...r){return _K(this,"reduceRight",n,r)},shift(){return OO(this,"shift")},some(n,r){return h1(this,"some",n,r,void 0,arguments)},splice(...n){return OO(this,"splice",n)},toReversed(){return Ck(this).toReversed()},toSorted(n){return Ck(this).toSorted(n)},toSpliced(...n){return Ck(this).toSpliced(...n)},unshift(...n){return OO(this,"unshift",n)},values(){return BH(this,"values",ku)}};function BH(n,r,l){const d=FL(n),g=d[r]();return d!==n&&!Dg(n)&&(g._next=g.next,g.next=()=>{const v=g._next();return v.value&&(v.value=l(v.value)),v}),g}const Oce=Array.prototype;function h1(n,r,l,d,g,v){const x=FL(n),S=x!==n&&!Dg(n),M=x[r];if(M!==Oce[r]){const L=M.apply(n,v);return S?ku(L):L}let R=l;x!==n&&(S?R=function(L,$){return l.call(this,ku(L),$,n)}:l.length>2&&(R=function(L,$){return l.call(this,L,$,n)}));const I=M.call(x,R,d);return S&&g?g(I):I}function _K(n,r,l,d){const g=FL(n);let v=l;return g!==n&&(Dg(n)?l.length>3&&(v=function(x,S,M){return l.call(this,x,S,M,n)}):v=function(x,S,M){return l.call(this,x,ku(S),M,n)}),g[r](v,...d)}function LH(n,r,l){const d=ss(n);Ou(d,"iterate",GO);const g=d[r](...l);return(g===-1||g===!1)&&mU(l[0])?(l[0]=ss(l[0]),d[r](...l)):g}function OO(n,r,l=[]){qy(),iU();const d=ss(n)[r].apply(n,l);return aU(),Yy(),d}const Dce=tU("__proto__,__v_isRef,__isVue"),rY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(yv));function Rce(n){yv(n)||(n=String(n));const r=ss(this);return Ou(r,"has",n),r.hasOwnProperty(n)}class iY{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,d){const g=this._isReadonly,v=this._isShallow;if(l==="__v_isReactive")return!g;if(l==="__v_isReadonly")return g;if(l==="__v_isShallow")return v;if(l==="__v_raw")return d===(g?v?Wce:uY:v?cY:lY).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(d)?r:void 0;const x=ts(r);if(!g){let M;if(x&&(M=Tce[l]))return M;if(l==="hasOwnProperty")return Rce}const S=Reflect.get(r,l,zr(r)?r:d);return(yv(l)?rY.has(l):Dce(l))||(g||Ou(r,"get",l),v)?S:zr(S)?x&&sU(l)?S:S.value:Ai(S)?g?_D(S):Ql(S):S}}class aY extends iY{constructor(r=!1){super(!1,r)}set(r,l,d,g){let v=r[l];if(!this._isShallow){const M=aC(v);if(!Dg(d)&&!aC(d)&&(v=ss(v),d=ss(d)),!ts(r)&&zr(v)&&!zr(d))return M?!1:(v.value=d,!0)}const x=ts(r)&&sU(l)?Number(l)<r.length:ui(r,l),S=Reflect.set(r,l,d,zr(r)?r:g);return r===ss(g)&&(x?Uy(d,v)&&_1(r,"set",l,d):_1(r,"add",l,d)),S}deleteProperty(r,l){const d=ui(r,l);r[l];const g=Reflect.deleteProperty(r,l);return g&&d&&_1(r,"delete",l,void 0),g}has(r,l){const d=Reflect.has(r,l);return(!yv(l)||!rY.has(l))&&Ou(r,"has",l),d}ownKeys(r){return Ou(r,"iterate",ts(r)?"length":nC),Reflect.ownKeys(r)}}class Ice extends iY{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const Nce=new aY,Pce=new Ice,Mce=new aY(!0);const uU=n=>n,VL=n=>Reflect.getPrototypeOf(n);function IB(n,r,l=!1,d=!1){n=n.__v_raw;const g=ss(n),v=ss(r);l||(Uy(r,v)&&Ou(g,"get",r),Ou(g,"get",v));const{has:x}=VL(g),S=d?uU:l?hU:ku;if(x.call(g,r))return S(n.get(r));if(x.call(g,v))return S(n.get(v));n!==g&&n.get(r)}function NB(n,r=!1){const l=this.__v_raw,d=ss(l),g=ss(n);return r||(Uy(n,g)&&Ou(d,"has",n),Ou(d,"has",g)),n===g?l.has(n):l.has(n)||l.has(g)}function PB(n,r=!1){return n=n.__v_raw,!r&&Ou(ss(n),"iterate",nC),Reflect.get(n,"size",n)}function SK(n,r=!1){!r&&!Dg(n)&&!aC(n)&&(n=ss(n));const l=ss(this);return VL(l).has.call(l,n)||(l.add(n),_1(l,"add",n,n)),this}function kK(n,r,l=!1){!l&&!Dg(r)&&!aC(r)&&(r=ss(r));const d=ss(this),{has:g,get:v}=VL(d);let x=g.call(d,n);x||(n=ss(n),x=g.call(d,n));const S=v.call(d,n);return d.set(n,r),x?Uy(r,S)&&_1(d,"set",n,r):_1(d,"add",n,r),this}function EK(n){const r=ss(this),{has:l,get:d}=VL(r);let g=l.call(r,n);g||(n=ss(n),g=l.call(r,n)),d&&d.call(r,n);const v=r.delete(n);return g&&_1(r,"delete",n,void 0),v}function AK(){const n=ss(this),r=n.size!==0,l=n.clear();return r&&_1(n,"clear",void 0,void 0),l}function MB(n,r){return function(d,g){const v=this,x=v.__v_raw,S=ss(x),M=r?uU:n?hU:ku;return!n&&Ou(S,"iterate",nC),x.forEach((R,I)=>d.call(g,M(R),M(I),v))}}function BB(n,r,l){return function(...d){const g=this.__v_raw,v=ss(g),x=zk(v),S=n==="entries"||n===Symbol.iterator&&x,M=n==="keys"&&x,R=g[n](...d),I=l?uU:r?hU:ku;return!r&&Ou(v,"iterate",M?v$:nC),{next(){const{value:L,done:$}=R.next();return $?{value:L,done:$}:{value:S?[I(L[0]),I(L[1])]:I(L),done:$}},[Symbol.iterator](){return this}}}}function Oy(n){return function(...r){return n==="delete"?!1:n==="clear"?void 0:this}}function Bce(){const n={get(v){return IB(this,v)},get size(){return PB(this)},has:NB,add:SK,set:kK,delete:EK,clear:AK,forEach:MB(!1,!1)},r={get(v){return IB(this,v,!1,!0)},get size(){return PB(this)},has:NB,add(v){return SK.call(this,v,!0)},set(v,x){return kK.call(this,v,x,!0)},delete:EK,clear:AK,forEach:MB(!1,!0)},l={get(v){return IB(this,v,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Oy("add"),set:Oy("set"),delete:Oy("delete"),clear:Oy("clear"),forEach:MB(!0,!1)},d={get(v){return IB(this,v,!0,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Oy("add"),set:Oy("set"),delete:Oy("delete"),clear:Oy("clear"),forEach:MB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{n[v]=BB(v,!1,!1),l[v]=BB(v,!0,!1),r[v]=BB(v,!1,!0),d[v]=BB(v,!0,!0)}),[n,l,r,d]}const[Lce,Fce,Vce,zce]=Bce();function dU(n,r){const l=r?n?zce:Vce:n?Fce:Lce;return(d,g,v)=>g==="__v_isReactive"?!n:g==="__v_isReadonly"?n:g==="__v_raw"?d:Reflect.get(ui(l,g)&&g in d?l:d,g,v)}const Hce={get:dU(!1,!1)},$ce={get:dU(!1,!0)},Uce={get:dU(!0,!1)};const lY=new WeakMap,cY=new WeakMap,uY=new WeakMap,Wce=new WeakMap;function Zce(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jce(n){return n.__v_skip||!Object.isExtensible(n)?0:Zce(gce(n))}function Ql(n){return aC(n)?n:fU(n,!1,Nce,Hce,lY)}function Kce(n){return fU(n,!1,Mce,$ce,cY)}function _D(n){return fU(n,!0,Pce,Uce,uY)}function fU(n,r,l,d,g){if(!Ai(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const v=g.get(n);if(v)return v;const x=jce(n);if(x===0)return n;const S=new Proxy(n,x===2?d:l);return g.set(n,S),S}function Hy(n){return aC(n)?Hy(n.__v_raw):!!(n&&n.__v_isReactive)}function aC(n){return!!(n&&n.__v_isReadonly)}function Dg(n){return!!(n&&n.__v_isShallow)}function mU(n){return n?!!n.__v_raw:!1}function ss(n){const r=n&&n.__v_raw;return r?ss(r):n}function gU(n){return!ui(n,"__v_skip")&&Object.isExtensible(n)&&Wq(n,"__v_skip",!0),n}const ku=n=>Ai(n)?Ql(n):n,hU=n=>Ai(n)?_D(n):n;function zr(n){return n?n.__v_isRef===!0:!1}function Mn(n){return dY(n,!1)}function Ao(n){return dY(n,!0)}function dY(n,r){return zr(n)?n:new Gce(n,r)}class Gce{constructor(r,l){this.dep=new cU,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:ss(r),this._value=l?r:ku(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,d=this.__v_isShallow||Dg(r)||aC(r);r=d?r:ss(r),Uy(r,l)&&(this._rawValue=r,this._value=d?r:ku(r),this.dep.trigger())}}function ce(n){return zr(n)?n.value:n}const qce={get:(n,r,l)=>r==="__v_raw"?n:ce(Reflect.get(n,r,l)),set:(n,r,l,d)=>{const g=n[r];return zr(g)&&!zr(l)?(g.value=l,!0):Reflect.set(n,r,l,d)}};function fY(n){return Hy(n)?n:new Proxy(n,qce)}function SD(n){const r=ts(n)?new Array(n.length):{};for(const l in n)r[l]=mY(n,l);return r}class Yce{constructor(r,l,d){this._object=r,this._key=l,this._defaultValue=d,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return Ace(ss(this._object),this._key)}}class Xce{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function es(n,r,l){return zr(n)?n:Is(n)?new Xce(n):Ai(n)&&arguments.length>1?mY(n,r,l):Mn(n)}function mY(n,r,l){const d=n[r];return zr(d)?d:new Yce(n,r,l)}class Jce{constructor(r,l,d){this.fn=r,this.setter=l,this._value=void 0,this.dep=new cU(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=KO-1,this.effect=this,this.__v_isReadonly=!l,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&Vi!==this)return Qq(this),!0}get value(){const r=this.dep.track();return nY(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function Qce(n,r,l=!1){let d,g;return Is(n)?d=n:(d=n.get,g=n.set),new Jce(d,g,l)}const LB={},fL=new WeakMap;let Jw;function eue(n,r=!1,l=Jw){if(l){let d=fL.get(l);d||fL.set(l,d=[]),d.push(n)}}function tue(n,r,l=zi){const{immediate:d,deep:g,once:v,scheduler:x,augmentJob:S,call:M}=l,R=ee=>g?ee:Dg(ee)||g===!1||g===0?x1(ee,1):x1(ee);let I,L,$,K,Y=!1,ne=!1;if(zr(n)?(L=()=>n.value,Y=Dg(n)):Hy(n)?(L=()=>R(n),Y=!0):ts(n)?(ne=!0,Y=n.some(ee=>Hy(ee)||Dg(ee)),L=()=>n.map(ee=>{if(zr(ee))return ee.value;if(Hy(ee))return R(ee);if(Is(ee))return M?M(ee,2):ee()})):Is(n)?r?L=M?()=>M(n,2):n:L=()=>{if($){qy();try{$()}finally{Yy()}}const ee=Jw;Jw=I;try{return M?M(n,3,[K]):n(K)}finally{Jw=ee}}:L=vv,r&&g){const ee=L,_e=g===!0?1/0:g;L=()=>x1(ee(),_e)}const oe=Yq(),se=()=>{I.stop(),oe&&oU(oe.effects,I)};if(v&&r){const ee=r;r=(..._e)=>{ee(..._e),se()}}let Me=ne?new Array(n.length).fill(LB):LB;const xe=ee=>{if(!(!(I.flags&1)||!I.dirty&&!ee))if(r){const _e=I.run();if(g||Y||(ne?_e.some((le,Ue)=>Uy(le,Me[Ue])):Uy(_e,Me))){$&&$();const le=Jw;Jw=I;try{const Ue=[_e,Me===LB?void 0:ne&&Me[0]===LB?[]:Me,K];M?M(r,3,Ue):r(...Ue),Me=_e}finally{Jw=le}}}else I.run()};return S&&S(xe),I=new Xq(L),I.scheduler=x?()=>x(xe,!1):xe,K=ee=>eue(ee,!1,I),$=I.onStop=()=>{const ee=fL.get(I);if(ee){if(M)M(ee,4);else for(const _e of ee)_e();fL.delete(I)}},r?d?xe(!0):Me=I.run():x?x(xe.bind(null,!0),!0):I.run(),se.pause=I.pause.bind(I),se.resume=I.resume.bind(I),se.stop=se,se}function x1(n,r=1/0,l){if(r<=0||!Ai(n)||n.__v_skip||(l=l||new Set,l.has(n)))return n;if(l.add(n),r--,zr(n))x1(n.value,r,l);else if(ts(n))for(let d=0;d<n.length;d++)x1(n[d],r,l);else if(Xk(n)||zk(n))n.forEach(d=>{x1(d,r,l)});else if(Uq(n)){for(const d in n)x1(n[d],r,l);for(const d of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,d)&&x1(n[d],r,l)}return n}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kD(n,r,l,d){try{return d?n(...d):n()}catch(g){zL(g,r,l)}}function jh(n,r,l,d){if(Is(n)){const g=kD(n,r,l,d);return g&&Hq(g)&&g.catch(v=>{zL(v,r,l)}),g}if(ts(n)){const g=[];for(let v=0;v<n.length;v++)g.push(jh(n[v],r,l,d));return g}}function zL(n,r,l,d=!0){const g=r?r.vnode:null,{errorHandler:v,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||zi;if(r){let S=r.parent;const M=r.proxy,R=`https://vuejs.org/error-reference/#runtime-${l}`;for(;S;){const I=S.ec;if(I){for(let L=0;L<I.length;L++)if(I[L](n,M,R)===!1)return}S=S.parent}if(v){qy(),kD(v,null,10,[n,M,R]),Yy();return}}nue(n,l,g,d,x)}function nue(n,r,l,d=!0,g=!1){if(g)throw n;console.error(n)}let qO=!1,b$=!1;const bd=[];let cv=0;const Hk=[];let My=null,Nk=0;const gY=Promise.resolve();let pU=null;function Fs(n){const r=pU||gY;return n?r.then(this?n.bind(this):n):r}function oue(n){let r=qO?cv+1:0,l=bd.length;for(;r<l;){const d=r+l>>>1,g=bd[d],v=YO(g);v<n||v===n&&g.flags&2?r=d+1:l=d}return r}function vU(n){if(!(n.flags&1)){const r=YO(n),l=bd[bd.length-1];!l||!(n.flags&2)&&r>=YO(l)?bd.push(n):bd.splice(oue(r),0,n),n.flags|=1,hY()}}function hY(){!qO&&!b$&&(b$=!0,pU=gY.then(vY))}function sue(n){ts(n)?Hk.push(...n):My&&n.id===-1?My.splice(Nk+1,0,n):n.flags&1||(Hk.push(n),n.flags|=1),hY()}function TK(n,r,l=qO?cv+1:0){for(;l<bd.length;l++){const d=bd[l];if(d&&d.flags&2){if(n&&d.id!==n.uid)continue;bd.splice(l,1),l--,d.flags&4&&(d.flags&=-2),d(),d.flags&=-2}}}function pY(n){if(Hk.length){const r=[...new Set(Hk)].sort((l,d)=>YO(l)-YO(d));if(Hk.length=0,My){My.push(...r);return}for(My=r,Nk=0;Nk<My.length;Nk++){const l=My[Nk];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}My=null,Nk=0}}const YO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function vY(n){b$=!1,qO=!0;try{for(cv=0;cv<bd.length;cv++){const r=bd[cv];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),kD(r,r.i,r.i?15:14),r.flags&=-2)}}finally{for(;cv<bd.length;cv++){const r=bd[cv];r&&(r.flags&=-2)}cv=0,bd.length=0,pY(),qO=!1,pU=null,(bd.length||Hk.length)&&vY()}}let xd=null,bY=null;function mL(n){const r=xd;return xd=n,bY=n&&n.type.__scopeId||null,r}function It(n,r=xd,l){if(!r||n._n)return n;const d=(...g)=>{d._d&&zK(-1);const v=mL(r);let x;try{x=n(...g)}finally{mL(v),d._d&&zK(1)}return x};return d._n=!0,d._c=!0,d._d=!0,d}function Qn(n,r){if(xd===null)return n;const l=jL(xd),d=n.dirs||(n.dirs=[]);for(let g=0;g<r.length;g++){let[v,x,S,M=zi]=r[g];v&&(Is(v)&&(v={mounted:v,updated:v}),v.deep&&x1(x),d.push({dir:v,instance:l,value:x,oldValue:void 0,arg:S,modifiers:M}))}return n}function jw(n,r,l,d){const g=n.dirs,v=r&&r.dirs;for(let x=0;x<g.length;x++){const S=g[x];v&&(S.oldValue=v[x].value);let M=S.dir[d];M&&(qy(),jh(M,l,8,[n.el,S,n,r]),Yy())}}const yY=Symbol("_vte"),xY=n=>n.__isTeleport,zO=n=>n&&(n.disabled||n.disabled===""),rue=n=>n&&(n.defer||n.defer===""),OK=n=>typeof SVGElement<"u"&&n instanceof SVGElement,DK=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,y$=(n,r)=>{const l=n&&n.to;return Ka(l)?r?r(l):null:l},iue={name:"Teleport",__isTeleport:!0,process(n,r,l,d,g,v,x,S,M,R){const{mc:I,pc:L,pbc:$,o:{insert:K,querySelector:Y,createText:ne,createComment:oe}}=R,se=zO(r.props);let{shapeFlag:Me,children:xe,dynamicChildren:ee}=r;if(n==null){const _e=r.el=ne(""),le=r.anchor=ne("");K(_e,l,d),K(le,l,d);const Ue=(qe,st)=>{Me&16&&(g&&g.isCE&&(g.ce._teleportTarget=qe),I(xe,qe,st,g,v,x,S,M))},We=()=>{const qe=r.target=y$(r.props,Y),st=wY(qe,r,ne,K);qe&&(x!=="svg"&&OK(qe)?x="svg":x!=="mathml"&&DK(qe)&&(x="mathml"),se||(Ue(qe,st),eL(r)))};se&&(Ue(l,le),eL(r)),rue(r.props)?of(We,v):We()}else{r.el=n.el,r.targetStart=n.targetStart;const _e=r.anchor=n.anchor,le=r.target=n.target,Ue=r.targetAnchor=n.targetAnchor,We=zO(n.props),qe=We?l:le,st=We?_e:Ue;if(x==="svg"||OK(le)?x="svg":(x==="mathml"||DK(le))&&(x="mathml"),ee?($(n.dynamicChildren,ee,qe,g,v,x,S),SU(n,r,!0)):M||L(n,r,qe,st,g,v,x,S,!1),se)We?r.props&&n.props&&r.props.to!==n.props.to&&(r.props.to=n.props.to):FB(r,l,_e,R,1);else if((r.props&&r.props.to)!==(n.props&&n.props.to)){const ke=r.target=y$(r.props,Y);ke&&FB(r,ke,null,R,0)}else We&&FB(r,le,Ue,R,1);eL(r)}},remove(n,r,l,{um:d,o:{remove:g}},v){const{shapeFlag:x,children:S,anchor:M,targetStart:R,targetAnchor:I,target:L,props:$}=n;if(L&&(g(R),g(I)),v&&g(M),x&16){const K=v||!zO($);for(let Y=0;Y<S.length;Y++){const ne=S[Y];d(ne,r,l,K,!!ne.dynamicChildren)}}},move:FB,hydrate:aue};function FB(n,r,l,{o:{insert:d},m:g},v=2){v===0&&d(n.targetAnchor,r,l);const{el:x,anchor:S,shapeFlag:M,children:R,props:I}=n,L=v===2;if(L&&d(x,r,l),(!L||zO(I))&&M&16)for(let $=0;$<R.length;$++)g(R[$],r,l,2);L&&d(S,r,l)}function aue(n,r,l,d,g,v,{o:{nextSibling:x,parentNode:S,querySelector:M,insert:R,createText:I}},L){const $=r.target=y$(r.props,M);if($){const K=$._lpa||$.firstChild;if(r.shapeFlag&16)if(zO(r.props))r.anchor=L(x(n),r,S(n),l,d,g,v),r.targetStart=K,r.targetAnchor=K&&x(K);else{r.anchor=x(n);let Y=K;for(;Y;){if(Y&&Y.nodeType===8){if(Y.data==="teleport start anchor")r.targetStart=Y;else if(Y.data==="teleport anchor"){r.targetAnchor=Y,$._lpa=r.targetAnchor&&x(r.targetAnchor);break}}Y=x(Y)}r.targetAnchor||wY($,r,I,R),L(K&&x(K),r,$,l,d,g,v)}eL(r)}return r.anchor&&x(r.anchor)}const lue=iue;function eL(n){const r=n.ctx;if(r&&r.ut){let l=n.targetStart;for(;l&&l!==n.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",r.uid),l=l.nextSibling;r.ut()}}function wY(n,r,l,d){const g=r.targetStart=l(""),v=r.targetAnchor=l("");return g[yY]=v,n&&(d(g,n),d(v,n)),v}const By=Symbol("_leaveCb"),VB=Symbol("_enterCb");function CY(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ru(()=>{n.isMounted=!0}),wc(()=>{n.isUnmounting=!0}),n}const Tg=[Function,Array],_Y={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tg,onEnter:Tg,onAfterEnter:Tg,onEnterCancelled:Tg,onBeforeLeave:Tg,onLeave:Tg,onAfterLeave:Tg,onLeaveCancelled:Tg,onBeforeAppear:Tg,onAppear:Tg,onAfterAppear:Tg,onAppearCancelled:Tg},SY=n=>{const r=n.subTree;return r.component?SY(r.component):r},cue={name:"BaseTransition",props:_Y,setup(n,{slots:r}){const l=AU(),d=CY();return()=>{const g=r.default&&bU(r.default(),!0);if(!g||!g.length)return;const v=kY(g),x=ss(n),{mode:S}=x;if(d.isLeaving)return FH(v);const M=RK(v);if(!M)return FH(v);let R=XO(M,x,d,l,$=>R=$);M.type!==yd&&lC(M,R);const I=l.subTree,L=I&&RK(I);if(L&&L.type!==yd&&!Qw(M,L)&&SY(l).type!==yd){const $=XO(L,x,d,l);if(lC(L,$),S==="out-in"&&M.type!==yd)return d.isLeaving=!0,$.afterLeave=()=>{d.isLeaving=!1,l.job.flags&8||l.update(),delete $.afterLeave},FH(v);S==="in-out"&&M.type!==yd&&($.delayLeave=(K,Y,ne)=>{const oe=EY(d,L);oe[String(L.key)]=L,K[By]=()=>{Y(),K[By]=void 0,delete R.delayedLeave},R.delayedLeave=ne})}return v}}};function kY(n){let r=n[0];if(n.length>1){for(const l of n)if(l.type!==yd){r=l;break}}return r}const uue=cue;function EY(n,r){const{leavingVNodes:l}=n;let d=l.get(r.type);return d||(d=Object.create(null),l.set(r.type,d)),d}function XO(n,r,l,d,g){const{appear:v,mode:x,persisted:S=!1,onBeforeEnter:M,onEnter:R,onAfterEnter:I,onEnterCancelled:L,onBeforeLeave:$,onLeave:K,onAfterLeave:Y,onLeaveCancelled:ne,onBeforeAppear:oe,onAppear:se,onAfterAppear:Me,onAppearCancelled:xe}=r,ee=String(n.key),_e=EY(l,n),le=(qe,st)=>{qe&&jh(qe,d,9,st)},Ue=(qe,st)=>{const ke=st[1];le(qe,st),ts(qe)?qe.every(Le=>Le.length<=1)&&ke():qe.length<=1&&ke()},We={mode:x,persisted:S,beforeEnter(qe){let st=M;if(!l.isMounted)if(v)st=oe||M;else return;qe[By]&&qe[By](!0);const ke=_e[ee];ke&&Qw(n,ke)&&ke.el[By]&&ke.el[By](),le(st,[qe])},enter(qe){let st=R,ke=I,Le=L;if(!l.isMounted)if(v)st=se||R,ke=Me||I,Le=xe||L;else return;let O=!1;const Ke=qe[VB]=ct=>{O||(O=!0,ct?le(Le,[qe]):le(ke,[qe]),We.delayedLeave&&We.delayedLeave(),qe[VB]=void 0)};st?Ue(st,[qe,Ke]):Ke()},leave(qe,st){const ke=String(n.key);if(qe[VB]&&qe[VB](!0),l.isUnmounting)return st();le($,[qe]);let Le=!1;const O=qe[By]=Ke=>{Le||(Le=!0,st(),Ke?le(ne,[qe]):le(Y,[qe]),qe[By]=void 0,_e[ke]===n&&delete _e[ke])};_e[ke]=n,K?Ue(K,[qe,O]):O()},clone(qe){const st=XO(qe,r,l,d,g);return g&&g(st),st}};return We}function FH(n){if(HL(n))return n=A1(n),n.children=null,n}function RK(n){if(!HL(n))return xY(n.type)&&n.children?kY(n.children):n;const{shapeFlag:r,children:l}=n;if(l){if(r&16)return l[0];if(r&32&&Is(l.default))return l.default()}}function lC(n,r){n.shapeFlag&6&&n.component?(n.transition=r,lC(n.component.subTree,r)):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r}function bU(n,r=!1,l){let d=[],g=0;for(let v=0;v<n.length;v++){let x=n[v];const S=l==null?x.key:String(l)+String(x.key!=null?x.key:v);x.type===us?(x.patchFlag&128&&g++,d=d.concat(bU(x.children,r,S))):(r||x.type!==yd)&&d.push(S!=null?A1(x,{key:S}):x)}if(g>1)for(let v=0;v<d.length;v++)d[v].patchFlag=-2;return d}/*! #__NO_SIDE_EFFECTS__ */function AY(n,r){return Is(n)?zl({name:n.name},r,{setup:n}):n}function TY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function x$(n,r,l,d,g=!1){if(ts(n)){n.forEach((Y,ne)=>x$(Y,r&&(ts(r)?r[ne]:r),l,d,g));return}if(HO(d)&&!g)return;const v=d.shapeFlag&4?jL(d.component):d.el,x=g?null:v,{i:S,r:M}=n,R=r&&r.r,I=S.refs===zi?S.refs={}:S.refs,L=S.setupState,$=ss(L),K=L===zi?()=>!1:Y=>ui($,Y);if(R!=null&&R!==M&&(Ka(R)?(I[R]=null,K(R)&&(L[R]=null)):zr(R)&&(R.value=null)),Is(M))kD(M,S,12,[x,I]);else{const Y=Ka(M),ne=zr(M);if(Y||ne){const oe=()=>{if(n.f){const se=Y?K(M)?L[M]:I[M]:M.value;g?ts(se)&&oU(se,v):ts(se)?se.includes(v)||se.push(v):Y?(I[M]=[v],K(M)&&(L[M]=I[M])):(M.value=[v],n.k&&(I[n.k]=M.value))}else Y?(I[M]=x,K(M)&&(L[M]=x)):ne&&(M.value=x,n.k&&(I[n.k]=x))};x?(oe.id=-1,of(oe,l)):oe()}}}const HO=n=>!!n.type.__asyncLoader,HL=n=>n.type.__isKeepAlive;function yU(n,r){OY(n,"a",r)}function $L(n,r){OY(n,"da",r)}function OY(n,r,l=bc){const d=n.__wdc||(n.__wdc=()=>{let g=l;for(;g;){if(g.isDeactivated)return;g=g.parent}return n()});if(UL(r,d,l),l){let g=l.parent;for(;g&&g.parent;)HL(g.parent.vnode)&&due(d,r,l,g),g=g.parent}}function due(n,r,l,d){const g=UL(r,n,d,!0);DY(()=>{oU(d[r],g)},l)}function UL(n,r,l=bc,d=!1){if(l){const g=l[n]||(l[n]=[]),v=r.__weh||(r.__weh=(...x)=>{qy();const S=AD(l),M=jh(r,l,n,x);return S(),Yy(),M});return d?g.unshift(v):g.push(v),v}}const D1=n=>(r,l=bc)=>{(!ZL||n==="sp")&&UL(n,(...d)=>r(...d),l)},xU=D1("bm"),Ru=D1("m"),fue=D1("bu"),wU=D1("u"),wc=D1("bum"),DY=D1("um"),mue=D1("sp"),gue=D1("rtg"),hue=D1("rtc");function pue(n,r=bc){UL("ec",n,r)}const RY="components",vue="directives",bue=Symbol.for("v-ndc");function yue(n){return Ka(n)&&IY(RY,n,!1)||n}function Xy(n){return IY(vue,n)}function IY(n,r,l=!0,d=!1){const g=xd||bc;if(g){const v=g.type;if(n===RY){const S=rde(v,!1);if(S&&(S===r||S===gm(r)||S===O1(gm(r))))return v}const x=IK(g[n]||v[n],r)||IK(g.appContext[n],r);return!x&&d?v:x}}function IK(n,r){return n&&(n[r]||n[gm(r)]||n[O1(gm(r))])}function cC(n,r,l,d){let g;const v=l,x=ts(n);if(x||Ka(n)){const S=x&&Hy(n);let M=!1;S&&(M=!Dg(n),n=FL(n)),g=new Array(n.length);for(let R=0,I=n.length;R<I;R++)g[R]=r(M?ku(n[R]):n[R],R,void 0,v)}else if(typeof n=="number"){g=new Array(n);for(let S=0;S<n;S++)g[S]=r(S+1,S,void 0,v)}else if(Ai(n))if(n[Symbol.iterator])g=Array.from(n,(S,M)=>r(S,M,void 0,v));else{const S=Object.keys(n);g=new Array(S.length);for(let M=0,R=S.length;M<R;M++){const I=S[M];g[M]=r(n[I],I,M,v)}}else g=[];return g}const w$=n=>n?YY(n)?jL(n):w$(n.parent):null,$O=zl(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>w$(n.parent),$root:n=>w$(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>CU(n),$forceUpdate:n=>n.f||(n.f=()=>{vU(n.update)}),$nextTick:n=>n.n||(n.n=Fs.bind(n.proxy)),$watch:n=>Hue.bind(n)}),VH=(n,r)=>n!==zi&&!n.__isScriptSetup&&ui(n,r),xue={get({_:n},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:d,data:g,props:v,accessCache:x,type:S,appContext:M}=n;let R;if(r[0]!=="$"){const K=x[r];if(K!==void 0)switch(K){case 1:return d[r];case 2:return g[r];case 4:return l[r];case 3:return v[r]}else{if(VH(d,r))return x[r]=1,d[r];if(g!==zi&&ui(g,r))return x[r]=2,g[r];if((R=n.propsOptions[0])&&ui(R,r))return x[r]=3,v[r];if(l!==zi&&ui(l,r))return x[r]=4,l[r];C$&&(x[r]=0)}}const I=$O[r];let L,$;if(I)return r==="$attrs"&&Ou(n.attrs,"get",""),I(n);if((L=S.__cssModules)&&(L=L[r]))return L;if(l!==zi&&ui(l,r))return x[r]=4,l[r];if($=M.config.globalProperties,ui($,r))return $[r]},set({_:n},r,l){const{data:d,setupState:g,ctx:v}=n;return VH(g,r)?(g[r]=l,!0):d!==zi&&ui(d,r)?(d[r]=l,!0):ui(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(v[r]=l,!0)},has({_:{data:n,setupState:r,accessCache:l,ctx:d,appContext:g,propsOptions:v}},x){let S;return!!l[x]||n!==zi&&ui(n,x)||VH(r,x)||(S=v[0])&&ui(S,x)||ui(d,x)||ui($O,x)||ui(g.config.globalProperties,x)},defineProperty(n,r,l){return l.get!=null?n._.accessCache[r]=0:ui(l,"value")&&this.set(n,r,l.value,null),Reflect.defineProperty(n,r,l)}};function NK(n){return ts(n)?n.reduce((r,l)=>(r[l]=null,r),{}):n}let C$=!0;function wue(n){const r=CU(n),l=n.proxy,d=n.ctx;C$=!1,r.beforeCreate&&PK(r.beforeCreate,n,"bc");const{data:g,computed:v,methods:x,watch:S,provide:M,inject:R,created:I,beforeMount:L,mounted:$,beforeUpdate:K,updated:Y,activated:ne,deactivated:oe,beforeDestroy:se,beforeUnmount:Me,destroyed:xe,unmounted:ee,render:_e,renderTracked:le,renderTriggered:Ue,errorCaptured:We,serverPrefetch:qe,expose:st,inheritAttrs:ke,components:Le,directives:O,filters:Ke}=r;if(R&&Cue(R,d,null),x)for(const Jt in x){const et=x[Jt];Is(et)&&(d[Jt]=et.bind(l))}if(g){const Jt=g.call(l,l);Ai(Jt)&&(n.data=Ql(Jt))}if(C$=!0,v)for(const Jt in v){const et=v[Jt],pt=Is(et)?et.bind(l,l):Is(et.get)?et.get.bind(l,l):vv,Lt=!Is(et)&&Is(et.set)?et.set.bind(l):vv,tt=Ge({get:pt,set:Lt});Object.defineProperty(d,Jt,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ye=>tt.value=Ye})}if(S)for(const Jt in S)NY(S[Jt],d,l,Jt);if(M){const Jt=Is(M)?M.call(l):M;Reflect.ownKeys(Jt).forEach(et=>{Cd(et,Jt[et])})}I&&PK(I,n,"c");function $t(Jt,et){ts(et)?et.forEach(pt=>Jt(pt.bind(l))):et&&Jt(et.bind(l))}if($t(xU,L),$t(Ru,$),$t(fue,K),$t(wU,Y),$t(yU,ne),$t($L,oe),$t(pue,We),$t(hue,le),$t(gue,Ue),$t(wc,Me),$t(DY,ee),$t(mue,qe),ts(st))if(st.length){const Jt=n.exposed||(n.exposed={});st.forEach(et=>{Object.defineProperty(Jt,et,{get:()=>l[et],set:pt=>l[et]=pt})})}else n.exposed||(n.exposed={});_e&&n.render===vv&&(n.render=_e),ke!=null&&(n.inheritAttrs=ke),Le&&(n.components=Le),O&&(n.directives=O),qe&&TY(n)}function Cue(n,r,l=vv){ts(n)&&(n=_$(n));for(const d in n){const g=n[d];let v;Ai(g)?"default"in g?v=wa(g.from||d,g.default,!0):v=wa(g.from||d):v=wa(g),zr(v)?Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>v.value,set:x=>v.value=x}):r[d]=v}}function PK(n,r,l){jh(ts(n)?n.map(d=>d.bind(r.proxy)):n.bind(r.proxy),r,l)}function NY(n,r,l,d){let g=d.includes(".")?ZY(l,d):()=>l[d];if(Ka(n)){const v=r[n];Is(v)&&zn(g,v)}else if(Is(n))zn(g,n.bind(l));else if(Ai(n))if(ts(n))n.forEach(v=>NY(v,r,l,d));else{const v=Is(n.handler)?n.handler.bind(l):r[n.handler];Is(v)&&zn(g,v,n)}}function CU(n){const r=n.type,{mixins:l,extends:d}=r,{mixins:g,optionsCache:v,config:{optionMergeStrategies:x}}=n.appContext,S=v.get(r);let M;return S?M=S:!g.length&&!l&&!d?M=r:(M={},g.length&&g.forEach(R=>gL(M,R,x,!0)),gL(M,r,x)),Ai(r)&&v.set(r,M),M}function gL(n,r,l,d=!1){const{mixins:g,extends:v}=r;v&&gL(n,v,l,!0),g&&g.forEach(x=>gL(n,x,l,!0));for(const x in r)if(!(d&&x==="expose")){const S=_ue[x]||l&&l[x];n[x]=S?S(n[x],r[x]):r[x]}return n}const _ue={data:MK,props:BK,emits:BK,methods:BO,computed:BO,beforeCreate:pd,created:pd,beforeMount:pd,mounted:pd,beforeUpdate:pd,updated:pd,beforeDestroy:pd,beforeUnmount:pd,destroyed:pd,unmounted:pd,activated:pd,deactivated:pd,errorCaptured:pd,serverPrefetch:pd,components:BO,directives:BO,watch:kue,provide:MK,inject:Sue};function MK(n,r){return r?n?function(){return zl(Is(n)?n.call(this,this):n,Is(r)?r.call(this,this):r)}:r:n}function Sue(n,r){return BO(_$(n),_$(r))}function _$(n){if(ts(n)){const r={};for(let l=0;l<n.length;l++)r[n[l]]=n[l];return r}return n}function pd(n,r){return n?[...new Set([].concat(n,r))]:r}function BO(n,r){return n?zl(Object.create(null),n,r):r}function BK(n,r){return n?ts(n)&&ts(r)?[...new Set([...n,...r])]:zl(Object.create(null),NK(n),NK(r??{})):r}function kue(n,r){if(!n)return r;if(!r)return n;const l=zl(Object.create(null),n);for(const d in r)l[d]=pd(n[d],r[d]);return l}function PY(){return{app:null,config:{isNativeTag:fce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eue=0;function Aue(n,r){return function(d,g=null){Is(d)||(d=zl({},d)),g!=null&&!Ai(g)&&(g=null);const v=PY(),x=new WeakSet,S=[];let M=!1;const R=v.app={_uid:Eue++,_component:d,_props:g,_container:null,_context:v,_instance:null,version:ade,get config(){return v.config},set config(I){},use(I,...L){return x.has(I)||(I&&Is(I.install)?(x.add(I),I.install(R,...L)):Is(I)&&(x.add(I),I(R,...L))),R},mixin(I){return v.mixins.includes(I)||v.mixins.push(I),R},component(I,L){return L?(v.components[I]=L,R):v.components[I]},directive(I,L){return L?(v.directives[I]=L,R):v.directives[I]},mount(I,L,$){if(!M){const K=R._ceVNode||j(d,g);return K.appContext=v,$===!0?$="svg":$===!1&&($=void 0),L&&r?r(K,I):n(K,I,$),M=!0,R._container=I,I.__vue_app__=R,jL(K.component)}},onUnmount(I){S.push(I)},unmount(){M&&(jh(S,R._instance,16),n(null,R._container),delete R._container.__vue_app__)},provide(I,L){return v.provides[I]=L,R},runWithContext(I){const L=oC;oC=R;try{return I()}finally{oC=L}}};return R}}let oC=null;function Cd(n,r){if(bc){let l=bc.provides;const d=bc.parent&&bc.parent.provides;d===l&&(l=bc.provides=Object.create(d)),l[n]=r}}function wa(n,r,l=!1){const d=bc||xd;if(d||oC){const g=oC?oC._context.provides:d?d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(g&&n in g)return g[n];if(arguments.length>1)return l&&Is(r)?r.call(d&&d.proxy):r}}function Tue(){return!!(bc||xd||oC)}const MY={},BY=()=>Object.create(MY),LY=n=>Object.getPrototypeOf(n)===MY;function Oue(n,r,l,d=!1){const g={},v=BY();n.propsDefaults=Object.create(null),FY(n,r,g,v);for(const x in n.propsOptions[0])x in g||(g[x]=void 0);l?n.props=d?g:Kce(g):n.type.props?n.props=g:n.props=v,n.attrs=v}function Due(n,r,l,d){const{props:g,attrs:v,vnode:{patchFlag:x}}=n,S=ss(g),[M]=n.propsOptions;let R=!1;if((d||x>0)&&!(x&16)){if(x&8){const I=n.vnode.dynamicProps;for(let L=0;L<I.length;L++){let $=I[L];if(WL(n.emitsOptions,$))continue;const K=r[$];if(M)if(ui(v,$))K!==v[$]&&(v[$]=K,R=!0);else{const Y=gm($);g[Y]=S$(M,S,Y,K,n,!1)}else K!==v[$]&&(v[$]=K,R=!0)}}}else{FY(n,r,g,v)&&(R=!0);let I;for(const L in S)(!r||!ui(r,L)&&((I=mC(L))===L||!ui(r,I)))&&(M?l&&(l[L]!==void 0||l[I]!==void 0)&&(g[L]=S$(M,S,L,void 0,n,!0)):delete g[L]);if(v!==S)for(const L in v)(!r||!ui(r,L))&&(delete v[L],R=!0)}R&&_1(n.attrs,"set","")}function FY(n,r,l,d){const[g,v]=n.propsOptions;let x=!1,S;if(r)for(let M in r){if(FO(M))continue;const R=r[M];let I;g&&ui(g,I=gm(M))?!v||!v.includes(I)?l[I]=R:(S||(S={}))[I]=R:WL(n.emitsOptions,M)||(!(M in d)||R!==d[M])&&(d[M]=R,x=!0)}if(v){const M=ss(l),R=S||zi;for(let I=0;I<v.length;I++){const L=v[I];l[L]=S$(g,M,L,R[L],n,!ui(R,L))}}return x}function S$(n,r,l,d,g,v){const x=n[l];if(x!=null){const S=ui(x,"default");if(S&&d===void 0){const M=x.default;if(x.type!==Function&&!x.skipFactory&&Is(M)){const{propsDefaults:R}=g;if(l in R)d=R[l];else{const I=AD(g);d=R[l]=M.call(null,r),I()}}else d=M;g.ce&&g.ce._setProp(l,d)}x[0]&&(v&&!S?d=!1:x[1]&&(d===""||d===mC(l))&&(d=!0))}return d}const Rue=new WeakMap;function VY(n,r,l=!1){const d=l?Rue:r.propsCache,g=d.get(n);if(g)return g;const v=n.props,x={},S=[];let M=!1;if(!Is(n)){const I=L=>{M=!0;const[$,K]=VY(L,r,!0);zl(x,$),K&&S.push(...K)};!l&&r.mixins.length&&r.mixins.forEach(I),n.extends&&I(n.extends),n.mixins&&n.mixins.forEach(I)}if(!v&&!M)return Ai(n)&&d.set(n,Vk),Vk;if(ts(v))for(let I=0;I<v.length;I++){const L=gm(v[I]);LK(L)&&(x[L]=zi)}else if(v)for(const I in v){const L=gm(I);if(LK(L)){const $=v[I],K=x[L]=ts($)||Is($)?{type:$}:zl({},$),Y=K.type;let ne=!1,oe=!0;if(ts(Y))for(let se=0;se<Y.length;++se){const Me=Y[se],xe=Is(Me)&&Me.name;if(xe==="Boolean"){ne=!0;break}else xe==="String"&&(oe=!1)}else ne=Is(Y)&&Y.name==="Boolean";K[0]=ne,K[1]=oe,(ne||ui(K,"default"))&&S.push(L)}}const R=[x,S];return Ai(n)&&d.set(n,R),R}function LK(n){return n[0]!=="$"&&!FO(n)}const zY=n=>n[0]==="_"||n==="$stable",_U=n=>ts(n)?n.map(dv):[dv(n)],Iue=(n,r,l)=>{if(r._n)return r;const d=It((...g)=>_U(r(...g)),l);return d._c=!1,d},HY=(n,r,l)=>{const d=n._ctx;for(const g in n){if(zY(g))continue;const v=n[g];if(Is(v))r[g]=Iue(g,v,d);else if(v!=null){const x=_U(v);r[g]=()=>x}}},$Y=(n,r)=>{const l=_U(r);n.slots.default=()=>l},UY=(n,r,l)=>{for(const d in r)(l||d!=="_")&&(n[d]=r[d])},Nue=(n,r,l)=>{const d=n.slots=BY();if(n.vnode.shapeFlag&32){const g=r._;g?(UY(d,r,l),l&&Wq(d,"_",g,!0)):HY(r,d)}else r&&$Y(n,r)},Pue=(n,r,l)=>{const{vnode:d,slots:g}=n;let v=!0,x=zi;if(d.shapeFlag&32){const S=r._;S?l&&S===1?v=!1:UY(g,r,l):(v=!r.$stable,HY(r,g)),x=r}else r&&($Y(n,r),x={default:1});if(v)for(const S in g)!zY(S)&&x[S]==null&&delete g[S]},of=Gue;function Mue(n){return Bue(n)}function Bue(n,r){const l=Zq();l.__VUE__=!0;const{insert:d,remove:g,patchProp:v,createElement:x,createText:S,createComment:M,setText:R,setElementText:I,parentNode:L,nextSibling:$,setScopeId:K=vv,insertStaticContent:Y}=n,ne=(je,ae,be,Be=null,he=null,gt=null,zt=void 0,vt=null,Ft=!!ae.dynamicChildren)=>{if(je===ae)return;je&&!Qw(je,ae)&&(Be=_n(je),Ye(je,he,gt,!0),je=null),ae.patchFlag===-2&&(Ft=!1,ae.dynamicChildren=null);const{type:Vt,ref:wn,shapeFlag:cn}=ae;switch(Vt){case ED:oe(je,ae,be,Be);break;case yd:se(je,ae,be,Be);break;case $H:je==null&&Me(ae,be,Be,zt);break;case us:Le(je,ae,be,Be,he,gt,zt,vt,Ft);break;default:cn&1?_e(je,ae,be,Be,he,gt,zt,vt,Ft):cn&6?O(je,ae,be,Be,he,gt,zt,vt,Ft):(cn&64||cn&128)&&Vt.process(je,ae,be,Be,he,gt,zt,vt,Ft,eo)}wn!=null&&he&&x$(wn,je&&je.ref,gt,ae||je,!ae)},oe=(je,ae,be,Be)=>{if(je==null)d(ae.el=S(ae.children),be,Be);else{const he=ae.el=je.el;ae.children!==je.children&&R(he,ae.children)}},se=(je,ae,be,Be)=>{je==null?d(ae.el=M(ae.children||""),be,Be):ae.el=je.el},Me=(je,ae,be,Be)=>{[je.el,je.anchor]=Y(je.children,ae,be,Be,je.el,je.anchor)},xe=({el:je,anchor:ae},be,Be)=>{let he;for(;je&&je!==ae;)he=$(je),d(je,be,Be),je=he;d(ae,be,Be)},ee=({el:je,anchor:ae})=>{let be;for(;je&&je!==ae;)be=$(je),g(je),je=be;g(ae)},_e=(je,ae,be,Be,he,gt,zt,vt,Ft)=>{ae.type==="svg"?zt="svg":ae.type==="math"&&(zt="mathml"),je==null?le(ae,be,Be,he,gt,zt,vt,Ft):qe(je,ae,he,gt,zt,vt,Ft)},le=(je,ae,be,Be,he,gt,zt,vt)=>{let Ft,Vt;const{props:wn,shapeFlag:cn,transition:An,dirs:On}=je;if(Ft=je.el=x(je.type,gt,wn&&wn.is,wn),cn&8?I(Ft,je.children):cn&16&&We(je.children,Ft,null,Be,he,zH(je,gt),zt,vt),On&&jw(je,null,Be,"created"),Ue(Ft,je,je.scopeId,zt,Be),wn){for(const Oo in wn)Oo!=="value"&&!FO(Oo)&&v(Ft,Oo,null,wn[Oo],gt,Be);"value"in wn&&v(Ft,"value",null,wn.value,gt),(Vt=wn.onVnodeBeforeMount)&&lv(Vt,Be,je)}On&&jw(je,null,Be,"beforeMount");const wo=Lue(he,An);wo&&An.beforeEnter(Ft),d(Ft,ae,be),((Vt=wn&&wn.onVnodeMounted)||wo||On)&&of(()=>{Vt&&lv(Vt,Be,je),wo&&An.enter(Ft),On&&jw(je,null,Be,"mounted")},he)},Ue=(je,ae,be,Be,he)=>{if(be&&K(je,be),Be)for(let gt=0;gt<Be.length;gt++)K(je,Be[gt]);if(he){let gt=he.subTree;if(ae===gt||KY(gt.type)&&(gt.ssContent===ae||gt.ssFallback===ae)){const zt=he.vnode;Ue(je,zt,zt.scopeId,zt.slotScopeIds,he.parent)}}},We=(je,ae,be,Be,he,gt,zt,vt,Ft=0)=>{for(let Vt=Ft;Vt<je.length;Vt++){const wn=je[Vt]=vt?Ly(je[Vt]):dv(je[Vt]);ne(null,wn,ae,be,Be,he,gt,zt,vt)}},qe=(je,ae,be,Be,he,gt,zt)=>{const vt=ae.el=je.el;let{patchFlag:Ft,dynamicChildren:Vt,dirs:wn}=ae;Ft|=je.patchFlag&16;const cn=je.props||zi,An=ae.props||zi;let On;if(be&&Kw(be,!1),(On=An.onVnodeBeforeUpdate)&&lv(On,be,ae,je),wn&&jw(ae,je,be,"beforeUpdate"),be&&Kw(be,!0),(cn.innerHTML&&An.innerHTML==null||cn.textContent&&An.textContent==null)&&I(vt,""),Vt?st(je.dynamicChildren,Vt,vt,be,Be,zH(ae,he),gt):zt||et(je,ae,vt,null,be,Be,zH(ae,he),gt,!1),Ft>0){if(Ft&16)ke(vt,cn,An,be,he);else if(Ft&2&&cn.class!==An.class&&v(vt,"class",null,An.class,he),Ft&4&&v(vt,"style",cn.style,An.style,he),Ft&8){const wo=ae.dynamicProps;for(let Oo=0;Oo<wo.length;Oo++){const Ho=wo[Oo],cs=cn[Ho],ar=An[Ho];(ar!==cs||Ho==="value")&&v(vt,Ho,cs,ar,he,be)}}Ft&1&&je.children!==ae.children&&I(vt,ae.children)}else!zt&&Vt==null&&ke(vt,cn,An,be,he);((On=An.onVnodeUpdated)||wn)&&of(()=>{On&&lv(On,be,ae,je),wn&&jw(ae,je,be,"updated")},Be)},st=(je,ae,be,Be,he,gt,zt)=>{for(let vt=0;vt<ae.length;vt++){const Ft=je[vt],Vt=ae[vt],wn=Ft.el&&(Ft.type===us||!Qw(Ft,Vt)||Ft.shapeFlag&70)?L(Ft.el):be;ne(Ft,Vt,wn,null,Be,he,gt,zt,!0)}},ke=(je,ae,be,Be,he)=>{if(ae!==be){if(ae!==zi)for(const gt in ae)!FO(gt)&&!(gt in be)&&v(je,gt,ae[gt],null,he,Be);for(const gt in be){if(FO(gt))continue;const zt=be[gt],vt=ae[gt];zt!==vt&&gt!=="value"&&v(je,gt,vt,zt,he,Be)}"value"in be&&v(je,"value",ae.value,be.value,he)}},Le=(je,ae,be,Be,he,gt,zt,vt,Ft)=>{const Vt=ae.el=je?je.el:S(""),wn=ae.anchor=je?je.anchor:S("");let{patchFlag:cn,dynamicChildren:An,slotScopeIds:On}=ae;On&&(vt=vt?vt.concat(On):On),je==null?(d(Vt,be,Be),d(wn,be,Be),We(ae.children||[],be,wn,he,gt,zt,vt,Ft)):cn>0&&cn&64&&An&&je.dynamicChildren?(st(je.dynamicChildren,An,be,he,gt,zt,vt),(ae.key!=null||he&&ae===he.subTree)&&SU(je,ae,!0)):et(je,ae,be,wn,he,gt,zt,vt,Ft)},O=(je,ae,be,Be,he,gt,zt,vt,Ft)=>{ae.slotScopeIds=vt,je==null?ae.shapeFlag&512?he.ctx.activate(ae,be,Be,zt,Ft):Ke(ae,be,Be,he,gt,zt,Ft):ct(je,ae,Ft)},Ke=(je,ae,be,Be,he,gt,zt)=>{const vt=je.component=ede(je,Be,he);if(HL(je)&&(vt.ctx.renderer=eo),tde(vt,!1,zt),vt.asyncDep){if(he&&he.registerDep(vt,$t,zt),!je.el){const Ft=vt.subTree=j(yd);se(null,Ft,ae,be)}}else $t(vt,je,ae,be,he,gt,zt)},ct=(je,ae,be)=>{const Be=ae.component=je.component;if(jue(je,ae,be))if(Be.asyncDep&&!Be.asyncResolved){Jt(Be,ae,be);return}else Be.next=ae,Be.update();else ae.el=je.el,Be.vnode=ae},$t=(je,ae,be,Be,he,gt,zt)=>{const vt=()=>{if(je.isMounted){let{next:cn,bu:An,u:On,parent:wo,vnode:Oo}=je;{const Ar=WY(je);if(Ar){cn&&(cn.el=Oo.el,Jt(je,cn,zt)),Ar.asyncDep.then(()=>{je.isUnmounted||vt()});return}}let Ho=cn,cs;Kw(je,!1),cn?(cn.el=Oo.el,Jt(je,cn,zt)):cn=Oo,An&&QB(An),(cs=cn.props&&cn.props.onVnodeBeforeUpdate)&&lv(cs,wo,cn,Oo),Kw(je,!0);const ar=HH(je),fs=je.subTree;je.subTree=ar,ne(fs,ar,L(fs.el),_n(fs),je,he,gt),cn.el=ar.el,Ho===null&&Kue(je,ar.el),On&&of(On,he),(cs=cn.props&&cn.props.onVnodeUpdated)&&of(()=>lv(cs,wo,cn,Oo),he)}else{let cn;const{el:An,props:On}=ae,{bm:wo,m:Oo,parent:Ho,root:cs,type:ar}=je,fs=HO(ae);if(Kw(je,!1),wo&&QB(wo),!fs&&(cn=On&&On.onVnodeBeforeMount)&&lv(cn,Ho,ae),Kw(je,!0),An&&To){const Ar=()=>{je.subTree=HH(je),To(An,je.subTree,je,he,null)};fs&&ar.__asyncHydrate?ar.__asyncHydrate(An,je,Ar):Ar()}else{cs.ce&&cs.ce._injectChildStyle(ar);const Ar=je.subTree=HH(je);ne(null,Ar,be,Be,je,he,gt),ae.el=Ar.el}if(Oo&&of(Oo,he),!fs&&(cn=On&&On.onVnodeMounted)){const Ar=ae;of(()=>lv(cn,Ho,Ar),he)}(ae.shapeFlag&256||Ho&&HO(Ho.vnode)&&Ho.vnode.shapeFlag&256)&&je.a&&of(je.a,he),je.isMounted=!0,ae=be=Be=null}};je.scope.on();const Ft=je.effect=new Xq(vt);je.scope.off();const Vt=je.update=Ft.run.bind(Ft),wn=je.job=Ft.runIfDirty.bind(Ft);wn.i=je,wn.id=je.uid,Ft.scheduler=()=>vU(wn),Kw(je,!0),Vt()},Jt=(je,ae,be)=>{ae.component=je;const Be=je.vnode.props;je.vnode=ae,je.next=null,Due(je,ae.props,Be,be),Pue(je,ae.children,be),qy(),TK(je),Yy()},et=(je,ae,be,Be,he,gt,zt,vt,Ft=!1)=>{const Vt=je&&je.children,wn=je?je.shapeFlag:0,cn=ae.children,{patchFlag:An,shapeFlag:On}=ae;if(An>0){if(An&128){Lt(Vt,cn,be,Be,he,gt,zt,vt,Ft);return}else if(An&256){pt(Vt,cn,be,Be,he,gt,zt,vt,Ft);return}}On&8?(wn&16&&fn(Vt,he,gt),cn!==Vt&&I(be,cn)):wn&16?On&16?Lt(Vt,cn,be,Be,he,gt,zt,vt,Ft):fn(Vt,he,gt,!0):(wn&8&&I(be,""),On&16&&We(cn,be,Be,he,gt,zt,vt,Ft))},pt=(je,ae,be,Be,he,gt,zt,vt,Ft)=>{je=je||Vk,ae=ae||Vk;const Vt=je.length,wn=ae.length,cn=Math.min(Vt,wn);let An;for(An=0;An<cn;An++){const On=ae[An]=Ft?Ly(ae[An]):dv(ae[An]);ne(je[An],On,be,null,he,gt,zt,vt,Ft)}Vt>wn?fn(je,he,gt,!0,!1,cn):We(ae,be,Be,he,gt,zt,vt,Ft,cn)},Lt=(je,ae,be,Be,he,gt,zt,vt,Ft)=>{let Vt=0;const wn=ae.length;let cn=je.length-1,An=wn-1;for(;Vt<=cn&&Vt<=An;){const On=je[Vt],wo=ae[Vt]=Ft?Ly(ae[Vt]):dv(ae[Vt]);if(Qw(On,wo))ne(On,wo,be,null,he,gt,zt,vt,Ft);else break;Vt++}for(;Vt<=cn&&Vt<=An;){const On=je[cn],wo=ae[An]=Ft?Ly(ae[An]):dv(ae[An]);if(Qw(On,wo))ne(On,wo,be,null,he,gt,zt,vt,Ft);else break;cn--,An--}if(Vt>cn){if(Vt<=An){const On=An+1,wo=On<wn?ae[On].el:Be;for(;Vt<=An;)ne(null,ae[Vt]=Ft?Ly(ae[Vt]):dv(ae[Vt]),be,wo,he,gt,zt,vt,Ft),Vt++}}else if(Vt>An)for(;Vt<=cn;)Ye(je[Vt],he,gt,!0),Vt++;else{const On=Vt,wo=Vt,Oo=new Map;for(Vt=wo;Vt<=An;Vt++){const vo=ae[Vt]=Ft?Ly(ae[Vt]):dv(ae[Vt]);vo.key!=null&&Oo.set(vo.key,Vt)}let Ho,cs=0;const ar=An-wo+1;let fs=!1,Ar=0;const hn=new Array(ar);for(Vt=0;Vt<ar;Vt++)hn[Vt]=0;for(Vt=On;Vt<=cn;Vt++){const vo=je[Vt];if(cs>=ar){Ye(vo,he,gt,!0);continue}let or;if(vo.key!=null)or=Oo.get(vo.key);else for(Ho=wo;Ho<=An;Ho++)if(hn[Ho-wo]===0&&Qw(vo,ae[Ho])){or=Ho;break}or===void 0?Ye(vo,he,gt,!0):(hn[or-wo]=Vt+1,or>=Ar?Ar=or:fs=!0,ne(vo,ae[or],be,null,he,gt,zt,vt,Ft),cs++)}const Eo=fs?Fue(hn):Vk;for(Ho=Eo.length-1,Vt=ar-1;Vt>=0;Vt--){const vo=wo+Vt,or=ae[vo],ea=vo+1<wn?ae[vo+1].el:Be;hn[Vt]===0?ne(null,or,be,ea,he,gt,zt,vt,Ft):fs&&(Ho<0||Vt!==Eo[Ho]?tt(or,be,ea,2):Ho--)}}},tt=(je,ae,be,Be,he=null)=>{const{el:gt,type:zt,transition:vt,children:Ft,shapeFlag:Vt}=je;if(Vt&6){tt(je.component.subTree,ae,be,Be);return}if(Vt&128){je.suspense.move(ae,be,Be);return}if(Vt&64){zt.move(je,ae,be,eo);return}if(zt===us){d(gt,ae,be);for(let cn=0;cn<Ft.length;cn++)tt(Ft[cn],ae,be,Be);d(je.anchor,ae,be);return}if(zt===$H){xe(je,ae,be);return}if(Be!==2&&Vt&1&&vt)if(Be===0)vt.beforeEnter(gt),d(gt,ae,be),of(()=>vt.enter(gt),he);else{const{leave:cn,delayLeave:An,afterLeave:On}=vt,wo=()=>d(gt,ae,be),Oo=()=>{cn(gt,()=>{wo(),On&&On()})};An?An(gt,wo,Oo):Oo()}else d(gt,ae,be)},Ye=(je,ae,be,Be=!1,he=!1)=>{const{type:gt,props:zt,ref:vt,children:Ft,dynamicChildren:Vt,shapeFlag:wn,patchFlag:cn,dirs:An,cacheIndex:On}=je;if(cn===-2&&(he=!1),vt!=null&&x$(vt,null,be,je,!0),On!=null&&(ae.renderCache[On]=void 0),wn&256){ae.ctx.deactivate(je);return}const wo=wn&1&&An,Oo=!HO(je);let Ho;if(Oo&&(Ho=zt&&zt.onVnodeBeforeUnmount)&&lv(Ho,ae,je),wn&6)Fn(je.component,be,Be);else{if(wn&128){je.suspense.unmount(be,Be);return}wo&&jw(je,null,ae,"beforeUnmount"),wn&64?je.type.remove(je,ae,be,eo,Be):Vt&&!Vt.hasOnce&&(gt!==us||cn>0&&cn&64)?fn(Vt,ae,be,!1,!0):(gt===us&&cn&384||!he&&wn&16)&&fn(Ft,ae,be),Be&&Mt(je)}(Oo&&(Ho=zt&&zt.onVnodeUnmounted)||wo)&&of(()=>{Ho&&lv(Ho,ae,je),wo&&jw(je,null,ae,"unmounted")},be)},Mt=je=>{const{type:ae,el:be,anchor:Be,transition:he}=je;if(ae===us){oo(be,Be);return}if(ae===$H){ee(je);return}const gt=()=>{g(be),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(je.shapeFlag&1&&he&&!he.persisted){const{leave:zt,delayLeave:vt}=he,Ft=()=>zt(be,gt);vt?vt(je.el,gt,Ft):Ft()}else gt()},oo=(je,ae)=>{let be;for(;je!==ae;)be=$(je),g(je),je=be;g(ae)},Fn=(je,ae,be)=>{const{bum:Be,scope:he,job:gt,subTree:zt,um:vt,m:Ft,a:Vt}=je;FK(Ft),FK(Vt),Be&&QB(Be),he.stop(),gt&&(gt.flags|=8,Ye(zt,je,ae,be)),vt&&of(vt,ae),of(()=>{je.isUnmounted=!0},ae),ae&&ae.pendingBranch&&!ae.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===ae.pendingId&&(ae.deps--,ae.deps===0&&ae.resolve())},fn=(je,ae,be,Be=!1,he=!1,gt=0)=>{for(let zt=gt;zt<je.length;zt++)Ye(je[zt],ae,be,Be,he)},_n=je=>{if(je.shapeFlag&6)return _n(je.component.subTree);if(je.shapeFlag&128)return je.suspense.next();const ae=$(je.anchor||je.el),be=ae&&ae[yY];return be?$(be):ae};let J=!1;const xs=(je,ae,be)=>{je==null?ae._vnode&&Ye(ae._vnode,null,null,!0):ne(ae._vnode||null,je,ae,null,null,null,be),ae._vnode=je,J||(J=!0,TK(),pY(),J=!1)},eo={p:ne,um:Ye,m:tt,r:Mt,mt:Ke,mc:We,pc:et,pbc:st,n:_n,o:n};let tn,To;return{render:xs,hydrate:tn,createApp:Aue(xs,tn)}}function zH({type:n,props:r},l){return l==="svg"&&n==="foreignObject"||l==="mathml"&&n==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function Kw({effect:n,job:r},l){l?(n.flags|=32,r.flags|=4):(n.flags&=-33,r.flags&=-5)}function Lue(n,r){return(!n||n&&!n.pendingBranch)&&r&&!r.persisted}function SU(n,r,l=!1){const d=n.children,g=r.children;if(ts(d)&&ts(g))for(let v=0;v<d.length;v++){const x=d[v];let S=g[v];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=g[v]=Ly(g[v]),S.el=x.el),!l&&S.patchFlag!==-2&&SU(x,S)),S.type===ED&&(S.el=x.el)}}function Fue(n){const r=n.slice(),l=[0];let d,g,v,x,S;const M=n.length;for(d=0;d<M;d++){const R=n[d];if(R!==0){if(g=l[l.length-1],n[g]<R){r[d]=g,l.push(d);continue}for(v=0,x=l.length-1;v<x;)S=v+x>>1,n[l[S]]<R?v=S+1:x=S;R<n[l[v]]&&(v>0&&(r[d]=l[v-1]),l[v]=d)}}for(v=l.length,x=l[v-1];v-- >0;)l[v]=x,x=r[x];return l}function WY(n){const r=n.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:WY(r)}function FK(n){if(n)for(let r=0;r<n.length;r++)n[r].flags|=8}const Vue=Symbol.for("v-scx"),zue=()=>wa(Vue);function cf(n,r){return kU(n,null,r)}function zn(n,r,l){return kU(n,r,l)}function kU(n,r,l=zi){const{immediate:d,deep:g,flush:v,once:x}=l,S=zl({},l);let M;if(ZL)if(v==="sync"){const $=zue();M=$.__watcherHandles||($.__watcherHandles=[])}else if(!r||d)S.once=!0;else{const $=()=>{};return $.stop=vv,$.resume=vv,$.pause=vv,$}const R=bc;S.call=($,K,Y)=>jh($,R,K,Y);let I=!1;v==="post"?S.scheduler=$=>{of($,R&&R.suspense)}:v!=="sync"&&(I=!0,S.scheduler=($,K)=>{K?$():vU($)}),S.augmentJob=$=>{r&&($.flags|=4),I&&($.flags|=2,R&&($.id=R.uid,$.i=R))};const L=tue(n,r,S);return M&&M.push(L),L}function Hue(n,r,l){const d=this.proxy,g=Ka(n)?n.includes(".")?ZY(d,n):()=>d[n]:n.bind(d,d);let v;Is(r)?v=r:(v=r.handler,l=r);const x=AD(this),S=kU(g,v.bind(d),l);return x(),S}function ZY(n,r){const l=r.split(".");return()=>{let d=n;for(let g=0;g<l.length&&d;g++)d=d[l[g]];return d}}const $ue=(n,r)=>r==="modelValue"||r==="model-value"?n.modelModifiers:n[`${r}Modifiers`]||n[`${gm(r)}Modifiers`]||n[`${mC(r)}Modifiers`];function Uue(n,r,...l){if(n.isUnmounted)return;const d=n.vnode.props||zi;let g=l;const v=r.startsWith("update:"),x=v&&$ue(d,r.slice(7));x&&(x.trim&&(g=l.map(I=>Ka(I)?I.trim():I)),x.number&&(g=l.map(uL)));let S,M=d[S=NH(r)]||d[S=NH(gm(r))];!M&&v&&(M=d[S=NH(mC(r))]),M&&jh(M,n,6,g);const R=d[S+"Once"];if(R){if(!n.emitted)n.emitted={};else if(n.emitted[S])return;n.emitted[S]=!0,jh(R,n,6,g)}}function jY(n,r,l=!1){const d=r.emitsCache,g=d.get(n);if(g!==void 0)return g;const v=n.emits;let x={},S=!1;if(!Is(n)){const M=R=>{const I=jY(R,r,!0);I&&(S=!0,zl(x,I))};!l&&r.mixins.length&&r.mixins.forEach(M),n.extends&&M(n.extends),n.mixins&&n.mixins.forEach(M)}return!v&&!S?(Ai(n)&&d.set(n,null),null):(ts(v)?v.forEach(M=>x[M]=null):zl(x,v),Ai(n)&&d.set(n,x),x)}function WL(n,r){return!n||!BL(r)?!1:(r=r.slice(2).replace(/Once$/,""),ui(n,r[0].toLowerCase()+r.slice(1))||ui(n,mC(r))||ui(n,r))}function HH(n){const{type:r,vnode:l,proxy:d,withProxy:g,propsOptions:[v],slots:x,attrs:S,emit:M,render:R,renderCache:I,props:L,data:$,setupState:K,ctx:Y,inheritAttrs:ne}=n,oe=mL(n);let se,Me;try{if(l.shapeFlag&4){const ee=g||d,_e=ee;se=dv(R.call(_e,ee,I,L,K,$,Y)),Me=S}else{const ee=r;se=dv(ee.length>1?ee(L,{attrs:S,slots:x,emit:M}):ee(L,null)),Me=r.props?S:Wue(S)}}catch(ee){UO.length=0,zL(ee,n,1),se=j(yd)}let xe=se;if(Me&&ne!==!1){const ee=Object.keys(Me),{shapeFlag:_e}=xe;ee.length&&_e&7&&(v&&ee.some(nU)&&(Me=Zue(Me,v)),xe=A1(xe,Me,!1,!0))}return l.dirs&&(xe=A1(xe,null,!1,!0),xe.dirs=xe.dirs?xe.dirs.concat(l.dirs):l.dirs),l.transition&&lC(xe,l.transition),se=xe,mL(oe),se}const Wue=n=>{let r;for(const l in n)(l==="class"||l==="style"||BL(l))&&((r||(r={}))[l]=n[l]);return r},Zue=(n,r)=>{const l={};for(const d in n)(!nU(d)||!(d.slice(9)in r))&&(l[d]=n[d]);return l};function jue(n,r,l){const{props:d,children:g,component:v}=n,{props:x,children:S,patchFlag:M}=r,R=v.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&M>=0){if(M&1024)return!0;if(M&16)return d?VK(d,x,R):!!x;if(M&8){const I=r.dynamicProps;for(let L=0;L<I.length;L++){const $=I[L];if(x[$]!==d[$]&&!WL(R,$))return!0}}}else return(g||S)&&(!S||!S.$stable)?!0:d===x?!1:d?x?VK(d,x,R):!0:!!x;return!1}function VK(n,r,l){const d=Object.keys(r);if(d.length!==Object.keys(n).length)return!0;for(let g=0;g<d.length;g++){const v=d[g];if(r[v]!==n[v]&&!WL(l,v))return!0}return!1}function Kue({vnode:n,parent:r},l){for(;r;){const d=r.subTree;if(d.suspense&&d.suspense.activeBranch===n&&(d.el=n.el),d===n)(n=r.vnode).el=l,r=r.parent;else break}}const KY=n=>n.__isSuspense;function Gue(n,r){r&&r.pendingBranch?ts(n)?r.effects.push(...n):r.effects.push(n):sue(n)}const us=Symbol.for("v-fgt"),ED=Symbol.for("v-txt"),yd=Symbol.for("v-cmt"),$H=Symbol.for("v-stc"),UO=[];let cm=null;function Ln(n=!1){UO.push(cm=n?null:[])}function que(){UO.pop(),cm=UO[UO.length-1]||null}let JO=1;function zK(n){JO+=n,n<0&&cm&&(cm.hasOnce=!0)}function GY(n){return n.dynamicChildren=JO>0?cm||Vk:null,que(),JO>0&&cm&&cm.push(n),n}function ds(n,r,l,d,g,v){return GY(Ae(n,r,l,d,g,v,!0))}function rr(n,r,l,d,g){return GY(j(n,r,l,d,g,!0))}function hL(n){return n?n.__v_isVNode===!0:!1}function Qw(n,r){return n.type===r.type&&n.key===r.key}const qY=({key:n})=>n??null,tL=({ref:n,ref_key:r,ref_for:l})=>(typeof n=="number"&&(n=""+n),n!=null?Ka(n)||zr(n)||Is(n)?{i:xd,r:n,k:r,f:!!l}:n:null);function Ae(n,r=null,l=null,d=0,g=null,v=n===us?0:1,x=!1,S=!1){const M={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&qY(r),ref:r&&tL(r),scopeId:bY,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:d,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:xd};return S?(EU(M,l),v&128&&n.normalize(M)):l&&(M.shapeFlag|=Ka(l)?8:16),JO>0&&!x&&cm&&(M.patchFlag>0||v&6)&&M.patchFlag!==32&&cm.push(M),M}const j=Yue;function Yue(n,r=null,l=null,d=0,g=null,v=!1){if((!n||n===bue)&&(n=yd),hL(n)){const S=A1(n,r,!0);return l&&EU(S,l),JO>0&&!v&&cm&&(S.shapeFlag&6?cm[cm.indexOf(n)]=S:cm.push(S)),S.patchFlag=-2,S}if(ide(n)&&(n=n.__vccOpts),r){r=Xue(r);let{class:S,style:M}=r;S&&!Ka(S)&&(r.class=wd(S)),Ai(M)&&(mU(M)&&!ts(M)&&(M=zl({},M)),r.style=xD(M))}const x=Ka(n)?1:KY(n)?128:xY(n)?64:Ai(n)?4:Is(n)?2:0;return Ae(n,r,l,d,g,x,v,!0)}function Xue(n){return n?mU(n)||LY(n)?zl({},n):n:null}function A1(n,r,l=!1,d=!1){const{props:g,ref:v,patchFlag:x,children:S,transition:M}=n,R=r?Wo(g||{},r):g,I={__v_isVNode:!0,__v_skip:!0,type:n.type,props:R,key:R&&qY(R),ref:r&&r.ref?l&&v?ts(v)?v.concat(tL(r)):[v,tL(r)]:tL(r):v,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:S,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==us?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:M,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&A1(n.ssContent),ssFallback:n.ssFallback&&A1(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return M&&d&&lC(I,M.clone(I)),I}function Ei(n=" ",r=0){return j(ED,null,n,r)}function Ts(n="",r=!1){return r?(Ln(),rr(yd,null,n)):j(yd,null,n)}function dv(n){return n==null||typeof n=="boolean"?j(yd):ts(n)?j(us,null,n.slice()):typeof n=="object"?Ly(n):j(ED,null,String(n))}function Ly(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:A1(n)}function EU(n,r){let l=0;const{shapeFlag:d}=n;if(r==null)r=null;else if(ts(r))l=16;else if(typeof r=="object")if(d&65){const g=r.default;g&&(g._c&&(g._d=!1),EU(n,g()),g._c&&(g._d=!0));return}else{l=32;const g=r._;!g&&!LY(r)?r._ctx=xd:g===3&&xd&&(xd.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Is(r)?(r={default:r,_ctx:xd},l=32):(r=String(r),d&64?(l=16,r=[Ei(r)]):l=8);n.children=r,n.shapeFlag|=l}function Wo(...n){const r={};for(let l=0;l<n.length;l++){const d=n[l];for(const g in d)if(g==="class")r.class!==d.class&&(r.class=wd([r.class,d.class]));else if(g==="style")r.style=xD([r.style,d.style]);else if(BL(g)){const v=r[g],x=d[g];x&&v!==x&&!(ts(v)&&v.includes(x))&&(r[g]=v?[].concat(v,x):x)}else g!==""&&(r[g]=d[g])}return r}function lv(n,r,l,d=null){jh(n,r,7,[l,d])}const Jue=PY();let Que=0;function ede(n,r,l){const d=n.type,g=(r?r.appContext:n.appContext)||Jue,v={uid:Que++,vnode:n,type:d,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:VY(d,g),emitsOptions:jY(d,g),emit:null,emitted:null,propsDefaults:zi,inheritAttrs:d.inheritAttrs,ctx:zi,data:zi,props:zi,attrs:zi,slots:zi,refs:zi,setupState:zi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=r?r.root:v,v.emit=Uue.bind(null,v),n.ce&&n.ce(v),v}let bc=null;const AU=()=>bc||xd;let pL,k$;{const n=Zq(),r=(l,d)=>{let g;return(g=n[l])||(g=n[l]=[]),g.push(d),v=>{g.length>1?g.forEach(x=>x(v)):g[0](v)}};pL=r("__VUE_INSTANCE_SETTERS__",l=>bc=l),k$=r("__VUE_SSR_SETTERS__",l=>ZL=l)}const AD=n=>{const r=bc;return pL(n),n.scope.on(),()=>{n.scope.off(),pL(r)}},HK=()=>{bc&&bc.scope.off(),pL(null)};function YY(n){return n.vnode.shapeFlag&4}let ZL=!1;function tde(n,r=!1,l=!1){r&&k$(r);const{props:d,children:g}=n.vnode,v=YY(n);Oue(n,d,v,r),Nue(n,g,l);const x=v?nde(n,r):void 0;return r&&k$(!1),x}function nde(n,r){const l=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,xue);const{setup:d}=l;if(d){const g=n.setupContext=d.length>1?sde(n):null,v=AD(n);qy();const x=kD(d,n,0,[n.props,g]);if(Yy(),v(),Hq(x)){if(HO(n)||TY(n),x.then(HK,HK),r)return x.then(S=>{$K(n,S,r)}).catch(S=>{zL(S,n,0)});n.asyncDep=x}else $K(n,x,r)}else XY(n,r)}function $K(n,r,l){Is(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Ai(r)&&(n.setupState=fY(r)),XY(n,l)}let UK;function XY(n,r,l){const d=n.type;if(!n.render){if(!r&&UK&&!d.render){const g=d.template||CU(n).template;if(g){const{isCustomElement:v,compilerOptions:x}=n.appContext.config,{delimiters:S,compilerOptions:M}=d,R=zl(zl({isCustomElement:v,delimiters:S},x),M);d.render=UK(g,R)}}n.render=d.render||vv}{const g=AD(n);qy();try{wue(n)}finally{Yy(),g()}}}const ode={get(n,r){return Ou(n,"get",""),n[r]}};function sde(n){const r=l=>{n.exposed=l||{}};return{attrs:new Proxy(n.attrs,ode),slots:n.slots,emit:n.emit,expose:r}}function jL(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(fY(gU(n.exposed)),{get(r,l){if(l in r)return r[l];if(l in $O)return $O[l](n)},has(r,l){return l in r||l in $O}})):n.proxy}function rde(n,r=!0){return Is(n)?n.displayName||n.name:n.name||r&&n.__name}function ide(n){return Is(n)&&"__vccOpts"in n}const Ge=(n,r)=>Qce(n,r,ZL);function xv(n,r,l){const d=arguments.length;return d===2?Ai(r)&&!ts(r)?hL(r)?j(n,null,[r]):j(n,r):j(n,null,r):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&hL(l)&&(l=[l]),j(n,r,l))}const ade="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let E$;const WK=typeof window<"u"&&window.trustedTypes;if(WK)try{E$=WK.createPolicy("vue",{createHTML:n=>n})}catch{}const JY=E$?n=>E$.createHTML(n):n=>n,lde="http://www.w3.org/2000/svg",cde="http://www.w3.org/1998/Math/MathML",y1=typeof document<"u"?document:null,ZK=y1&&y1.createElement("template"),ude={insert:(n,r,l)=>{r.insertBefore(n,l||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,l,d)=>{const g=r==="svg"?y1.createElementNS(lde,n):r==="mathml"?y1.createElementNS(cde,n):l?y1.createElement(n,{is:l}):y1.createElement(n);return n==="select"&&d&&d.multiple!=null&&g.setAttribute("multiple",d.multiple),g},createText:n=>y1.createTextNode(n),createComment:n=>y1.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>y1.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,l,d,g,v){const x=l?l.previousSibling:r.lastChild;if(g&&(g===v||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),l),!(g===v||!(g=g.nextSibling)););else{ZK.innerHTML=JY(d==="svg"?`<svg>${n}</svg>`:d==="mathml"?`<math>${n}</math>`:n);const S=ZK.content;if(d==="svg"||d==="mathml"){const M=S.firstChild;for(;M.firstChild;)S.appendChild(M.firstChild);S.removeChild(M)}r.insertBefore(S,l)}return[x?x.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},Dy="transition",DO="animation",Uk=Symbol("_vtc"),QY={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eX=zl({},_Y,QY),dde=n=>(n.displayName="Transition",n.props=eX,n),Wy=dde((n,{slots:r})=>xv(uue,tX(n),r)),Gw=(n,r=[])=>{ts(n)?n.forEach(l=>l(...r)):n&&n(...r)},jK=n=>n?ts(n)?n.some(r=>r.length>1):n.length>1:!1;function tX(n){const r={};for(const Le in n)Le in QY||(r[Le]=n[Le]);if(n.css===!1)return r;const{name:l="v",type:d,duration:g,enterFromClass:v=`${l}-enter-from`,enterActiveClass:x=`${l}-enter-active`,enterToClass:S=`${l}-enter-to`,appearFromClass:M=v,appearActiveClass:R=x,appearToClass:I=S,leaveFromClass:L=`${l}-leave-from`,leaveActiveClass:$=`${l}-leave-active`,leaveToClass:K=`${l}-leave-to`}=n,Y=fde(g),ne=Y&&Y[0],oe=Y&&Y[1],{onBeforeEnter:se,onEnter:Me,onEnterCancelled:xe,onLeave:ee,onLeaveCancelled:_e,onBeforeAppear:le=se,onAppear:Ue=Me,onAppearCancelled:We=xe}=r,qe=(Le,O,Ke)=>{Ny(Le,O?I:S),Ny(Le,O?R:x),Ke&&Ke()},st=(Le,O)=>{Le._isLeaving=!1,Ny(Le,L),Ny(Le,K),Ny(Le,$),O&&O()},ke=Le=>(O,Ke)=>{const ct=Le?Ue:Me,$t=()=>qe(O,Le,Ke);Gw(ct,[O,$t]),KK(()=>{Ny(O,Le?M:v),b1(O,Le?I:S),jK(ct)||GK(O,d,ne,$t)})};return zl(r,{onBeforeEnter(Le){Gw(se,[Le]),b1(Le,v),b1(Le,x)},onBeforeAppear(Le){Gw(le,[Le]),b1(Le,M),b1(Le,R)},onEnter:ke(!1),onAppear:ke(!0),onLeave(Le,O){Le._isLeaving=!0;const Ke=()=>st(Le,O);b1(Le,L),b1(Le,$),oX(),KK(()=>{Le._isLeaving&&(Ny(Le,L),b1(Le,K),jK(ee)||GK(Le,d,oe,Ke))}),Gw(ee,[Le,Ke])},onEnterCancelled(Le){qe(Le,!1),Gw(xe,[Le])},onAppearCancelled(Le){qe(Le,!0),Gw(We,[Le])},onLeaveCancelled(Le){st(Le),Gw(_e,[Le])}})}function fde(n){if(n==null)return null;if(Ai(n))return[UH(n.enter),UH(n.leave)];{const r=UH(n);return[r,r]}}function UH(n){return vce(n)}function b1(n,r){r.split(/\s+/).forEach(l=>l&&n.classList.add(l)),(n[Uk]||(n[Uk]=new Set)).add(r)}function Ny(n,r){r.split(/\s+/).forEach(d=>d&&n.classList.remove(d));const l=n[Uk];l&&(l.delete(r),l.size||(n[Uk]=void 0))}function KK(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let mde=0;function GK(n,r,l,d){const g=n._endId=++mde,v=()=>{g===n._endId&&d()};if(l)return setTimeout(v,l);const{type:x,timeout:S,propCount:M}=nX(n,r);if(!x)return d();const R=x+"end";let I=0;const L=()=>{n.removeEventListener(R,$),v()},$=K=>{K.target===n&&++I>=M&&L()};setTimeout(()=>{I<M&&L()},S+1),n.addEventListener(R,$)}function nX(n,r){const l=window.getComputedStyle(n),d=Y=>(l[Y]||"").split(", "),g=d(`${Dy}Delay`),v=d(`${Dy}Duration`),x=qK(g,v),S=d(`${DO}Delay`),M=d(`${DO}Duration`),R=qK(S,M);let I=null,L=0,$=0;r===Dy?x>0&&(I=Dy,L=x,$=v.length):r===DO?R>0&&(I=DO,L=R,$=M.length):(L=Math.max(x,R),I=L>0?x>R?Dy:DO:null,$=I?I===Dy?v.length:M.length:0);const K=I===Dy&&/\b(transform|all)(,|$)/.test(d(`${Dy}Property`).toString());return{type:I,timeout:L,propCount:$,hasTransform:K}}function qK(n,r){for(;n.length<r.length;)n=n.concat(n);return Math.max(...r.map((l,d)=>YK(l)+YK(n[d])))}function YK(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function oX(){return document.body.offsetHeight}function gde(n,r,l){const d=n[Uk];d&&(r=(r?[r,...d]:[...d]).join(" ")),r==null?n.removeAttribute("class"):l?n.setAttribute("class",r):n.className=r}const vL=Symbol("_vod"),sX=Symbol("_vsh"),zo={beforeMount(n,{value:r},{transition:l}){n[vL]=n.style.display==="none"?"":n.style.display,l&&r?l.beforeEnter(n):RO(n,r)},mounted(n,{value:r},{transition:l}){l&&r&&l.enter(n)},updated(n,{value:r,oldValue:l},{transition:d}){!r!=!l&&(d?r?(d.beforeEnter(n),RO(n,!0),d.enter(n)):d.leave(n,()=>{RO(n,!1)}):RO(n,r))},beforeUnmount(n,{value:r}){RO(n,r)}};function RO(n,r){n.style.display=r?n[vL]:"none",n[sX]=!r}const hde=Symbol(""),pde=/(^|;)\s*display\s*:/;function vde(n,r,l){const d=n.style,g=Ka(l);let v=!1;if(l&&!g){if(r)if(Ka(r))for(const x of r.split(";")){const S=x.slice(0,x.indexOf(":")).trim();l[S]==null&&nL(d,S,"")}else for(const x in r)l[x]==null&&nL(d,x,"");for(const x in l)x==="display"&&(v=!0),nL(d,x,l[x])}else if(g){if(r!==l){const x=d[hde];x&&(l+=";"+x),d.cssText=l,v=pde.test(l)}}else r&&n.removeAttribute("style");vL in n&&(n[vL]=v?d.display:"",n[sX]&&(d.display="none"))}const XK=/\s*!important$/;function nL(n,r,l){if(ts(l))l.forEach(d=>nL(n,r,d));else if(l==null&&(l=""),r.startsWith("--"))n.setProperty(r,l);else{const d=bde(n,r);XK.test(l)?n.setProperty(mC(d),l.replace(XK,""),"important"):n[d]=l}}const JK=["Webkit","Moz","ms"],WH={};function bde(n,r){const l=WH[r];if(l)return l;let d=gm(r);if(d!=="filter"&&d in n)return WH[r]=d;d=O1(d);for(let g=0;g<JK.length;g++){const v=JK[g]+d;if(v in n)return WH[r]=v}return r}const QK="http://www.w3.org/1999/xlink";function eG(n,r,l,d,g,v=_ce(r)){d&&r.startsWith("xlink:")?l==null?n.removeAttributeNS(QK,r.slice(6,r.length)):n.setAttributeNS(QK,r,l):l==null||v&&!jq(l)?n.removeAttribute(r):n.setAttribute(r,v?"":yv(l)?String(l):l)}function yde(n,r,l,d){if(r==="innerHTML"||r==="textContent"){l!=null&&(n[r]=r==="innerHTML"?JY(l):l);return}const g=n.tagName;if(r==="value"&&g!=="PROGRESS"&&!g.includes("-")){const x=g==="OPTION"?n.getAttribute("value")||"":n.value,S=l==null?n.type==="checkbox"?"on":"":String(l);(x!==S||!("_value"in n))&&(n.value=S),l==null&&n.removeAttribute(r),n._value=l;return}let v=!1;if(l===""||l==null){const x=typeof n[r];x==="boolean"?l=jq(l):l==null&&x==="string"?(l="",v=!0):x==="number"&&(l=0,v=!0)}try{n[r]=l}catch{}v&&n.removeAttribute(r)}function Fy(n,r,l,d){n.addEventListener(r,l,d)}function xde(n,r,l,d){n.removeEventListener(r,l,d)}const tG=Symbol("_vei");function wde(n,r,l,d,g=null){const v=n[tG]||(n[tG]={}),x=v[r];if(d&&x)x.value=d;else{const[S,M]=Cde(r);if(d){const R=v[r]=kde(d,g);Fy(n,S,R,M)}else x&&(xde(n,S,x,M),v[r]=void 0)}}const nG=/(?:Once|Passive|Capture)$/;function Cde(n){let r;if(nG.test(n)){r={};let d;for(;d=n.match(nG);)n=n.slice(0,n.length-d[0].length),r[d[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):mC(n.slice(2)),r]}let ZH=0;const _de=Promise.resolve(),Sde=()=>ZH||(_de.then(()=>ZH=0),ZH=Date.now());function kde(n,r){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;jh(Ede(d,l.value),r,5,[d])};return l.value=n,l.attached=Sde(),l}function Ede(n,r){if(ts(r)){const l=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{l.call(n),n._stopped=!0},r.map(d=>g=>!g._stopped&&d&&d(g))}else return r}const oG=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Ade=(n,r,l,d,g,v)=>{const x=g==="svg";r==="class"?gde(n,d,x):r==="style"?vde(n,l,d):BL(r)?nU(r)||wde(n,r,l,d,v):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Tde(n,r,d,x))?(yde(n,r,d),!n.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&eG(n,r,d,x,v,r!=="value")):(r==="true-value"?n._trueValue=d:r==="false-value"&&(n._falseValue=d),eG(n,r,d,x))};function Tde(n,r,l,d){if(d)return!!(r==="innerHTML"||r==="textContent"||r in n&&oG(r)&&Is(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=n.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return oG(r)&&Ka(l)?!1:!!(r in n||n._isVueCE&&(/[A-Z]/.test(r)||!Ka(l)))}const rX=new WeakMap,iX=new WeakMap,bL=Symbol("_moveCb"),sG=Symbol("_enterCb"),Ode=n=>(delete n.props.mode,n),Dde=Ode({name:"TransitionGroup",props:zl({},eX,{tag:String,moveClass:String}),setup(n,{slots:r}){const l=AU(),d=CY();let g,v;return wU(()=>{if(!g.length)return;const x=n.moveClass||`${n.name||"v"}-move`;if(!Pde(g[0].el,l.vnode.el,x))return;g.forEach(Rde),g.forEach(Ide);const S=g.filter(Nde);oX(),S.forEach(M=>{const R=M.el,I=R.style;b1(R,x),I.transform=I.webkitTransform=I.transitionDuration="";const L=R[bL]=$=>{$&&$.target!==R||(!$||/transform$/.test($.propertyName))&&(R.removeEventListener("transitionend",L),R[bL]=null,Ny(R,x))};R.addEventListener("transitionend",L)})}),()=>{const x=ss(n),S=tX(x);let M=x.tag||us;if(g=[],v)for(let R=0;R<v.length;R++){const I=v[R];I.el&&I.el instanceof Element&&(g.push(I),lC(I,XO(I,S,d,l)),rX.set(I,I.el.getBoundingClientRect()))}v=r.default?bU(r.default()):[];for(let R=0;R<v.length;R++){const I=v[R];I.key!=null&&lC(I,XO(I,S,d,l))}return j(M,null,v)}}}),TU=Dde;function Rde(n){const r=n.el;r[bL]&&r[bL](),r[sG]&&r[sG]()}function Ide(n){iX.set(n,n.el.getBoundingClientRect())}function Nde(n){const r=rX.get(n),l=iX.get(n),d=r.left-l.left,g=r.top-l.top;if(d||g){const v=n.el.style;return v.transform=v.webkitTransform=`translate(${d}px,${g}px)`,v.transitionDuration="0s",n}}function Pde(n,r,l){const d=n.cloneNode(),g=n[Uk];g&&g.forEach(S=>{S.split(/\s+/).forEach(M=>M&&d.classList.remove(M))}),l.split(/\s+/).forEach(S=>S&&d.classList.add(S)),d.style.display="none";const v=r.nodeType===1?r:r.parentNode;v.appendChild(d);const{hasTransform:x}=nX(d);return v.removeChild(d),x}const Wk=n=>{const r=n.props["onUpdate:modelValue"]||!1;return ts(r)?l=>QB(r,l):r};function Mde(n){n.target.composing=!0}function rG(n){const r=n.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const S1=Symbol("_assign"),Zy={created(n,{modifiers:{lazy:r,trim:l,number:d}},g){n[S1]=Wk(g);const v=d||g.props&&g.props.type==="number";Fy(n,r?"change":"input",x=>{if(x.target.composing)return;let S=n.value;l&&(S=S.trim()),v&&(S=uL(S)),n[S1](S)}),l&&Fy(n,"change",()=>{n.value=n.value.trim()}),r||(Fy(n,"compositionstart",Mde),Fy(n,"compositionend",rG),Fy(n,"change",rG))},mounted(n,{value:r}){n.value=r??""},beforeUpdate(n,{value:r,oldValue:l,modifiers:{lazy:d,trim:g,number:v}},x){if(n[S1]=Wk(x),n.composing)return;const S=(v||n.type==="number")&&!/^0\d/.test(n.value)?uL(n.value):n.value,M=r??"";S!==M&&(document.activeElement===n&&n.type!=="range"&&(d&&r===l||g&&n.value.trim()===M)||(n.value=M))}},iG={deep:!0,created(n,r,l){n[S1]=Wk(l),Fy(n,"change",()=>{const d=n._modelValue,g=QO(n),v=n.checked,x=n[S1];if(ts(d)){const S=rU(d,g),M=S!==-1;if(v&&!M)x(d.concat(g));else if(!v&&M){const R=[...d];R.splice(S,1),x(R)}}else if(Xk(d)){const S=new Set(d);v?S.add(g):S.delete(g),x(S)}else x(aX(n,v))})},mounted:aG,beforeUpdate(n,r,l){n[S1]=Wk(l),aG(n,r,l)}};function aG(n,{value:r,oldValue:l},d){n._modelValue=r;let g;ts(r)?g=rU(r,d.props.value)>-1:Xk(r)?g=r.has(d.props.value):g=wD(r,aX(n,!0)),n.checked!==g&&(n.checked=g)}const zB={deep:!0,created(n,{value:r,modifiers:{number:l}},d){const g=Xk(r);Fy(n,"change",()=>{const v=Array.prototype.filter.call(n.options,x=>x.selected).map(x=>l?uL(QO(x)):QO(x));n[S1](n.multiple?g?new Set(v):v:v[0]),n._assigning=!0,Fs(()=>{n._assigning=!1})}),n[S1]=Wk(d)},mounted(n,{value:r,modifiers:{number:l}}){lG(n,r)},beforeUpdate(n,r,l){n[S1]=Wk(l)},updated(n,{value:r,modifiers:{number:l}}){n._assigning||lG(n,r)}};function lG(n,r,l){const d=n.multiple,g=ts(r);if(!(d&&!g&&!Xk(r))){for(let v=0,x=n.options.length;v<x;v++){const S=n.options[v],M=QO(S);if(d)if(g){const R=typeof M;R==="string"||R==="number"?S.selected=r.some(I=>String(I)===String(M)):S.selected=rU(r,M)>-1}else S.selected=r.has(M);else if(wD(QO(S),r)){n.selectedIndex!==v&&(n.selectedIndex=v);return}}!d&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function QO(n){return"_value"in n?n._value:n.value}function aX(n,r){const l=r?"_trueValue":"_falseValue";return l in n?n[l]:r}const Bde=zl({patchProp:Ade},ude);let cG;function Lde(){return cG||(cG=Mue(Bde))}const Fde=(...n)=>{const r=Lde().createApp(...n),{mount:l}=r;return r.mount=d=>{const g=zde(d);if(!g)return;const v=r._component;!Is(v)&&!v.render&&!v.template&&(v.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=l(g,!1,Vde(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function Vde(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function zde(n){return Ka(n)?document.querySelector(n):n}function Rg(n,r){let l;function d(){l=CD(),l.run(()=>r.length?r(()=>{l==null||l.stop(),d()}):r())}zn(n,g=>{g&&!l?d():g||(l==null||l.stop(),l=void 0)},{immediate:!0}),Du(()=>{l==null||l.stop()})}const di=typeof window<"u",OU=di&&"IntersectionObserver"in window,Hde=di&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function uG(n,r,l){$de(n,r),r.set(n,l)}function $de(n,r){if(r.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ude(n,r,l){return n.set(lX(n,r),l),l}function qw(n,r){return n.get(lX(n,r))}function lX(n,r,l){if(typeof n=="function"?n===r:n.has(r))return arguments.length<3?r:l;throw new TypeError("Private element is not present on this object")}function cX(n,r,l){const d=r.length-1;if(d<0)return n===void 0?l:n;for(let g=0;g<d;g++){if(n==null)return l;n=n[r[g]]}return n==null||n[r[d]]===void 0?l:n[r[d]]}function Jk(n,r){if(n===r)return!0;if(n instanceof Date&&r instanceof Date&&n.getTime()!==r.getTime()||n!==Object(n)||r!==Object(r))return!1;const l=Object.keys(n);return l.length!==Object.keys(r).length?!1:l.every(d=>Jk(n[d],r[d]))}function A$(n,r,l){return n==null||!r||typeof r!="string"?l:n[r]!==void 0?n[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),cX(n,r.split("."),l))}function fv(n,r,l){if(r===!0)return n===void 0?l:n;if(r==null||typeof r=="boolean")return l;if(n!==Object(n)){if(typeof r!="function")return l;const g=r(n,l);return typeof g>"u"?l:g}if(typeof r=="string")return A$(n,r,l);if(Array.isArray(r))return cX(n,r,l);if(typeof r!="function")return l;const d=r(n,l);return typeof d>"u"?l:d}function uX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(l,d)=>r+d)}function hs(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(n==null||n===""))return isNaN(+n)?String(n):isFinite(+n)?`${Number(n)}${r}`:void 0}function Wde(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function dG(n){let r;return n!==null&&typeof n=="object"&&((r=Object.getPrototypeOf(n))===Object.prototype||r===null)}function dX(n){if(n&&"$el"in n){const r=n.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return n}const fG=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function jH(n,r){return r.every(l=>n.hasOwnProperty(l))}function fX(n,r){const l={},d=new Set(Object.keys(n));for(const g of r)d.has(g)&&(l[g]=n[g]);return l}function mG(n,r,l){const d=Object.create(null),g=Object.create(null);for(const v in n)r.some(x=>x instanceof RegExp?x.test(v):x===v)&&!(l!=null&&l.some(x=>x===v))?d[v]=n[v]:g[v]=n[v];return[d,g]}function Jy(n,r){const l={...n};return r.forEach(d=>delete l[d]),l}function Zde(n,r){const l={};return r.forEach(d=>l[d]=n[d]),l}const mX=/^on[^a-z]/,DU=n=>mX.test(n),jde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function KL(n){const[r,l]=mG(n,[mX]),d=Jy(r,jde),[g,v]=mG(l,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(v,d),[g,v]}function sf(n){return n==null?[]:Array.isArray(n)?n:[n]}function Kde(n,r){let l=0;const d=function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];clearTimeout(l),l=setTimeout(()=>n(...v),ce(r))};return d.clear=()=>{clearTimeout(l)},d.immediate=n,d}function $h(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(l,n))}function gG(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+l.repeat(Math.max(0,r-n.length))}function hG(n,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-n.length))+n}function Gde(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const l=[];let d=0;for(;d<n.length;)l.push(n.substr(d,r)),d+=r;return l}function Au(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const d={};for(const g in n)d[g]=n[g];for(const g in r){const v=n[g],x=r[g];if(dG(v)&&dG(x)){d[g]=Au(v,x,l);continue}if(l&&Array.isArray(v)&&Array.isArray(x)){d[g]=l(v,x);continue}d[g]=x}return d}function gX(n){return n.map(r=>r.type===us?gX(r.children):r).flat()}function sC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(sC.cache.has(n))return sC.cache.get(n);const r=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return sC.cache.set(n,r),r}sC.cache=new Map;function Pk(n,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(l=>Pk(n,l)).flat(1);if(r.suspense)return Pk(n,r.ssContent);if(Array.isArray(r.children))return r.children.map(l=>Pk(n,l)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(n))return[r.component];if(r.component.subTree)return Pk(n,r.component.subTree).flat(1)}return[]}var HB=new WeakMap,_k=new WeakMap;class qde{constructor(r){uG(this,HB,[]),uG(this,_k,0),this.size=r}push(r){qw(HB,this)[qw(_k,this)]=r,Ude(_k,this,(qw(_k,this)+1)%this.size)}values(){return qw(HB,this).slice(qw(_k,this)).concat(qw(HB,this).slice(0,qw(_k,this)))}}function RU(n){const r=Ql({}),l=Ge(n);return cf(()=>{for(const d in l.value)r[d]=l.value[d]},{flush:"sync"}),SD(r)}function yL(n,r){return n.includes(r)}function hX(n){return n[2].toLowerCase()+n.slice(3)}const rf=()=>[Function,Array];function pG(n,r){return r="on"+O1(r),!!(n[r]||n[`${r}Once`]||n[`${r}Capture`]||n[`${r}OnceCapture`]||n[`${r}CaptureOnce`])}function pX(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];if(Array.isArray(n))for(const g of n)g(...l);else typeof n=="function"&&n(...l)}function eD(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(d=>`${d}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(l)]}function vX(n,r,l){let d,g=n.indexOf(document.activeElement);const v=r==="next"?1:-1;do g+=v,d=n[g];while((!d||d.offsetParent==null||!((l==null?void 0:l(d))??!0))&&g<n.length&&g>=0);return d}function WO(n,r){var d,g,v,x;const l=eD(n);if(!r)(n===document.activeElement||!n.contains(document.activeElement))&&((d=l[0])==null||d.focus());else if(r==="first")(g=l[0])==null||g.focus();else if(r==="last")(v=l.at(-1))==null||v.focus();else if(typeof r=="number")(x=l[r])==null||x.focus();else{const S=vX(l,r);S?S.focus():WO(n,r==="next"?"first":"last")}}function Yde(){}function Zk(n,r){if(!(di&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!n&&n.matches(r)}catch{return null}}function IU(n){return n.some(r=>hL(r)?r.type===yd?!1:r.type!==us||IU(r.children):!0)?n:null}function Xde(n,r){if(!di||n===0)return r(),()=>{};const l=window.setTimeout(r,n);return()=>window.clearTimeout(l)}function Jde(n,r){const l=n.clientX,d=n.clientY,g=r.getBoundingClientRect(),v=g.left,x=g.top,S=g.right,M=g.bottom;return l>=v&&l<=S&&d>=x&&d<=M}function T$(){const n=Ao(),r=l=>{n.value=l};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>n.value,set:l=>n.value=l}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>dX(n.value)}),r}function O$(n){const r=n.key.length===1,l=!n.ctrlKey&&!n.metaKey&&!n.altKey;return r&&l}const bX=["top","bottom"],Qde=["start","end","left","right"];function D$(n,r){let[l,d]=n.split(" ");return d||(d=yL(bX,l)?"start":yL(Qde,l)?"top":"center"),{side:R$(l,r),align:R$(d,r)}}function R$(n,r){return n==="start"?r?"right":"left":n==="end"?r?"left":"right":n}function KH(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function GH(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function vG(n){return{side:n.align,align:n.side}}function bG(n){return yL(bX,n.side)?"y":"x"}class rC{constructor(r){let{x:l,y:d,width:g,height:v}=r;this.x=l,this.y=d,this.width=g,this.height=v}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function yG(n,r){return{x:{before:Math.max(0,r.left-n.left),after:Math.max(0,n.right-r.right)},y:{before:Math.max(0,r.top-n.top),after:Math.max(0,n.bottom-r.bottom)}}}function yX(n){return Array.isArray(n)?new rC({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function NU(n){const r=n.getBoundingClientRect(),l=getComputedStyle(n),d=l.transform;if(d){let g,v,x,S,M;if(d.startsWith("matrix3d("))g=d.slice(9,-1).split(/, /),v=+g[0],x=+g[5],S=+g[12],M=+g[13];else if(d.startsWith("matrix("))g=d.slice(7,-1).split(/, /),v=+g[0],x=+g[3],S=+g[4],M=+g[5];else return new rC(r);const R=l.transformOrigin,I=r.x-S-(1-v)*parseFloat(R),L=r.y-M-(1-x)*parseFloat(R.slice(R.indexOf(" ")+1)),$=v?r.width/v:n.offsetWidth+1,K=x?r.height/x:n.offsetHeight+1;return new rC({x:I,y:L,width:$,height:K})}else return new rC(r)}function Mk(n,r,l){if(typeof n.animate>"u")return{finished:Promise.resolve()};let d;try{d=n.animate(r,l)}catch{return{finished:Promise.resolve()}}return typeof d.finished>"u"&&(d.finished=new Promise(g=>{d.onfinish=()=>{g(d)}})),d}const oL=new WeakMap;function efe(n,r){Object.keys(r).forEach(l=>{if(DU(l)){const d=hX(l),g=oL.get(n);if(r[l]==null)g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))});else if(!g||![...g].some(v=>v[0]===d&&v[1]===r[l])){n.addEventListener(d,r[l]);const v=g||new Set;v.add([d,r[l]]),oL.has(n)||oL.set(n,v)}}else r[l]==null?n.removeAttribute(l):n.setAttribute(l,r[l])})}function tfe(n,r){Object.keys(r).forEach(l=>{if(DU(l)){const d=hX(l),g=oL.get(n);g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))})}else n.removeAttribute(l)})}const Sk=2.4,xG=.2126729,wG=.7151522,CG=.072175,nfe=.55,ofe=.58,sfe=.57,rfe=.62,$B=.03,_G=1.45,ife=5e-4,afe=1.25,lfe=1.25,SG=.078,kG=12.82051282051282,UB=.06,EG=.001;function AG(n,r){const l=(n.r/255)**Sk,d=(n.g/255)**Sk,g=(n.b/255)**Sk,v=(r.r/255)**Sk,x=(r.g/255)**Sk,S=(r.b/255)**Sk;let M=l*xG+d*wG+g*CG,R=v*xG+x*wG+S*CG;if(M<=$B&&(M+=($B-M)**_G),R<=$B&&(R+=($B-R)**_G),Math.abs(R-M)<ife)return 0;let I;if(R>M){const L=(R**nfe-M**ofe)*afe;I=L<EG?0:L<SG?L-L*kG*UB:L-UB}else{const L=(R**rfe-M**sfe)*lfe;I=L>-EG?0:L>-SG?L-L*kG*UB:L+UB}return I*100}function cfe(n,r){r=Array.isArray(r)?r.slice(0,-1).map(l=>`'${l}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const xL=.20689655172413793,ufe=n=>n>xL**3?Math.cbrt(n):n/(3*xL**2)+4/29,dfe=n=>n>xL?n**3:3*xL**2*(n-4/29);function xX(n){const r=ufe,l=r(n[1]);return[116*l-16,500*(r(n[0]/.95047)-l),200*(l-r(n[2]/1.08883))]}function wX(n){const r=dfe,l=(n[0]+16)/116;return[r(l+n[1]/500)*.95047,r(l),r(l-n[2]/200)*1.08883]}const ffe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],mfe=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,gfe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],hfe=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function CX(n){const r=Array(3),l=mfe,d=ffe;for(let g=0;g<3;++g)r[g]=Math.round($h(l(d[g][0]*n[0]+d[g][1]*n[1]+d[g][2]*n[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function PU(n){let{r,g:l,b:d}=n;const g=[0,0,0],v=hfe,x=gfe;r=v(r/255),l=v(l/255),d=v(d/255);for(let S=0;S<3;++S)g[S]=x[S][0]*r+x[S][1]*l+x[S][2]*d;return g}function I$(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function pfe(n){return I$(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const TG=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,vfe={rgb:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),rgba:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),hsl:(n,r,l,d)=>OG({h:n,s:r,l,a:d}),hsla:(n,r,l,d)=>OG({h:n,s:r,l,a:d}),hsv:(n,r,l,d)=>tD({h:n,s:r,v:l,a:d}),hsva:(n,r,l,d)=>tD({h:n,s:r,v:l,a:d})};function gv(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&TG.test(n)){const{groups:r}=n.match(TG),{fn:l,values:d}=r,g=d.split(/,\s*/).map(v=>v.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(l)?parseFloat(v)/100:parseFloat(v));return vfe[l](...g)}else if(typeof n=="string"){let r=n.startsWith("#")?n.slice(1):n;return[3,4].includes(r.length)?r=r.split("").map(l=>l+l).join(""):[6,8].includes(r.length),yfe(r)}else if(typeof n=="object"){if(jH(n,["r","g","b"]))return n;if(jH(n,["h","s","l"]))return tD(_X(n));if(jH(n,["h","s","v"]))return tD(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function tD(n){const{h:r,s:l,v:d,a:g}=n,v=S=>{const M=(S+r/60)%6;return d-d*l*Math.max(Math.min(M,4-M,1),0)},x=[v(5),v(3),v(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:g}}function OG(n){return tD(_X(n))}function _X(n){const{h:r,s:l,l:d,a:g}=n,v=d+l*Math.min(d,1-d),x=v===0?0:2-2*d/v;return{h:r,s:x,v,a:g}}function WB(n){const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function bfe(n){let{r,g:l,b:d,a:g}=n;return`#${[WB(r),WB(l),WB(d),g!==void 0?WB(Math.round(g*255)):""].join("")}`}function yfe(n){n=xfe(n);let[r,l,d,g]=Gde(n,2).map(v=>parseInt(v,16));return g=g===void 0?g:g/255,{r,g:l,b:d,a:g}}function xfe(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&(n=gG(gG(n,6),8,"F")),n}function wfe(n,r){const l=xX(PU(n));return l[0]=l[0]+r*10,CX(wX(l))}function Cfe(n,r){const l=xX(PU(n));return l[0]=l[0]-r*10,CX(wX(l))}function _fe(n){const r=gv(n);return PU(r)[1]}function SX(n){const r=Math.abs(AG(gv(0),gv(n)));return Math.abs(AG(gv(16777215),gv(n)))>Math.min(r,50)?"#fff":"#000"}function Dn(n,r){return l=>Object.keys(n).reduce((d,g)=>{const x=typeof n[g]=="object"&&n[g]!=null&&!Array.isArray(n[g])?n[g]:{type:n[g]};return l&&g in l?d[g]={...x,default:l[g]}:d[g]=x,r&&!d[g].source&&(d[g].source=r),d},{})}const Vs=Dn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Tl(n,r){const l=AU();if(!l)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return l}function Cv(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=Tl(n).type;return sC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}let kX=0,sL=new WeakMap;function Ig(){const n=Tl("getUid");if(sL.has(n))return sL.get(n);{const r=kX++;return sL.set(n,r),r}}Ig.reset=()=>{kX=0,sL=new WeakMap};function Sfe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tl("injectSelf");const{provides:l}=r;if(l&&n in l)return l[n]}const jk=Symbol.for("vuetify:defaults");function kfe(n){return Mn(n)}function MU(){const n=wa(jk);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function Qy(n,r){const l=MU(),d=Mn(n),g=Ge(()=>{if(ce(r==null?void 0:r.disabled))return l.value;const x=ce(r==null?void 0:r.scoped),S=ce(r==null?void 0:r.reset),M=ce(r==null?void 0:r.root);if(d.value==null&&!(x||S||M))return l.value;let R=Au(d.value,{prev:l.value});if(x)return R;if(S||M){const I=Number(S||1/0);for(let L=0;L<=I&&!(!R||!("prev"in R));L++)R=R.prev;return R&&typeof M=="string"&&M in R&&(R=Au(Au(R,{prev:R}),R[M])),R}return R.prev?Au(R.prev,R):R});return Cd(jk,g),g}function Efe(n,r){var l,d;return typeof((l=n.props)==null?void 0:l[r])<"u"||typeof((d=n.props)==null?void 0:d[sC(r)])<"u"}function Afe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MU();const d=Tl("useDefaults");if(r=r??d.type.name??d.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=Ge(()=>{var M;return(M=l.value)==null?void 0:M[n._as??r]}),v=new Proxy(n,{get(M,R){var L,$,K,Y,ne,oe,se;const I=Reflect.get(M,R);return R==="class"||R==="style"?[(L=g.value)==null?void 0:L[R],I].filter(Me=>Me!=null):typeof R=="string"&&!Efe(d.vnode,R)?(($=g.value)==null?void 0:$[R])!==void 0?(K=g.value)==null?void 0:K[R]:((ne=(Y=l.value)==null?void 0:Y.global)==null?void 0:ne[R])!==void 0?(se=(oe=l.value)==null?void 0:oe.global)==null?void 0:se[R]:I:I}}),x=Ao();cf(()=>{if(g.value){const M=Object.entries(g.value).filter(R=>{let[I]=R;return I.startsWith(I[0].toUpperCase())});x.value=M.length?Object.fromEntries(M):void 0}else x.value=void 0});function S(){const M=Sfe(jk,d);Cd(jk,Ge(()=>x.value?Au((M==null?void 0:M.value)??{},x.value):M==null?void 0:M.value))}return{props:v,provideSubDefaults:S}}function Qk(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=Dn(n.props??{},n.name)();const r=Object.keys(n.props).filter(l=>l!=="class"&&l!=="style");n.filterProps=function(d){return fX(d,r)},n.props._as=String,n.setup=function(d,g){const v=MU();if(!v.value)return n._setup(d,g);const{props:x,provideSubDefaults:S}=Afe(d,d._as??n.name,v),M=n._setup(x,g);return S(),M}}return n}function Ro(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(n?Qk:AY)(r)}function GL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return Ro()({name:l??O1(gm(n.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...Vs()},setup(d,g){let{slots:v}=g;return()=>{var x;return xv(d.tag,{class:[n,d.class],style:d.style},(x=v.default)==null?void 0:x.call(v))}}})}function EX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const r=n.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const wL="cubic-bezier(0.4, 0, 0.2, 1)",Tfe="cubic-bezier(0.0, 0, 0.2, 1)",Ofe="cubic-bezier(0.4, 0, 1, 1)";function AX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(r?Dfe(n):BU(n))return n;n=n.parentElement}return document.scrollingElement}function CL(n,r){const l=[];if(r&&n&&!r.contains(n))return l;for(;n&&(BU(n)&&l.push(n),n!==r);)n=n.parentElement;return l}function BU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return r.overflowY==="scroll"||r.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Dfe(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return["scroll","auto"].includes(r.overflowY)}function Rfe(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function vs(n){const r=Tl("useRender");r.render=n}function Hi(n,r,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:L=>L,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:L=>L;const v=Tl("useProxiedModel"),x=Mn(n[r]!==void 0?n[r]:l),S=sC(r),R=Ge(S!==r?()=>{var L,$,K,Y;return n[r],!!(((L=v.vnode.props)!=null&&L.hasOwnProperty(r)||($=v.vnode.props)!=null&&$.hasOwnProperty(S))&&((K=v.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${r}`)||(Y=v.vnode.props)!=null&&Y.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var L,$;return n[r],!!((L=v.vnode.props)!=null&&L.hasOwnProperty(r)&&(($=v.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${r}`)))});Rg(()=>!R.value,()=>{zn(()=>n[r],L=>{x.value=L})});const I=Ge({get(){const L=n[r];return d(R.value?L:x.value)},set(L){const $=g(L),K=ss(R.value?n[r]:x.value);K===$||d(K)===L||(x.value=$,v==null||v.emit(`update:${r}`,$))}});return Object.defineProperty(I,"externalValue",{get:()=>R.value?n[r]:x.value}),I}const Ife={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},DG="$vuetify.",RG=(n,r)=>n.replace(/\{(\d+)\}/g,(l,d)=>String(r[+d])),TX=(n,r,l)=>function(d){for(var g=arguments.length,v=new Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];if(!d.startsWith(DG))return RG(d,v);const S=d.replace(DG,""),M=n.value&&l.value[n.value],R=r.value&&l.value[r.value];let I=A$(M,S,null);return I||(`${d}${n.value}`,I=A$(R,S,null)),I||(I=d),typeof I!="string"&&(I=d),RG(I,v)};function OX(n,r){return(l,d)=>new Intl.NumberFormat([n.value,r.value],d).format(l)}function qH(n,r,l){const d=Hi(n,r,n[r]??l.value);return d.value=n[r]??l.value,zn(l,g=>{n[r]==null&&(d.value=l.value)}),d}function DX(n){return r=>{const l=qH(r,"locale",n.current),d=qH(r,"fallback",n.fallback),g=qH(r,"messages",n.messages);return{name:"vuetify",current:l,fallback:d,messages:g,t:TX(l,d,g),n:OX(l,d),provide:DX({current:l,fallback:d,messages:g})}}}function Nfe(n){const r=Ao((n==null?void 0:n.locale)??"en"),l=Ao((n==null?void 0:n.fallback)??"en"),d=Mn({en:Ife,...n==null?void 0:n.messages});return{name:"vuetify",current:r,fallback:l,messages:d,t:TX(r,l,d),n:OX(r,l),provide:DX({current:r,fallback:l,messages:d})}}const _L=Symbol.for("vuetify:locale");function Pfe(n){return n.name!=null}function Mfe(n){const r=n!=null&&n.adapter&&Pfe(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Nfe(n),l=Lfe(r,n);return{...r,...l}}function TD(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Bfe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Lfe(n,r){const l=Mn((r==null?void 0:r.rtl)??Bfe()),d=Ge(()=>l.value[n.current.value]??!1);return{isRtl:d,rtl:l,rtlClasses:Ge(()=>`v-locale--is-${d.value?"rtl":"ltr"}`)}}function Ng(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}const qL={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Ffe(n,r,l){const d=[];let g=[];const v=RX(n),x=IX(n),S=l??qL[r.slice(-2).toUpperCase()]??0,M=(v.getDay()-S+7)%7,R=(x.getDay()-S+7)%7;for(let I=0;I<M;I++){const L=new Date(v);L.setDate(L.getDate()-(M-I)),g.push(L)}for(let I=1;I<=x.getDate();I++){const L=new Date(n.getFullYear(),n.getMonth(),I);g.push(L),g.length===7&&(d.push(g),g=[])}for(let I=1;I<7-R;I++){const L=new Date(x);L.setDate(L.getDate()+I),g.push(L)}return g.length>0&&d.push(g),d}function Vfe(n,r,l){const d=l??qL[r.slice(-2).toUpperCase()]??0,g=new Date(n);for(;g.getDay()!==d;)g.setDate(g.getDate()-1);return g}function zfe(n,r){const l=new Date(n),d=((qL[r.slice(-2).toUpperCase()]??0)+6)%7;for(;l.getDay()!==d;)l.setDate(l.getDate()+1);return l}function RX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function IX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function Hfe(n){const r=n.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const $fe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function NX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let r;if($fe.test(n))return Hfe(n);if(r=Date.parse(n),!isNaN(r))return new Date(r)}return null}const IG=new Date(2e3,0,2);function Ufe(n,r){const l=r??qL[n.slice(-2).toUpperCase()]??0;return uX(7).map(d=>{const g=new Date(IG);return g.setDate(IG.getDate()+l+d),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(g)})}function Wfe(n,r,l,d){const g=NX(n)??new Date,v=d==null?void 0:d[r];if(typeof v=="function")return v(g,r,l);let x={};switch(r){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=g.getDate(),M=new Intl.DateTimeFormat(l,{month:"long"}).format(g);return`${S} ${M}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(l).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=v??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(l,x).format(g)}function Zfe(n,r){const l=n.toJsDate(r),d=l.getFullYear(),g=hG(String(l.getMonth()+1),2,"0"),v=hG(String(l.getDate()),2,"0");return`${d}-${g}-${v}`}function jfe(n){const[r,l,d]=n.split("-").map(Number);return new Date(r,l-1,d)}function Kfe(n,r){const l=new Date(n);return l.setMinutes(l.getMinutes()+r),l}function Gfe(n,r){const l=new Date(n);return l.setHours(l.getHours()+r),l}function qfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r),l}function Yfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r*7),l}function Xfe(n,r){const l=new Date(n);return l.setDate(1),l.setMonth(l.getMonth()+r),l}function Jfe(n){return n.getFullYear()}function Qfe(n){return n.getMonth()}function eme(n){return n.getDate()}function tme(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function nme(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function ome(n){return n.getHours()}function sme(n){return n.getMinutes()}function rme(n){return new Date(n.getFullYear(),0,1)}function ime(n){return new Date(n.getFullYear(),11,31)}function ame(n,r){return SL(n,r[0])&&ume(n,r[1])}function lme(n){const r=new Date(n);return r instanceof Date&&!isNaN(r.getTime())}function SL(n,r){return n.getTime()>r.getTime()}function cme(n,r){return SL(N$(n),N$(r))}function ume(n,r){return n.getTime()<r.getTime()}function NG(n,r){return n.getTime()===r.getTime()}function dme(n,r){return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function fme(n,r){return n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function mme(n,r){return n.getFullYear()===r.getFullYear()}function gme(n,r,l){const d=new Date(n),g=new Date(r);switch(l){case"years":return d.getFullYear()-g.getFullYear();case"quarters":return Math.floor((d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12)/4);case"months":return d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((d.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((d.getTime()-g.getTime())/1e3);default:return d.getTime()-g.getTime()}}function hme(n,r){const l=new Date(n);return l.setHours(r),l}function pme(n,r){const l=new Date(n);return l.setMinutes(r),l}function vme(n,r){const l=new Date(n);return l.setMonth(r),l}function bme(n,r){const l=new Date(n);return l.setDate(r),l}function yme(n,r){const l=new Date(n);return l.setFullYear(r),l}function N$(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function xme(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class wme{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return NX(r)}toJsDate(r){return r}toISO(r){return Zfe(this,r)}parseISO(r){return jfe(r)}addMinutes(r,l){return Kfe(r,l)}addHours(r,l){return Gfe(r,l)}addDays(r,l){return qfe(r,l)}addWeeks(r,l){return Yfe(r,l)}addMonths(r,l){return Xfe(r,l)}getWeekArray(r,l){return Ffe(r,this.locale,l?Number(l):void 0)}startOfWeek(r,l){return Vfe(r,this.locale,l?Number(l):void 0)}endOfWeek(r){return zfe(r,this.locale)}startOfMonth(r){return RX(r)}endOfMonth(r){return IX(r)}format(r,l){return Wfe(r,l,this.locale,this.formats)}isEqual(r,l){return NG(r,l)}isValid(r){return lme(r)}isWithinRange(r,l){return ame(r,l)}isAfter(r,l){return SL(r,l)}isAfterDay(r,l){return cme(r,l)}isBefore(r,l){return!SL(r,l)&&!NG(r,l)}isSameDay(r,l){return dme(r,l)}isSameMonth(r,l){return fme(r,l)}isSameYear(r,l){return mme(r,l)}setMinutes(r,l){return pme(r,l)}setHours(r,l){return hme(r,l)}setMonth(r,l){return vme(r,l)}setDate(r,l){return bme(r,l)}setYear(r,l){return yme(r,l)}getDiff(r,l,d){return gme(r,l,d)}getWeekdays(r){return Ufe(this.locale,r?Number(r):void 0)}getYear(r){return Jfe(r)}getMonth(r){return Qfe(r)}getDate(r){return eme(r)}getNextMonth(r){return tme(r)}getPreviousMonth(r){return nme(r)}getHours(r){return ome(r)}getMinutes(r){return sme(r)}startOfDay(r){return N$(r)}endOfDay(r){return xme(r)}startOfYear(r){return rme(r)}endOfYear(r){return ime(r)}}const Cme=Symbol.for("vuetify:date-options"),PG=Symbol.for("vuetify:date-adapter");function _me(n,r){const l=Au({adapter:wme,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:l,instance:Sme(l,r)}}function Sme(n,r){const l=Ql(typeof n.adapter=="function"?new n.adapter({locale:n.locale[r.current.value]??r.current.value,formats:n.formats}):n.adapter);return zn(r.current,d=>{l.locale=n.locale[d]??d??l.locale}),l}const YL=["sm","md","lg","xl","xxl"],P$=Symbol.for("vuetify:display"),MG={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},kme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MG;return Au(MG,n)};function BG(n){return di&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function LG(n){return di&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function FG(n){const r=di&&!n?window.navigator.userAgent:"ssr";function l(Y){return!!r.match(Y)}const d=l(/android/i),g=l(/iphone|ipad|ipod/i),v=l(/cordova/i),x=l(/electron/i),S=l(/chrome/i),M=l(/edge/i),R=l(/firefox/i),I=l(/opera/i),L=l(/win/i),$=l(/mac/i),K=l(/linux/i);return{android:d,ios:g,cordova:v,electron:x,chrome:S,edge:M,firefox:R,opera:I,win:L,mac:$,linux:K,touch:Hde,ssr:r==="ssr"}}function Eme(n,r){const{thresholds:l,mobileBreakpoint:d}=kme(n),g=Ao(LG(r)),v=Ao(FG(r)),x=Ql({}),S=Ao(BG(r));function M(){g.value=LG(),S.value=BG()}function R(){M(),v.value=FG()}return cf(()=>{const I=S.value<l.sm,L=S.value<l.md&&!I,$=S.value<l.lg&&!(L||I),K=S.value<l.xl&&!($||L||I),Y=S.value<l.xxl&&!(K||$||L||I),ne=S.value>=l.xxl,oe=I?"xs":L?"sm":$?"md":K?"lg":Y?"xl":"xxl",se=typeof d=="number"?d:l[d],Me=S.value<se;x.xs=I,x.sm=L,x.md=$,x.lg=K,x.xl=Y,x.xxl=ne,x.smAndUp=!I,x.mdAndUp=!(I||L),x.lgAndUp=!(I||L||$),x.xlAndUp=!(I||L||$||K),x.smAndDown=!($||K||Y||ne),x.mdAndDown=!(K||Y||ne),x.lgAndDown=!(Y||ne),x.xlAndDown=!ne,x.name=oe,x.height=g.value,x.width=S.value,x.mobile=Me,x.mobileBreakpoint=d,x.platform=v.value,x.thresholds=l}),di&&window.addEventListener("resize",M,{passive:!0}),{...SD(x),update:R,ssr:!!r}}const PX=Dn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function XL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=wa(P$);if(!l)throw new Error("Could not find Vuetify display injection");const d=Ge(()=>{if(n.mobile!=null)return n.mobile;if(!n.mobileBreakpoint)return l.mobile.value;const v=typeof n.mobileBreakpoint=="number"?n.mobileBreakpoint:l.thresholds.value[n.mobileBreakpoint];return l.width.value<v}),g=Ge(()=>r?{[`${r}--mobile`]:d.value}:{});return{...l,displayClasses:g,mobile:d}}const MX=Symbol.for("vuetify:goto");function BX(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function Ame(n){return LU(n)??(document.scrollingElement||document.body)}function LU(n){return typeof n=="string"?document.querySelector(n):dX(n)}function YH(n,r,l){if(typeof n=="number")return r&&l?-n:n;let d=LU(n),g=0;for(;d;)g+=r?d.offsetLeft:d.offsetTop,d=d.offsetParent;return g}function Tme(n,r){return{rtl:r.isRtl,options:Au(BX(),n)}}async function VG(n,r,l,d){const g=l?"scrollLeft":"scrollTop",v=Au((d==null?void 0:d.options)??BX(),r),x=d==null?void 0:d.rtl.value,S=(typeof n=="number"?n:LU(n))??0,M=v.container==="parent"&&S instanceof HTMLElement?S.parentElement:Ame(v.container),R=typeof v.easing=="function"?v.easing:v.patterns[v.easing];if(!R)throw new TypeError(`Easing function "${v.easing}" not found.`);let I;if(typeof S=="number")I=YH(S,l,x);else if(I=YH(S,l,x)-YH(M,l,x),v.layout){const Y=window.getComputedStyle(S).getPropertyValue("--v-layout-top");Y&&(I-=parseInt(Y,10))}I+=v.offset,I=Dme(M,I,!!x,!!l);const L=M[g]??0;if(I===L)return Promise.resolve(I);const $=performance.now();return new Promise(K=>requestAnimationFrame(function Y(ne){const se=(ne-$)/v.duration,Me=Math.floor(L+(I-L)*R($h(se,0,1)));if(M[g]=Me,se>=1&&Math.abs(Me-M[g])<10)return K(I);if(se>2)return K(M[g]);requestAnimationFrame(Y)}))}function Ome(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=wa(MX),{isRtl:l}=Ng();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const d={...r,rtl:Ge(()=>r.rtl.value||l.value)};async function g(v,x){return VG(v,Au(n,x),!1,d)}return g.horizontal=async(v,x)=>VG(v,Au(n,x),!0,d),g}function Dme(n,r,l,d){const{scrollWidth:g,scrollHeight:v}=n,[x,S]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let M,R;return d?l?(M=-(g-x),R=0):(M=0,R=g-x):(M=0,R=v+-S),Math.max(Math.min(r,R),M)}const Rme={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Ime={component:n=>xv(FX,{...n,class:"mdi"})},fi=[String,Function,Object,Array],M$=Symbol.for("vuetify:icons"),JL=Dn({icon:{type:fi},tag:{type:String,required:!0}},"icon"),zG=Ro()({name:"VComponentIcon",props:JL(),setup(n,r){let{slots:l}=r;return()=>{const d=n.icon;return j(n.tag,null,{default:()=>{var g;return[n.icon?j(d,null,null):(g=l.default)==null?void 0:g.call(l)]}})}}}),LX=Qk({name:"VSvgIcon",inheritAttrs:!1,props:JL(),setup(n,r){let{attrs:l}=r;return()=>j(n.tag,Wo(l,{style:null}),{default:()=>[j("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(d=>Array.isArray(d)?j("path",{d:d[0],"fill-opacity":d[1]},null):j("path",{d},null)):j("path",{d:n.icon},null)])]})}});Qk({name:"VLigatureIcon",props:JL(),setup(n){return()=>j(n.tag,null,{default:()=>[n.icon]})}});const FX=Qk({name:"VClassIcon",props:JL(),setup(n){return()=>j(n.tag,{class:n.icon},null)}});function Nme(){return{svg:{component:LX},class:{component:FX}}}function Pme(n){const r=Nme(),l=(n==null?void 0:n.defaultSet)??"mdi";return l==="mdi"&&!r.mdi&&(r.mdi=Ime),Au({defaultSet:l,sets:r,aliases:{...Rme,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Mme=n=>{const r=wa(M$);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Ge(()=>{var M;const d=ce(n);if(!d)return{component:zG};let g=d;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(M=r.aliases)==null?void 0:M[g.slice(1)])),Array.isArray(g))return{component:LX,icon:g};if(typeof g!="string")return{component:zG,icon:g};const v=Object.keys(r.sets).find(R=>typeof g=="string"&&g.startsWith(`${R}:`)),x=v?g.slice(v.length+1):g;return{component:r.sets[v??r.defaultSet].component,icon:x}})}},kL=Symbol.for("vuetify:theme"),cl=Dn({theme:String},"theme");function HG(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Bme(){var d,g;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HG();const r=HG();if(!n)return{...r,isDisabled:!0};const l={};for(const[v,x]of Object.entries(n.themes??{})){const S=x.dark||v==="dark"?(d=r.themes)==null?void 0:d.dark:(g=r.themes)==null?void 0:g.light;l[v]=Au(S,x)}return Au(r,{...n,themes:l})}function Lme(n){const r=Bme(n),l=Mn(r.defaultTheme),d=Mn(r.themes),g=Ge(()=>{const I={};for(const[L,$]of Object.entries(d.value)){const K=I[L]={...$,colors:{...$.colors}};if(r.variations)for(const Y of r.variations.colors){const ne=K.colors[Y];if(ne)for(const oe of["lighten","darken"]){const se=oe==="lighten"?wfe:Cfe;for(const Me of uX(r.variations[oe],1))K.colors[`${Y}-${oe}-${Me}`]=bfe(se(gv(ne),Me))}}for(const Y of Object.keys(K.colors)){if(/^on-[a-z]/.test(Y)||K.colors[`on-${Y}`])continue;const ne=`on-${Y}`,oe=gv(K.colors[Y]);K.colors[ne]=SX(oe)}}return I}),v=Ge(()=>g.value[l.value]),x=Ge(()=>{var Y;const I=[];(Y=v.value)!=null&&Y.dark&&Yw(I,":root",["color-scheme: dark"]),Yw(I,":root",$G(v.value));for(const[ne,oe]of Object.entries(g.value))Yw(I,`.v-theme--${ne}`,[`color-scheme: ${oe.dark?"dark":"normal"}`,...$G(oe)]);const L=[],$=[],K=new Set(Object.values(g.value).flatMap(ne=>Object.keys(ne.colors)));for(const ne of K)/^on-[a-z]/.test(ne)?Yw($,`.${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]):(Yw(L,`.bg-${ne}`,[`--v-theme-overlay-multiplier: var(--v-theme-${ne}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${ne})) !important`,`color: rgb(var(--v-theme-on-${ne})) !important`]),Yw($,`.text-${ne}`,[`color: rgb(var(--v-theme-${ne})) !important`]),Yw($,`.border-${ne}`,[`--v-border-color: var(--v-theme-${ne})`]));return I.push(...L,...$),I.map((ne,oe)=>oe===0?ne:`    ${ne}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:r.cspNonce||!1}]}}function M(I){if(r.isDisabled)return;const L=I._context.provides.usehead;if(L)if(L.push){const K=L.push(S);di&&zn(x,()=>{K.patch(S)})}else di?(L.addHeadObjs(Ge(S)),cf(()=>L.updateDOM())):L.addHeadObjs(S());else{let Y=function(){if(typeof document<"u"&&!K){const ne=document.createElement("style");ne.type="text/css",ne.id="vuetify-theme-stylesheet",r.cspNonce&&ne.setAttribute("nonce",r.cspNonce),K=ne,document.head.appendChild(K)}K&&(K.innerHTML=x.value)};var $=Y;let K=di?document.getElementById("vuetify-theme-stylesheet"):null;di?zn(x,Y,{immediate:!0}):Y()}}const R=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`);return{install:M,isDisabled:r.isDisabled,name:l,themes:d,current:v,computedThemes:g,themeClasses:R,styles:x,global:{name:l,current:v}}}function Hl(n){Tl("provideTheme");const r=wa(kL,null);if(!r)throw new Error("Could not find Vuetify theme injection");const l=Ge(()=>n.theme??r.name.value),d=Ge(()=>r.themes.value[l.value]),g=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`),v={...r,name:l,current:d,themeClasses:g};return Cd(kL,v),v}function Yw(n,r,l){n.push(`${r} {
`,...l.map(d=>`  ${d};
`),`}
`)}function $G(n){const r=n.dark?2:1,l=n.dark?1:2,d=[];for(const[g,v]of Object.entries(n.colors)){const x=gv(v);d.push(`--v-theme-${g}: ${x.r},${x.g},${x.b}`),g.startsWith("on-")||d.push(`--v-theme-${g}-overlay-multiplier: ${_fe(v)>.18?r:l}`)}for(const[g,v]of Object.entries(n.variables)){const x=typeof v=="string"&&v.startsWith("#")?gv(v):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;d.push(`--v-${g}: ${S??v}`)}return d}function Kk(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=T$(),d=Mn();if(di){const g=new ResizeObserver(v=>{v.length&&(r==="content"?d.value=v[0].contentRect:d.value=v[0].target.getBoundingClientRect())});wc(()=>{g.disconnect()}),zn(()=>l.el,(v,x)=>{x&&(g.unobserve(x),d.value=void 0),v&&g.observe(v)},{flush:"post"})}return{resizeRef:l,contentRect:_D(d)}}const EL=Symbol.for("vuetify:layout"),VX=Symbol.for("vuetify:layout-item"),UG=1e3,Fme=Dn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),zX=Dn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Vme(){const n=wa(EL);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function HX(n){const r=wa(EL);if(!r)throw new Error("[Vuetify] Could not find injected layout");const l=n.id??`layout-item-${Ig()}`,d=Tl("useLayoutItem");Cd(VX,{id:l});const g=Ao(!1);$L(()=>g.value=!0),yU(()=>g.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:x}=r.register(d,{...n,active:Ge(()=>g.value?!1:n.active.value),id:l});return wc(()=>r.unregister(l)),{layoutItemStyles:v,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const zme=(n,r,l,d)=>{let g={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...g}}];for(const x of n){const S=r.get(x),M=l.get(x),R=d.get(x);if(!S||!M||!R)continue;const I={...g,[S.value]:parseInt(g[S.value],10)+(R.value?parseInt(M.value,10):0)};v.push({id:x,layer:I}),g=I}return v};function Hme(n){const r=wa(EL,null),l=Ge(()=>r?r.rootZIndex.value-100:UG),d=Mn([]),g=Ql(new Map),v=Ql(new Map),x=Ql(new Map),S=Ql(new Map),M=Ql(new Map),{resizeRef:R,contentRect:I}=Kk(),L=Ge(()=>{const le=new Map,Ue=n.overlaps??[];for(const We of Ue.filter(qe=>qe.includes(":"))){const[qe,st]=We.split(":");if(!d.value.includes(qe)||!d.value.includes(st))continue;const ke=g.get(qe),Le=g.get(st),O=v.get(qe),Ke=v.get(st);!ke||!Le||!O||!Ke||(le.set(st,{position:ke.value,amount:parseInt(O.value,10)}),le.set(qe,{position:Le.value,amount:-parseInt(Ke.value,10)}))}return le}),$=Ge(()=>{const le=[...new Set([...x.values()].map(We=>We.value))].sort((We,qe)=>We-qe),Ue=[];for(const We of le){const qe=d.value.filter(st=>{var ke;return((ke=x.get(st))==null?void 0:ke.value)===We});Ue.push(...qe)}return zme(Ue,g,v,S)}),K=Ge(()=>!Array.from(M.values()).some(le=>le.value)),Y=Ge(()=>$.value[$.value.length-1].layer),ne=Ge(()=>({"--v-layout-left":hs(Y.value.left),"--v-layout-right":hs(Y.value.right),"--v-layout-top":hs(Y.value.top),"--v-layout-bottom":hs(Y.value.bottom),...K.value?void 0:{transition:"none"}})),oe=Ge(()=>$.value.slice(1).map((le,Ue)=>{let{id:We}=le;const{layer:qe}=$.value[Ue],st=v.get(We),ke=g.get(We);return{id:We,...qe,size:Number(st.value),position:ke.value}})),se=le=>oe.value.find(Ue=>Ue.id===le),Me=Tl("createLayout"),xe=Ao(!1);Ru(()=>{xe.value=!0}),Cd(EL,{register:(le,Ue)=>{let{id:We,order:qe,position:st,layoutSize:ke,elementSize:Le,active:O,disableTransitions:Ke,absolute:ct}=Ue;x.set(We,qe),g.set(We,st),v.set(We,ke),S.set(We,O),Ke&&M.set(We,Ke);const Jt=Pk(VX,Me==null?void 0:Me.vnode).indexOf(le);Jt>-1?d.value.splice(Jt,0,We):d.value.push(We);const et=Ge(()=>oe.value.findIndex(Ye=>Ye.id===We)),pt=Ge(()=>l.value+$.value.length*2-et.value*2),Lt=Ge(()=>{const Ye=st.value==="left"||st.value==="right",Mt=st.value==="right",oo=st.value==="bottom",Fn=Le.value??ke.value,fn=Fn===0?"%":"px",_n={[st.value]:0,zIndex:pt.value,transform:`translate${Ye?"X":"Y"}(${(O.value?0:-(Fn===0?100:Fn))*(Mt||oo?-1:1)}${fn})`,position:ct.value||l.value!==UG?"absolute":"fixed",...K.value?void 0:{transition:"none"}};if(!xe.value)return _n;const J=oe.value[et.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${We}"`);const xs=L.value.get(We);return xs&&(J[xs.position]+=xs.amount),{..._n,height:Ye?`calc(100% - ${J.top}px - ${J.bottom}px)`:Le.value?`${Le.value}px`:void 0,left:Mt?void 0:`${J.left}px`,right:Mt?`${J.right}px`:void 0,top:st.value!=="bottom"?`${J.top}px`:void 0,bottom:st.value!=="top"?`${J.bottom}px`:void 0,width:Ye?Le.value?`${Le.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),tt=Ge(()=>({zIndex:pt.value-1}));return{layoutItemStyles:Lt,layoutItemScrimStyles:tt,zIndex:pt}},unregister:le=>{x.delete(le),g.delete(le),v.delete(le),S.delete(le),M.delete(le),d.value=d.value.filter(Ue=>Ue!==le)},mainRect:Y,mainStyles:ne,getLayoutItem:se,items:oe,layoutRect:I,rootZIndex:l});const ee=Ge(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),_e=Ge(()=>({zIndex:r?l.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:_e,getLayoutItem:se,items:oe,layoutRect:I,layoutRef:R}}function $X(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...l}=n,d=Au(r,l),{aliases:g={},components:v={},directives:x={}}=d,S=kfe(d.defaults),M=Eme(d.display,d.ssr),R=Lme(d.theme),I=Pme(d.icons),L=Mfe(d.locale),$=_me(d.date,L),K=Tme(d.goTo,L);return{install:ne=>{for(const oe in x)ne.directive(oe,x[oe]);for(const oe in v)ne.component(oe,v[oe]);for(const oe in g)ne.component(oe,Qk({...g[oe],name:oe,aliasName:g[oe].name}));if(R.install(ne),ne.provide(jk,S),ne.provide(P$,M),ne.provide(kL,R),ne.provide(M$,I),ne.provide(_L,L),ne.provide(Cme,$.options),ne.provide(PG,$.instance),ne.provide(MX,K),di&&d.ssr)if(ne.$nuxt)ne.$nuxt.hook("app:suspense:resolve",()=>{M.update()});else{const{mount:oe}=ne;ne.mount=function(){const se=oe(...arguments);return Fs(()=>M.update()),ne.mount=oe,se}}Ig.reset(),ne.mixin({computed:{$vuetify(){return Ql({defaults:kk.call(this,jk),display:kk.call(this,P$),theme:kk.call(this,kL),icons:kk.call(this,M$),locale:kk.call(this,_L),date:kk.call(this,PG)})}}})},defaults:S,display:M,theme:R,icons:I,locale:L,date:$,goTo:K}}const $me="3.7.2";$X.version=$me;function kk(n){var d,g;const r=this.$,l=((d=r.parent)==null?void 0:d.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(l&&n in l)return l[n]}const Ume=$X({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Wme=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let UX;const QL=n=>UX=n,WX=Symbol();function B$(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var ZO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(ZO||(ZO={}));function Zme(){const n=CD(!0),r=n.run(()=>Mn({}));let l=[],d=[];const g=gU({install(v){QL(g),g._a=v,v.provide(WX,g),v.config.globalProperties.$pinia=g,d.forEach(x=>l.push(x)),d=[]},use(v){return!this._a&&!Wme?d.push(v):l.push(v),this},_p:l,_a:null,_e:n,_s:new Map,state:r});return g}const ZX=()=>{};function WG(n,r,l,d=ZX){n.push(r);const g=()=>{const v=n.indexOf(r);v>-1&&(n.splice(v,1),d())};return!l&&Yq()&&Du(g),g}function Ek(n,...r){n.slice().forEach(l=>{l(...r)})}const jme=n=>n(),ZG=Symbol(),XH=Symbol();function L$(n,r){n instanceof Map&&r instanceof Map?r.forEach((l,d)=>n.set(d,l)):n instanceof Set&&r instanceof Set&&r.forEach(n.add,n);for(const l in r){if(!r.hasOwnProperty(l))continue;const d=r[l],g=n[l];B$(g)&&B$(d)&&n.hasOwnProperty(l)&&!zr(d)&&!Hy(d)?n[l]=L$(g,d):n[l]=d}return n}const Kme=Symbol();function Gme(n){return!B$(n)||!n.hasOwnProperty(Kme)}const{assign:Py}=Object;function qme(n){return!!(zr(n)&&n.effect)}function Yme(n,r,l,d){const{state:g,actions:v,getters:x}=r,S=l.state.value[n];let M;function R(){S||(l.state.value[n]=g?g():{});const I=SD(l.state.value[n]);return Py(I,v,Object.keys(x||{}).reduce((L,$)=>(L[$]=gU(Ge(()=>{QL(l);const K=l._s.get(n);return x[$].call(K,K)})),L),{}))}return M=jX(n,R,r,l,d,!0),M}function jX(n,r,l={},d,g,v){let x;const S=Py({actions:{}},l),M={deep:!0};let R,I,L=[],$=[],K;const Y=d.state.value[n];!v&&!Y&&(d.state.value[n]={}),Mn({});let ne;function oe(We){let qe;R=I=!1,typeof We=="function"?(We(d.state.value[n]),qe={type:ZO.patchFunction,storeId:n,events:K}):(L$(d.state.value[n],We),qe={type:ZO.patchObject,payload:We,storeId:n,events:K});const st=ne=Symbol();Fs().then(()=>{ne===st&&(R=!0)}),I=!0,Ek(L,qe,d.state.value[n])}const se=v?function(){const{state:qe}=l,st=qe?qe():{};this.$patch(ke=>{Py(ke,st)})}:ZX;function Me(){x.stop(),L=[],$=[],d._s.delete(n)}const xe=(We,qe="")=>{if(ZG in We)return We[XH]=qe,We;const st=function(){QL(d);const ke=Array.from(arguments),Le=[],O=[];function Ke(Jt){Le.push(Jt)}function ct(Jt){O.push(Jt)}Ek($,{args:ke,name:st[XH],store:_e,after:Ke,onError:ct});let $t;try{$t=We.apply(this&&this.$id===n?this:_e,ke)}catch(Jt){throw Ek(O,Jt),Jt}return $t instanceof Promise?$t.then(Jt=>(Ek(Le,Jt),Jt)).catch(Jt=>(Ek(O,Jt),Promise.reject(Jt))):(Ek(Le,$t),$t)};return st[ZG]=!0,st[XH]=qe,st},ee={_p:d,$id:n,$onAction:WG.bind(null,$),$patch:oe,$reset:se,$subscribe(We,qe={}){const st=WG(L,We,qe.detached,()=>ke()),ke=x.run(()=>zn(()=>d.state.value[n],Le=>{(qe.flush==="sync"?I:R)&&We({storeId:n,type:ZO.direct,events:K},Le)},Py({},M,qe)));return st},$dispose:Me},_e=Ql(ee);d._s.set(n,_e);const Ue=(d._a&&d._a.runWithContext||jme)(()=>d._e.run(()=>(x=CD()).run(()=>r({action:xe}))));for(const We in Ue){const qe=Ue[We];if(zr(qe)&&!qme(qe)||Hy(qe))v||(Y&&Gme(qe)&&(zr(qe)?qe.value=Y[We]:L$(qe,Y[We])),d.state.value[n][We]=qe);else if(typeof qe=="function"){const st=xe(qe,We);Ue[We]=st,S.actions[We]=qe}}return Py(_e,Ue),Py(ss(_e),Ue),Object.defineProperty(_e,"$state",{get:()=>d.state.value[n],set:We=>{oe(qe=>{Py(qe,We)})}}),d._p.forEach(We=>{Py(_e,x.run(()=>We({store:_e,app:d._a,pinia:d,options:S})))}),Y&&v&&l.hydrate&&l.hydrate(_e.$state,Y),R=!0,I=!0,_e}function Iu(n,r,l){let d,g;const v=typeof r=="function";typeof n=="string"?(d=n,g=v?l:r):(g=n,d=n.id);function x(S,M){const R=Tue();return S=S||(R?wa(WX,null):null),S&&QL(S),S=UX,S._s.has(d)||(v?jX(d,r,g,S):Yme(d,g,S)),S._s.get(d)}return x.$id=d,x}const Xme=Zme();function Jme(n){n.use(Ume).use(Xme)}var ZB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jB(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var KX={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,r){(function(l){n.exports=l()})(function(){return function l(d,g,v){function x(R,I){if(!g[R]){if(!d[R]){var L=typeof jB=="function"&&jB;if(!I&&L)return L(R,!0);if(S)return S(R,!0);var $=new Error("Cannot find module '"+R+"'");throw $.code="MODULE_NOT_FOUND",$}var K=g[R]={exports:{}};d[R][0].call(K.exports,function(Y){var ne=d[R][1][Y];return x(ne||Y)},K,K.exports,l,d,g,v)}return g[R].exports}for(var S=typeof jB=="function"&&jB,M=0;M<v.length;M++)x(v[M]);return x}({1:[function(l,d,g){(function(v){var x=v.MutationObserver||v.WebKitMutationObserver,S;if(x){var M=0,R=new x(Y),I=v.document.createTextNode("");R.observe(I,{characterData:!0}),S=function(){I.data=M=++M%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var L=new v.MessageChannel;L.port1.onmessage=Y,S=function(){L.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?S=function(){var oe=v.document.createElement("script");oe.onreadystatechange=function(){Y(),oe.onreadystatechange=null,oe.parentNode.removeChild(oe),oe=null},v.document.documentElement.appendChild(oe)}:S=function(){setTimeout(Y,0)};var $,K=[];function Y(){$=!0;for(var oe,se,Me=K.length;Me;){for(se=K,K=[],oe=-1;++oe<Me;)se[oe]();Me=K.length}$=!1}d.exports=ne;function ne(oe){K.push(oe)===1&&!$&&S()}}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(l,d,g){var v=l(1);function x(){}var S={},M=["REJECTED"],R=["FULFILLED"],I=["PENDING"];d.exports=L;function L(_e){if(typeof _e!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,_e!==x&&ne(this,_e)}L.prototype.catch=function(_e){return this.then(null,_e)},L.prototype.then=function(_e,le){if(typeof _e!="function"&&this.state===R||typeof le!="function"&&this.state===M)return this;var Ue=new this.constructor(x);if(this.state!==I){var We=this.state===R?_e:le;K(Ue,We,this.outcome)}else this.queue.push(new $(Ue,_e,le));return Ue};function $(_e,le,Ue){this.promise=_e,typeof le=="function"&&(this.onFulfilled=le,this.callFulfilled=this.otherCallFulfilled),typeof Ue=="function"&&(this.onRejected=Ue,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(_e){S.resolve(this.promise,_e)},$.prototype.otherCallFulfilled=function(_e){K(this.promise,this.onFulfilled,_e)},$.prototype.callRejected=function(_e){S.reject(this.promise,_e)},$.prototype.otherCallRejected=function(_e){K(this.promise,this.onRejected,_e)};function K(_e,le,Ue){v(function(){var We;try{We=le(Ue)}catch(qe){return S.reject(_e,qe)}We===_e?S.reject(_e,new TypeError("Cannot resolve promise with itself")):S.resolve(_e,We)})}S.resolve=function(_e,le){var Ue=oe(Y,le);if(Ue.status==="error")return S.reject(_e,Ue.value);var We=Ue.value;if(We)ne(_e,We);else{_e.state=R,_e.outcome=le;for(var qe=-1,st=_e.queue.length;++qe<st;)_e.queue[qe].callFulfilled(le)}return _e},S.reject=function(_e,le){_e.state=M,_e.outcome=le;for(var Ue=-1,We=_e.queue.length;++Ue<We;)_e.queue[Ue].callRejected(le);return _e};function Y(_e){var le=_e&&_e.then;if(_e&&(typeof _e=="object"||typeof _e=="function")&&typeof le=="function")return function(){le.apply(_e,arguments)}}function ne(_e,le){var Ue=!1;function We(Le){Ue||(Ue=!0,S.reject(_e,Le))}function qe(Le){Ue||(Ue=!0,S.resolve(_e,Le))}function st(){le(qe,We)}var ke=oe(st);ke.status==="error"&&We(ke.value)}function oe(_e,le){var Ue={};try{Ue.value=_e(le),Ue.status="success"}catch(We){Ue.status="error",Ue.value=We}return Ue}L.resolve=se;function se(_e){return _e instanceof this?_e:S.resolve(new this(x),_e)}L.reject=Me;function Me(_e){var le=new this(x);return S.reject(le,_e)}L.all=xe;function xe(_e){var le=this;if(Object.prototype.toString.call(_e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=_e.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=new Array(Ue),st=0,ke=-1,Le=new this(x);++ke<Ue;)O(_e[ke],ke);return Le;function O(Ke,ct){le.resolve(Ke).then($t,function(Jt){We||(We=!0,S.reject(Le,Jt))});function $t(Jt){qe[ct]=Jt,++st===Ue&&!We&&(We=!0,S.resolve(Le,qe))}}}L.race=ee;function ee(_e){var le=this;if(Object.prototype.toString.call(_e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=_e.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=-1,st=new this(x);++qe<Ue;)ke(_e[qe]);return st;function ke(Le){le.resolve(Le).then(function(O){We||(We=!0,S.resolve(st,O))},function(O){We||(We=!0,S.reject(st,O))})}}},{1:1}],3:[function(l,d,g){(function(v){typeof v.Promise!="function"&&(v.Promise=l(2))}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(l,d,g){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function x(Te,nt){if(!(Te instanceof nt))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var M=S();function R(){try{if(!M||!M.open)return!1;var Te=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),nt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Te||nt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(Te,nt){Te=Te||[],nt=nt||{};try{return new Blob(Te,nt)}catch(Je){if(Je.name!=="TypeError")throw Je;for(var Ne=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,mt=new Ne,ut=0;ut<Te.length;ut+=1)mt.append(Te[ut]);return mt.getBlob(nt.type)}}typeof Promise>"u"&&l(3);var L=Promise;function $(Te,nt){nt&&Te.then(function(Ne){nt(null,Ne)},function(Ne){nt(Ne)})}function K(Te,nt,Ne){typeof nt=="function"&&Te.then(nt),typeof Ne=="function"&&Te.catch(Ne)}function Y(Te){return typeof Te!="string"&&(console.warn(Te+" used as a key, but it is not a string."),Te=String(Te)),Te}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var oe="local-forage-detect-blob-support",se=void 0,Me={},xe=Object.prototype.toString,ee="readonly",_e="readwrite";function le(Te){for(var nt=Te.length,Ne=new ArrayBuffer(nt),mt=new Uint8Array(Ne),ut=0;ut<nt;ut++)mt[ut]=Te.charCodeAt(ut);return Ne}function Ue(Te){return new L(function(nt){var Ne=Te.transaction(oe,_e),mt=I([""]);Ne.objectStore(oe).put(mt,"key"),Ne.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),nt(!1)},Ne.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Je=navigator.userAgent.match(/Edge\//);nt(Je||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function We(Te){return typeof se=="boolean"?L.resolve(se):Ue(Te).then(function(nt){return se=nt,se})}function qe(Te){var nt=Me[Te.name],Ne={};Ne.promise=new L(function(mt,ut){Ne.resolve=mt,Ne.reject=ut}),nt.deferredOperations.push(Ne),nt.dbReady?nt.dbReady=nt.dbReady.then(function(){return Ne.promise}):nt.dbReady=Ne.promise}function st(Te){var nt=Me[Te.name],Ne=nt.deferredOperations.pop();if(Ne)return Ne.resolve(),Ne.promise}function ke(Te,nt){var Ne=Me[Te.name],mt=Ne.deferredOperations.pop();if(mt)return mt.reject(nt),mt.promise}function Le(Te,nt){return new L(function(Ne,mt){if(Me[Te.name]=Me[Te.name]||Ye(),Te.db)if(nt)qe(Te),Te.db.close();else return Ne(Te.db);var ut=[Te.name];nt&&ut.push(Te.version);var Je=M.open.apply(M,ut);nt&&(Je.onupgradeneeded=function(Wt){var nn=Je.result;try{nn.createObjectStore(Te.storeName),Wt.oldVersion<=1&&nn.createObjectStore(oe)}catch(un){if(un.name==="ConstraintError")console.warn('The database "'+Te.name+'" has been upgraded from version '+Wt.oldVersion+" to version "+Wt.newVersion+', but the storage "'+Te.storeName+'" already exists.');else throw un}}),Je.onerror=function(Wt){Wt.preventDefault(),mt(Je.error)},Je.onsuccess=function(){var Wt=Je.result;Wt.onversionchange=function(nn){nn.target.close()},Ne(Wt),st(Te)}})}function O(Te){return Le(Te,!1)}function Ke(Te){return Le(Te,!0)}function ct(Te,nt){if(!Te.db)return!0;var Ne=!Te.db.objectStoreNames.contains(Te.storeName),mt=Te.version<Te.db.version,ut=Te.version>Te.db.version;if(mt&&(Te.version!==nt&&console.warn('The database "'+Te.name+`" can't be downgraded from version `+Te.db.version+" to version "+Te.version+"."),Te.version=Te.db.version),ut||Ne){if(Ne){var Je=Te.db.version+1;Je>Te.version&&(Te.version=Je)}return!0}return!1}function $t(Te){return new L(function(nt,Ne){var mt=new FileReader;mt.onerror=Ne,mt.onloadend=function(ut){var Je=btoa(ut.target.result||"");nt({__local_forage_encoded_blob:!0,data:Je,type:Te.type})},mt.readAsBinaryString(Te)})}function Jt(Te){var nt=le(atob(Te.data));return I([nt],{type:Te.type})}function et(Te){return Te&&Te.__local_forage_encoded_blob}function pt(Te){var nt=this,Ne=nt._initReady().then(function(){var mt=Me[nt._dbInfo.name];if(mt&&mt.dbReady)return mt.dbReady});return K(Ne,Te,Te),Ne}function Lt(Te){qe(Te);for(var nt=Me[Te.name],Ne=nt.forages,mt=0;mt<Ne.length;mt++){var ut=Ne[mt];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return Te.db=null,O(Te).then(function(Je){return Te.db=Je,ct(Te)?Ke(Te):Je}).then(function(Je){Te.db=nt.db=Je;for(var Wt=0;Wt<Ne.length;Wt++)Ne[Wt]._dbInfo.db=Je}).catch(function(Je){throw ke(Te,Je),Je})}function tt(Te,nt,Ne,mt){mt===void 0&&(mt=1);try{var ut=Te.db.transaction(Te.storeName,nt);Ne(null,ut)}catch(Je){if(mt>0&&(!Te.db||Je.name==="InvalidStateError"||Je.name==="NotFoundError"))return L.resolve().then(function(){if(!Te.db||Je.name==="NotFoundError"&&!Te.db.objectStoreNames.contains(Te.storeName)&&Te.version<=Te.db.version)return Te.db&&(Te.version=Te.db.version+1),Ke(Te)}).then(function(){return Lt(Te).then(function(){tt(Te,nt,Ne,mt-1)})}).catch(Ne);Ne(Je)}}function Ye(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Mt(Te){var nt=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=Te[mt];var ut=Me[Ne.name];ut||(ut=Ye(),Me[Ne.name]=ut),ut.forages.push(nt),nt._initReady||(nt._initReady=nt.ready,nt.ready=pt);var Je=[];function Wt(){return L.resolve()}for(var nn=0;nn<ut.forages.length;nn++){var un=ut.forages[nn];un!==nt&&Je.push(un._initReady().catch(Wt))}var vn=ut.forages.slice(0);return L.all(Je).then(function(){return Ne.db=ut.db,O(Ne)}).then(function(an){return Ne.db=an,ct(Ne,nt._defaultConfig.version)?Ke(Ne):an}).then(function(an){Ne.db=ut.db=an,nt._dbInfo=Ne;for(var ho=0;ho<vn.length;ho++){var sn=vn[ho];sn!==nt&&(sn._dbInfo.db=Ne.db,sn._dbInfo.version=Ne.version)}})}function oo(Te,nt){var Ne=this;Te=Y(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.get(Te);vn.onsuccess=function(){var an=vn.result;an===void 0&&(an=null),et(an)&&(an=Jt(an)),ut(an)},vn.onerror=function(){Je(vn.error)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function Fn(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.openCursor(),an=1;vn.onsuccess=function(){var ho=vn.result;if(ho){var sn=ho.value;et(sn)&&(sn=Jt(sn));var ks=Te(sn,ho.key,an++);ks!==void 0?ut(ks):ho.continue()}else ut()},vn.onerror=function(){Je(vn.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function fn(Te,nt,Ne){var mt=this;Te=Y(Te);var ut=new L(function(Je,Wt){var nn;mt.ready().then(function(){return nn=mt._dbInfo,xe.call(nt)==="[object Blob]"?We(nn.db).then(function(un){return un?nt:$t(nt)}):nt}).then(function(un){tt(mt._dbInfo,_e,function(vn,an){if(vn)return Wt(vn);try{var ho=an.objectStore(mt._dbInfo.storeName);un===null&&(un=void 0);var sn=ho.put(un,Te);an.oncomplete=function(){un===void 0&&(un=null),Je(un)},an.onabort=an.onerror=function(){var ks=sn.error?sn.error:sn.transaction.error;Wt(ks)}}catch(ks){Wt(ks)}})}).catch(Wt)});return $(ut,Ne),ut}function _n(Te,nt){var Ne=this;Te=Y(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){tt(Ne._dbInfo,_e,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.delete(Te);nn.oncomplete=function(){ut()},nn.onerror=function(){Je(vn.error)},nn.onabort=function(){var an=vn.error?vn.error:vn.transaction.error;Je(an)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function J(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,_e,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.clear();Wt.oncomplete=function(){mt()},Wt.onabort=Wt.onerror=function(){var vn=un.error?un.error:un.transaction.error;ut(vn)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function xs(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,ee,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.count();un.onsuccess=function(){mt(un.result)},un.onerror=function(){ut(un.error)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function eo(Te,nt){var Ne=this,mt=new L(function(ut,Je){if(Te<0){ut(null);return}Ne.ready().then(function(){tt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=!1,an=un.openKeyCursor();an.onsuccess=function(){var ho=an.result;if(!ho){ut(null);return}Te===0||vn?ut(ho.key):(vn=!0,ho.advance(Te))},an.onerror=function(){Je(an.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function tn(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,ee,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.openKeyCursor(),vn=[];un.onsuccess=function(){var an=un.result;if(!an){mt(vn);return}vn.push(an.key),an.continue()},un.onerror=function(){ut(un.error)}}catch(an){ut(an)}})}).catch(ut)});return $(Ne,Te),Ne}function To(Te,nt){nt=ne.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;if(!Te.name)ut=L.reject("Invalid arguments");else{var Je=Te.name===Ne.name&&mt._dbInfo.db,Wt=Je?L.resolve(mt._dbInfo.db):O(Te).then(function(nn){var un=Me[Te.name],vn=un.forages;un.db=nn;for(var an=0;an<vn.length;an++)vn[an]._dbInfo.db=nn;return nn});Te.storeName?ut=Wt.then(function(nn){if(nn.objectStoreNames.contains(Te.storeName)){var un=nn.version+1;qe(Te);var vn=Me[Te.name],an=vn.forages;nn.close();for(var ho=0;ho<an.length;ho++){var sn=an[ho];sn._dbInfo.db=null,sn._dbInfo.version=un}var ks=new L(function(Po,Zo){var Tr=M.open(Te.name,un);Tr.onerror=function(_o){var Rl=Tr.result;Rl.close(),Zo(_o)},Tr.onupgradeneeded=function(){var _o=Tr.result;_o.deleteObjectStore(Te.storeName)},Tr.onsuccess=function(){var _o=Tr.result;_o.close(),Po(_o)}});return ks.then(function(Po){vn.db=Po;for(var Zo=0;Zo<an.length;Zo++){var Tr=an[Zo];Tr._dbInfo.db=Po,st(Tr._dbInfo)}}).catch(function(Po){throw(ke(Te,Po)||L.resolve()).catch(function(){}),Po})}}):ut=Wt.then(function(nn){qe(Te);var un=Me[Te.name],vn=un.forages;nn.close();for(var an=0;an<vn.length;an++){var ho=vn[an];ho._dbInfo.db=null}var sn=new L(function(ks,Po){var Zo=M.deleteDatabase(Te.name);Zo.onerror=function(){var Tr=Zo.result;Tr&&Tr.close(),Po(Zo.error)},Zo.onblocked=function(){console.warn('dropInstance blocked for database "'+Te.name+'" until all open connections are closed')},Zo.onsuccess=function(){var Tr=Zo.result;Tr&&Tr.close(),ks(Tr)}});return sn.then(function(ks){un.db=ks;for(var Po=0;Po<vn.length;Po++){var Zo=vn[Po];st(Zo._dbInfo)}}).catch(function(ks){throw(ke(Te,ks)||L.resolve()).catch(function(){}),ks})})}return $(ut,nt),ut}var je={_driver:"asyncStorage",_initStorage:Mt,_support:R(),iterate:Fn,getItem:oo,setItem:fn,removeItem:_n,clear:J,length:xs,key:eo,keys:tn,dropInstance:To};function ae(){return typeof openDatabase=="function"}var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be="~~local_forage_type~",he=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",zt=gt.length,vt="arbf",Ft="blob",Vt="si08",wn="ui08",cn="uic8",An="si16",On="si32",wo="ur16",Oo="ui32",Ho="fl32",cs="fl64",ar=zt+vt.length,fs=Object.prototype.toString;function Ar(Te){var nt=Te.length*.75,Ne=Te.length,mt,ut=0,Je,Wt,nn,un;Te[Te.length-1]==="="&&(nt--,Te[Te.length-2]==="="&&nt--);var vn=new ArrayBuffer(nt),an=new Uint8Array(vn);for(mt=0;mt<Ne;mt+=4)Je=be.indexOf(Te[mt]),Wt=be.indexOf(Te[mt+1]),nn=be.indexOf(Te[mt+2]),un=be.indexOf(Te[mt+3]),an[ut++]=Je<<2|Wt>>4,an[ut++]=(Wt&15)<<4|nn>>2,an[ut++]=(nn&3)<<6|un&63;return vn}function hn(Te){var nt=new Uint8Array(Te),Ne="",mt;for(mt=0;mt<nt.length;mt+=3)Ne+=be[nt[mt]>>2],Ne+=be[(nt[mt]&3)<<4|nt[mt+1]>>4],Ne+=be[(nt[mt+1]&15)<<2|nt[mt+2]>>6],Ne+=be[nt[mt+2]&63];return nt.length%3===2?Ne=Ne.substring(0,Ne.length-1)+"=":nt.length%3===1&&(Ne=Ne.substring(0,Ne.length-2)+"=="),Ne}function Eo(Te,nt){var Ne="";if(Te&&(Ne=fs.call(Te)),Te&&(Ne==="[object ArrayBuffer]"||Te.buffer&&fs.call(Te.buffer)==="[object ArrayBuffer]")){var mt,ut=gt;Te instanceof ArrayBuffer?(mt=Te,ut+=vt):(mt=Te.buffer,Ne==="[object Int8Array]"?ut+=Vt:Ne==="[object Uint8Array]"?ut+=wn:Ne==="[object Uint8ClampedArray]"?ut+=cn:Ne==="[object Int16Array]"?ut+=An:Ne==="[object Uint16Array]"?ut+=wo:Ne==="[object Int32Array]"?ut+=On:Ne==="[object Uint32Array]"?ut+=Oo:Ne==="[object Float32Array]"?ut+=Ho:Ne==="[object Float64Array]"?ut+=cs:nt(new Error("Failed to get type for BinaryArray"))),nt(ut+hn(mt))}else if(Ne==="[object Blob]"){var Je=new FileReader;Je.onload=function(){var Wt=Be+Te.type+"~"+hn(this.result);nt(gt+Ft+Wt)},Je.readAsArrayBuffer(Te)}else try{nt(JSON.stringify(Te))}catch(Wt){console.error("Couldn't convert value into a JSON string: ",Te),nt(null,Wt)}}function vo(Te){if(Te.substring(0,zt)!==gt)return JSON.parse(Te);var nt=Te.substring(ar),Ne=Te.substring(zt,ar),mt;if(Ne===Ft&&he.test(nt)){var ut=nt.match(he);mt=ut[1],nt=nt.substring(ut[0].length)}var Je=Ar(nt);switch(Ne){case vt:return Je;case Ft:return I([Je],{type:mt});case Vt:return new Int8Array(Je);case wn:return new Uint8Array(Je);case cn:return new Uint8ClampedArray(Je);case An:return new Int16Array(Je);case wo:return new Uint16Array(Je);case On:return new Int32Array(Je);case Oo:return new Uint32Array(Je);case Ho:return new Float32Array(Je);case cs:return new Float64Array(Je);default:throw new Error("Unkown type: "+Ne)}}var or={serialize:Eo,deserialize:vo,stringToBuffer:Ar,bufferToString:hn};function ea(Te,nt,Ne,mt){Te.executeSql("CREATE TABLE IF NOT EXISTS "+nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ne,mt)}function Kt(Te){var nt=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=typeof Te[mt]!="string"?Te[mt].toString():Te[mt];var ut=new L(function(Je,Wt){try{Ne.db=openDatabase(Ne.name,String(Ne.version),Ne.description,Ne.size)}catch(nn){return Wt(nn)}Ne.db.transaction(function(nn){ea(nn,Ne,function(){nt._dbInfo=Ne,Je()},function(un,vn){Wt(vn)})},Wt)});return Ne.serializer=or,ut}function mi(Te,nt,Ne,mt,ut,Je){Te.executeSql(Ne,mt,ut,function(Wt,nn){nn.code===nn.SYNTAX_ERR?Wt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[nt.storeName],function(un,vn){vn.rows.length?Je(un,nn):ea(un,nt,function(){un.executeSql(Ne,mt,ut,Je)},Je)},Je):Je(Wt,nn)},Je)}function rs(Te,nt){var Ne=this;Te=Y(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){mi(nn,Wt,"SELECT * FROM "+Wt.storeName+" WHERE key = ? LIMIT 1",[Te],function(un,vn){var an=vn.rows.length?vn.rows.item(0).value:null;an&&(an=Wt.serializer.deserialize(an)),ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Ul(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){mi(nn,Wt,"SELECT * FROM "+Wt.storeName,[],function(un,vn){for(var an=vn.rows,ho=an.length,sn=0;sn<ho;sn++){var ks=an.item(sn),Po=ks.value;if(Po&&(Po=Wt.serializer.deserialize(Po)),Po=Te(Po,ks.key,sn+1),Po!==void 0){ut(Po);return}}ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function $s(Te,nt,Ne,mt){var ut=this;Te=Y(Te);var Je=new L(function(Wt,nn){ut.ready().then(function(){nt===void 0&&(nt=null);var un=nt,vn=ut._dbInfo;vn.serializer.serialize(nt,function(an,ho){ho?nn(ho):vn.db.transaction(function(sn){mi(sn,vn,"INSERT OR REPLACE INTO "+vn.storeName+" (key, value) VALUES (?, ?)",[Te,an],function(){Wt(un)},function(ks,Po){nn(Po)})},function(sn){if(sn.code===sn.QUOTA_ERR){if(mt>0){Wt($s.apply(ut,[Te,un,Ne,mt-1]));return}nn(sn)}})})}).catch(nn)});return $(Je,Ne),Je}function Qr(Te,nt,Ne){return $s.apply(this,[Te,nt,Ne,1])}function bm(Te,nt){var Ne=this;Te=Y(Te);var mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){mi(nn,Wt,"DELETE FROM "+Wt.storeName+" WHERE key = ?",[Te],function(){ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Nu(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){mi(Wt,Je,"DELETE FROM "+Je.storeName,[],function(){mt()},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function Cc(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){mi(Wt,Je,"SELECT COUNT(key) as c FROM "+Je.storeName,[],function(nn,un){var vn=un.rows.item(0).c;mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function ul(Te,nt){var Ne=this,mt=new L(function(ut,Je){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){mi(nn,Wt,"SELECT key FROM "+Wt.storeName+" WHERE id = ? LIMIT 1",[Te+1],function(un,vn){var an=vn.rows.length?vn.rows.item(0).key:null;ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Pu(Te){var nt=this,Ne=new L(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){mi(Wt,Je,"SELECT key FROM "+Je.storeName,[],function(nn,un){for(var vn=[],an=0;an<un.rows.length;an++)vn.push(un.rows.item(an).key);mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function Os(Te){return new L(function(nt,Ne){Te.transaction(function(mt){mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Je){for(var Wt=[],nn=0;nn<Je.rows.length;nn++)Wt.push(Je.rows.item(nn).name);nt({db:Te,storeNames:Wt})},function(ut,Je){Ne(Je)})},function(mt){Ne(mt)})})}function ao(Te,nt){nt=ne.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;return Te.name?ut=new L(function(Je){var Wt;Te.name===Ne.name?Wt=mt._dbInfo.db:Wt=openDatabase(Te.name,"","",0),Te.storeName?Je({db:Wt,storeNames:[Te.storeName]}):Je(Os(Wt))}).then(function(Je){return new L(function(Wt,nn){Je.db.transaction(function(un){function vn(ks){return new L(function(Po,Zo){un.executeSql("DROP TABLE IF EXISTS "+ks,[],function(){Po()},function(Tr,_o){Zo(_o)})})}for(var an=[],ho=0,sn=Je.storeNames.length;ho<sn;ho++)an.push(vn(Je.storeNames[ho]));L.all(an).then(function(){Wt()}).catch(function(ks){nn(ks)})},function(un){nn(un)})})}):ut=L.reject("Invalid arguments"),$(ut,nt),ut}var Wl={_driver:"webSQLStorage",_initStorage:Kt,_support:ae(),iterate:Ul,getItem:rs,setItem:Qr,removeItem:bm,clear:Nu,length:Cc,key:ul,keys:Pu,dropInstance:ao};function Ti(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Mu(Te,nt){var Ne=Te.name+"/";return Te.storeName!==nt.storeName&&(Ne+=Te.storeName+"/"),Ne}function rn(){var Te="_localforage_support_test";try{return localStorage.setItem(Te,!0),localStorage.removeItem(Te),!1}catch{return!0}}function Bu(){return!rn()||localStorage.length>0}function ym(Te){var nt=this,Ne={};if(Te)for(var mt in Te)Ne[mt]=Te[mt];return Ne.keyPrefix=Mu(Te,nt._defaultConfig),Bu()?(nt._dbInfo=Ne,Ne.serializer=or,L.resolve()):L.reject()}function hr(Te){var nt=this,Ne=nt.ready().then(function(){for(var mt=nt._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Je=localStorage.key(ut);Je.indexOf(mt)===0&&localStorage.removeItem(Je)}});return $(Ne,Te),Ne}function xm(Te,nt){var Ne=this;Te=Y(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Je=localStorage.getItem(ut.keyPrefix+Te);return Je&&(Je=ut.serializer.deserialize(Je)),Je});return $(mt,nt),mt}function Ga(Te,nt){var Ne=this,mt=Ne.ready().then(function(){for(var ut=Ne._dbInfo,Je=ut.keyPrefix,Wt=Je.length,nn=localStorage.length,un=1,vn=0;vn<nn;vn++){var an=localStorage.key(vn);if(an.indexOf(Je)===0){var ho=localStorage.getItem(an);if(ho&&(ho=ut.serializer.deserialize(ho)),ho=Te(ho,an.substring(Wt),un++),ho!==void 0)return ho}}});return $(mt,nt),mt}function Ol(Te,nt){var Ne=this,mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Je;try{Je=localStorage.key(Te)}catch{Je=null}return Je&&(Je=Je.substring(ut.keyPrefix.length)),Je});return $(mt,nt),mt}function dl(Te){var nt=this,Ne=nt.ready().then(function(){for(var mt=nt._dbInfo,ut=localStorage.length,Je=[],Wt=0;Wt<ut;Wt++){var nn=localStorage.key(Wt);nn.indexOf(mt.keyPrefix)===0&&Je.push(nn.substring(mt.keyPrefix.length))}return Je});return $(Ne,Te),Ne}function lr(Te){var nt=this,Ne=nt.keys().then(function(mt){return mt.length});return $(Ne,Te),Ne}function Ca(Te,nt){var Ne=this;Te=Y(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo;localStorage.removeItem(ut.keyPrefix+Te)});return $(mt,nt),mt}function Dl(Te,nt,Ne){var mt=this;Te=Y(Te);var ut=mt.ready().then(function(){nt===void 0&&(nt=null);var Je=nt;return new L(function(Wt,nn){var un=mt._dbInfo;un.serializer.serialize(nt,function(vn,an){if(an)nn(an);else try{localStorage.setItem(un.keyPrefix+Te,vn),Wt(Je)}catch(ho){(ho.name==="QuotaExceededError"||ho.name==="NS_ERROR_DOM_QUOTA_REACHED")&&nn(ho),nn(ho)}})})});return $(ut,Ne),ut}function wm(Te,nt){if(nt=ne.apply(this,arguments),Te=typeof Te!="function"&&Te||{},!Te.name){var Ne=this.config();Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName}var mt=this,ut;return Te.name?ut=new L(function(Je){Te.storeName?Je(Mu(Te,mt._defaultConfig)):Je(Te.name+"/")}).then(function(Je){for(var Wt=localStorage.length-1;Wt>=0;Wt--){var nn=localStorage.key(Wt);nn.indexOf(Je)===0&&localStorage.removeItem(nn)}}):ut=L.reject("Invalid arguments"),$(ut,nt),ut}var Gc={_driver:"localStorageWrapper",_initStorage:ym,_support:Ti(),iterate:Ga,getItem:xm,setItem:Dl,removeItem:Ca,clear:hr,length:lr,key:Ol,keys:dl,dropInstance:wm},qc=function(nt,Ne){return nt===Ne||typeof nt=="number"&&typeof Ne=="number"&&isNaN(nt)&&isNaN(Ne)},uf=function(nt,Ne){for(var mt=nt.length,ut=0;ut<mt;){if(qc(nt[ut],Ne))return!0;ut++}return!1},Sd=Array.isArray||function(Te){return Object.prototype.toString.call(Te)==="[object Array]"},is={},Br={},ri={INDEXEDDB:je,WEBSQL:Wl,LOCALSTORAGE:Gc},Cm=[ri.INDEXEDDB._driver,ri.WEBSQL._driver,ri.LOCALSTORAGE._driver],qa=["dropInstance"],Yc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(qa),_a={description:"",driver:Cm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sa(Te,nt){Te[nt]=function(){var Ne=arguments;return Te.ready().then(function(){return Te[nt].apply(Te,Ne)})}}function Xc(){for(var Te=1;Te<arguments.length;Te++){var nt=arguments[Te];if(nt)for(var Ne in nt)nt.hasOwnProperty(Ne)&&(Sd(nt[Ne])?arguments[0][Ne]=nt[Ne].slice():arguments[0][Ne]=nt[Ne])}return arguments[0]}var Ns=function(){function Te(nt){x(this,Te);for(var Ne in ri)if(ri.hasOwnProperty(Ne)){var mt=ri[Ne],ut=mt._driver;this[Ne]=ut,is[ut]||this.defineDriver(mt)}this._defaultConfig=Xc({},_a),this._config=Xc({},this._defaultConfig,nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Te.prototype.config=function(Ne){if((typeof Ne>"u"?"undefined":v(Ne))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var mt in Ne){if(mt==="storeName"&&(Ne[mt]=Ne[mt].replace(/\W/g,"_")),mt==="version"&&typeof Ne[mt]!="number")return new Error("Database version must be a number.");this._config[mt]=Ne[mt]}return"driver"in Ne&&Ne.driver?this.setDriver(this._config.driver):!0}else return typeof Ne=="string"?this._config[Ne]:this._config},Te.prototype.defineDriver=function(Ne,mt,ut){var Je=new L(function(Wt,nn){try{var un=Ne._driver,vn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ne._driver){nn(vn);return}for(var an=Yc.concat("_initStorage"),ho=0,sn=an.length;ho<sn;ho++){var ks=an[ho],Po=!uf(qa,ks);if((Po||Ne[ks])&&typeof Ne[ks]!="function"){nn(vn);return}}var Zo=function(){for(var Rl=function(wr){return function(){var kd=new Error("Method "+wr+" is not implemented by the current driver"),Hr=L.reject(kd);return $(Hr,arguments[arguments.length-1]),Hr}},ta=0,co=qa.length;ta<co;ta++){var Ya=qa[ta];Ne[Ya]||(Ne[Ya]=Rl(Ya))}};Zo();var Tr=function(Rl){is[un]&&console.info("Redefining LocalForage driver: "+un),is[un]=Ne,Br[un]=Rl,Wt()};"_support"in Ne?Ne._support&&typeof Ne._support=="function"?Ne._support().then(Tr,nn):Tr(!!Ne._support):Tr(!0)}catch(_o){nn(_o)}});return K(Je,mt,ut),Je},Te.prototype.driver=function(){return this._driver||null},Te.prototype.getDriver=function(Ne,mt,ut){var Je=is[Ne]?L.resolve(is[Ne]):L.reject(new Error("Driver not found."));return K(Je,mt,ut),Je},Te.prototype.getSerializer=function(Ne){var mt=L.resolve(or);return K(mt,Ne),mt},Te.prototype.ready=function(Ne){var mt=this,ut=mt._driverSet.then(function(){return mt._ready===null&&(mt._ready=mt._initDriver()),mt._ready});return K(ut,Ne,Ne),ut},Te.prototype.setDriver=function(Ne,mt,ut){var Je=this;Sd(Ne)||(Ne=[Ne]);var Wt=this._getSupportedDrivers(Ne);function nn(){Je._config.driver=Je.driver()}function un(ho){return Je._extend(ho),nn(),Je._ready=Je._initStorage(Je._config),Je._ready}function vn(ho){return function(){var sn=0;function ks(){for(;sn<ho.length;){var Po=ho[sn];return sn++,Je._dbInfo=null,Je._ready=null,Je.getDriver(Po).then(un).catch(ks)}nn();var Zo=new Error("No available storage method found.");return Je._driverSet=L.reject(Zo),Je._driverSet}return ks()}}var an=this._driverSet!==null?this._driverSet.catch(function(){return L.resolve()}):L.resolve();return this._driverSet=an.then(function(){var ho=Wt[0];return Je._dbInfo=null,Je._ready=null,Je.getDriver(ho).then(function(sn){Je._driver=sn._driver,nn(),Je._wrapLibraryMethodsWithReady(),Je._initDriver=vn(Wt)})}).catch(function(){nn();var ho=new Error("No available storage method found.");return Je._driverSet=L.reject(ho),Je._driverSet}),K(this._driverSet,mt,ut),this._driverSet},Te.prototype.supports=function(Ne){return!!Br[Ne]},Te.prototype._extend=function(Ne){Xc(this,Ne)},Te.prototype._getSupportedDrivers=function(Ne){for(var mt=[],ut=0,Je=Ne.length;ut<Je;ut++){var Wt=Ne[ut];this.supports(Wt)&&mt.push(Wt)}return mt},Te.prototype._wrapLibraryMethodsWithReady=function(){for(var Ne=0,mt=Yc.length;Ne<mt;Ne++)Sa(this,Yc[Ne])},Te.prototype.createInstance=function(Ne){return new Te(Ne)},Te}(),cr=new Ns;d.exports=cr},{3:3}]},{},[4])(4)})})(KX);var Qme=KX.exports;const _d=FU(Qme);function GX(n,r){return function(){return n.apply(r,arguments)}}const{toString:ege}=Object.prototype,{getPrototypeOf:VU}=Object,e8=(n=>r=>{const l=ege.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Gh=n=>(n=n.toLowerCase(),r=>e8(r)===n),t8=n=>r=>typeof r===n,{isArray:eE}=Array,nD=t8("undefined");function tge(n){return n!==null&&!nD(n)&&n.constructor!==null&&!nD(n.constructor)&&fm(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const qX=Gh("ArrayBuffer");function nge(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&qX(n.buffer),r}const oge=t8("string"),fm=t8("function"),YX=t8("number"),n8=n=>n!==null&&typeof n=="object",sge=n=>n===!0||n===!1,rL=n=>{if(e8(n)!=="object")return!1;const r=VU(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},rge=Gh("Date"),ige=Gh("File"),age=Gh("Blob"),lge=Gh("FileList"),cge=n=>n8(n)&&fm(n.pipe),uge=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||fm(n.append)&&((r=e8(n))==="formdata"||r==="object"&&fm(n.toString)&&n.toString()==="[object FormData]"))},dge=Gh("URLSearchParams"),[fge,mge,gge,hge]=["ReadableStream","Request","Response","Headers"].map(Gh),pge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function OD(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let d,g;if(typeof n!="object"&&(n=[n]),eE(n))for(d=0,g=n.length;d<g;d++)r.call(null,n[d],d,n);else{const v=l?Object.getOwnPropertyNames(n):Object.keys(n),x=v.length;let S;for(d=0;d<x;d++)S=v[d],r.call(null,n[S],S,n)}}function XX(n,r){r=r.toLowerCase();const l=Object.keys(n);let d=l.length,g;for(;d-- >0;)if(g=l[d],r===g.toLowerCase())return g;return null}const eC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JX=n=>!nD(n)&&n!==eC;function F$(){const{caseless:n}=JX(this)&&this||{},r={},l=(d,g)=>{const v=n&&XX(r,g)||g;rL(r[v])&&rL(d)?r[v]=F$(r[v],d):rL(d)?r[v]=F$({},d):eE(d)?r[v]=d.slice():r[v]=d};for(let d=0,g=arguments.length;d<g;d++)arguments[d]&&OD(arguments[d],l);return r}const vge=(n,r,l,{allOwnKeys:d}={})=>(OD(r,(g,v)=>{l&&fm(g)?n[v]=GX(g,l):n[v]=g},{allOwnKeys:d}),n),bge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yge=(n,r,l,d)=>{n.prototype=Object.create(r.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},xge=(n,r,l,d)=>{let g,v,x;const S={};if(r=r||{},n==null)return r;do{for(g=Object.getOwnPropertyNames(n),v=g.length;v-- >0;)x=g[v],(!d||d(x,n,r))&&!S[x]&&(r[x]=n[x],S[x]=!0);n=l!==!1&&VU(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},wge=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const d=n.indexOf(r,l);return d!==-1&&d===l},Cge=n=>{if(!n)return null;if(eE(n))return n;let r=n.length;if(!YX(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},_ge=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&VU(Uint8Array)),Sge=(n,r)=>{const d=(n&&n[Symbol.iterator]).call(n);let g;for(;(g=d.next())&&!g.done;){const v=g.value;r.call(n,v[0],v[1])}},kge=(n,r)=>{let l;const d=[];for(;(l=n.exec(r))!==null;)d.push(l);return d},Ege=Gh("HTMLFormElement"),Age=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,g){return d.toUpperCase()+g}),jG=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),Tge=Gh("RegExp"),QX=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),d={};OD(l,(g,v)=>{let x;(x=r(g,v,n))!==!1&&(d[v]=x||g)}),Object.defineProperties(n,d)},Oge=n=>{QX(n,(r,l)=>{if(fm(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=n[l];if(fm(d)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Dge=(n,r)=>{const l={},d=g=>{g.forEach(v=>{l[v]=!0})};return eE(n)?d(n):d(String(n).split(r)),l},Rge=()=>{},Ige=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r,JH="abcdefghijklmnopqrstuvwxyz",KG="0123456789",eJ={DIGIT:KG,ALPHA:JH,ALPHA_DIGIT:JH+JH.toUpperCase()+KG},Nge=(n=16,r=eJ.ALPHA_DIGIT)=>{let l="";const{length:d}=r;for(;n--;)l+=r[Math.random()*d|0];return l};function Pge(n){return!!(n&&fm(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Mge=n=>{const r=new Array(10),l=(d,g)=>{if(n8(d)){if(r.indexOf(d)>=0)return;if(!("toJSON"in d)){r[g]=d;const v=eE(d)?[]:{};return OD(d,(x,S)=>{const M=l(x,g+1);!nD(M)&&(v[S]=M)}),r[g]=void 0,v}}return d};return l(n,0)},Bge=Gh("AsyncFunction"),Lge=n=>n&&(n8(n)||fm(n))&&fm(n.then)&&fm(n.catch),tJ=((n,r)=>n?setImmediate:r?((l,d)=>(eC.addEventListener("message",({source:g,data:v})=>{g===eC&&v===l&&d.length&&d.shift()()},!1),g=>{d.push(g),eC.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",fm(eC.postMessage)),Fge=typeof queueMicrotask<"u"?queueMicrotask.bind(eC):typeof process<"u"&&process.nextTick||tJ,jt={isArray:eE,isArrayBuffer:qX,isBuffer:tge,isFormData:uge,isArrayBufferView:nge,isString:oge,isNumber:YX,isBoolean:sge,isObject:n8,isPlainObject:rL,isReadableStream:fge,isRequest:mge,isResponse:gge,isHeaders:hge,isUndefined:nD,isDate:rge,isFile:ige,isBlob:age,isRegExp:Tge,isFunction:fm,isStream:cge,isURLSearchParams:dge,isTypedArray:_ge,isFileList:lge,forEach:OD,merge:F$,extend:vge,trim:pge,stripBOM:bge,inherits:yge,toFlatObject:xge,kindOf:e8,kindOfTest:Gh,endsWith:wge,toArray:Cge,forEachEntry:Sge,matchAll:kge,isHTMLForm:Ege,hasOwnProperty:jG,hasOwnProp:jG,reduceDescriptors:QX,freezeMethods:Oge,toObjectSet:Dge,toCamelCase:Age,noop:Rge,toFiniteNumber:Ige,findKey:XX,global:eC,isContextDefined:JX,ALPHABET:eJ,generateString:Nge,isSpecCompliantForm:Pge,toJSONObject:Mge,isAsyncFn:Bge,isThenable:Lge,setImmediate:tJ,asap:Fge};function Ws(n,r,l,d,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),d&&(this.request=d),g&&(this.response=g,this.status=g.status?g.status:null)}jt.inherits(Ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.status}}});const nJ=Ws.prototype,oJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{oJ[n]={value:n}});Object.defineProperties(Ws,oJ);Object.defineProperty(nJ,"isAxiosError",{value:!0});Ws.from=(n,r,l,d,g,v)=>{const x=Object.create(nJ);return jt.toFlatObject(n,x,function(M){return M!==Error.prototype},S=>S!=="isAxiosError"),Ws.call(x,n.message,r,l,d,g),x.cause=n,x.name=n.name,v&&Object.assign(x,v),x};const Vge=null;function V$(n){return jt.isPlainObject(n)||jt.isArray(n)}function sJ(n){return jt.endsWith(n,"[]")?n.slice(0,-2):n}function GG(n,r,l){return n?n.concat(r).map(function(g,v){return g=sJ(g),!l&&v?"["+g+"]":g}).join(l?".":""):r}function zge(n){return jt.isArray(n)&&!n.some(V$)}const Hge=jt.toFlatObject(jt,{},null,function(r){return/^is[A-Z]/.test(r)});function o8(n,r,l){if(!jt.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=jt.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ne,oe){return!jt.isUndefined(oe[ne])});const d=l.metaTokens,g=l.visitor||I,v=l.dots,x=l.indexes,M=(l.Blob||typeof Blob<"u"&&Blob)&&jt.isSpecCompliantForm(r);if(!jt.isFunction(g))throw new TypeError("visitor must be a function");function R(Y){if(Y===null)return"";if(jt.isDate(Y))return Y.toISOString();if(!M&&jt.isBlob(Y))throw new Ws("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(Y)||jt.isTypedArray(Y)?M&&typeof Blob=="function"?new Blob([Y]):Buffer.from(Y):Y}function I(Y,ne,oe){let se=Y;if(Y&&!oe&&typeof Y=="object"){if(jt.endsWith(ne,"{}"))ne=d?ne:ne.slice(0,-2),Y=JSON.stringify(Y);else if(jt.isArray(Y)&&zge(Y)||(jt.isFileList(Y)||jt.endsWith(ne,"[]"))&&(se=jt.toArray(Y)))return ne=sJ(ne),se.forEach(function(xe,ee){!(jt.isUndefined(xe)||xe===null)&&r.append(x===!0?GG([ne],ee,v):x===null?ne:ne+"[]",R(xe))}),!1}return V$(Y)?!0:(r.append(GG(oe,ne,v),R(Y)),!1)}const L=[],$=Object.assign(Hge,{defaultVisitor:I,convertValue:R,isVisitable:V$});function K(Y,ne){if(!jt.isUndefined(Y)){if(L.indexOf(Y)!==-1)throw Error("Circular reference detected in "+ne.join("."));L.push(Y),jt.forEach(Y,function(se,Me){(!(jt.isUndefined(se)||se===null)&&g.call(r,se,jt.isString(Me)?Me.trim():Me,ne,$))===!0&&K(se,ne?ne.concat(Me):[Me])}),L.pop()}}if(!jt.isObject(n))throw new TypeError("data must be an object");return K(n),r}function qG(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return r[d]})}function zU(n,r){this._pairs=[],n&&o8(n,this,r)}const rJ=zU.prototype;rJ.append=function(r,l){this._pairs.push([r,l])};rJ.toString=function(r){const l=r?function(d){return r.call(this,d,qG)}:qG;return this._pairs.map(function(g){return l(g[0])+"="+l(g[1])},"").join("&")};function $ge(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iJ(n,r,l){if(!r)return n;const d=l&&l.encode||$ge,g=l&&l.serialize;let v;if(g?v=g(r,l):v=jt.isURLSearchParams(r)?r.toString():new zU(r,l).toString(d),v){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+v}return n}class YG{constructor(){this.handlers=[]}use(r,l,d){return this.handlers.push({fulfilled:r,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){jt.forEach(this.handlers,function(d){d!==null&&r(d)})}}const aJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uge=typeof URLSearchParams<"u"?URLSearchParams:zU,Wge=typeof FormData<"u"?FormData:null,Zge=typeof Blob<"u"?Blob:null,jge={isBrowser:!0,classes:{URLSearchParams:Uge,FormData:Wge,Blob:Zge},protocols:["http","https","file","blob","url","data"]},HU=typeof window<"u"&&typeof document<"u",z$=typeof navigator=="object"&&navigator||void 0,Kge=HU&&(!z$||["ReactNative","NativeScript","NS"].indexOf(z$.product)<0),Gge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qge=HU&&window.location.href||"http://localhost",Yge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HU,hasStandardBrowserEnv:Kge,hasStandardBrowserWebWorkerEnv:Gge,navigator:z$,origin:qge},Symbol.toStringTag,{value:"Module"})),af={...Yge,...jge};function Xge(n,r){return o8(n,new af.classes.URLSearchParams,Object.assign({visitor:function(l,d,g,v){return af.isNode&&jt.isBuffer(l)?(this.append(d,l.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},r))}function Jge(n){return jt.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Qge(n){const r={},l=Object.keys(n);let d;const g=l.length;let v;for(d=0;d<g;d++)v=l[d],r[v]=n[v];return r}function lJ(n){function r(l,d,g,v){let x=l[v++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),M=v>=l.length;return x=!x&&jt.isArray(g)?g.length:x,M?(jt.hasOwnProp(g,x)?g[x]=[g[x],d]:g[x]=d,!S):((!g[x]||!jt.isObject(g[x]))&&(g[x]=[]),r(l,d,g[x],v)&&jt.isArray(g[x])&&(g[x]=Qge(g[x])),!S)}if(jt.isFormData(n)&&jt.isFunction(n.entries)){const l={};return jt.forEachEntry(n,(d,g)=>{r(Jge(d),g,l,0)}),l}return null}function ehe(n,r,l){if(jt.isString(n))try{return(r||JSON.parse)(n),jt.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(n)}const DD={transitional:aJ,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const d=l.getContentType()||"",g=d.indexOf("application/json")>-1,v=jt.isObject(r);if(v&&jt.isHTMLForm(r)&&(r=new FormData(r)),jt.isFormData(r))return g?JSON.stringify(lJ(r)):r;if(jt.isArrayBuffer(r)||jt.isBuffer(r)||jt.isStream(r)||jt.isFile(r)||jt.isBlob(r)||jt.isReadableStream(r))return r;if(jt.isArrayBufferView(r))return r.buffer;if(jt.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let S;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Xge(r,this.formSerializer).toString();if((S=jt.isFileList(r))||d.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return o8(S?{"files[]":r}:r,M&&new M,this.formSerializer)}}return v||g?(l.setContentType("application/json",!1),ehe(r)):r}],transformResponse:[function(r){const l=this.transitional||DD.transitional,d=l&&l.forcedJSONParsing,g=this.responseType==="json";if(jt.isResponse(r)||jt.isReadableStream(r))return r;if(r&&jt.isString(r)&&(d&&!this.responseType||g)){const x=!(l&&l.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(S){if(x)throw S.name==="SyntaxError"?Ws.from(S,Ws.ERR_BAD_RESPONSE,this,null,this.response):S}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:af.classes.FormData,Blob:af.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],n=>{DD.headers[n]={}});const the=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nhe=n=>{const r={};let l,d,g;return n&&n.split(`
`).forEach(function(x){g=x.indexOf(":"),l=x.substring(0,g).trim().toLowerCase(),d=x.substring(g+1).trim(),!(!l||r[l]&&the[l])&&(l==="set-cookie"?r[l]?r[l].push(d):r[l]=[d]:r[l]=r[l]?r[l]+", "+d:d)}),r},XG=Symbol("internals");function IO(n){return n&&String(n).trim().toLowerCase()}function iL(n){return n===!1||n==null?n:jt.isArray(n)?n.map(iL):String(n)}function ohe(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(n);)r[d[1]]=d[2];return r}const she=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function QH(n,r,l,d,g){if(jt.isFunction(d))return d.call(this,r,l);if(g&&(r=l),!!jt.isString(r)){if(jt.isString(d))return r.indexOf(d)!==-1;if(jt.isRegExp(d))return d.test(r)}}function rhe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,d)=>l.toUpperCase()+d)}function ihe(n,r){const l=jt.toCamelCase(" "+r);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+l,{value:function(g,v,x){return this[d].call(this,r,g,v,x)},configurable:!0})})}class lf{constructor(r){r&&this.set(r)}set(r,l,d){const g=this;function v(S,M,R){const I=IO(M);if(!I)throw new Error("header name must be a non-empty string");const L=jt.findKey(g,I);(!L||g[L]===void 0||R===!0||R===void 0&&g[L]!==!1)&&(g[L||M]=iL(S))}const x=(S,M)=>jt.forEach(S,(R,I)=>v(R,I,M));if(jt.isPlainObject(r)||r instanceof this.constructor)x(r,l);else if(jt.isString(r)&&(r=r.trim())&&!she(r))x(nhe(r),l);else if(jt.isHeaders(r))for(const[S,M]of r.entries())v(M,S,d);else r!=null&&v(l,r,d);return this}get(r,l){if(r=IO(r),r){const d=jt.findKey(this,r);if(d){const g=this[d];if(!l)return g;if(l===!0)return ohe(g);if(jt.isFunction(l))return l.call(this,g,d);if(jt.isRegExp(l))return l.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=IO(r),r){const d=jt.findKey(this,r);return!!(d&&this[d]!==void 0&&(!l||QH(this,this[d],d,l)))}return!1}delete(r,l){const d=this;let g=!1;function v(x){if(x=IO(x),x){const S=jt.findKey(d,x);S&&(!l||QH(d,d[S],S,l))&&(delete d[S],g=!0)}}return jt.isArray(r)?r.forEach(v):v(r),g}clear(r){const l=Object.keys(this);let d=l.length,g=!1;for(;d--;){const v=l[d];(!r||QH(this,this[v],v,r,!0))&&(delete this[v],g=!0)}return g}normalize(r){const l=this,d={};return jt.forEach(this,(g,v)=>{const x=jt.findKey(d,v);if(x){l[x]=iL(g),delete l[v];return}const S=r?rhe(v):String(v).trim();S!==v&&delete l[v],l[S]=iL(g),d[S]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return jt.forEach(this,(d,g)=>{d!=null&&d!==!1&&(l[g]=r&&jt.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const d=new this(r);return l.forEach(g=>d.set(g)),d}static accessor(r){const d=(this[XG]=this[XG]={accessors:{}}).accessors,g=this.prototype;function v(x){const S=IO(x);d[S]||(ihe(g,x),d[S]=!0)}return jt.isArray(r)?r.forEach(v):v(r),this}}lf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);jt.reduceDescriptors(lf.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(d){this[l]=d}}});jt.freezeMethods(lf);function e$(n,r){const l=this||DD,d=r||l,g=lf.from(d.headers);let v=d.data;return jt.forEach(n,function(S){v=S.call(l,v,g.normalize(),r?r.status:void 0)}),g.normalize(),v}function cJ(n){return!!(n&&n.__CANCEL__)}function tE(n,r,l){Ws.call(this,n??"canceled",Ws.ERR_CANCELED,r,l),this.name="CanceledError"}jt.inherits(tE,Ws,{__CANCEL__:!0});function uJ(n,r,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?n(l):r(new Ws("Request failed with status code "+l.status,[Ws.ERR_BAD_REQUEST,Ws.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function ahe(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function lhe(n,r){n=n||10;const l=new Array(n),d=new Array(n);let g=0,v=0,x;return r=r!==void 0?r:1e3,function(M){const R=Date.now(),I=d[v];x||(x=R),l[g]=M,d[g]=R;let L=v,$=0;for(;L!==g;)$+=l[L++],L=L%n;if(g=(g+1)%n,g===v&&(v=(v+1)%n),R-x<r)return;const K=I&&R-I;return K?Math.round($*1e3/K):void 0}}function che(n,r){let l=0,d=1e3/r,g,v;const x=(R,I=Date.now())=>{l=I,g=null,v&&(clearTimeout(v),v=null),n.apply(null,R)};return[(...R)=>{const I=Date.now(),L=I-l;L>=d?x(R,I):(g=R,v||(v=setTimeout(()=>{v=null,x(g)},d-L)))},()=>g&&x(g)]}const AL=(n,r,l=3)=>{let d=0;const g=lhe(50,250);return che(v=>{const x=v.loaded,S=v.lengthComputable?v.total:void 0,M=x-d,R=g(M),I=x<=S;d=x;const L={loaded:x,total:S,progress:S?x/S:void 0,bytes:M,rate:R||void 0,estimated:R&&S&&I?(S-x)/R:void 0,event:v,lengthComputable:S!=null,[r?"download":"upload"]:!0};n(L)},l)},JG=(n,r)=>{const l=n!=null;return[d=>r[0]({lengthComputable:l,total:n,loaded:d}),r[1]]},QG=n=>(...r)=>jt.asap(()=>n(...r)),uhe=af.hasStandardBrowserEnv?function(){const r=af.navigator&&/(msie|trident)/i.test(af.navigator.userAgent),l=document.createElement("a");let d;function g(v){let x=v;return r&&(l.setAttribute("href",x),x=l.href),l.setAttribute("href",x),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return d=g(window.location.href),function(x){const S=jt.isString(x)?g(x):x;return S.protocol===d.protocol&&S.host===d.host}}():function(){return function(){return!0}}(),dhe=af.hasStandardBrowserEnv?{write(n,r,l,d,g,v){const x=[n+"="+encodeURIComponent(r)];jt.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),jt.isString(d)&&x.push("path="+d),jt.isString(g)&&x.push("domain="+g),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fhe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function mhe(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function dJ(n,r){return n&&!fhe(r)?mhe(n,r):r}const eq=n=>n instanceof lf?{...n}:n;function uC(n,r){r=r||{};const l={};function d(R,I,L){return jt.isPlainObject(R)&&jt.isPlainObject(I)?jt.merge.call({caseless:L},R,I):jt.isPlainObject(I)?jt.merge({},I):jt.isArray(I)?I.slice():I}function g(R,I,L){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R,L)}else return d(R,I,L)}function v(R,I){if(!jt.isUndefined(I))return d(void 0,I)}function x(R,I){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R)}else return d(void 0,I)}function S(R,I,L){if(L in r)return d(R,I);if(L in n)return d(void 0,R)}const M={url:v,method:v,data:v,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(R,I)=>g(eq(R),eq(I),!0)};return jt.forEach(Object.keys(Object.assign({},n,r)),function(I){const L=M[I]||g,$=L(n[I],r[I],I);jt.isUndefined($)&&L!==S||(l[I]=$)}),l}const fJ=n=>{const r=uC({},n);let{data:l,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:x,auth:S}=r;r.headers=x=lf.from(x),r.url=iJ(dJ(r.baseURL,r.url),n.params,n.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let M;if(jt.isFormData(l)){if(af.hasStandardBrowserEnv||af.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((M=x.getContentType())!==!1){const[R,...I]=M?M.split(";").map(L=>L.trim()).filter(Boolean):[];x.setContentType([R||"multipart/form-data",...I].join("; "))}}if(af.hasStandardBrowserEnv&&(d&&jt.isFunction(d)&&(d=d(r)),d||d!==!1&&uhe(r.url))){const R=g&&v&&dhe.read(v);R&&x.set(g,R)}return r},ghe=typeof XMLHttpRequest<"u",hhe=ghe&&function(n){return new Promise(function(l,d){const g=fJ(n);let v=g.data;const x=lf.from(g.headers).normalize();let{responseType:S,onUploadProgress:M,onDownloadProgress:R}=g,I,L,$,K,Y;function ne(){K&&K(),Y&&Y(),g.cancelToken&&g.cancelToken.unsubscribe(I),g.signal&&g.signal.removeEventListener("abort",I)}let oe=new XMLHttpRequest;oe.open(g.method.toUpperCase(),g.url,!0),oe.timeout=g.timeout;function se(){if(!oe)return;const xe=lf.from("getAllResponseHeaders"in oe&&oe.getAllResponseHeaders()),_e={data:!S||S==="text"||S==="json"?oe.responseText:oe.response,status:oe.status,statusText:oe.statusText,headers:xe,config:n,request:oe};uJ(function(Ue){l(Ue),ne()},function(Ue){d(Ue),ne()},_e),oe=null}"onloadend"in oe?oe.onloadend=se:oe.onreadystatechange=function(){!oe||oe.readyState!==4||oe.status===0&&!(oe.responseURL&&oe.responseURL.indexOf("file:")===0)||setTimeout(se)},oe.onabort=function(){oe&&(d(new Ws("Request aborted",Ws.ECONNABORTED,n,oe)),oe=null)},oe.onerror=function(){d(new Ws("Network Error",Ws.ERR_NETWORK,n,oe)),oe=null},oe.ontimeout=function(){let ee=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const _e=g.transitional||aJ;g.timeoutErrorMessage&&(ee=g.timeoutErrorMessage),d(new Ws(ee,_e.clarifyTimeoutError?Ws.ETIMEDOUT:Ws.ECONNABORTED,n,oe)),oe=null},v===void 0&&x.setContentType(null),"setRequestHeader"in oe&&jt.forEach(x.toJSON(),function(ee,_e){oe.setRequestHeader(_e,ee)}),jt.isUndefined(g.withCredentials)||(oe.withCredentials=!!g.withCredentials),S&&S!=="json"&&(oe.responseType=g.responseType),R&&([$,Y]=AL(R,!0),oe.addEventListener("progress",$)),M&&oe.upload&&([L,K]=AL(M),oe.upload.addEventListener("progress",L),oe.upload.addEventListener("loadend",K)),(g.cancelToken||g.signal)&&(I=xe=>{oe&&(d(!xe||xe.type?new tE(null,n,oe):xe),oe.abort(),oe=null)},g.cancelToken&&g.cancelToken.subscribe(I),g.signal&&(g.signal.aborted?I():g.signal.addEventListener("abort",I)));const Me=ahe(g.url);if(Me&&af.protocols.indexOf(Me)===-1){d(new Ws("Unsupported protocol "+Me+":",Ws.ERR_BAD_REQUEST,n));return}oe.send(v||null)})},phe=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let d=new AbortController,g;const v=function(R){if(!g){g=!0,S();const I=R instanceof Error?R:this.reason;d.abort(I instanceof Ws?I:new tE(I instanceof Error?I.message:I))}};let x=r&&setTimeout(()=>{x=null,v(new Ws(`timeout ${r} of ms exceeded`,Ws.ETIMEDOUT))},r);const S=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(R=>{R.unsubscribe?R.unsubscribe(v):R.removeEventListener("abort",v)}),n=null)};n.forEach(R=>R.addEventListener("abort",v));const{signal:M}=d;return M.unsubscribe=()=>jt.asap(S),M}},vhe=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let d=0,g;for(;d<l;)g=d+r,yield n.slice(d,g),d=g},bhe=async function*(n,r){for await(const l of yhe(n))yield*vhe(l,r)},yhe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:d}=await r.read();if(l)break;yield d}}finally{await r.cancel()}},tq=(n,r,l,d)=>{const g=bhe(n,r);let v=0,x,S=M=>{x||(x=!0,d&&d(M))};return new ReadableStream({async pull(M){try{const{done:R,value:I}=await g.next();if(R){S(),M.close();return}let L=I.byteLength;if(l){let $=v+=L;l($)}M.enqueue(new Uint8Array(I))}catch(R){throw S(R),R}},cancel(M){return S(M),g.return()}},{highWaterMark:2})},s8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mJ=s8&&typeof ReadableStream=="function",xhe=s8&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gJ=(n,...r)=>{try{return!!n(...r)}catch{return!1}},whe=mJ&&gJ(()=>{let n=!1;const r=new Request(af.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),nq=64*1024,H$=mJ&&gJ(()=>jt.isReadableStream(new Response("").body)),TL={stream:H$&&(n=>n.body)};s8&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!TL[r]&&(TL[r]=jt.isFunction(n[r])?l=>l[r]():(l,d)=>{throw new Ws(`Response type '${r}' is not supported`,Ws.ERR_NOT_SUPPORT,d)})})})(new Response);const Che=async n=>{if(n==null)return 0;if(jt.isBlob(n))return n.size;if(jt.isSpecCompliantForm(n))return(await new Request(af.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(jt.isArrayBufferView(n)||jt.isArrayBuffer(n))return n.byteLength;if(jt.isURLSearchParams(n)&&(n=n+""),jt.isString(n))return(await xhe(n)).byteLength},_he=async(n,r)=>{const l=jt.toFiniteNumber(n.getContentLength());return l??Che(r)},She=s8&&(async n=>{let{url:r,method:l,data:d,signal:g,cancelToken:v,timeout:x,onDownloadProgress:S,onUploadProgress:M,responseType:R,headers:I,withCredentials:L="same-origin",fetchOptions:$}=fJ(n);R=R?(R+"").toLowerCase():"text";let K=phe([g,v&&v.toAbortSignal()],x),Y;const ne=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let oe;try{if(M&&whe&&l!=="get"&&l!=="head"&&(oe=await _he(I,d))!==0){let _e=new Request(r,{method:"POST",body:d,duplex:"half"}),le;if(jt.isFormData(d)&&(le=_e.headers.get("content-type"))&&I.setContentType(le),_e.body){const[Ue,We]=JG(oe,AL(QG(M)));d=tq(_e.body,nq,Ue,We)}}jt.isString(L)||(L=L?"include":"omit");const se="credentials"in Request.prototype;Y=new Request(r,{...$,signal:K,method:l.toUpperCase(),headers:I.normalize().toJSON(),body:d,duplex:"half",credentials:se?L:void 0});let Me=await fetch(Y);const xe=H$&&(R==="stream"||R==="response");if(H$&&(S||xe&&ne)){const _e={};["status","statusText","headers"].forEach(qe=>{_e[qe]=Me[qe]});const le=jt.toFiniteNumber(Me.headers.get("content-length")),[Ue,We]=S&&JG(le,AL(QG(S),!0))||[];Me=new Response(tq(Me.body,nq,Ue,()=>{We&&We(),ne&&ne()}),_e)}R=R||"text";let ee=await TL[jt.findKey(TL,R)||"text"](Me,n);return!xe&&ne&&ne(),await new Promise((_e,le)=>{uJ(_e,le,{data:ee,headers:lf.from(Me.headers),status:Me.status,statusText:Me.statusText,config:n,request:Y})})}catch(se){throw ne&&ne(),se&&se.name==="TypeError"&&/fetch/i.test(se.message)?Object.assign(new Ws("Network Error",Ws.ERR_NETWORK,n,Y),{cause:se.cause||se}):Ws.from(se,se&&se.code,n,Y)}}),$$={http:Vge,xhr:hhe,fetch:She};jt.forEach($$,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const oq=n=>`- ${n}`,khe=n=>jt.isFunction(n)||n===null||n===!1,hJ={getAdapter:n=>{n=jt.isArray(n)?n:[n];const{length:r}=n;let l,d;const g={};for(let v=0;v<r;v++){l=n[v];let x;if(d=l,!khe(l)&&(d=$$[(x=String(l)).toLowerCase()],d===void 0))throw new Ws(`Unknown adapter '${x}'`);if(d)break;g[x||"#"+v]=d}if(!d){const v=Object.entries(g).map(([S,M])=>`adapter ${S} `+(M===!1?"is not supported by the environment":"is not available in the build"));let x=r?v.length>1?`since :
`+v.map(oq).join(`
`):" "+oq(v[0]):"as no adapter specified";throw new Ws("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d},adapters:$$};function t$(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new tE(null,n)}function sq(n){return t$(n),n.headers=lf.from(n.headers),n.data=e$.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hJ.getAdapter(n.adapter||DD.adapter)(n).then(function(d){return t$(n),d.data=e$.call(n,n.transformResponse,d),d.headers=lf.from(d.headers),d},function(d){return cJ(d)||(t$(n),d&&d.response&&(d.response.data=e$.call(n,n.transformResponse,d.response),d.response.headers=lf.from(d.response.headers))),Promise.reject(d)})}const pJ="1.7.7",$U={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{$U[n]=function(d){return typeof d===n||"a"+(r<1?"n ":" ")+n}});const rq={};$U.transitional=function(r,l,d){function g(v,x){return"[Axios v"+pJ+"] Transitional option '"+v+"'"+x+(d?". "+d:"")}return(v,x,S)=>{if(r===!1)throw new Ws(g(x," has been removed"+(l?" in "+l:"")),Ws.ERR_DEPRECATED);return l&&!rq[x]&&(rq[x]=!0,console.warn(g(x," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(v,x,S):!0}};function Ehe(n,r,l){if(typeof n!="object")throw new Ws("options must be an object",Ws.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let g=d.length;for(;g-- >0;){const v=d[g],x=r[v];if(x){const S=n[v],M=S===void 0||x(S,v,n);if(M!==!0)throw new Ws("option "+v+" must be "+M,Ws.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ws("Unknown option "+v,Ws.ERR_BAD_OPTION)}}const U$={assertOptions:Ehe,validators:$U},Ry=U$.validators;class iC{constructor(r){this.defaults=r,this.interceptors={request:new YG,response:new YG}}async request(r,l){try{return await this._request(r,l)}catch(d){if(d instanceof Error){let g;Error.captureStackTrace?Error.captureStackTrace(g={}):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=uC(this.defaults,l);const{transitional:d,paramsSerializer:g,headers:v}=l;d!==void 0&&U$.assertOptions(d,{silentJSONParsing:Ry.transitional(Ry.boolean),forcedJSONParsing:Ry.transitional(Ry.boolean),clarifyTimeoutError:Ry.transitional(Ry.boolean)},!1),g!=null&&(jt.isFunction(g)?l.paramsSerializer={serialize:g}:U$.assertOptions(g,{encode:Ry.function,serialize:Ry.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let x=v&&jt.merge(v.common,v[l.method]);v&&jt.forEach(["delete","get","head","post","put","patch","common"],Y=>{delete v[Y]}),l.headers=lf.concat(x,v);const S=[];let M=!0;this.interceptors.request.forEach(function(ne){typeof ne.runWhen=="function"&&ne.runWhen(l)===!1||(M=M&&ne.synchronous,S.unshift(ne.fulfilled,ne.rejected))});const R=[];this.interceptors.response.forEach(function(ne){R.push(ne.fulfilled,ne.rejected)});let I,L=0,$;if(!M){const Y=[sq.bind(this),void 0];for(Y.unshift.apply(Y,S),Y.push.apply(Y,R),$=Y.length,I=Promise.resolve(l);L<$;)I=I.then(Y[L++],Y[L++]);return I}$=S.length;let K=l;for(L=0;L<$;){const Y=S[L++],ne=S[L++];try{K=Y(K)}catch(oe){ne.call(this,oe);break}}try{I=sq.call(this,K)}catch(Y){return Promise.reject(Y)}for(L=0,$=R.length;L<$;)I=I.then(R[L++],R[L++]);return I}getUri(r){r=uC(this.defaults,r);const l=dJ(r.baseURL,r.url);return iJ(l,r.params,r.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(r){iC.prototype[r]=function(l,d){return this.request(uC(d||{},{method:r,url:l,data:(d||{}).data}))}});jt.forEach(["post","put","patch"],function(r){function l(d){return function(v,x,S){return this.request(uC(S||{},{method:r,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:x}))}}iC.prototype[r]=l(),iC.prototype[r+"Form"]=l(!0)});class UU{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(v){l=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const x=new Promise(S=>{d.subscribe(S),v=S}).then(g);return x.cancel=function(){d.unsubscribe(v)},x},r(function(v,x,S){d.reason||(d.reason=new tE(v,x,S),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=d=>{r.abort(d)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new UU(function(g){r=g}),cancel:r}}}function Ahe(n){return function(l){return n.apply(null,l)}}function The(n){return jt.isObject(n)&&n.isAxiosError===!0}const W$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W$).forEach(([n,r])=>{W$[r]=n});function vJ(n){const r=new iC(n),l=GX(iC.prototype.request,r);return jt.extend(l,iC.prototype,r,{allOwnKeys:!0}),jt.extend(l,r,null,{allOwnKeys:!0}),l.create=function(g){return vJ(uC(n,g))},l}const Ji=vJ(DD);Ji.Axios=iC;Ji.CanceledError=tE;Ji.CancelToken=UU;Ji.isCancel=cJ;Ji.VERSION=pJ;Ji.toFormData=o8;Ji.AxiosError=Ws;Ji.Cancel=Ji.CanceledError;Ji.all=function(r){return Promise.all(r)};Ji.spread=Ahe;Ji.isAxiosError=The;Ji.mergeConfig=uC;Ji.AxiosHeaders=lf;Ji.formToJSON=n=>lJ(jt.isHTMLForm(n)?new FormData(n):n);Ji.getAdapter=hJ.getAdapter;Ji.HttpStatusCode=W$;Ji.default=Ji;/*! js-cookie v3.0.5 | MIT */function KB(n){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)n[d]=l[d]}return n}var Ohe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Z$(n,r){function l(g,v,x){if(!(typeof document>"u")){x=KB({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var M in x)x[M]&&(S+="; "+M,x[M]!==!0&&(S+="="+x[M].split(";")[0]));return document.cookie=g+"="+n.write(v,g)+S}}function d(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var v=document.cookie?document.cookie.split("; "):[],x={},S=0;S<v.length;S++){var M=v[S].split("="),R=M.slice(1).join("=");try{var I=decodeURIComponent(M[0]);if(x[I]=n.read(R,I),g===I)break}catch{}}return g?x[g]:x}}return Object.create({set:l,get:d,remove:function(g,v){l(g,"",KB({},v,{expires:-1}))},withAttributes:function(g){return Z$(this.converter,KB({},this.attributes,g))},withConverter:function(g){return Z$(KB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}var yr=Z$(Ohe,{path:"/"});const Fl=class Fl{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"text","");Sn(this,"points",null);Sn(this,"grade_key","");Sn(this,"last_change",null);Sn(this,"is_authorized",!1);Sn(this,"include_comments",null);Sn(this,"include_comment_ratings",null);Sn(this,"include_comment_points",null);Sn(this,"include_criteria_points",null);this.setData(r)}setData(r){r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.is_authorized!==void 0&&r.is_authorized!==null&&(this.is_authorized=!!r.is_authorized),r.include_comments!==void 0&&r.include_comments!==null&&(this.include_comments=this.transformInclusion(r.include_comments)),r.include_comment_ratings!==void 0&&r.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(r.include_comment_ratings)),r.include_comment_points!==void 0&&r.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(r.include_comment_points)),r.include_criteria_points!==void 0&&r.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(r.include_criteria_points))}transformInclusion(r){if(r===null)return null;if(r=parseInt(r),r<=Fl.INCLUDE_NOT)return Fl.INCLUDE_NOT;if(r==Fl.INCLUDE_INFO)return Fl.INCLUDE_INFO;if(r>=Fl.INCLUDE_RELEVANT)return Fl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(r={}){return{include_comments:this.include_comments??r.include_comments??Fl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??r.include_comment_ratings??Fl.INCLUDE_INFO,include_comment_points:this.include_comment_points??r.include_comment_points??Fl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??r.include_criteria_points??Fl.INCLUDE_INFO}}getPartialPointsVisible(){this.getInclusionSettings()}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Fl(this.getData())}isEqual(r){for(const l in this)if(this[l]!==r[l])return!1;return!0}};Sn(Fl,"INCLUDE_NOT",0),Sn(Fl,"INCLUDE_INFO",1),Sn(Fl,"INCLUDE_RELEVANT",2),Sn(Fl,"ALLOWED_INCLUSIONS",[Fl.INCLUDE_NOT,Fl.INCLUDE_INFO,Fl.INCLUDE_RELEVANT]);let _s=Fl;const n$=_d.createInstance({storeName:"corrector-settings",description:"Settings data"}),um=Iu("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:"Exzellent",negative_rating:"Kardinal",headline_scheme:null,fixed_inclusions:!1,include_comments:_s.INCLUDE_INFO,include_comment_ratings:_s.INCLUDE_INFO,include_comment_points:_s.INCLUDE_INFO,include_criteria_points:_s.INCLUDE_INFO}),getters:{ratingLabels:n=>'"'+n.positive_rating+'" und "'+n.negative_rating+'"',headlineClass:n=>n.headline_scheme==="three"?"headlines-three":"",summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),inclusionsChangeable:n=>n.fixed_inclusions==!1,inclusionsPossible:n=>n.fixed_inclusions==!1||n.include_comments!=_s.INCLUDE_NOT||n.include_comment_ratings!=_s.INCLUDE_NOT||n.include_comment_points!=_s.INCLUDE_NOT||n.include_criteria_points!=_s.INCLUDE_NOT},actions:{async clearStorage(){try{await n$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await n$.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await n$.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}}}}),o$=_d.createInstance({storeName:"corrector-task",description:"Task data"}),jy=Iu("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:n=>!!n.instructions,hasSolution:n=>!!n.solution,hasCorrectionEnd:n=>!!n.correction_end,correctionEndReached:n=>n.remaining_time===0},actions:{async clearStorage(){try{await o$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{const r=await o$.getItem("task");this.$patch(r)}catch(r){console.log(r)}this.updateRemainingTime(),n.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(n){const r=ps();try{await o$.setItem("task",n),this.$patch(n)}catch(l){console.log(l)}this.updateRemainingTime(),r.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const n=ps();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-n.getServerTime(Date.now())):this.remaining_time=null}}}),p1=_d.createInstance({storeName:"corrector-resources",description:"Resource data"}),dC=Iu("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:n=>n.resources.length>0,hasInstruction:n=>!!n.resources.find(l=>l.type=="instruct"),hasSolution:n=>!!n.resources.find(l=>l.type=="solution"),instruction:n=>n.resources.find(r=>r.type=="instruct"),solution:n=>n.resources.find(r=>r.type=="solution"),hasFileOrUrlResources:n=>!!n.resources.find(l=>l.type=="file"||l.type=="url"),fileOrUrlResources:n=>n.resources.filter(r=>r.type=="file"||r.type=="url"),activeTitle:n=>{const r=n.resources.find(l=>l.key==n.activeKey);return r?r.title:""},getResource:n=>function(l){return n.resources.find(d=>d.key==l)},getResourceIsActive:n=>function(l){return n.activeKey==l.key}},actions:{async clearStorage(){try{await p1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await p1.getItem("resourceKeys");n&&(this.keys=JSON.parse(n)),this.activeKey=await p1.getItem("activeKey")??"";for(const r of this.keys){const l=await p1.getItem(r);this.resources.push(l)}this.loadFiles()}catch(n){console.log(n)}},async loadFromData(n){const r=ps();try{await p1.clear(),this.$reset();for(const l of n)l.url=r.getResourceUrl(l.key),this.resources.push(l),this.keys.push(l.key),await p1.setItem(l.key,l);await p1.setItem("resourceKeys",JSON.stringify(this.keys)),await p1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(l){console.log(l)}},async selectResource(n){this.activeKey=n.key,await p1.setItem("activeKey",this.activeKey)},async loadFiles(){for(const n of this.keys){let r=this.getResource(n),l=null;if(r.type!="url")try{console.log("preload "+r.title+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(d){console.error(d)}}}}});class j${constructor(r={}){Sn(this,"key","");Sn(this,"title","");Sn(this,"correction_allowed",!1);Sn(this,"authorization_allowed",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.correction_allowed!==void 0&&r.correction_allowed!==null&&(this.correction_allowed=!!r.correction_allowed),r.authorization_allowed!==void 0&&r.authorization_allowed!==null&&(this.authorization_allowed=!!r.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const v1=_d.createInstance({storeName:"corrector-items",description:"Items data"}),mv=Iu("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:n=>n.keys.length>0,firstKey:n=>n.keys.length>0?n.keys[0]:"",lastKey:n=>n.keys.length>0?n.keys[n.keys.length-1]:"",correctionAllowed:n=>n.currentItem.correction_allowed,authorizationAllowed:n=>n.currentItem.authorization_allowed,currentItem:n=>{const r=ps();return n.items.find(l=>l.key==r.itemKey)},getPreviousKey:n=>function(l){for(let d=1;d<n.keys.length;d++)if(n.keys[d]==l)return n.keys[d-1];return""},getNextKey:n=>function(l){for(let d=0;d<n.keys.length-1;d++)if(n.keys[d]==l)return n.keys[d+1];return""},getItem:n=>function(l,d=null){for(const g of n.items)if(g.key==l)return g;return d}},actions:{async clearStorage(){try{await v1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await v1.getItem("itemKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=new j$(JSON.parse(await v1.getItem(r)));this.items.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await v1.clear(),this.$reset();for(const r of n){const l=new j$(r);this.items.push(l),this.keys.push(l.key),await v1.setItem(l.key,JSON.stringify(l.getData()))}await v1.setItem("itemKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}},async addItem(n){try{this.keys.includes(n.key)||(this.items.unshift(n),this.keys.unshift(n.key),await v1.setItem(n.key,JSON.stringify(n.getData())),await v1.setItem("itemKeys",JSON.stringify(this.keys)))}catch(r){console.log(r)}},async updateItem(n){const r=this.items.findIndex(l=>l.key===n.key);if(r!==-1){this.items[r]=n,await v1.setItem(n.key,JSON.stringify(n.getData()));return}}}}),Ak=_d.createInstance({storeName:"corrector-levels",description:"Grade level data"}),Ky=Iu("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:n=>n.levels.length>0,getLevel:n=>function(l){return n.levels.find(d=>d.key==l)},getLevelForPoints:n=>function(l){if(l===null)return null;let d=null,g=0;for(let v=0;v<n.levels.length;v++)n.levels[v].min_points<=l&&n.levels[v].min_points>=g&&(d=n.levels[v],g=d.points);return d}},actions:{async clearStorage(){try{await Ak.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Ak.getItem("levelKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Ak.getItem(r);this.levels.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Ak.clear(),this.$reset();for(const r of n)this.levels.push(r),this.keys.push(r.key),await Ak.setItem(r.key,r);await Ak.setItem("levelKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),GB=_d.createInstance({storeName:"corrector-essay",description:"Essay data"}),oD=Iu("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:n=>n.correction_finalized,grade:n=>{let l=Ky().getLevelForPoints(n.final_points);return l!==null?l.title:""},gradeKey:n=>{let l=Ky().getLevelForPoints(n.final_points);return l!==null?l.key:""}},actions:{async clearStorage(){try{await GB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await GB.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await GB.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}},async saveStitchDecision(){const n=ps(),r=n.getServerTime(Date.now()),l={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:r};await n.saveStitchDecisionToBackend(l)&&(this.correction_finalized=r,await GB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class iq{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"page_no",0);Sn(this,"width",0);Sn(this,"height",0);Sn(this,"url",null);Sn(this,"thumb_width",null);Sn(this,"thumb_height",null);Sn(this,"thumb_url",null);Sn(this,"objectUrl",null);Sn(this,"thumbObjectUrl",null);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const Tk=_d.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),OL=Iu("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:n=>Object.keys(n.pages).length>0,selectedPage:n=>n.pages[n.selectedKey]??null,selectedPageNo:n=>n.selectedPage?n.selectedPage.page_no:null,currentPages:n=>{let r=[];for(const l in n.pages)r.push(n.pages[l]);return r},getPage:n=>function(l){return n.pages[l]??null},getPageByPageNo:n=>function(l){for(const d in n.pages)if(n.pages[d].page_no==l)return n.pages[d];return null}},actions:{selectPage(n){this.selectedKey!=n&&(this.selectedKey=n)},selectByPageNo(n){for(const r in this.pages)if(this.pages[r].page_no==n)return this.selectedKey=r,!0;return!1},calculateMinMaxPage(){let n=null,r=null;for(const l in this.pages)(n===null||this.pages[l].page_no<n)&&(n=this.pages[l].page_no),(r===null||this.pages[l].page_no>r)&&(r=this.pages[l].page_no);n!==null&&(this.minPage=n),r!==null&&(this.maxPage=r)},async clearStorage(){try{await Tk.clear()}catch(n){console.log(n)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const n=ps();try{this.purgeFiles(),this.$reset();const r=await Tk.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new iq(JSON.parse(await Tk.getItem(l)));d.item_key==n.itemKey&&(this.pages[l]=d)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Tk.clear(),this.purgeFiles(),this.$reset();for(const l of n){const d=new iq(l);d.url=r.getImageUrl(d.key,d.item_key),d.thumb_url=r.getThumbUrl(d.key,d.item_key),this.keys.push(d.key),await Tk.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.pages[d.key]=d)}await Tk.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(l){console.log(l)}},async loadFiles(){try{for(const n in this.pages){const r=this.pages[n];let l;r&&(console.log("preload page "+r.page_no+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,console.log("preload thumbnail "+r.page_no+"..."),l=await Ji(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(n){console.error(n)}},purgeFiles(){for(const n in this.pages){const r=this.pages[n];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class Dhe{constructor(r={}){Sn(this,"key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"description","");Sn(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points}}}const Ok=_d.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),Uh=Iu("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasAnyCriteria:n=>{const l=bv().correctorKeys;return!!n.criteria.find(d=>d.corrector_key==""||l.includes(d.corrector_key))},hasOwnCriteria:n=>{const r=ps();return!!n.criteria.find(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},ownCriteria:n=>{const r=ps();return n.criteria.filter(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},sumOfMaxPoints:n=>{let r=0;return n.criteria.forEach(l=>r+=l.points),r},getCriterion:n=>function(l){return n.criteria.find(d=>d.key==l)},getCorrectorHasCriteria:n=>function(l){return!!n.criteria.find(d=>d.corrector_key==""||d.corrector_key==l)},getCorrectorCriteria:n=>function(l){return n.criteria.filter(d=>d.corrector_key==""||d.corrector_key==l)}},actions:{async clearStorage(){try{await Ok.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Ok.getItem("criterionKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Ok.getItem(r);this.criteria.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Ok.clear(),this.$reset();for(const r of n){const l=new Dhe(r);this.criteria.push(l),this.keys.push(l.key),await Ok.setItem(l.key,l.getData())}await Ok.setItem("criterionKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),Vl=class Vl{constructor(r={}){Sn(this,"action",null);Sn(this,"type",null);Sn(this,"key","");Sn(this,"item_key","");Sn(this,"last_change",0);this.setData(r),this.last_change==0&&(this.last_change=Date.now())}setData(r){r.action!==void 0&&Vl.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&Vl.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return Vl.ALLOWED_TYPES.includes(this.type)&&Vl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&this.item_key!=""}};Sn(Vl,"ACTION_SAVE","save"),Sn(Vl,"ACTION_DELETE","delete"),Sn(Vl,"ALLOWED_ACTIONS",[Vl.ACTION_SAVE,Vl.ACTION_DELETE]),Sn(Vl,"TYPE_COMMENT","comment"),Sn(Vl,"TYPE_POINTS","points"),Sn(Vl,"TYPE_SUMMARY","summary"),Sn(Vl,"TYPE_PREFERENCES","preferences"),Sn(Vl,"ALLOWED_TYPES",[Vl.TYPE_COMMENT,Vl.TYPE_POINTS,Vl.TYPE_SUMMARY,Vl.TYPE_PREFERENCES]);let ir=Vl;const qB=_d.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function aq(){const n={changes:{}};for(const r of ir.ALLOWED_TYPES)n.changes[r]={};return n}const ec=Iu("changes",{state:()=>aq(),getters:{countChanges:n=>{let r=0;for(const l in n.changes)r+=Object.keys(n.changes[l]).length;return r},getCountOfChangesFor:n=>function(l){return ir.ALLOWED_TYPES.includes(l)?Object.keys(n.changes[l]).length:(console.log("wrong type"+l),0)},getChangesFor:n=>function(l,d=0){if(!ir.ALLOWED_TYPES.includes(l))return[];const g=[];for(const v in n.changes[l]){const x=n.changes[l][v];(d==0||x.last_change<=d)&&g.push(x)}return g}},actions:{async clearStorage(){try{await qB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=aq();try{for(const r in n.changes){const l=await qB.getItem(r);if(l){const d=JSON.parse(l);if(typeof d=="object"&&d!==null)for(const g in d)n.changes[r][g]=new ir(d[g])}}}catch(r){console.log(r)}this.$patch(n)},async saveChangesOfTypeToStorage(n){const r={};for(const l in this.changes[n]){const d=this.changes[n][l];r[l]=d.getData()}await qB.setItem(n,JSON.stringify(r))},async hasChangesInStorage(){for(const n in this.changes){const r=await qB.getItem(n);if(r){const l=JSON.parse(r);if(Object.keys(l).length>0)return!0}}return!1},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await this.saveChangesOfTypeToStorage(n.type))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await this.saveChangesOfTypeToStorage(n.type))},async setChangesSent(n,r,l){const d=this.changes[n];let g=!1;for(const v in r){const x=r[v],S=d[v];S&&(S.last_change<=l?(delete d[v],g=!0):(x==null||x!=v)&&(S.key=x,d[x]=S,delete d[v],g=!0))}g&&await this.saveChangesOfTypeToStorage(n)}}});class NO{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"comment_key","");Sn(this,"criterion_key","");Sn(this,"points",0);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.criterion_key!==void 0&&r.criterion_key!==null&&(this.criterion_key=r.criterion_key.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}setPoints(r){this.points=parseInt(r)}getData(){return{key:this.key,item_key:this.item_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const El=_d.createInstance({storeName:"corrector-points",description:"Corrector points data"}),k1=Iu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{hasPoints:n=>n.points.length>0,ownCriteriaPoints:n=>{const l=Tu().ownCommentKeys;let d=0;return n.points.filter(g=>l.includes(g.comment_key)).forEach(g=>d+=g.points),d},getCommentHasPoints(n){return function(l){return n.points.find(d=>d.comment_key==l)!==void 0}},getCommentHasPointsForCriterion:n=>function(l,d){for(const g of n.points)if(g.comment_key==l&&g.criterion_key==d&&g.points>0)return!0;return!1},getObjectByKey:n=>function(l){return n.points.find(d=>d.key==l)},getObjectsByCommentKeys:n=>function(l){return n.points.filter(d=>l.includes(d.comment_key))},getSumOfPointsForComment:n=>function(l){let d=0;for(const g of n.points)g.comment_key==l&&g.points>0&&(d+=g.points);return d},getSumOfPointsForCriterion:n=>function(l,d){const v=Tu().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x},getPointsOfCriterionExceeded:n=>function(l,d){const v=Tu().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x>l.points},getSumOfPointsForCorrector:n=>function(l){const g=Tu().getKeysOfCorrector(l);let v=0;return n.points.filter(x=>g.includes(x.comment_key)).forEach(x=>v+=x.points),v},getObjectByRelation:n=>function(l,d){return n.points.find(g=>g.comment_key==l&&g.criterion_key==d)},getValueByRelation:n=>(l,d)=>{let g=n.getObjectByRelation(l,d);return g?g.points:0}},actions:{async setValueByRelation(n,r,l){let d=this.getObjectByRelation(n,r);d?l?(d.setPoints(l),this.updatePoints(d)):this.deletePoints(d.key):n&&r&&l&&this.createPoints(n,r,l)},async createPoints(n,r,l){const d=ps(),g=new NO({comment_key:n,criterion_key:r,item_key:d.itemKey,points:l});this.keys.push(g.key),this.points.push(g),await El.setItem(g.key,JSON.stringify(g.getData())),await El.setItem("keys",JSON.stringify(this.keys)),await ec().setChange(new ir({type:ir.TYPE_POINTS,action:ir.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(n){this.keys.includes(n.key)&&(await El.setItem(n.key,JSON.stringify(n.getData())),await ec().setChange(new ir({type:ir.TYPE_POINTS,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})))},async deletePoints(n){const r=this.points.find(g=>g.key==n);this.points=this.points.filter(g=>g.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(g=>g!=n),await El.setItem("keys",JSON.stringify(this.keys)),await El.removeItem(n));const l=ec(),d=new ir({type:ir.TYPE_POINTS,action:ir.ACTION_DELETE,key:r.key,item_key:r.item_key});n.substr(0,4)=="temp"?await l.unsetChange(d):await l.setChange(d)},async deletePointsOfComment(n){this.points.filter(r=>r.comment_key==n).forEach(r=>{this.deletePoints(r.key)})},async clearStorage(){try{await El.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await El.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const l of this.keys){let d=JSON.parse(await El.getItem(l)),g=new NO(d);g.item_key==n.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await El.clear(),this.$reset();for(const l of n){const d=new NO(l);this.keys.push(d.key),await El.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.points.push(d)}await El.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(ir.TYPE_POINTS,n)){const v=await El.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const g of this.keys)if(g in n){if(n[g]==null)r.push(g);else if(g!=n[g]){let v=new NO(await El.getItem(g));v.key=n[g],l.push(g),d.push(v)}}this.selectedKey="",this.points=this.points.filter(g=>!r.includes(g.key));for(const g of this.points)l.includes(g.key)&&(g.key=n[g.key]);this.keys=this.keys.filter(g=>!r.includes(g)&&!l.includes(g));for(const g of r)await El.removeItem(g);for(const g of l)this.keys.push(n[g]),await El.removeItem(g);for(const g of d)await El.setItem(g.key,JSON.stringify(g.getData()));await El.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(n){let r=[],l=[];for(const d of this.keys){let g=new NO(await El.getItem(d));g.comment_key in n&&(n[g.comment_key]==null?r.push(d):g.comment_key!=n[g.comment_key]&&(g.comment_key=n[g.comment_key],l.push(g)))}this.points=this.points.filter(d=>!r.includes(d.key));for(const d of this.points)d.comment_key in n&&(d.comment_key=n[d.comment_key]);for(const d of r)await El.removeItem(d);for(const d of l)await El.setItem(d.key,JSON.stringify(d.getData()));this.keys=this.keys.filter(d=>!r.includes(d)),await El.setItem("keys",JSON.stringify(this.keys))}}});class PO{constructor(r={}){Sn(this,"x",0);Sn(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const ya=class ya{constructor(r={}){Sn(this,"key","");Sn(this,"shape","");Sn(this,"pos",new PO(0,0));Sn(this,"end",new PO(0,0));Sn(this,"width",0);Sn(this,"height",0);Sn(this,"polygon",[]);Sn(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&ya.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new PO(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new PO(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const l of r.polygon)this.polygon.push(new PO(l));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const l of this.polygon)r.push(l.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case ya.SHAPE_LINE:return"mdi-minus";case ya.SHAPE_WAVE:return"mdi-wave";case ya.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ya.SHAPE_POLYGON:return"mdi-vector-triangle";case ya.SHAPE_CIRCLE:switch(this.symbol){case ya.SYMBOL_CHECK:return"mdi-check";case ya.SYMBOL_CROSS:return"mdi-close";case ya.SYMBOL_QUESTION:return"mdi-help"}}return""}};Sn(ya,"SHAPE_CIRCLE","circle"),Sn(ya,"SHAPE_RECTANGLE","rectangle"),Sn(ya,"SHAPE_POLYGON","polygon"),Sn(ya,"SHAPE_LINE","line"),Sn(ya,"SHAPE_WAVE","wave"),Sn(ya,"ALLOWED_SHAPES",[ya.SHAPE_CIRCLE,ya.SHAPE_RECTANGLE,ya.SHAPE_POLYGON,ya.SHAPE_LINE,ya.SHAPE_WAVE]),Sn(ya,"SYMBOL_CHECK","✓"),Sn(ya,"SYMBOL_CROSS","✗"),Sn(ya,"SYMBOL_QUESTION","?");let am=ya;const Fh=class Fh{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"start_position",0);Sn(this,"end_position",0);Sn(this,"parent_number",0);Sn(this,"comment","");Sn(this,"points",0);Sn(this,"rating_excellent",!1);Sn(this,"rating_cardinal",!1);Sn(this,"label","");Sn(this,"prefix","");Sn(this,"marks",[]);Sn(this,"deleted",!1);if(r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.rating==Fh.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==Fh.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const l of r.marks)this.addMarkData(l)}addMarkData(r){this.marks.push(new am(r)),this.calculateStartPositon()}updateMarkData(r){for(const l of this.marks)l.key==r.key&&l.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const l of this.marks)if(l.key==r)return l;return null}getMarkColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?l?"#E3EFDD80":"#19e62e":this.rating_cardinal?l?"#FBDED180":"#bc4710":l?"#D8E5F480":"#3365ff":this.rating_excellent?l?"#F7F9F780":"#19e62e":this.rating_cardinal?l?"#FCF6F480":"#bc4710":l?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.rating_excellent?l?"#BBEBA5A0":"#19e62e":this.rating_cardinal?l?"#FCB494A0":"#bc4710":l?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const l of this.marks)(r===null||l.pos.y>r)&&(r=l.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const l of this.marks)if(l.key==r)return!0;return!1}getData(){let r=[];for(const l of this.marks)r.push(l.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,points:this.points,rating:this.rating_excellent?Fh.RAITNG_EXCELLENT:this.rating_cardinal?Fh.RATING_CARDINAL:"",marks:r}}};Sn(Fh,"RATING_CARDINAL","cardinal"),Sn(Fh,"RAITNG_EXCELLENT","excellent"),Sn(Fh,"ALLOWED_RATING",[Fh.RATING_CARDINAL,Fh.RAITNG_EXCELLENT]);let tC=Fh;const Al=_d.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),Tu=Iu("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(n){return n.getComment(n.selectedKey)},selectedLabel(n){let r=n.getComment(n.selectedKey);return r?r.label:""},activeComments:n=>{const r=ps();return n.comments.filter(l=>(n.showOtherCorrectors||l.corrector_key==r.correctorKey)&&(n.filterKeys.length==0||n.filterKeys.includes(l.key)))},ownCommentPoints:n=>{const r=ps();let l=0;return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l+=d.points),l},ownCommentKeys:n=>{const r=ps();let l=[];return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l.push(d.key)),l},currentCommentKeys:n=>{let r=[];return n.comments.forEach(l=>r.push(l.key)),r},isOtherCorrectorsShown:n=>n.showOtherCorrectors,isFilterActive:n=>n.filterKeys.length>0,getComment:n=>function(l){return n.comments.find(d=>d.key==l)},getCommentByMarkKey:n=>function(l){return n.comments.find(d=>d.hasMarkKey(l))},getActiveCommentsInRange:n=>function(l,d){return n.activeComments.filter(g=>g.start_position<=d&&g.end_position>=l)},getActiveCommentsByStartPosition:n=>function(l){return n.activeComments.filter(d=>d.start_position==l)},getActiveCommentsByParentNumber:n=>function(l){return n.activeComments.filter(d=>d.parent_number==l)},getKeysOfCorrector:n=>function(l){let d=[];return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d.push(g.key)),d},getPointsOfCorrector:n=>function(l){let d=0;return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d+=g.points),d},getCountOfExcellent:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_excellent).length},getCountOfCardinal:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_cardinal).length}},actions:{setFirstVisibleComment(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(n,r=!0){this.selectedKey=n,r&&(this.selectionChange=Date.now())},async createComment(n,r,l){let d=new tC({start_position:n,end_position:r,parent_number:l});return await this.addComment(d),d.key},async addComment(n){const r=ps(),l=ec();return n.item_key=r.itemKey,n.corrector_key=r.correctorKey,this.keys.push(n.key),this.filterKeys.length>0&&(this.filterKeys.push(n.key),this.setFilterChange()),this.comments.push(n),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(n.key,!0),await Al.setItem(n.key,JSON.stringify(n.getData())),await Al.setItem("keys",JSON.stringify(this.keys)),await l.setChange(new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})),n.key},async updateComment(n,r=!1){const l=ps(),d=yc(),g=ec();this.keys.includes(n.key)&&n.corrector_key==l.correctorKey&&!d.isOwnDisabled&&(await Al.setItem(n.key,JSON.stringify(n.getData())),await g.setChange(new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_SAVE,key:n.key,item_key:n.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(n){await this.removeComment(n),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(n){const r=ec();await k1().deletePointsOfComment(n),this.selectedKey==n&&this.selectComment("",!0);const d=this.comments.find(v=>v.key==n);this.comments=this.comments.filter(v=>v.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(v=>v!=n),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.removeItem(n));const g=new ir({type:ir.TYPE_COMMENT,action:ir.ACTION_DELETE,key:d.key,item_key:d.item_key});n.substr(0,4)=="temp"?await r.unsetChange(g):await r.setChange(g)},async sortAndLabelComments(){const n=ps(),r=bv();this.comments=this.comments.sort(Rhe);let l=0,d={};for(const g of this.comments){const v=r.getCorrector(g.corrector_key),x=v?v.initials:"??";if(g.parent_number>l){l=g.parent_number;for(const S of r.correctorKeys)d[S]=0;d[g.corrector_key]=1}else d[g.corrector_key]++;g.label=x+" "+l.toString()+"."+d[g.corrector_key].toString(),g.prefix=g.corrector_key==n.correctorKey?"own":"other"}},setFilterByRating(n,r,l){this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&d.rating_excellent==r&&d.rating_cardinal==l&&this.filterKeys.push(d.key);this.setFilterChange()},setFilterByPoints(n){this.filterKeys=[];for(const r of this.comments)r.corrector_key==n&&r.points>0&&this.filterKeys.push(r.key);this.setFilterChange()},setFilterByCriterion(n,r){const l=k1();this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&l.getCommentHasPointsForCriterion(d.key,r)&&this.filterKeys.push(d.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(n){this.showOtherCorrectors=!!n,this.markerChange=Date.now(),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Al.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Al.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors"));for(const l of this.keys){const d=new tC(JSON.parse(await Al.getItem(l)));d.item_key==n.itemKey&&this.comments.push(d)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors")),await Al.clear();for(const l of n){const d=new tC(l);this.keys.push(d.key),await Al.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.comments.push(d)}await this.sortAndLabelComments(),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(ir.TYPE_COMMENT,n)){const v=await Al.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const v of this.keys)if(v in n){if(n[v]==null)r.push(v);else if(v!=n[v]){let x=new tC(JSON.parse(await Al.getItem(v)));x.key=n[v],l.push(v),d.push(x)}}l.includes(this.selectedKey)&&this.selectComment(n[this.selectedKey],!0),this.comments=this.comments.filter(v=>!r.includes(v.key));for(const v of this.comments)l.includes(v.key)&&(v.key=n[v.key]);let g=[];for(const v of this.filterKeys)l.includes(v)?g.push(n[v]):g.push(v);this.filterKeys=g,this.keys=this.keys.filter(v=>!r.includes(v)&&!l.includes(v));for(const v of r)await Al.removeItem(v);for(const v of l)this.keys.push(n[v]),await Al.removeItem(v);for(const v of d)await Al.setItem(v.key,JSON.stringify(v.getData()));await Al.setItem("keys",JSON.stringify(this.keys))}}}),Rhe=function(n,r){return n.parent_number<r.parent_number?-1:n.parent_number>r.parent_number?1:n.start_position<r.start_position?-1:n.start_position>r.start_position?1:0},s$=_d.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),$y=Iu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:_s.INCLUDE_INFO,include_comment_ratings:_s.INCLUDE_INFO,include_comment_points:_s.INCLUDE_INFO,include_criteria_points:_s.INCLUDE_INFO}),getters:{allData:n=>({essay_page_zoom:n.essay_page_zoom,essay_text_zoom:n.essay_text_zoom,summary_text_zoom:n.summary_text_zoom,include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points})},actions:{async clearStorage(){try{await s$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await s$.getItem("preferences");n&&this.$patch(n)}catch(n){console.log(n)}},async saveToStorage(){try{await s$.setItem("preferences",this.allData)}catch(n){console.log(n)}},async loadFromData(n){try{this.$patch(n),this.sent=!0,await this.saveToStorage()}catch(r){console.log(r)}},async update(){const n=ec(),r=ps();await this.saveToStorage(),r.correctorKey&&await n.setChange(new ir({type:ir.TYPE_PREFERENCES,action:ir.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(ir.TYPE_PREFERENCES,n))d.push(r.getChangeDataToSend(g,this.allData));return d},setSummaryInclusions(n){this.include_comments=n.include_comments,this.include_comment_ratings=n.include_comment_ratings,this.include_comment_points=n.include_comment_points,this.include_criteria_points=n.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),Iy=_d.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),r$=200;function Ihe(){return{keys:[],summaries:{},editSummary:new _s,lastCheck:0}}let YB=0;const yc=Iu("summaries",{state:()=>Ihe(),getters:{isOwnDisabled:n=>n.editSummary.corrector_key==""||n.editSummary.is_authorized,isOwnAuthorized:n=>n.editSummary.is_authorized,isOneAuthorized:n=>{for(const r in n.summaries)if(n.summaries[r].is_authorized)return!0;return!1},areOthersAuthorized:n=>{for(const r in n.summaries){const l=n.summaries[r];if(l.getKey()!=n.editSummary.getKey()&&!l.is_authorized)return!1}return!0},currentPartialPoints:n=>{const r=Uh(),l=Tu(),d=k1();return r.hasOwnCriteria?d.ownCriteriaPoints:l.ownCommentPoints},currentPartialPointsAreIncluded:n=>Uh().hasOwnCriteria?n.currentInclusionSettings.include_criteria_points>_s.INCLUDE_NOT:n.currentInclusionSettings.include_comment_points>_s.INCLUDE_NOT,currentGradeTitle(n){if(n.editSummary.grade_key){let l=Ky().getLevel(n.editSummary.grade_key);if(l)return l.title}return"ohne Notenstufe"},currentInclusionSettings:n=>{const r=um(),l=$y();return r.fixed_inclusions?r.summaryInclusions:n.editSummary.getInclusionSettings(l.summaryInclusions)},getAuthorizationForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g.is_authorized}return!1},getForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g}return null},getInclusionText:n=>{const r=um(),l=Uh();return function(g){let v="",x={};return g.corrector_key==n.editSummary.corrector_key?x=n.currentInclusionSettings:x=g.getInclusionSettings(),x.include_comments==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Kommentare (i)":x.include_comments==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Kommentare (r)"),x.include_comment_ratings==_s.INCLUDE_INFO?v=(v?v+", ":"")+r.ratingLabels+" (i)":x.include_comment_ratings==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+r.ratingLabels+" (r)"),x.include_comment_points==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte zu Kommentaren (i)":x.include_comment_points==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte zu Kommentaren (r)"),l.hasOwnCriteria&&(x.include_criteria_points==_s.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte im Bewertungsschema (i)":x.include_criteria_points==_s.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte im Bewertungsschema (r)")),v==""&&(v="keine Detail-Informationen"),v}},stitchReasonText:n=>{let r=null,l=null,d=0,g=0;for(const x in n.summaries){const S=n.summaries[x].points;S!==null&&(d+=S,g++,(r===null||S<r)&&(r=S),(l===null||S>l)&&(l=S))}if(g==0)return"";const v=um();if(v.stitch_when_distance&&l-r>v.max_auto_distance)return"Der Punkteunterschied übersteigt "+v.max_auto_distance+" Punkte!";if(v.stitch_when_decimals){let x=d/g;if(Math.floor(x)<x)return"Der Punktedurchschnitt "+x+" ist keine ganze Zahl!"}return""},minPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d<r)&&(r=d)}return r},maxPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d>r)&&(r=d)}return r}},actions:{async clearStorage(){try{await Iy.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Iy.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new _s(JSON.parse(await Iy.getItem(l)));d.item_key==n.itemKey&&(this.summaries[l]=d),d.corrector_key==n.correctorKey&&(this.editSummary=d.getClone())}}catch(r){console.log(r)}YB=0,n.setInterval("summariesStore.updateContent",this.updateContent,r$)},async loadFromData(n){const r=ps();try{await Iy.clear(),this.$reset();for(const l of n){const d=new _s(l);this.keys.push(d.getKey()),await Iy.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.summaries[d.getKey()]=d),d.corrector_key==r.correctorKey&&(this.editSummary=d.getClone())}await Iy.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}YB=0,r.setInterval("summariesStore.updateContent",this.updateContent,r$)},async updateContent(n=!1,r=!1){const l=this.summaries[this.editSummary.getKey()]??new _s;if(l.is_authorized)return;const d=Date.now();if(d-this.lastCheck<r$&&!r||YB++&&!r||jy().correctionEndReached)return;const v=um();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>v.max_points&&(this.editSummary.points=v.max_points);let S=Ky().getLevelForPoints(this.editSummary.points);S?this.editSummary.grade_key=S.key:this.editSummary.grade_key="";try{const M=this.editSummary.getClone();if(!M.isEqual(l)&&this.keys.includes(M.getKey())){const R=ps(),I=ec();M.last_change=R.getServerTime(Date.now()),this.editSummary.setData(M.getData()),this.summaries[M.getKey()]=M,await Iy.setItem(l.getKey(),JSON.stringify(M.getData())),await I.setChange(new ir({type:ir.TYPE_SUMMARY,action:ir.ACTION_SAVE,key:M.getKey(),item_key:M.item_key})),console.log("Save Change ","| Editor: ",n,"| Duration:",Date.now()-d,"ms")}this.lastCheck=d}catch(M){console.error(M)}YB=0},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(ir.TYPE_SUMMARY,n)){const v=await Iy.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}});var bJ={exports:{}},yJ={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(l,d){return l<<d|l>>>32-d},rotr:function(l,d){return l<<32-d|l>>>d},endian:function(l){if(l.constructor==Number)return r.rotl(l,8)&16711935|r.rotl(l,24)&4278255360;for(var d=0;d<l.length;d++)l[d]=r.endian(l[d]);return l},randomBytes:function(l){for(var d=[];l>0;l--)d.push(Math.floor(Math.random()*256));return d},bytesToWords:function(l){for(var d=[],g=0,v=0;g<l.length;g++,v+=8)d[v>>>5]|=l[g]<<24-v%32;return d},wordsToBytes:function(l){for(var d=[],g=0;g<l.length*32;g+=8)d.push(l[g>>>5]>>>24-g%32&255);return d},bytesToHex:function(l){for(var d=[],g=0;g<l.length;g++)d.push((l[g]>>>4).toString(16)),d.push((l[g]&15).toString(16));return d.join("")},hexToBytes:function(l){for(var d=[],g=0;g<l.length;g+=2)d.push(parseInt(l.substr(g,2),16));return d},bytesToBase64:function(l){for(var d=[],g=0;g<l.length;g+=3)for(var v=l[g]<<16|l[g+1]<<8|l[g+2],x=0;x<4;x++)g*8+x*6<=l.length*8?d.push(n.charAt(v>>>6*(3-x)&63)):d.push("=");return d.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],g=0,v=0;g<l.length;v=++g%4)v!=0&&d.push((n.indexOf(l.charAt(g-1))&Math.pow(2,-2*v+8)-1)<<v*2|n.indexOf(l.charAt(g))>>>6-v*2);return d}};yJ.exports=r})();var Nhe=yJ.exports,K$={utf8:{stringToBytes:function(n){return K$.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(K$.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],l=0;l<n.length;l++)r.push(n.charCodeAt(l)&255);return r},bytesToString:function(n){for(var r=[],l=0;l<n.length;l++)r.push(String.fromCharCode(n[l]));return r.join("")}}},lq=K$;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Phe=function(n){return n!=null&&(xJ(n)||Mhe(n)||!!n._isBuffer)};function xJ(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Mhe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&xJ(n.slice(0,0))}(function(){var n=Nhe,r=lq.utf8,l=Phe,d=lq.bin,g=function(v,x){v.constructor==String?x&&x.encoding==="binary"?v=d.stringToBytes(v):v=r.stringToBytes(v):l(v)?v=Array.prototype.slice.call(v,0):!Array.isArray(v)&&v.constructor!==Uint8Array&&(v=v.toString());for(var S=n.bytesToWords(v),M=v.length*8,R=1732584193,I=-271733879,L=-1732584194,$=271733878,K=0;K<S.length;K++)S[K]=(S[K]<<8|S[K]>>>24)&16711935|(S[K]<<24|S[K]>>>8)&4278255360;S[M>>>5]|=128<<M%32,S[(M+64>>>9<<4)+14]=M;for(var Y=g._ff,ne=g._gg,oe=g._hh,se=g._ii,K=0;K<S.length;K+=16){var Me=R,xe=I,ee=L,_e=$;R=Y(R,I,L,$,S[K+0],7,-680876936),$=Y($,R,I,L,S[K+1],12,-389564586),L=Y(L,$,R,I,S[K+2],17,606105819),I=Y(I,L,$,R,S[K+3],22,-1044525330),R=Y(R,I,L,$,S[K+4],7,-176418897),$=Y($,R,I,L,S[K+5],12,1200080426),L=Y(L,$,R,I,S[K+6],17,-1473231341),I=Y(I,L,$,R,S[K+7],22,-45705983),R=Y(R,I,L,$,S[K+8],7,1770035416),$=Y($,R,I,L,S[K+9],12,-1958414417),L=Y(L,$,R,I,S[K+10],17,-42063),I=Y(I,L,$,R,S[K+11],22,-1990404162),R=Y(R,I,L,$,S[K+12],7,1804603682),$=Y($,R,I,L,S[K+13],12,-40341101),L=Y(L,$,R,I,S[K+14],17,-1502002290),I=Y(I,L,$,R,S[K+15],22,1236535329),R=ne(R,I,L,$,S[K+1],5,-165796510),$=ne($,R,I,L,S[K+6],9,-1069501632),L=ne(L,$,R,I,S[K+11],14,643717713),I=ne(I,L,$,R,S[K+0],20,-373897302),R=ne(R,I,L,$,S[K+5],5,-701558691),$=ne($,R,I,L,S[K+10],9,38016083),L=ne(L,$,R,I,S[K+15],14,-660478335),I=ne(I,L,$,R,S[K+4],20,-405537848),R=ne(R,I,L,$,S[K+9],5,568446438),$=ne($,R,I,L,S[K+14],9,-1019803690),L=ne(L,$,R,I,S[K+3],14,-187363961),I=ne(I,L,$,R,S[K+8],20,1163531501),R=ne(R,I,L,$,S[K+13],5,-1444681467),$=ne($,R,I,L,S[K+2],9,-51403784),L=ne(L,$,R,I,S[K+7],14,1735328473),I=ne(I,L,$,R,S[K+12],20,-1926607734),R=oe(R,I,L,$,S[K+5],4,-378558),$=oe($,R,I,L,S[K+8],11,-2022574463),L=oe(L,$,R,I,S[K+11],16,1839030562),I=oe(I,L,$,R,S[K+14],23,-35309556),R=oe(R,I,L,$,S[K+1],4,-1530992060),$=oe($,R,I,L,S[K+4],11,1272893353),L=oe(L,$,R,I,S[K+7],16,-155497632),I=oe(I,L,$,R,S[K+10],23,-1094730640),R=oe(R,I,L,$,S[K+13],4,681279174),$=oe($,R,I,L,S[K+0],11,-358537222),L=oe(L,$,R,I,S[K+3],16,-722521979),I=oe(I,L,$,R,S[K+6],23,76029189),R=oe(R,I,L,$,S[K+9],4,-640364487),$=oe($,R,I,L,S[K+12],11,-421815835),L=oe(L,$,R,I,S[K+15],16,530742520),I=oe(I,L,$,R,S[K+2],23,-995338651),R=se(R,I,L,$,S[K+0],6,-198630844),$=se($,R,I,L,S[K+7],10,1126891415),L=se(L,$,R,I,S[K+14],15,-1416354905),I=se(I,L,$,R,S[K+5],21,-57434055),R=se(R,I,L,$,S[K+12],6,1700485571),$=se($,R,I,L,S[K+3],10,-1894986606),L=se(L,$,R,I,S[K+10],15,-1051523),I=se(I,L,$,R,S[K+1],21,-2054922799),R=se(R,I,L,$,S[K+8],6,1873313359),$=se($,R,I,L,S[K+15],10,-30611744),L=se(L,$,R,I,S[K+6],15,-1560198380),I=se(I,L,$,R,S[K+13],21,1309151649),R=se(R,I,L,$,S[K+4],6,-145523070),$=se($,R,I,L,S[K+11],10,-1120210379),L=se(L,$,R,I,S[K+2],15,718787259),I=se(I,L,$,R,S[K+9],21,-343485551),R=R+Me>>>0,I=I+xe>>>0,L=L+ee>>>0,$=$+_e>>>0}return n.endian([R,I,L,$])};g._ff=function(v,x,S,M,R,I,L){var $=v+(x&S|~x&M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._gg=function(v,x,S,M,R,I,L){var $=v+(x&M|S&~M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._hh=function(v,x,S,M,R,I,L){var $=v+(x^S^M)+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._ii=function(v,x,S,M,R,I,L){var $=v+(S^(x|~M))+(R>>>0)+L;return($<<I|$>>>32-I)+x},g._blocksize=16,g._digestsize=16,bJ.exports=function(v,x){if(v==null)throw new Error("Illegal argument "+v);var S=n.wordsToBytes(g(v,x));return x&&x.asBytes?S:x&&x.asString?d.bytesToString(S):n.bytesToHex(S)}})();var Bhe=bJ.exports;const Lhe=FU(Bhe),cq=5e3,ps=Iu("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:n=>n.lastLoadingTry>0,isForReviewOrStitch:n=>n.isReview||n.isStitchDecision,storedItemKey:n=>localStorage.getItem("correctorItemKey"),getRequestConfig:n=>function(l){let d=n.backendUrl,g=new URLSearchParams,v=d.search(/\?+/);return v!=-1&&(g=new URLSearchParams(d.substr(v)),d=d.substr(0,v)),g.append("LongEssayUser",n.userKey),g.append("LongEssayEnvironment",n.environmentKey),g.append("LongEssayIsReview",n.isReview?"1":"0"),g.append("LongEssayIsStitchDecision",n.isStitchDecision?"1":"0"),g.append("LongEssaySignature",Lhe(n.userKey+n.environmentKey+l)),{baseURL:d,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:n=>function(l){const d=this.getRequestConfig(this.fileToken);return d.baseURL+"/file/"+l+"?"+d.params.toString()},getImageUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/image/"+d+"/"+l+"?"+g.params.toString()},getThumbUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/thumb/"+d+"/"+l+"?"+g.params.toString()},getServerTime:n=>function(l){return Math.floor((l-n.timeOffset)/1e3)},getChangeDataToSend:n=>function(l,d=null){const g=l.getData();return d&&(g.payload=d),g.server_time=n.getServerTime(l.last_change),g}},actions:{async init(){let n=!1,r=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),yr.get("LongEssayUser")!=null&&yr.get("LongEssayUser")!==this.userKey&&(this.userKey=yr.get("LongEssayUser"),n=!0),yr.get("LongEssayEnvironment")!=null&&yr.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=yr.get("LongEssayEnvironment"),n=!0),yr.get("LongEssayCorrector")!=null&&yr.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=yr.get("LongEssayCorrector"),n=!0),yr.get("LongEssayIsReview")!=null&&yr.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=yr.get("LongEssayIsReview")=="1",n=!0),yr.get("LongEssayIsReview")!=null&&yr.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=yr.get("LongEssayIsStitchDecision")=="1",n=!0),this.isForReviewOrStitch&&(this.correctorKey=""),yr.get("LongEssayItem")!=null&&yr.get("LongEssayItem")!==this.itemKey&&(this.itemKey=yr.get("LongEssayItem"),r=!0),yr.get("LongEssayBackend")!=null&&yr.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=yr.get("LongEssayBackend")),yr.get("LongEssayReturn")!=null&&yr.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=yr.get("LongEssayReturn")),yr.get("LongEssayToken")!=null&&yr.get("LongEssayToken")!==this.dataToken&&(this.dataToken=yr.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await ec().hasChangesInStorage()?n?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const n=mv();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey");const r=n.getItem(this.itemKey);await this.loadDataFromBackend()&&(await n.addItem(r),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const n=Tu(),r=xc(),l=bv();if(this.isForReviewOrStitch&&n.setShowOtherCorrectors(!0),this.isStitchDecision){let d=0;for(const g of l.correctors)if(r.selectCorrector(g.corrector_key),d++,d==2)break}this.initialized=!0},updateConfig(){yr.remove("LongEssayBackend"),yr.remove("LongEssayReturn"),yr.remove("LongEssayUser"),yr.remove("LongEssayEnvironment"),yr.remove("LongEssayCorrector"),yr.remove("LongEssayItem"),yr.remove("LongEssayToken"),yr.remove("LongEssayIsReview"),yr.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const n=Uh(),r=mv(),l=xc(),d=Ky(),g=$y(),v=dC(),x=um(),S=jy();return await n.loadFromStorage(),await r.loadFromStorage(),await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(n){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey),this.itemKey=n,localStorage.setItem("itemKey",this.itemKey);const l=ec(),d=Tu(),g=bv(),v=oD(),x=OL(),S=k1(),M=yc();return await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),await M.loadFromStorage(),d.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,cq),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let n={};try{n=await Ji.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(R){return console.error(R),this.showInitFailure=!0,this.setLoading(!1),!1}const r=Uh(),l=mv(),d=xc(),g=Ky(),v=$y(),x=dC(),S=um(),M=jy();return await r.loadFromData(n.data.criteria),await l.loadFromData(n.data.items),await d.clearStorage(),await g.loadFromData(n.data.levels),await v.loadFromData(n.data.preferences),await x.loadFromData(n.data.resources),await S.loadFromData(n.data.settings),await M.loadFromData(n.data.task),this.setLoading(!1),!0},async loadItemFromBackend(n){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey);let l={};try{l=await Ji.get("/item/"+n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(l),this.refreshToken(l)}catch(I){return console.error(I),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=n,localStorage.setItem("itemKey",this.itemKey),r.updateItem(new j$(l.data.item));const d=ec(),g=bv(),v=Tu(),x=oD(),S=OL(),M=k1(),R=yc();return await d.clearStorage(),await g.loadFromData(l.data.correctors),await v.loadFromData(l.data.comments),await x.loadFromData(l.data.essay),await S.loadFromData(l.data.pages),await M.loadFromData(l.data.points),await R.loadFromData(l.data.summaries),v.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,cq),!0},async saveChangesToBackend(n=!1){const r=ec(),l=Tu(),d=k1(),g=yc(),v=$y();if(!await this.isSending(!0)){this.setSending(!0);try{const x={comments:await l.getChangedData(this.lastSendingTry),points:await d.getChangedData(this.lastSendingTry),summaries:await g.getChangedData(this.lastSendingTry),preferences:await v.getChangedData(this.lastSendingTry)},S=await Ji.put("/changes/"+this.itemKey,x,this.getRequestConfig(this.dataToken));this.setTimeOffset(S),this.refreshToken(S),await l.updateKeys(S.data.comments),await d.changeCommentKeys(S.data.comments),await d.updateKeys(S.data.points),await r.setChangesSent(ir.TYPE_COMMENT,S.data.comments,this.lastSendingTry),await r.setChangesSent(ir.TYPE_POINTS,S.data.points,this.lastSendingTry),await r.setChangesSent(ir.TYPE_SUMMARY,S.data.summaries,this.lastSendingTry),await r.setChangesSent(ir.TYPE_PREFERENCES,S.data.preferences,this.lastSendingTry)}catch(x){return console.error(x),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(n){let r={};try{return r=await Ji.put("/stitch/"+this.itemKey,n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(l){return console.error(l),!1}},setTimeOffset(n){if(n.headers.longessaytime){const r=n.headers.longessaytime*1e3,l=Date.now();this.timeOffset=l-r,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.longessaydatatoken&&(this.dataToken=n.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),n.headers.longessayfiletoken&&(this.fileToken=n.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(n=!1){if(n){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(l=>setTimeout(l,1e3))}return this.lastSendingTry>0},setSending(n){n?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(n){n?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(n){this.showAuthorization=n},setShowSendFailure(n){this.showSendFailure=n},setInterval(n,r,l){n in this.intervals&&(console.log("clear interval "+n),clearInterval(this.intervals[n])),console.log("set interval "+n),this.intervals[n]=setInterval(r,l)},clearAllIntervals(){console.log("clear all intervals ");for(const n in this.intervals)console.log("clear interval "+n),clearInterval(this.intervals[n]),delete this.intervals[n]}}});class uq{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"initials","");Sn(this,"position",0);r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const Dk=_d.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),bv=Iu("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:n=>n.correctors.length,correctorKeys:n=>{let r=[];for(const l of n.correctors)r.push(l.corrector_key);return r},otherCorrectors:n=>{const r=ps();return n.correctors.filter(l=>l.corrector_key!=r.correctorKey).sort((l,d)=>l.position-d.position)},getPositionText:n=>function(l){if(n.correctors.length<=1)return"";const d=n.correctors.find(g=>g.corrector_key==l);return d?d.position==0?"(Erstkorrektur)":d.position==1?"(Zweitkorrektur)":d.position==n.correctors.length-1?"(Endkorrektur)":"("+(d.position+1)+". Korrektur)":""},getCorrector:n=>function(l){return n.correctors.find(d=>d.corrector_key==l)}},actions:{async clearStorage(){try{await Dk.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Dk.getItem("correctorKeys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new uq(JSON.parse(await Dk.getItem(l)));d.item_key==n.itemKey&&this.correctors.push(d)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Dk.clear(),this.$reset();for(const l of n){const d=new uq(l);this.keys.push(d.getKey()),await Dk.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.correctors.push(d)}await Dk.setItem("correctorKeys",JSON.stringify(this.keys))}catch(l){console.log(l)}}}}),i$=_d.createInstance({storeName:"corrector-layout",description:"Layout data"}),xc=Iu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",focusTarget:"",focusChange:0}),getters:{isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isSolutionSelected:n=>n.leftContent=="solution",isSolutionPdfSelected:n=>n.leftContent=="solutionPdf",isResourcesSelected:n=>n.leftContent=="resources",isEssaySelected:n=>n.leftContent=="essay",isSummarySelected:n=>n.rightContent=="summary",isMarkingSelected:n=>n.rightContent=="marking",isLeftCorrectorSelected:n=>n.leftContent=="corrector",isRightCorrectorSelected:n=>n.rightContent=="corrector",isInstructionsVisible:n=>n.isInstructionsSelected&&n.isLeftVisible,isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isSolutionVisible:n=>n.isSolutionSelected&&n.isLeftVisible,isSolutionPdfVisible:n=>n.isSolutionPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.isResourcesSelected&&n.isLeftVisible,isEssayVisible:n=>n.isEssaySelected&&n.isLeftVisible,isSummaryVisible:n=>n.isSummarySelected&&n.isRightVisible,isMarkingVisible:n=>n.isMarkingSelected&&n.isRightVisible,isLeftCorrectorVisible:n=>n.isLeftCorrectorSelected&&n.isLeftVisible,isRightCorrectorVisible:n=>n.isRightCorrectorSelected&&n.isRightVisible,isLeftVisible:n=>!ps().isLoading&&n.expandedColumn!="right",isRightVisible:n=>!ps().isLoading&&n.expandedColumn!="left",leftCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.leftCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},rightCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.rightCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},getCorrectorIsVisible:n=>function(l){return n.leftCorrectorKey==l&&n.isLeftCorrectorVisible||n.rightCorrectorKey==l&&n.isRightCorrectorVisible}},actions:{async clearStorage(){try{await i$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await i$.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.rightContent=n.rightContent,this.showMarkingComments=!!n.showMarkingComments,this.showMarkingPoints=!!n.showMarkingPoints,this.showMarkingText=!!n.showMarkingText,this.showLeftSummaryCriteria=!!n.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!n.showRightSummaryCriteria,this.showLeftSummaryText=!!n.showLeftSummaryText,this.showRightSummaryText=!!n.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingPoints&&!this.showMarkingPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(n){console.log(n)}},async saveToStorage(){try{await i$.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingPoints:this.showMarkingPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(n){console.log(n)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrector(){this.leftContent="corrector",this.setLeftVisible(),this.saveToStorage()},showRightCorrector(){this.rightContent="corrector",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(n=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),n===null)switch(this.leftContent){case"instructions":case"solution":case"essay":n=this.leftContent;break}this.setFocusChange(n??"appHeadLeft")},setRightVisible(n=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(n??"appHeadRight")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.saveToStorage()},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingPoints(){this.showMarkingPoints=!this.showMarkingPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(n){const r=ps(),l=bv();this.leftCorrectorKey==n?this.showLeftCorrector():this.rightCorrectorKey==n?this.showRightCorrector():r.isForReviewOrStitch?l.countCorrectors==1?(this.rightCorrectorKey=n,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=n,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=n,this.showRightCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector())},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),$l=(n,r)=>{const l=n.__vccOpts||n;for(const[d,g]of r)l[d]=g;return l},R1=Dn({border:[Boolean,Number,String]},"border");function I1(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{borderClasses:Ge(()=>{const d=zr(n)?n.value:n.border,g=[];if(d===!0||d==="")g.push(`${r}--border`);else if(typeof d=="string"||d===0)for(const v of String(d).split(" "))g.push(`border-${v}`);return g})}}const Fhe=[null,"default","comfortable","compact"],Pg=Dn({density:{type:String,default:"default",validator:n=>Fhe.includes(n)}},"density");function qh(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{densityClasses:Ge(()=>`${r}--density-${n.density}`)}}const N1=Dn({elevation:{type:[Number,String],validator(n){const r=parseInt(n);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function P1(n){return{elevationClasses:Ge(()=>{const l=zr(n)?n.value:n.elevation,d=[];return l==null||d.push(`elevation-${l}`),d})}}const hm=Dn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function pm(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{roundedClasses:Ge(()=>{const d=zr(n)?n.value:n.rounded,g=zr(n)?n.value:n.tile,v=[];if(d===!0||d==="")v.push(`${r}--rounded`);else if(typeof d=="string"||d===0)for(const x of String(d).split(" "))v.push(`rounded-${x}`);else(g||d===!1)&&v.push("rounded-0");return v})}}const Qi=Dn({tag:{type:String,default:"div"}},"tag");function WU(n){return RU(()=>{const r=[],l={};if(n.value.background)if(I$(n.value.background)){if(l.backgroundColor=n.value.background,!n.value.text&&pfe(n.value.background)){const d=gv(n.value.background);if(d.a==null||d.a===1){const g=SX(d);l.color=g,l.caretColor=g}}}else r.push(`bg-${n.value.background}`);return n.value.text&&(I$(n.value.text)?(l.color=n.value.text,l.caretColor=n.value.text):r.push(`text-${n.value.text}`)),{colorClasses:r,colorStyles:l}})}function Kh(n,r){const l=Ge(()=>({text:zr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=WU(l);return{textColorClasses:d,textColorStyles:g}}function Wh(n,r){const l=Ge(()=>({background:zr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=WU(l);return{backgroundColorClasses:d,backgroundColorStyles:g}}const Vhe=["elevated","flat","tonal","outlined","text","plain"];function nE(n,r){return j(us,null,[n&&j("span",{key:"overlay",class:`${r}__overlay`},null),j("span",{key:"underlay",class:`${r}__underlay`},null)])}const M1=Dn({color:String,variant:{type:String,default:"elevated",validator:n=>Vhe.includes(n)}},"variant");function oE(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=Ge(()=>{const{variant:v}=ce(n);return`${r}--variant-${v}`}),{colorClasses:d,colorStyles:g}=WU(Ge(()=>{const{variant:v,color:x}=ce(n);return{[["elevated","flat"].includes(v)?"background":"text"]:x}}));return{colorClasses:d,colorStyles:g,variantClasses:l}}const wJ=Dn({baseColor:String,divided:Boolean,...R1(),...Vs(),...Pg(),...N1(),...hm(),...Qi(),...cl(),...M1()},"VBtnGroup"),C1=Ro()({name:"VBtnGroup",props:wJ(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{densityClasses:g}=qh(n),{borderClasses:v}=I1(n),{elevationClasses:x}=P1(n),{roundedClasses:S}=pm(n);Qy({VBtn:{height:"auto",baseColor:es(n,"baseColor"),color:es(n,"color"),density:es(n,"density"),flat:!0,variant:es(n,"variant")}}),vs(()=>j(n.tag,{class:["v-btn-group",{"v-btn-group--divided":n.divided},d.value,v.value,g.value,x.value,S.value,n.class],style:n.style},l))}}),ZU=Dn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),CJ=Dn({value:null,disabled:Boolean,selectedClass:String},"group-item");function _J(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const d=Tl("useGroupItem");if(!d)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=Ig();Cd(Symbol.for(`${r.description}:id`),g);const v=wa(r,null);if(!v){if(!l)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=es(n,"value"),S=Ge(()=>!!(v.disabled.value||n.disabled));v.register({id:g,value:x,disabled:S},d),wc(()=>{v.unregister(g)});const M=Ge(()=>v.isSelected(g)),R=Ge(()=>v.items.value[0].id===g),I=Ge(()=>v.items.value[v.items.value.length-1].id===g),L=Ge(()=>M.value&&[v.selectedClass.value,n.selectedClass]);return zn(M,$=>{d.emit("group:selected",{value:$})},{flush:"sync"}),{id:g,isSelected:M,isFirst:R,isLast:I,toggle:()=>v.select(g,!M.value),select:$=>v.select(g,$),selectedClass:L,value:x,disabled:S,group:v}}function jU(n,r){let l=!1;const d=Ql([]),g=Hi(n,"modelValue",[],$=>$==null?[]:SJ(d,sf($)),$=>{const K=Hhe(d,$);return n.multiple?K:K[0]}),v=Tl("useGroup");function x($,K){const Y=$,ne=Symbol.for(`${r.description}:id`),se=Pk(ne,v==null?void 0:v.vnode).indexOf(K);ce(Y.value)==null&&(Y.value=se,Y.useIndexAsValue=!0),se>-1?d.splice(se,0,Y):d.push(Y)}function S($){if(l)return;M();const K=d.findIndex(Y=>Y.id===$);d.splice(K,1)}function M(){const $=d.find(K=>!K.disabled);$&&n.mandatory==="force"&&!g.value.length&&(g.value=[$.id])}Ru(()=>{M()}),wc(()=>{l=!0}),wU(()=>{for(let $=0;$<d.length;$++)d[$].useIndexAsValue&&(d[$].value=$)});function R($,K){const Y=d.find(ne=>ne.id===$);if(!(K&&(Y!=null&&Y.disabled)))if(n.multiple){const ne=g.value.slice(),oe=ne.findIndex(Me=>Me===$),se=~oe;if(K=K??!se,se&&n.mandatory&&ne.length<=1||!se&&n.max!=null&&ne.length+1>n.max)return;oe<0&&K?ne.push($):oe>=0&&!K&&ne.splice(oe,1),g.value=ne}else{const ne=g.value.includes($);if(n.mandatory&&ne)return;g.value=K??!ne?[$]:[]}}function I($){if(n.multiple,g.value.length){const K=g.value[0],Y=d.findIndex(se=>se.id===K);let ne=(Y+$)%d.length,oe=d[ne];for(;oe.disabled&&ne!==Y;)ne=(ne+$)%d.length,oe=d[ne];if(oe.disabled)return;g.value=[d[ne].id]}else{const K=d.find(Y=>!Y.disabled);K&&(g.value=[K.id])}}const L={register:x,unregister:S,selected:g,select:R,disabled:es(n,"disabled"),prev:()=>I(d.length-1),next:()=>I(1),isSelected:$=>g.value.includes($),selectedClass:Ge(()=>n.selectedClass),items:Ge(()=>d),getItemIndex:$=>zhe(d,$)};return Cd(r,L),L}function zhe(n,r){const l=SJ(n,[r]);return l.length?n.findIndex(d=>d.id===l[0]):-1}function SJ(n,r){const l=[];return r.forEach(d=>{const g=n.find(x=>Jk(d,x.value)),v=n[d];(g==null?void 0:g.value)!=null?l.push(g.id):v!=null&&l.push(v.id)}),l}function Hhe(n,r){const l=[];return r.forEach(d=>{const g=n.findIndex(v=>v.id===d);if(~g){const v=n[g];l.push(v.value!=null?v.value:g)}}),l}const kJ=Symbol.for("vuetify:v-btn-toggle"),$he=Dn({...wJ(),...ZU()},"VBtnToggle"),Uhe=Ro()({name:"VBtnToggle",props:$he(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isSelected:d,next:g,prev:v,select:x,selected:S}=jU(n,kJ);return vs(()=>{const M=C1.filterProps(n);return j(C1,Wo({class:["v-btn-toggle",n.class]},M,{style:n.style}),{default:()=>{var R;return[(R=l.default)==null?void 0:R.call(l,{isSelected:d,next:g,prev:v,select:x,selected:S})]}})}),{next:g,prev:v,select:x}}}),Whe=Dn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),xa=Ro(!1)({name:"VDefaultsProvider",props:Whe(),setup(n,r){let{slots:l}=r;const{defaults:d,disabled:g,reset:v,root:x,scoped:S}=SD(n);return Qy(d,{reset:v,root:x,scoped:S,disabled:g}),()=>{var M;return(M=l.default)==null?void 0:M.call(l)}}}),Zhe=["x-small","small","default","large","x-large"],RD=Dn({size:{type:[String,Number],default:"default"}},"size");function ID(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return RU(()=>{let l,d;return yL(Zhe,n.size)?l=`${r}--size-${n.size}`:n.size&&(d={width:hs(n.size),height:hs(n.size)}),{sizeClasses:l,sizeStyles:d}})}const jhe=Dn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:fi,...Vs(),...RD(),...Qi({tag:"i"}),...cl()},"VIcon"),qn=Ro()({name:"VIcon",props:jhe(),setup(n,r){let{attrs:l,slots:d}=r;const g=Mn(),{themeClasses:v}=Hl(n),{iconData:x}=Mme(Ge(()=>g.value||n.icon)),{sizeClasses:S}=ID(n),{textColorClasses:M,textColorStyles:R}=Kh(es(n,"color"));return vs(()=>{var $,K;const I=($=d.default)==null?void 0:$.call(d);I&&(g.value=(K=gX(I).filter(Y=>Y.type===ED&&Y.children&&typeof Y.children=="string")[0])==null?void 0:K.children);const L=!!(l.onClick||l.onClickOnce);return j(x.value.component,{tag:n.tag,icon:x.value.icon,class:["v-icon","notranslate",v.value,S.value,M.value,{"v-icon--clickable":L,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class],style:[S.value?void 0:{fontSize:hs(n.size),height:hs(n.size),width:hs(n.size)},R.value,n.style],role:L?"button":void 0,"aria-hidden":!L,tabindex:L?n.disabled?-1:0:void 0},{default:()=>[I]})}),{}}});function EJ(n,r){const l=Mn(),d=Ao(!1);if(OU){const g=new IntersectionObserver(v=>{d.value=!!v.find(x=>x.isIntersecting)},r);wc(()=>{g.disconnect()}),zn(l,(v,x)=>{x&&(g.unobserve(x),d.value=!1),v&&g.observe(v)},{flush:"post"})}return{intersectionRef:l,isIntersecting:d}}const Khe=Dn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Vs(),...RD(),...Qi({tag:"div"}),...cl()},"VProgressCircular"),Ghe=Ro()({name:"VProgressCircular",props:Khe(),setup(n,r){let{slots:l}=r;const d=20,g=2*Math.PI*d,v=Mn(),{themeClasses:x}=Hl(n),{sizeClasses:S,sizeStyles:M}=ID(n),{textColorClasses:R,textColorStyles:I}=Kh(es(n,"color")),{textColorClasses:L,textColorStyles:$}=Kh(es(n,"bgColor")),{intersectionRef:K,isIntersecting:Y}=EJ(),{resizeRef:ne,contentRect:oe}=Kk(),se=Ge(()=>Math.max(0,Math.min(100,parseFloat(n.modelValue)))),Me=Ge(()=>Number(n.width)),xe=Ge(()=>M.value?Number(n.size):oe.value?oe.value.width:Math.max(Me.value,32)),ee=Ge(()=>d/(1-Me.value/xe.value)*2),_e=Ge(()=>Me.value/xe.value*ee.value),le=Ge(()=>hs((100-se.value)/100*g));return cf(()=>{K.value=v.value,ne.value=v.value}),vs(()=>j(n.tag,{ref:v,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":Y.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},x.value,S.value,R.value,n.class],style:[M.value,I.value,n.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:se.value},{default:()=>[j("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ee.value} ${ee.value}`},[j("circle",{class:["v-progress-circular__underlay",L.value],style:$.value,fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":_e.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),j("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":_e.value,"stroke-dasharray":g,"stroke-dashoffset":le.value},null)]),l.default&&j("div",{class:"v-progress-circular__content"},[l.default({value:se.value})])]})),{}}}),Yh=Dn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Xh(n){return{dimensionStyles:Ge(()=>{const l={},d=hs(n.height),g=hs(n.maxHeight),v=hs(n.maxWidth),x=hs(n.minHeight),S=hs(n.minWidth),M=hs(n.width);return d!=null&&(l.height=d),g!=null&&(l.maxHeight=g),v!=null&&(l.maxWidth=v),x!=null&&(l.minHeight=x),S!=null&&(l.minWidth=S),M!=null&&(l.width=M),l})}}const dq={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},r8=Dn({location:String},"location");function i8(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2?arguments[2]:void 0;const{isRtl:d}=Ng();return{locationStyles:Ge(()=>{if(!n.location)return{};const{side:v,align:x}=D$(n.location.split(" ").length>1?n.location:`${n.location} center`,d.value);function S(R){return l?l(R):0}const M={};return v!=="center"&&(r?M[dq[v]]=`calc(100% - ${S(v)}px)`:M[v]=0),x!=="center"?r?M[dq[x]]=`calc(100% - ${S(x)}px)`:M[x]=0:(v==="center"?M.top=M.left="50%":M[{top:"left",bottom:"left",left:"top",right:"top"}[v]]="50%",M.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[v]),M})}}const qhe=Dn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Vs(),...r8({location:"top"}),...hm(),...Qi(),...cl()},"VProgressLinear"),Yhe=Ro()({name:"VProgressLinear",props:qhe(),emits:{"update:modelValue":n=>!0},setup(n,r){var ke;let{slots:l}=r;const d=Hi(n,"modelValue"),{isRtl:g,rtlClasses:v}=Ng(),{themeClasses:x}=Hl(n),{locationStyles:S}=i8(n),{textColorClasses:M,textColorStyles:R}=Kh(n,"color"),{backgroundColorClasses:I,backgroundColorStyles:L}=Wh(Ge(()=>n.bgColor||n.color)),{backgroundColorClasses:$,backgroundColorStyles:K}=Wh(Ge(()=>n.bufferColor||n.bgColor||n.color)),{backgroundColorClasses:Y,backgroundColorStyles:ne}=Wh(n,"color"),{roundedClasses:oe}=pm(n),{intersectionRef:se,isIntersecting:Me}=EJ(),xe=Ge(()=>parseFloat(n.max)),ee=Ge(()=>parseFloat(n.height)),_e=Ge(()=>$h(parseFloat(n.bufferValue)/xe.value*100,0,100)),le=Ge(()=>$h(parseFloat(d.value)/xe.value*100,0,100)),Ue=Ge(()=>g.value!==n.reverse),We=Ge(()=>n.indeterminate?"fade-transition":"slide-x-transition"),qe=di&&((ke=window.matchMedia)==null?void 0:ke.call(window,"(forced-colors: active)").matches);function st(Le){if(!se.value)return;const{left:O,right:Ke,width:ct}=se.value.getBoundingClientRect(),$t=Ue.value?ct-Le.clientX+(Ke-ct):Le.clientX-O;d.value=Math.round($t/ct*xe.value)}return vs(()=>j(n.tag,{ref:se,class:["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&Me.value,"v-progress-linear--reverse":Ue.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},oe.value,x.value,v.value,n.class],style:[{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?hs(ee.value):0,"--v-progress-linear-height":hs(ee.value),...n.absolute?S.value:{}},n.style],role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:le.value,onClick:n.clickable&&st},{default:()=>[n.stream&&j("div",{key:"stream",class:["v-progress-linear__stream",M.value],style:{...R.value,[Ue.value?"left":"right"]:hs(-ee.value),borderTop:`${hs(ee.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${hs(ee.value/4)})`,width:hs(100-_e.value,"%"),"--v-progress-linear-stream-to":hs(ee.value*(Ue.value?1:-1))}},null),j("div",{class:["v-progress-linear__background",qe?void 0:I.value],style:[L.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}]},null),j("div",{class:["v-progress-linear__buffer",qe?void 0:$.value],style:[K.value,{opacity:parseFloat(n.bufferOpacity),width:hs(_e.value,"%")}]},null),j(Wy,{name:We.value},{default:()=>[n.indeterminate?j("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Le=>j("div",{key:Le,class:["v-progress-linear__indeterminate",Le,qe?void 0:Y.value],style:ne.value},null))]):j("div",{class:["v-progress-linear__determinate",qe?void 0:Y.value],style:[ne.value,{width:hs(le.value,"%")}]},null)]}),l.default&&j("div",{class:"v-progress-linear__content"},[l.default({value:le.value,buffer:_e.value})])]})),{}}}),KU=Dn({loading:[Boolean,String]},"loader");function GU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{loaderClasses:Ge(()=>({[`${r}--loading`]:n.loading}))}}function AJ(n,r){var d;let{slots:l}=r;return j("div",{class:`${n.name}__loader`},[((d=l.default)==null?void 0:d.call(l,{color:n.color,isActive:n.active}))||j(Yhe,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const Xhe=["static","relative","fixed","absolute","sticky"],qU=Dn({position:{type:String,validator:n=>Xhe.includes(n)}},"position");function YU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{positionClasses:Ge(()=>n.position?`${r}--${n.position}`:void 0)}}function Jhe(){const n=Tl("useRoute");return Ge(()=>{var r;return(r=n==null?void 0:n.proxy)==null?void 0:r.$route})}function TJ(){var n,r;return(r=(n=Tl("useRouter"))==null?void 0:n.proxy)==null?void 0:r.$router}function a8(n,r){var L,$;const l=yue("RouterLink"),d=Ge(()=>!!(n.href||n.to)),g=Ge(()=>(d==null?void 0:d.value)||pG(r,"click")||pG(n,"click"));if(typeof l=="string"||!("useLink"in l)){const K=es(n,"href");return{isLink:d,isClickable:g,href:K,linkProps:Ql({href:K})}}const v=Ge(()=>({...n,to:es(()=>n.to||"")})),x=l.useLink(v.value),S=Ge(()=>n.to?x:void 0),M=Jhe(),R=Ge(()=>{var K,Y,ne;return S.value?n.exact?M.value?((ne=S.value.isExactActive)==null?void 0:ne.value)&&Jk(S.value.route.value.query,M.value.query):((Y=S.value.isExactActive)==null?void 0:Y.value)??!1:((K=S.value.isActive)==null?void 0:K.value)??!1:!1}),I=Ge(()=>{var K;return n.to?(K=S.value)==null?void 0:K.route.value.href:n.href});return{isLink:d,isClickable:g,isActive:R,route:(L=S.value)==null?void 0:L.route,navigate:($=S.value)==null?void 0:$.navigate,href:I,linkProps:Ql({href:I,"aria-current":Ge(()=>R.value?"page":void 0)})}}const l8=Dn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let a$=!1;function Qhe(n,r){let l=!1,d,g;di&&(Fs(()=>{window.addEventListener("popstate",v),d=n==null?void 0:n.beforeEach((x,S,M)=>{a$?l?r(M):M():setTimeout(()=>l?r(M):M()),a$=!0}),g=n==null?void 0:n.afterEach(()=>{a$=!1})}),Du(()=>{window.removeEventListener("popstate",v),d==null||d(),g==null||g()}));function v(x){var S;(S=x.state)!=null&&S.replaced||(l=!0,setTimeout(()=>l=!1))}}function epe(n,r){zn(()=>{var l;return(l=n.isActive)==null?void 0:l.value},l=>{n.isLink.value&&l&&r&&Fs(()=>{r(!0)})},{immediate:!0})}const G$=Symbol("rippleStop"),tpe=80;function fq(n,r){n.style.transform=r,n.style.webkitTransform=r}function q$(n){return n.constructor.name==="TouchEvent"}function OJ(n){return n.constructor.name==="KeyboardEvent"}const npe=function(n,r){var L;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=0,g=0;if(!OJ(n)){const $=r.getBoundingClientRect(),K=q$(n)?n.touches[n.touches.length-1]:n;d=K.clientX-$.left,g=K.clientY-$.top}let v=0,x=.3;(L=r._ripple)!=null&&L.circle?(x=.15,v=r.clientWidth/2,v=l.center?v:v+Math.sqrt((d-v)**2+(g-v)**2)/4):v=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const S=`${(r.clientWidth-v*2)/2}px`,M=`${(r.clientHeight-v*2)/2}px`,R=l.center?S:`${d-v}px`,I=l.center?M:`${g-v}px`;return{radius:v,scale:x,x:R,y:I,centerX:S,centerY:M}},DL={show(n,r){var K;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((K=r==null?void 0:r._ripple)!=null&&K.enabled))return;const d=document.createElement("span"),g=document.createElement("span");d.appendChild(g),d.className="v-ripple__container",l.class&&(d.className+=` ${l.class}`);const{radius:v,scale:x,x:S,y:M,centerX:R,centerY:I}=npe(n,r,l),L=`${v*2}px`;g.className="v-ripple__animation",g.style.width=L,g.style.height=L,r.appendChild(d);const $=window.getComputedStyle(r);$&&$.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),fq(g,`translate(${S}, ${M}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),setTimeout(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),fq(g,`translate(${R}, ${I}) scale3d(1,1,1)`)},0)},hide(n){var v;if(!((v=n==null?void 0:n._ripple)!=null&&v.enabled))return;const r=n.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const l=r[r.length-1];if(l.dataset.isHiding)return;l.dataset.isHiding="true";const d=performance.now()-Number(l.dataset.activated),g=Math.max(250-d,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((S=l.parentNode)==null?void 0:S.parentNode)===n&&n.removeChild(l.parentNode)},300)},g)}};function DJ(n){return typeof n>"u"||!!n}function sD(n){const r={},l=n.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||n[G$])){if(n[G$]=!0,q$(n))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(r.center=l._ripple.centered||OJ(n),l._ripple.class&&(r.class=l._ripple.class),q$(n)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{DL.show(n,l,r)},l._ripple.showTimer=window.setTimeout(()=>{var d;(d=l==null?void 0:l._ripple)!=null&&d.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},tpe)}else DL.show(n,l,r)}}function mq(n){n[G$]=!0}function lm(n){const r=n.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),n.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{lm(n)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),DL.hide(r)}}function RJ(n){const r=n.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let rD=!1;function IJ(n){!rD&&(n.keyCode===fG.enter||n.keyCode===fG.space)&&(rD=!0,sD(n))}function NJ(n){rD=!1,lm(n)}function PJ(n){rD&&(rD=!1,lm(n))}function MJ(n,r,l){const{value:d,modifiers:g}=r,v=DJ(d);if(v||DL.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=v,n._ripple.centered=g.center,n._ripple.circle=g.circle,Wde(d)&&d.class&&(n._ripple.class=d.class),v&&!l){if(g.stop){n.addEventListener("touchstart",mq,{passive:!0}),n.addEventListener("mousedown",mq);return}n.addEventListener("touchstart",sD,{passive:!0}),n.addEventListener("touchend",lm,{passive:!0}),n.addEventListener("touchmove",RJ,{passive:!0}),n.addEventListener("touchcancel",lm),n.addEventListener("mousedown",sD),n.addEventListener("mouseup",lm),n.addEventListener("mouseleave",lm),n.addEventListener("keydown",IJ),n.addEventListener("keyup",NJ),n.addEventListener("blur",PJ),n.addEventListener("dragstart",lm,{passive:!0})}else!v&&l&&BJ(n)}function BJ(n){n.removeEventListener("mousedown",sD),n.removeEventListener("touchstart",sD),n.removeEventListener("touchend",lm),n.removeEventListener("touchmove",RJ),n.removeEventListener("touchcancel",lm),n.removeEventListener("mouseup",lm),n.removeEventListener("mouseleave",lm),n.removeEventListener("keydown",IJ),n.removeEventListener("keyup",NJ),n.removeEventListener("dragstart",lm),n.removeEventListener("blur",PJ)}function ope(n,r){MJ(n,r,!1)}function spe(n){delete n._ripple,BJ(n)}function rpe(n,r){if(r.value===r.oldValue)return;const l=DJ(r.oldValue);MJ(n,r,l)}const ND={mounted:ope,unmounted:spe,updated:rpe},ipe=Dn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:kJ},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:fi,appendIcon:fi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...R1(),...Vs(),...Pg(),...Yh(),...N1(),...CJ(),...KU(),...r8(),...qU(),...hm(),...l8(),...RD(),...Qi({tag:"button"}),...cl(),...M1({variant:"elevated"})},"VBtn"),xo=Ro()({name:"VBtn",props:ipe(),emits:{"group:selected":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{borderClasses:v}=I1(n),{densityClasses:x}=qh(n),{dimensionStyles:S}=Xh(n),{elevationClasses:M}=P1(n),{loaderClasses:R}=GU(n),{locationStyles:I}=i8(n),{positionClasses:L}=YU(n),{roundedClasses:$}=pm(n),{sizeClasses:K,sizeStyles:Y}=ID(n),ne=_J(n,n.symbol,!1),oe=a8(n,l),se=Ge(()=>{var ke;return n.active!==void 0?n.active:oe.isLink.value?(ke=oe.isActive)==null?void 0:ke.value:ne==null?void 0:ne.isSelected.value}),Me=Ge(()=>se.value?n.activeColor??n.color:n.color),xe=Ge(()=>{var Le,O;return{color:(ne==null?void 0:ne.isSelected.value)&&(!oe.isLink.value||((Le=oe.isActive)==null?void 0:Le.value))||!ne||((O=oe.isActive)==null?void 0:O.value)?Me.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:ee,colorStyles:_e,variantClasses:le}=oE(xe),Ue=Ge(()=>(ne==null?void 0:ne.disabled.value)||n.disabled),We=Ge(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),qe=Ge(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function st(ke){var Le;Ue.value||oe.isLink.value&&(ke.metaKey||ke.ctrlKey||ke.shiftKey||ke.button!==0||l.target==="_blank")||((Le=oe.navigate)==null||Le.call(oe,ke),ne==null||ne.toggle())}return epe(oe,ne==null?void 0:ne.select),vs(()=>{const ke=oe.isLink.value?"a":n.tag,Le=!!(n.prependIcon||d.prepend),O=!!(n.appendIcon||d.append),Ke=!!(n.icon&&n.icon!==!0);return Qn(j(ke,Wo({type:ke==="a"?void 0:"button",class:["v-btn",ne==null?void 0:ne.selectedClass.value,{"v-btn--active":se.value,"v-btn--block":n.block,"v-btn--disabled":Ue.value,"v-btn--elevated":We.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},g.value,v.value,ee.value,x.value,M.value,R.value,L.value,$.value,K.value,le.value,n.class],style:[_e.value,S.value,I.value,Y.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:Ue.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:st,value:qe.value},oe.linkProps),{default:()=>{var ct;return[nE(!0,"v-btn"),!n.icon&&Le&&j("span",{key:"prepend",class:"v-btn__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},d.prepend):j(qn,{key:"prepend-icon",icon:n.prependIcon},null)]),j("span",{class:"v-btn__content","data-no-activator":""},[!d.default&&Ke?j(qn,{key:"content-icon",icon:n.icon},null):j(xa,{key:"content-defaults",disabled:!Ke,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var $t;return[(($t=d.default)==null?void 0:$t.call(d))??n.text]}})]),!n.icon&&O&&j("span",{key:"append",class:"v-btn__append"},[d.append?j(xa,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},d.append):j(qn,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&j("span",{key:"loader",class:"v-btn__loader"},[((ct=d.loader)==null?void 0:ct.call(d))??j(Ghe,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[ND,!Ue.value&&n.ripple,"",{center:!!n.icon}]])}),{group:ne}}}),Vh=Ro()({name:"VCardActions",props:Vs(),setup(n,r){let{slots:l}=r;return Qy({VBtn:{slim:!0,variant:"text"}}),vs(()=>{var d;return j("div",{class:["v-card-actions",n.class],style:n.style},[(d=l.default)==null?void 0:d.call(l)])}),{}}}),ape=Dn({opacity:[Number,String],...Vs(),...Qi()},"VCardSubtitle"),lpe=Ro()({name:"VCardSubtitle",props:ape(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-card-subtitle",n.class],style:[{"--v-card-subtitle-opacity":n.opacity},n.style]},l)),{}}}),c8=GL("v-card-title");function cpe(n){return{aspectStyles:Ge(()=>{const r=Number(n.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const LJ=Dn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Vs(),...Yh()},"VResponsive"),gq=Ro()({name:"VResponsive",props:LJ(),setup(n,r){let{slots:l}=r;const{aspectStyles:d}=cpe(n),{dimensionStyles:g}=Xh(n);return vs(()=>{var v;return j("div",{class:["v-responsive",{"v-responsive--inline":n.inline},n.class],style:[g.value,n.style]},[j("div",{class:"v-responsive__sizer",style:d.value},null),(v=l.additional)==null?void 0:v.call(l),l.default&&j("div",{class:["v-responsive__content",n.contentClass]},[l.default()])])}),{}}}),sE=Dn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:n=>n!==!0}},"transition"),Vy=(n,r)=>{let{slots:l}=r;const{transition:d,disabled:g,group:v,...x}=n,{component:S=v?TU:Wy,...M}=typeof d=="object"?d:{};return xv(S,Wo(typeof d=="string"?{name:g?"":d}:M,typeof d=="string"?{}:Object.fromEntries(Object.entries({disabled:g,group:v}).filter(R=>{let[I,L]=R;return L!==void 0})),x),l)};function upe(n,r){if(!OU)return;const l=r.modifiers||{},d=r.value,{handler:g,options:v}=typeof d=="object"?d:{handler:d,options:{}},x=new IntersectionObserver(function(){var L;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1?arguments[1]:void 0;const R=(L=n._observe)==null?void 0:L[r.instance.$.uid];if(!R)return;const I=S.some($=>$.isIntersecting);g&&(!l.quiet||R.init)&&(!l.once||I||R.init)&&g(I,S,M),I&&l.once?FJ(n,r):R.init=!0},v);n._observe=Object(n._observe),n._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(n)}function FJ(n,r){var d;const l=(d=n._observe)==null?void 0:d[r.instance.$.uid];l&&(l.observer.unobserve(n),delete n._observe[r.instance.$.uid])}const XU={mounted:upe,unmounted:FJ},dpe=Dn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...LJ(),...Vs(),...hm(),...sE()},"VImg"),PD=Ro()({name:"VImg",directives:{intersect:XU},props:dpe(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,r){let{emit:l,slots:d}=r;const{backgroundColorClasses:g,backgroundColorStyles:v}=Wh(es(n,"color")),{roundedClasses:x}=pm(n),S=Tl("VImg"),M=Ao(""),R=Mn(),I=Ao(n.eager?"loading":"idle"),L=Ao(),$=Ao(),K=Ge(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),Y=Ge(()=>K.value.aspect||L.value/$.value||0);zn(()=>n.src,()=>{ne(I.value!=="idle")}),zn(Y,(Le,O)=>{!Le&&O&&R.value&&ee(R.value)}),xU(()=>ne());function ne(Le){if(!(n.eager&&Le)&&!(OU&&!Le&&!n.eager)){if(I.value="loading",K.value.lazySrc){const O=new Image;O.src=K.value.lazySrc,ee(O,null)}K.value.src&&Fs(()=>{var O;l("loadstart",((O=R.value)==null?void 0:O.currentSrc)||K.value.src),setTimeout(()=>{var Ke;if(!S.isUnmounted)if((Ke=R.value)!=null&&Ke.complete){if(R.value.naturalWidth||se(),I.value==="error")return;Y.value||ee(R.value,null),I.value==="loading"&&oe()}else Y.value||ee(R.value),Me()})})}}function oe(){var Le;S.isUnmounted||(Me(),ee(R.value),I.value="loaded",l("load",((Le=R.value)==null?void 0:Le.currentSrc)||K.value.src))}function se(){var Le;S.isUnmounted||(I.value="error",l("error",((Le=R.value)==null?void 0:Le.currentSrc)||K.value.src))}function Me(){const Le=R.value;Le&&(M.value=Le.currentSrc||Le.src)}let xe=-1;wc(()=>{clearTimeout(xe)});function ee(Le){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Ke=()=>{if(clearTimeout(xe),S.isUnmounted)return;const{naturalHeight:ct,naturalWidth:$t}=Le;ct||$t?(L.value=$t,$.value=ct):!Le.complete&&I.value==="loading"&&O!=null?xe=window.setTimeout(Ke,O):(Le.currentSrc.endsWith(".svg")||Le.currentSrc.startsWith("data:image/svg+xml"))&&(L.value=1,$.value=1)};Ke()}const _e=Ge(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),le=()=>{var Ke;if(!K.value.src||I.value==="idle")return null;const Le=j("img",{class:["v-img__img",_e.value],style:{objectPosition:n.position},src:K.value.src,srcset:K.value.srcset,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:R,onLoad:oe,onError:se},null),O=(Ke=d.sources)==null?void 0:Ke.call(d);return j(Vy,{transition:n.transition,appear:!0},{default:()=>[Qn(O?j("picture",{class:"v-img__picture"},[O,Le]):Le,[[zo,I.value==="loaded"]])]})},Ue=()=>j(Vy,{transition:n.transition},{default:()=>[K.value.lazySrc&&I.value!=="loaded"&&j("img",{class:["v-img__img","v-img__img--preload",_e.value],style:{objectPosition:n.position},src:K.value.lazySrc,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),We=()=>d.placeholder?j(Vy,{transition:n.transition,appear:!0},{default:()=>[(I.value==="loading"||I.value==="error"&&!d.error)&&j("div",{class:"v-img__placeholder"},[d.placeholder()])]}):null,qe=()=>d.error?j(Vy,{transition:n.transition,appear:!0},{default:()=>[I.value==="error"&&j("div",{class:"v-img__error"},[d.error()])]}):null,st=()=>n.gradient?j("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,ke=Ao(!1);{const Le=zn(Y,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ke.value=!0})}),Le())})}return vs(()=>{const Le=gq.filterProps(n);return Qn(j(gq,Wo({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!ke.value},g.value,x.value,n.class],style:[{width:hs(n.width==="auto"?L.value:n.width)},v.value,n.style]},Le,{aspectRatio:Y.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>j(us,null,[j(le,null,null),j(Ue,null,null),j(st,null,null),j(We,null,null),j(qe,null,null)]),default:d.default}),[[Xy("intersect"),{handler:ne,options:n.options},null,{once:!0}]])}),{currentSrc:M,image:R,state:I,naturalWidth:L,naturalHeight:$}}}),fpe=Dn({start:Boolean,end:Boolean,icon:fi,image:String,text:String,...R1(),...Vs(),...Pg(),...hm(),...RD(),...Qi(),...cl(),...M1({variant:"flat"})},"VAvatar"),Gy=Ro()({name:"VAvatar",props:fpe(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{borderClasses:g}=I1(n),{colorClasses:v,colorStyles:x,variantClasses:S}=oE(n),{densityClasses:M}=qh(n),{roundedClasses:R}=pm(n),{sizeClasses:I,sizeStyles:L}=ID(n);return vs(()=>j(n.tag,{class:["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},d.value,g.value,v.value,M.value,R.value,I.value,S.value,n.class],style:[x.value,L.value,n.style]},{default:()=>[l.default?j(xa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[l.default()]}):n.image?j(PD,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?j(qn,{key:"icon",icon:n.icon},null):n.text,nE(!1,"v-avatar")]})),{}}}),mpe=Dn({appendAvatar:String,appendIcon:fi,prependAvatar:String,prependIcon:fi,subtitle:[String,Number],title:[String,Number],...Vs(),...Pg()},"VCardItem"),gpe=Ro()({name:"VCardItem",props:mpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var R;const d=!!(n.prependAvatar||n.prependIcon),g=!!(d||l.prepend),v=!!(n.appendAvatar||n.appendIcon),x=!!(v||l.append),S=!!(n.title!=null||l.title),M=!!(n.subtitle!=null||l.subtitle);return j("div",{class:["v-card-item",n.class],style:n.style},[g&&j("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?j(xa,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},l.prepend):j(us,null,[n.prependAvatar&&j(Gy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(qn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),j("div",{class:"v-card-item__content"},[S&&j(c8,{key:"title"},{default:()=>{var I;return[((I=l.title)==null?void 0:I.call(l))??n.title]}}),M&&j(lpe,{key:"subtitle"},{default:()=>{var I;return[((I=l.subtitle)==null?void 0:I.call(l))??n.subtitle]}}),(R=l.default)==null?void 0:R.call(l)]),x&&j("div",{key:"append",class:"v-card-item__append"},[l.append?j(xa,{key:"append-defaults",disabled:!v,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},l.append):j(us,null,[n.appendIcon&&j(qn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(Gy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),hpe=Dn({opacity:[Number,String],...Vs(),...Qi()},"VCardText"),zh=Ro()({name:"VCardText",props:hpe(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-card-text",n.class],style:[{"--v-card-text-opacity":n.opacity},n.style]},l)),{}}}),ppe=Dn({appendAvatar:String,appendIcon:fi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...R1(),...Vs(),...Pg(),...Yh(),...N1(),...KU(),...r8(),...qU(),...hm(),...l8(),...Qi(),...cl(),...M1({variant:"elevated"})},"VCard"),hv=Ro()({name:"VCard",directives:{Ripple:ND},props:ppe(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{borderClasses:v}=I1(n),{colorClasses:x,colorStyles:S,variantClasses:M}=oE(n),{densityClasses:R}=qh(n),{dimensionStyles:I}=Xh(n),{elevationClasses:L}=P1(n),{loaderClasses:$}=GU(n),{locationStyles:K}=i8(n),{positionClasses:Y}=YU(n),{roundedClasses:ne}=pm(n),oe=a8(n,l),se=Ge(()=>n.link!==!1&&oe.isLink.value),Me=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||oe.isClickable.value));return vs(()=>{const xe=se.value?"a":n.tag,ee=!!(d.title||n.title!=null),_e=!!(d.subtitle||n.subtitle!=null),le=ee||_e,Ue=!!(d.append||n.appendAvatar||n.appendIcon),We=!!(d.prepend||n.prependAvatar||n.prependIcon),qe=!!(d.image||n.image),st=le||We||Ue,ke=!!(d.text||n.text!=null);return Qn(j(xe,Wo({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":Me.value},g.value,v.value,x.value,R.value,L.value,$.value,Y.value,ne.value,M.value,n.class],style:[S.value,I.value,K.value,n.style],onClick:Me.value&&oe.navigate,tabindex:n.disabled?-1:void 0},oe.linkProps),{default:()=>{var Le;return[qe&&j("div",{key:"image",class:"v-card__image"},[d.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},d.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(AJ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:d.loader}),st&&j(gpe,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:d.item,prepend:d.prepend,title:d.title,subtitle:d.subtitle,append:d.append}),ke&&j(zh,{key:"text"},{default:()=>{var O;return[((O=d.text)==null?void 0:O.call(d))??n.text]}}),(Le=d.default)==null?void 0:Le.call(d),d.actions&&j(Vh,null,{default:d.actions}),nE(Me.value,"v-card")]}}),[[Xy("ripple"),Me.value&&n.ripple]])}),{}}}),vpe=Dn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function vm(n,r,l){return Ro()({name:n,props:vpe({mode:l,origin:r}),setup(d,g){let{slots:v}=g;const x={onBeforeEnter(S){d.origin&&(S.style.transformOrigin=d.origin)},onLeave(S){if(d.leaveAbsolute){const{offsetTop:M,offsetLeft:R,offsetWidth:I,offsetHeight:L}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${M}px`,S.style.left=`${R}px`,S.style.width=`${I}px`,S.style.height=`${L}px`}d.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(d.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:M,top:R,left:I,width:L,height:$}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=M||"",S.style.top=R||"",S.style.left=I||"",S.style.width=L||"",S.style.height=$||""}}};return()=>{const S=d.group?TU:Wy;return xv(S,{name:d.disabled?"":n,css:!d.disabled,...d.group?void 0:{mode:d.mode},...d.disabled?{}:x},v.default)}}})}function VJ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Ro()({name:n,props:{mode:{type:String,default:l},disabled:Boolean,group:Boolean},setup(d,g){let{slots:v}=g;const x=d.group?TU:Wy;return()=>xv(x,{name:d.disabled?"":n,css:!d.disabled,...d.disabled?{}:r},v.default)}})}function zJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",d=gm(`offset-${l}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[l]:x.style[l]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const M=`${x[d]}px`;x.style[l]="0",x.offsetHeight,x.style.transition=S.transition,n&&x._parent&&x._parent.classList.add(n),requestAnimationFrame(()=>{x.style[l]=M})},onAfterEnter:v,onEnterCancelled:v,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[l]:x.style[l]},x.style.overflow="hidden",x.style[l]=`${x[d]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[l]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){n&&x._parent&&x._parent.classList.remove(n),v(x)}function v(x){const S=x._initialStyle[l];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[l]=S),delete x._initialStyle}}const bpe=Dn({target:[Object,Array]},"v-dialog-transition"),JU=Ro()({name:"VDialogTransition",props:bpe(),setup(n,r){let{slots:l}=r;const d={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,v){var $;await new Promise(K=>requestAnimationFrame(K)),await new Promise(K=>requestAnimationFrame(K)),g.style.visibility="";const{x,y:S,sx:M,sy:R,speed:I}=pq(n.target,g),L=Mk(g,[{transform:`translate(${x}px, ${S}px) scale(${M}, ${R})`,opacity:0},{}],{duration:225*I,easing:Tfe});($=hq(g))==null||$.forEach(K=>{Mk(K,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*I,easing:wL})}),L.finished.then(()=>v())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,v){var $;await new Promise(K=>requestAnimationFrame(K));const{x,y:S,sx:M,sy:R,speed:I}=pq(n.target,g);Mk(g,[{},{transform:`translate(${x}px, ${S}px) scale(${M}, ${R})`,opacity:0}],{duration:125*I,easing:Ofe}).finished.then(()=>v()),($=hq(g))==null||$.forEach(K=>{Mk(K,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*I,easing:wL})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>n.target?j(Wy,Wo({name:"dialog-transition"},d,{css:!1}),l):j(Wy,{name:"dialog-transition"},l)}});function hq(n){var l;const r=(l=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:l.children;return r&&[...r]}function pq(n,r){const l=yX(n),d=NU(r),[g,v]=getComputedStyle(r).transformOrigin.split(" ").map(se=>parseFloat(se)),[x,S]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let M=l.left+l.width/2;x==="left"||S==="left"?M-=l.width/2:(x==="right"||S==="right")&&(M+=l.width/2);let R=l.top+l.height/2;x==="top"||S==="top"?R-=l.height/2:(x==="bottom"||S==="bottom")&&(R+=l.height/2);const I=l.width/d.width,L=l.height/d.height,$=Math.max(1,I,L),K=I/$||0,Y=L/$||0,ne=d.width*d.height/(window.innerWidth*window.innerHeight),oe=ne>.12?Math.min(1.5,(ne-.12)*10+1):1;return{x:M-(g+d.left),y:R-(v+d.top),sx:K,sy:Y,speed:oe}}vm("fab-transition","center center","out-in");vm("dialog-bottom-transition");vm("dialog-top-transition");const vq=vm("fade-transition");vm("scale-transition");vm("scroll-x-transition");vm("scroll-x-reverse-transition");vm("scroll-y-transition");vm("scroll-y-reverse-transition");vm("slide-x-transition");vm("slide-x-reverse-transition");const HJ=vm("slide-y-transition");vm("slide-y-reverse-transition");const $J=VJ("expand-transition",zJ()),UJ=VJ("expand-x-transition",zJ("",!0));function l$(n,r){return{x:n.x+r.x,y:n.y+r.y}}function ype(n,r){return{x:n.x-r.x,y:n.y-r.y}}function bq(n,r){if(n.side==="top"||n.side==="bottom"){const{side:l,align:d}=n,g=d==="left"?0:d==="center"?r.width/2:d==="right"?r.width:d,v=l==="top"?0:l==="bottom"?r.height:l;return l$({x:g,y:v},r)}else if(n.side==="left"||n.side==="right"){const{side:l,align:d}=n,g=l==="left"?0:l==="right"?r.width:l,v=d==="top"?0:d==="center"?r.height/2:d==="bottom"?r.height:d;return l$({x:g,y:v},r)}return l$({x:r.width/2,y:r.height/2},r)}const WJ={static:Cpe,connected:Spe},xpe=Dn({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in WJ},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function wpe(n,r){const l=Mn({}),d=Mn();di&&Rg(()=>!!(r.isActive.value&&n.locationStrategy),v=>{var x,S;zn(()=>n.locationStrategy,v),Du(()=>{window.removeEventListener("resize",g),d.value=void 0}),window.addEventListener("resize",g,{passive:!0}),typeof n.locationStrategy=="function"?d.value=(x=n.locationStrategy(r,n,l))==null?void 0:x.updateLocation:d.value=(S=WJ[n.locationStrategy](r,n,l))==null?void 0:S.updateLocation});function g(v){var x;(x=d.value)==null||x.call(d,v)}return{contentStyles:l,updateLocation:d}}function Cpe(){}function _pe(n,r){const l=NU(n);return r?l.x+=parseFloat(n.style.right||0):l.x-=parseFloat(n.style.left||0),l.y-=parseFloat(n.style.top||0),l}function Spe(n,r,l){(Array.isArray(n.target.value)||Rfe(n.target.value))&&Object.assign(l.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:v}=RU(()=>{const Y=D$(r.location,n.isRtl.value),ne=r.origin==="overlap"?Y:r.origin==="auto"?KH(Y):D$(r.origin,n.isRtl.value);return Y.side===ne.side&&Y.align===GH(ne).align?{preferredAnchor:vG(Y),preferredOrigin:vG(ne)}:{preferredAnchor:Y,preferredOrigin:ne}}),[x,S,M,R]=["minWidth","minHeight","maxWidth","maxHeight"].map(Y=>Ge(()=>{const ne=parseFloat(r[Y]);return isNaN(ne)?1/0:ne})),I=Ge(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const Y=r.offset.split(" ").map(parseFloat);return Y.length<2&&Y.push(0),Y}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let L=!1;const $=new ResizeObserver(()=>{L&&K()});zn([n.target,n.contentEl],(Y,ne)=>{let[oe,se]=Y,[Me,xe]=ne;Me&&!Array.isArray(Me)&&$.unobserve(Me),oe&&!Array.isArray(oe)&&$.observe(oe),xe&&$.unobserve(xe),se&&$.observe(se)},{immediate:!0}),Du(()=>{$.disconnect()});function K(){if(L=!1,requestAnimationFrame(()=>L=!0),!n.target.value||!n.contentEl.value)return;const Y=yX(n.target.value),ne=_pe(n.contentEl.value,n.isRtl.value),oe=CL(n.contentEl.value),se=12;oe.length||(oe.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(ne.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),ne.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Me=oe.reduce((ke,Le)=>{const O=Le.getBoundingClientRect(),Ke=new rC({x:Le===document.documentElement?0:O.x,y:Le===document.documentElement?0:O.y,width:Le.clientWidth,height:Le.clientHeight});return ke?new rC({x:Math.max(ke.left,Ke.left),y:Math.max(ke.top,Ke.top),width:Math.min(ke.right,Ke.right)-Math.max(ke.left,Ke.left),height:Math.min(ke.bottom,Ke.bottom)-Math.max(ke.top,Ke.top)}):Ke},void 0);Me.x+=se,Me.y+=se,Me.width-=se*2,Me.height-=se*2;let xe={anchor:g.value,origin:v.value};function ee(ke){const Le=new rC(ne),O=bq(ke.anchor,Y),Ke=bq(ke.origin,Le);let{x:ct,y:$t}=ype(O,Ke);switch(ke.anchor.side){case"top":$t-=I.value[0];break;case"bottom":$t+=I.value[0];break;case"left":ct-=I.value[0];break;case"right":ct+=I.value[0];break}switch(ke.anchor.align){case"top":$t-=I.value[1];break;case"bottom":$t+=I.value[1];break;case"left":ct-=I.value[1];break;case"right":ct+=I.value[1];break}return Le.x+=ct,Le.y+=$t,Le.width=Math.min(Le.width,M.value),Le.height=Math.min(Le.height,R.value),{overflows:yG(Le,Me),x:ct,y:$t}}let _e=0,le=0;const Ue={x:0,y:0},We={x:!1,y:!1};let qe=-1;for(;!(qe++>10);){const{x:ke,y:Le,overflows:O}=ee(xe);_e+=ke,le+=Le,ne.x+=ke,ne.y+=Le;{const Ke=bG(xe.anchor),ct=O.x.before||O.x.after,$t=O.y.before||O.y.after;let Jt=!1;if(["x","y"].forEach(et=>{if(et==="x"&&ct&&!We.x||et==="y"&&$t&&!We.y){const pt={anchor:{...xe.anchor},origin:{...xe.origin}},Lt=et==="x"?Ke==="y"?GH:KH:Ke==="y"?KH:GH;pt.anchor=Lt(pt.anchor),pt.origin=Lt(pt.origin);const{overflows:tt}=ee(pt);(tt[et].before<=O[et].before&&tt[et].after<=O[et].after||tt[et].before+tt[et].after<(O[et].before+O[et].after)/2)&&(xe=pt,Jt=We[et]=!0)}}),Jt)continue}O.x.before&&(_e+=O.x.before,ne.x+=O.x.before),O.x.after&&(_e-=O.x.after,ne.x-=O.x.after),O.y.before&&(le+=O.y.before,ne.y+=O.y.before),O.y.after&&(le-=O.y.after,ne.y-=O.y.after);{const Ke=yG(ne,Me);Ue.x=Me.width-Ke.x.before-Ke.x.after,Ue.y=Me.height-Ke.y.before-Ke.y.after,_e+=Ke.x.before,ne.x+=Ke.x.before,le+=Ke.y.before,ne.y+=Ke.y.before}break}const st=bG(xe.anchor);return Object.assign(l.value,{"--v-overlay-anchor-origin":`${xe.anchor.side} ${xe.anchor.align}`,transformOrigin:`${xe.origin.side} ${xe.origin.align}`,top:hs(c$(le)),left:n.isRtl.value?void 0:hs(c$(_e)),right:n.isRtl.value?hs(c$(-_e)):void 0,minWidth:hs(st==="y"?Math.min(x.value,Y.width):x.value),maxWidth:hs(yq($h(Ue.x,x.value===1/0?0:x.value,M.value))),maxHeight:hs(yq($h(Ue.y,S.value===1/0?0:S.value,R.value)))}),{available:Ue,contentBox:ne}}return zn(()=>[g.value,v.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>K()),Fs(()=>{const Y=K();if(!Y)return;const{available:ne,contentBox:oe}=Y;oe.height>ne.y&&requestAnimationFrame(()=>{K(),requestAnimationFrame(()=>{K()})})}),{updateLocation:K}}function c$(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function yq(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let Y$=!0;const RL=[];function kpe(n){!Y$||RL.length?(RL.push(n),X$()):(Y$=!1,n(),X$())}let xq=-1;function X$(){cancelAnimationFrame(xq),xq=requestAnimationFrame(()=>{const n=RL.shift();n&&n(),RL.length?X$():Y$=!0})}const aL={none:null,close:Tpe,block:Ope,reposition:Dpe},Epe=Dn({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in aL}},"VOverlay-scroll-strategies");function Ape(n,r){if(!di)return;let l;cf(async()=>{l==null||l.stop(),r.isActive.value&&n.scrollStrategy&&(l=CD(),await new Promise(d=>setTimeout(d)),l.active&&l.run(()=>{var d;typeof n.scrollStrategy=="function"?n.scrollStrategy(r,n,l):(d=aL[n.scrollStrategy])==null||d.call(aL,r,n,l)}))}),Du(()=>{l==null||l.stop()})}function Tpe(n){function r(l){n.isActive.value=!1}ZJ(n.targetEl.value??n.contentEl.value,r)}function Ope(n,r){var x;const l=(x=n.root.value)==null?void 0:x.offsetParent,d=[...new Set([...CL(n.targetEl.value,r.contained?l:void 0),...CL(n.contentEl.value,r.contained?l:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,v=(S=>BU(S)&&S)(l||document.documentElement);v&&n.root.value.classList.add("v-overlay--scroll-blocked"),d.forEach((S,M)=>{S.style.setProperty("--v-body-scroll-x",hs(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",hs(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",hs(g)),S.classList.add("v-overlay-scroll-blocked")}),Du(()=>{d.forEach((S,M)=>{const R=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),I=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),L=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-R,S.scrollTop=-I,S.style.scrollBehavior=L}),v&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Dpe(n,r,l){let d=!1,g=-1,v=-1;function x(S){kpe(()=>{var I,L;const M=performance.now();(L=(I=n.updateLocation).value)==null||L.call(I,S),d=(performance.now()-M)/(1e3/60)>2})}v=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{l.run(()=>{ZJ(n.targetEl.value??n.contentEl.value,S=>{d?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Du(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(v),cancelAnimationFrame(g)})}function ZJ(n,r){const l=[document,...CL(n)];l.forEach(d=>{d.addEventListener("scroll",r,{passive:!0})}),Du(()=>{l.forEach(d=>{d.removeEventListener("scroll",r)})})}const J$=Symbol.for("vuetify:v-menu"),jJ=Dn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function KJ(n,r){let l=()=>{};function d(x){l==null||l();const S=Number(x?n.openDelay:n.closeDelay);return new Promise(M=>{l=Xde(S,()=>{r==null||r(x),M(x)})})}function g(){return d(!0)}function v(){return d(!1)}return{clearDelay:l,runOpenDelay:g,runCloseDelay:v}}const Rpe=Dn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...jJ()},"VOverlay-activator");function Ipe(n,r){let{isActive:l,isTop:d,contentEl:g}=r;const v=Tl("useActivator"),x=Mn();let S=!1,M=!1,R=!0;const I=Ge(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),L=Ge(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!I.value),{runOpenDelay:$,runCloseDelay:K}=KJ(n,We=>{We===(n.openOnHover&&S||I.value&&M)&&!(n.openOnHover&&l.value&&!d.value)&&(l.value!==We&&(R=!0),l.value=We)}),Y=Mn(),ne={onClick:We=>{We.stopPropagation(),x.value=We.currentTarget||We.target,l.value||(Y.value=[We.clientX,We.clientY]),l.value=!l.value},onMouseenter:We=>{var qe;(qe=We.sourceCapabilities)!=null&&qe.firesTouchEvents||(S=!0,x.value=We.currentTarget||We.target,$())},onMouseleave:We=>{S=!1,K()},onFocus:We=>{Zk(We.target,":focus-visible")!==!1&&(M=!0,We.stopPropagation(),x.value=We.currentTarget||We.target,$())},onBlur:We=>{M=!1,We.stopPropagation(),K()}},oe=Ge(()=>{const We={};return L.value&&(We.onClick=ne.onClick),n.openOnHover&&(We.onMouseenter=ne.onMouseenter,We.onMouseleave=ne.onMouseleave),I.value&&(We.onFocus=ne.onFocus,We.onBlur=ne.onBlur),We}),se=Ge(()=>{const We={};if(n.openOnHover&&(We.onMouseenter=()=>{S=!0,$()},We.onMouseleave=()=>{S=!1,K()}),I.value&&(We.onFocusin=()=>{M=!0,$()},We.onFocusout=()=>{M=!1,K()}),n.closeOnContentClick){const qe=wa(J$,null);We.onClick=()=>{l.value=!1,qe==null||qe.closeParents()}}return We}),Me=Ge(()=>{const We={};return n.openOnHover&&(We.onMouseenter=()=>{R&&(S=!0,R=!1,$())},We.onMouseleave=()=>{S=!1,K()}),We});zn(d,We=>{var qe;We&&(n.openOnHover&&!S&&(!I.value||!M)||I.value&&!M&&(!n.openOnHover||!S))&&!((qe=g.value)!=null&&qe.contains(document.activeElement))&&(l.value=!1)}),zn(l,We=>{We||setTimeout(()=>{Y.value=void 0})},{flush:"post"});const xe=T$();cf(()=>{xe.value&&Fs(()=>{x.value=xe.el})});const ee=T$(),_e=Ge(()=>n.target==="cursor"&&Y.value?Y.value:ee.value?ee.el:GJ(n.target,v)||x.value),le=Ge(()=>Array.isArray(_e.value)?void 0:_e.value);let Ue;return zn(()=>!!n.activator,We=>{We&&di?(Ue=CD(),Ue.run(()=>{Npe(n,v,{activatorEl:x,activatorEvents:oe})})):Ue&&Ue.stop()},{flush:"post",immediate:!0}),Du(()=>{Ue==null||Ue.stop()}),{activatorEl:x,activatorRef:xe,target:_e,targetEl:le,targetRef:ee,activatorEvents:oe,contentEvents:se,scrimEvents:Me}}function Npe(n,r,l){let{activatorEl:d,activatorEvents:g}=l;zn(()=>n.activator,(M,R)=>{if(R&&M!==R){const I=S(R);I&&x(I)}M&&Fs(()=>v())},{immediate:!0}),zn(()=>n.activatorProps,()=>{v()}),Du(()=>{x()});function v(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;M&&efe(M,Wo(g.value,R))}function x(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;M&&tfe(M,Wo(g.value,R))}function S(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const R=GJ(M,r);return d.value=(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE?R:void 0,d.value}}function GJ(n,r){var d,g;if(!n)return;let l;if(n==="parent"){let v=(g=(d=r==null?void 0:r.proxy)==null?void 0:d.$el)==null?void 0:g.parentNode;for(;v!=null&&v.hasAttribute("data-no-activator");)v=v.parentNode;l=v}else typeof n=="string"?l=document.querySelector(n):"$el"in n?l=n.$el:l=n;return l}function Ppe(){if(!di)return Ao(!1);const{ssr:n}=XL();if(n){const r=Ao(!1);return Ru(()=>{r.value=!0}),r}else return Ao(!0)}const Mpe=Dn({eager:Boolean},"lazy");function Bpe(n,r){const l=Ao(!1),d=Ge(()=>l.value||n.eager||r.value);zn(r,()=>l.value=!0);function g(){n.eager||(l.value=!1)}return{isBooted:l,hasContent:d,onAfterLeave:g}}function u8(){const r=Tl("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const wq=Symbol.for("vuetify:stack"),MO=Ql([]);function Lpe(n,r,l){const d=Tl("useStack"),g=!l,v=wa(wq,void 0),x=Ql({activeChildren:new Set});Cd(wq,x);const S=Ao(+r.value);Rg(n,()=>{var L;const I=(L=MO.at(-1))==null?void 0:L[1];S.value=I?I+10:+r.value,g&&MO.push([d.uid,S.value]),v==null||v.activeChildren.add(d.uid),Du(()=>{if(g){const $=ss(MO).findIndex(K=>K[0]===d.uid);MO.splice($,1)}v==null||v.activeChildren.delete(d.uid)})});const M=Ao(!0);g&&cf(()=>{var L;const I=((L=MO.at(-1))==null?void 0:L[0])===d.uid;setTimeout(()=>M.value=I)});const R=Ge(()=>!x.activeChildren.size);return{globalTop:_D(M),localTop:R,stackStyles:Ge(()=>({zIndex:S.value}))}}function Fpe(n){return{teleportTarget:Ge(()=>{const l=n();if(l===!0||!di)return;const d=l===!1?document.body:typeof l=="string"?document.querySelector(l):l;if(d==null)return;let g=[...d.children].find(v=>v.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",d.appendChild(g)),g})}}function Vpe(){return!0}function qJ(n,r,l){if(!n||YJ(n,l)===!1)return!1;const d=EX(r);if(typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&d.host===n.target)return!1;const g=(typeof l.value=="object"&&l.value.include||(()=>[]))();return g.push(r),!g.some(v=>v==null?void 0:v.contains(n.target))}function YJ(n,r){return(typeof r.value=="object"&&r.value.closeConditional||Vpe)(n)}function zpe(n,r,l){const d=typeof l.value=="function"?l.value:l.value.handler;n.shadowTarget=n.target,r._clickOutside.lastMousedownWasOutside&&qJ(n,r,l)&&setTimeout(()=>{YJ(n,l)&&d&&d(n)},0)}function Cq(n,r){const l=EX(n);r(document),typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&r(l)}const Hpe={mounted(n,r){const l=g=>zpe(g,n,r),d=g=>{n._clickOutside.lastMousedownWasOutside=qJ(g,n,r)};Cq(n,g=>{g.addEventListener("click",l,!0),g.addEventListener("mousedown",d,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[r.instance.$.uid]={onClick:l,onMousedown:d}},beforeUnmount(n,r){n._clickOutside&&(Cq(n,l=>{var v;if(!l||!((v=n._clickOutside)!=null&&v[r.instance.$.uid]))return;const{onClick:d,onMousedown:g}=n._clickOutside[r.instance.$.uid];l.removeEventListener("click",d,!0),l.removeEventListener("mousedown",g,!0)}),delete n._clickOutside[r.instance.$.uid])}};function $pe(n){const{modelValue:r,color:l,...d}=n;return j(Wy,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&j("div",Wo({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},d),null)]})}const QU=Dn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Rpe(),...Vs(),...Yh(),...Mpe(),...xpe(),...Epe(),...cl(),...sE()},"VOverlay"),IL=Ro()({name:"VOverlay",directives:{ClickOutside:Hpe},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...QU()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{slots:l,attrs:d,emit:g}=r;const v=Tl("VOverlay"),x=Mn(),S=Mn(),M=Mn(),R=Hi(n,"modelValue"),I=Ge({get:()=>R.value,set:fn=>{fn&&n.disabled||(R.value=fn)}}),{themeClasses:L}=Hl(n),{rtlClasses:$,isRtl:K}=Ng(),{hasContent:Y,onAfterLeave:ne}=Bpe(n,I),oe=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),{globalTop:se,localTop:Me,stackStyles:xe}=Lpe(I,es(n,"zIndex"),n._disableGlobalStack),{activatorEl:ee,activatorRef:_e,target:le,targetEl:Ue,targetRef:We,activatorEvents:qe,contentEvents:st,scrimEvents:ke}=Ipe(n,{isActive:I,isTop:Me,contentEl:M}),{teleportTarget:Le}=Fpe(()=>{var J,xs,eo;const fn=n.attach||n.contained;if(fn)return fn;const _n=((J=ee==null?void 0:ee.value)==null?void 0:J.getRootNode())||((eo=(xs=v.proxy)==null?void 0:xs.$el)==null?void 0:eo.getRootNode());return _n instanceof ShadowRoot?_n:!1}),{dimensionStyles:O}=Xh(n),Ke=Ppe(),{scopeId:ct}=u8();zn(()=>n.disabled,fn=>{fn&&(I.value=!1)});const{contentStyles:$t,updateLocation:Jt}=wpe(n,{isRtl:K,contentEl:M,target:le,isActive:I});Ape(n,{root:x,contentEl:M,targetEl:Ue,isActive:I,updateLocation:Jt});function et(fn){g("click:outside",fn),n.persistent?Mt():I.value=!1}function pt(fn){return I.value&&se.value&&(!n.scrim||fn.target===S.value||fn instanceof MouseEvent&&fn.shadowTarget===S.value)}di&&zn(I,fn=>{fn?window.addEventListener("keydown",Lt):window.removeEventListener("keydown",Lt)},{immediate:!0}),wc(()=>{di&&window.removeEventListener("keydown",Lt)});function Lt(fn){var _n,J;fn.key==="Escape"&&se.value&&(n.persistent?Mt():(I.value=!1,(_n=M.value)!=null&&_n.contains(document.activeElement)&&((J=ee.value)==null||J.focus())))}const tt=TJ();Rg(()=>n.closeOnBack,()=>{Qhe(tt,fn=>{se.value&&I.value?(fn(!1),n.persistent?Mt():I.value=!1):fn()})});const Ye=Mn();zn(()=>I.value&&(n.absolute||n.contained)&&Le.value==null,fn=>{if(fn){const _n=AX(x.value);_n&&_n!==document.scrollingElement&&(Ye.value=_n.scrollTop)}});function Mt(){n.noClickAnimation||M.value&&Mk(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:wL})}function oo(){g("afterEnter")}function Fn(){ne(),g("afterLeave")}return vs(()=>{var fn;return j(us,null,[(fn=l.activator)==null?void 0:fn.call(l,{isActive:I.value,targetRef:We,props:Wo({ref:_e},qe.value,n.activatorProps)}),Ke.value&&Y.value&&j(lue,{disabled:!Le.value,to:Le.value},{default:()=>[j("div",Wo({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":I.value,"v-overlay--contained":n.contained},L.value,$.value,n.class],style:[xe.value,{"--v-overlay-opacity":n.opacity,top:hs(Ye.value)},n.style],ref:x},ct,d),[j($pe,Wo({color:oe,modelValue:I.value&&!!n.scrim,ref:S},ke.value),null),j(Vy,{appear:!0,persisted:!0,transition:n.transition,target:le.value,onAfterEnter:oo,onAfterLeave:Fn},{default:()=>{var _n;return[Qn(j("div",Wo({ref:M,class:["v-overlay__content",n.contentClass],style:[O.value,$t.value]},st.value,n.contentProps),[(_n=l.default)==null?void 0:_n.call(l,{isActive:I})]),[[zo,I.value],[Xy("click-outside"),{handler:et,closeConditional:pt,include:()=>[ee.value]}]])]}})])]})])}),{activatorEl:ee,scrimEl:S,target:le,animateClick:Mt,contentEl:M,globalTop:se,localTop:Me,updateLocation:Jt}}}),u$=Symbol("Forwarded refs");function d$(n,r){let l=n;for(;l;){const d=Reflect.getOwnPropertyDescriptor(l,r);if(d)return d;l=Object.getPrototypeOf(l)}}function rE(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];return n[u$]=l,new Proxy(n,{get(g,v){if(Reflect.has(g,v))return Reflect.get(g,v);if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const x of l)if(x.value&&Reflect.has(x.value,v)){const S=Reflect.get(x.value,v);return typeof S=="function"?S.bind(x.value):S}}},has(g,v){if(Reflect.has(g,v))return!0;if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const x of l)if(x.value&&Reflect.has(x.value,v))return!0;return!1},set(g,v,x){if(Reflect.has(g,v))return Reflect.set(g,v,x);if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const S of l)if(S.value&&Reflect.has(S.value,v))return Reflect.set(S.value,v,x);return!1},getOwnPropertyDescriptor(g,v){var S;const x=Reflect.getOwnPropertyDescriptor(g,v);if(x)return x;if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const M of l){if(!M.value)continue;const R=d$(M.value,v)??("_"in M.value?d$((S=M.value._)==null?void 0:S.setupState,v):void 0);if(R)return R}for(const M of l){const R=M.value&&M.value[u$];if(!R)continue;const I=R.slice();for(;I.length;){const L=I.shift(),$=d$(L.value,v);if($)return $;const K=L.value&&L.value[u$];K&&I.push(...K)}}}}})}const Upe=Dn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...QU({origin:"center center",scrollStrategy:"block",transition:{component:JU},zIndex:2400})},"VDialog"),pv=Ro()({name:"VDialog",props:Upe(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=Hi(n,"modelValue"),{scopeId:v}=u8(),x=Mn();function S(I){var K,Y;const L=I.relatedTarget,$=I.target;if(L!==$&&((K=x.value)!=null&&K.contentEl)&&((Y=x.value)!=null&&Y.globalTop)&&![document,x.value.contentEl].includes($)&&!x.value.contentEl.contains($)){const ne=eD(x.value.contentEl);if(!ne.length)return;const oe=ne[0],se=ne[ne.length-1];L===oe?se.focus():oe.focus()}}di&&zn(()=>g.value&&n.retainFocus,I=>{I?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function M(){var I;l("afterEnter"),(I=x.value)!=null&&I.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function R(){l("afterLeave")}return zn(g,async I=>{var L;I||(await Fs(),(L=x.value.activatorEl)==null||L.focus({preventScroll:!0}))}),vs(()=>{const I=IL.filterProps(n),L=Wo({"aria-haspopup":"dialog"},n.activatorProps),$=Wo({tabindex:-1},n.contentProps);return j(IL,Wo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},I,{modelValue:g.value,"onUpdate:modelValue":K=>g.value=K,"aria-modal":"true",activatorProps:L,contentProps:$,role:"dialog",onAfterEnter:M,onAfterLeave:R},v),{activator:d.activator,default:function(){for(var K=arguments.length,Y=new Array(K),ne=0;ne<K;ne++)Y[ne]=arguments[ne];return j(xa,{root:"VDialog"},{default:()=>{var oe;return[(oe=d.default)==null?void 0:oe.call(d,...Y)]}})}})}),rE({},x)}}),Wpe=Dn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Vs(),...Pg(),...Qi(),...cl()},"VTable"),w1=Ro()({name:"VTable",props:Wpe(),setup(n,r){let{slots:l,emit:d}=r;const{themeClasses:g}=Hl(n),{densityClasses:v}=qh(n);return vs(()=>j(n.tag,{class:["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":n.hover},g.value,v.value,n.class],style:n.style},{default:()=>{var x,S,M;return[(x=l.top)==null?void 0:x.call(l),l.default?j("div",{class:"v-table__wrapper",style:{height:hs(n.height)}},[j("table",null,[l.default()])]):(S=l.wrapper)==null?void 0:S.call(l),(M=l.bottom)==null?void 0:M.call(l)]}})),{}}}),Zpe={__name:"Help",setup(n){const r=xc();return(l,d)=>(Ln(),ds(us,null,[j(xo,{class:"app-header-item",onClick:d[0]||(d[0]=g=>ce(r).showHelp=!0)},{default:It(()=>[j(qn,{left:"",icon:"mdi-help"}),d[3]||(d[3]=Ei(" Hilfe "))]),_:1}),j(pv,{modelValue:ce(r).showHelp,"onUpdate:modelValue":d[2]||(d[2]=g=>ce(r).showHelp=g),"max-width":"1000"},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>[d[9]||(d[9]=Ae("h1",null,"Allgemeine Navigation",-1)),j(w1,null,{default:It(()=>d[4]||(d[4]=[Ae("thead",null,[Ae("tr",null,[Ae("th",{width:"50%"},"Aktion"),Ae("th",{width:"50%"},"Tastenkombination")])],-1),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,"Nächstes Element"),Ae("td",null,"Tab")]),Ae("tr",null,[Ae("td",null,"Vorheriges Element"),Ae("td",null,"Shift + Tab")]),Ae("tr",null,[Ae("td",null,"Header Schaltflächen"),Ae("td",null,"Alt + 0")]),Ae("tr",null,[Ae("td",null,"Navigationsleiste Schaltflächen"),Ae("td",null,"Alt + #")]),Ae("tr",null,[Ae("td",null,"Inhalt linke Spalte"),Ae("td",null,"Alt + 1")]),Ae("tr",null,[Ae("td",null,"Inhalt rechte Spalte"),Ae("td",null,"Alt + 2")])],-1)])),_:1}),d[10]||(d[10]=Ae("h1",null,"Abgabe-Text",-1)),j(w1,null,{default:It(()=>d[5]||(d[5]=[Ae("thead",null,[Ae("tr",null,[Ae("th",{width:"50%"},"Aktion"),Ae("th",{width:"50%"},"Tastenkombination")])],-1),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,"Cursor bewegen"),Ae("td",null,"Pfeiltasten")]),Ae("tr",null,[Ae("td",null,"Text auswählen"),Ae("td",null,"Shift + Pfeiltasten")]),Ae("tr",null,[Ae("td",null,"Anmerkung für Auswahl erzeugen"),Ae("td",null,"Eingabetaste wenn Text ausgewäht")]),Ae("tr",null,[Ae("td",null,"Anmerkung bei Cursor anspringen"),Ae("td",null,"Eingabetaste, wenn kein Text ausgewählt")])],-1)])),_:1}),d[11]||(d[11]=Ae("h1",null,"Anmerkungen",-1)),j(w1,null,{default:It(()=>d[6]||(d[6]=[Ae("thead",null,[Ae("tr",null,[Ae("th",{width:"50%"},"Aktion"),Ae("th",{width:"50%"},"Tastenkombination")])],-1),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,"Zur Markierung im Text springen"),Ae("td",null,"Alt + Eingabetaste")]),Ae("tr",null,[Ae("td",null,"Anmerkung löschen"),Ae("td",null,"Alt + Entfernen")])],-1)])),_:1}),d[12]||(d[12]=Ae("h1",null,"Navigation im Gutachten",-1)),j(w1,null,{default:It(()=>d[7]||(d[7]=[Ae("thead",null,[Ae("tr",null,[Ae("th",{width:"50%"},"Aktion"),Ae("th",{width:"50%"},"Tastenkombination")])],-1),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,"In Symbolleiste wechseln"),Ae("td",null,"Alt + F10")]),Ae("tr",null,[Ae("td",null,"Symbolleiste verlassen"),Ae("td",null,"Esc")]),Ae("tr",null,[Ae("td",null,"In Symbolleiste zwischen Schaltflächen wechseln"),Ae("td",null,"Pfeil links und rechts")]),Ae("tr",null,[Ae("td",null,"Popup der Absatzformate aufklappen"),Ae("td",null,"Eingabetaste")]),Ae("tr",null,[Ae("td",null,"Im Popup zwischen Absatzformaten wechseln"),Ae("td",null,"Pfeil abwärts und aufwärts")]),Ae("tr",null,[Ae("td",null,"Im Popup ein Absatzformat wählen"),Ae("td",null,"Eingabetaste")]),Ae("tr",null,[Ae("td",null,"Popup der Absatzformate schließen"),Ae("td",null,"Esc")])],-1)])),_:1}),d[13]||(d[13]=Ae("h1",null,"Tastenbefehle im Gutachten",-1)),j(w1,null,{default:It(()=>d[8]||(d[8]=[Ae("thead",null,[Ae("tr",null,[Ae("th",{width:"50%"},"Aktion"),Ae("th",{width:"50%"},"Tastenkombination")])],-1),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,"Fett"),Ae("td",null,"Ctrl + B")]),Ae("tr",null,[Ae("td",null,"Kursiv"),Ae("td",null,"Ctrl + I")]),Ae("tr",null,[Ae("td",null,"Unterstrichen"),Ae("td",null,"Ctrl + U")]),Ae("tr",null,[Ae("td",null,"Alles auswählen"),Ae("td",null,"Ctrl + A")]),Ae("tr",null,[Ae("td",null,"Wiederholen"),Ae("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),Ae("tr",null,[Ae("td",null,"Rückgängig machen"),Ae("td",null,"Ctrl + Z")]),Ae("tr",null,[Ae("td",null,"Überschrift 1"),Ae("td",null,"Shift + Alt + 1")]),Ae("tr",null,[Ae("td",null,"Überschrift 2"),Ae("td",null,"Shift + Alt + 2")]),Ae("tr",null,[Ae("td",null,"Überschrift 3"),Ae("td",null,"Shift + Alt + 3")]),Ae("tr",null,[Ae("td",null,"Überschrift 4"),Ae("td",null,"Shift + Alt + 4")]),Ae("tr",null,[Ae("td",null,"Überschrift 5"),Ae("td",null,"Shift + Alt + 5")]),Ae("tr",null,[Ae("td",null,"Überschrift 6"),Ae("td",null,"Shift + Alt + 6")]),Ae("tr",null,[Ae("td",null,"Absatz"),Ae("td",null,"Shift + Alt + 7")])],-1)])),_:1})]),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:d[1]||(d[1]=g=>ce(r).showHelp=!1)},{default:It(()=>d[14]||(d[14]=[Ae("span",null,"Hilfe schließen",-1)])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},jpe=$l(Zpe,[["__scopeId","data-v-59fde11f"]]),Kpe=Dn({text:String,onClick:rf(),...Vs(),...cl()},"VLabel"),XJ=Ro()({name:"VLabel",props:Kpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var d;return j("label",{class:["v-label",{"v-label--clickable":!!n.onClick},n.class],style:n.style,onClick:n.onClick},[n.text,(d=l.default)==null?void 0:d.call(l)])}),{}}}),JJ=Symbol.for("vuetify:selection-control-group"),QJ=Dn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:fi,trueIcon:fi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Jk},...Vs(),...Pg(),...cl()},"SelectionControlGroup"),Gpe=Dn({...QJ({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Ro()({name:"VSelectionControlGroup",props:Gpe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"modelValue"),g=Ig(),v=Ge(()=>n.id||`v-selection-control-group-${g}`),x=Ge(()=>n.name||v.value),S=new Set;return Cd(JJ,{modelValue:d,forceUpdate:()=>{S.forEach(M=>M())},onForceUpdate:M=>{S.add(M),Du(()=>{S.delete(M)})}}),Qy({[n.defaultsTarget]:{color:es(n,"color"),disabled:es(n,"disabled"),density:es(n,"density"),error:es(n,"error"),inline:es(n,"inline"),modelValue:d,multiple:Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),name:x,falseIcon:es(n,"falseIcon"),trueIcon:es(n,"trueIcon"),readonly:es(n,"readonly"),ripple:es(n,"ripple"),type:es(n,"type"),valueComparator:es(n,"valueComparator")}}),vs(()=>{var M;return j("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class],style:n.style,role:n.type==="radio"?"radiogroup":void 0},[(M=l.default)==null?void 0:M.call(l)])}),{}}});const eQ=Dn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Vs(),...QJ()},"VSelectionControl");function qpe(n){const r=wa(JJ,void 0),{densityClasses:l}=qh(n),d=Hi(n,"modelValue"),g=Ge(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),v=Ge(()=>n.falseValue!==void 0?n.falseValue:!1),x=Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),S=Ge({get(){const K=r?r.modelValue.value:d.value;return x.value?sf(K).some(Y=>n.valueComparator(Y,g.value)):n.valueComparator(K,g.value)},set(K){if(n.readonly)return;const Y=K?g.value:v.value;let ne=Y;x.value&&(ne=K?[...sf(d.value),Y]:sf(d.value).filter(oe=>!n.valueComparator(oe,g.value))),r?r.modelValue.value=ne:d.value=ne}}),{textColorClasses:M,textColorStyles:R}=Kh(Ge(()=>{if(!(n.error||n.disabled))return S.value?n.color:n.baseColor})),{backgroundColorClasses:I,backgroundColorStyles:L}=Wh(Ge(()=>S.value&&!n.error&&!n.disabled?n.color:n.baseColor)),$=Ge(()=>S.value?n.trueIcon:n.falseIcon);return{group:r,densityClasses:l,trueValue:g,falseValue:v,model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,icon:$}}const _q=Ro()({name:"VSelectionControl",directives:{Ripple:ND},inheritAttrs:!1,props:eQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{group:g,densityClasses:v,icon:x,model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,trueValue:$}=qpe(n),K=Ig(),Y=Ao(!1),ne=Ao(!1),oe=Mn(),se=Ge(()=>n.id||`input-${K}`),Me=Ge(()=>!n.disabled&&!n.readonly);g==null||g.onForceUpdate(()=>{oe.value&&(oe.value.checked=S.value)});function xe(Ue){Me.value&&(Y.value=!0,Zk(Ue.target,":focus-visible")!==!1&&(ne.value=!0))}function ee(){Y.value=!1,ne.value=!1}function _e(Ue){Ue.stopPropagation()}function le(Ue){if(!Me.value){oe.value&&(oe.value.checked=S.value);return}n.readonly&&g&&Fs(()=>g.forceUpdate()),S.value=Ue.target.checked}return vs(()=>{var ke,Le;const Ue=d.label?d.label({label:n.label,props:{for:se.value}}):n.label,[We,qe]=KL(l),st=j("input",Wo({ref:oe,checked:S.value,disabled:!!n.disabled,id:se.value,onBlur:ee,onFocus:xe,onInput:le,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:$.value,name:n.name,"aria-checked":n.type==="checkbox"?S.value:void 0},qe),null);return j("div",Wo({class:["v-selection-control",{"v-selection-control--dirty":S.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":Y.value,"v-selection-control--focus-visible":ne.value,"v-selection-control--inline":n.inline},v.value,n.class]},We,{style:n.style}),[j("div",{class:["v-selection-control__wrapper",M.value],style:R.value},[(ke=d.default)==null?void 0:ke.call(d,{backgroundColorClasses:I,backgroundColorStyles:L}),Qn(j("div",{class:["v-selection-control__input"]},[((Le=d.input)==null?void 0:Le.call(d,{model:S,textColorClasses:M,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:L,inputNode:st,icon:x.value,props:{onFocus:xe,onBlur:ee,id:se.value}}))??j(us,null,[x.value&&j(qn,{key:"icon",icon:x.value},null),st])]),[[Xy("ripple"),n.ripple&&[!n.disabled&&!n.readonly,null,["center","circle"]]]])]),Ue&&j(XJ,{for:se.value,onClick:_e},{default:()=>[Ue]})])}),{isFocused:Y,input:oe}}}),tQ=Dn({indeterminate:Boolean,indeterminateIcon:{type:fi,default:"$checkboxIndeterminate"},...eQ({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),NL=Ro()({name:"VCheckboxBtn",props:tQ(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"indeterminate"),g=Hi(n,"modelValue");function v(M){d.value&&(d.value=!1)}const x=Ge(()=>d.value?n.indeterminateIcon:n.falseIcon),S=Ge(()=>d.value?n.indeterminateIcon:n.trueIcon);return vs(()=>{const M=Jy(_q.filterProps(n),["modelValue"]);return j(_q,Wo(M,{modelValue:g.value,"onUpdate:modelValue":[R=>g.value=R,v],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:x.value,trueIcon:S.value,"aria-checked":d.value?"mixed":void 0}),l)}),{}}});function nQ(n){const{t:r}=TD();function l(d){let{name:g}=d;const v={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],x=n[`onClick:${g}`],S=x&&v?r(`$vuetify.input.${v}`,n.label??""):void 0;return j(qn,{icon:n[`${g}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:l}}const Ype=Dn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Vs(),...sE({transition:{component:HJ,leaveAbsolute:!0,group:!0}})},"VMessages"),Xpe=Ro()({name:"VMessages",props:Ype(),setup(n,r){let{slots:l}=r;const d=Ge(()=>sf(n.messages)),{textColorClasses:g,textColorStyles:v}=Kh(Ge(()=>n.color));return vs(()=>j(Vy,{transition:n.transition,tag:"div",class:["v-messages",g.value,n.class],style:[v.value,n.style],role:"alert","aria-live":"polite"},{default:()=>[n.active&&d.value.map((x,S)=>j("div",{class:"v-messages__message",key:`${S}-${d.value}`},[l.message?l.message({message:x}):x]))]})),{}}}),oQ=Dn({focused:Boolean,"onUpdate:focused":rf()},"focus");function d8(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=Hi(n,"focused"),d=Ge(()=>({[`${r}--focused`]:l.value}));function g(){l.value=!0}function v(){l.value=!1}return{focusClasses:d,isFocused:l,focus:g,blur:v}}const Jpe=Symbol.for("vuetify:form");function eW(){return wa(Jpe,null)}const Qpe=Dn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...oQ()},"validation");function eve(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ig();const d=Hi(n,"modelValue"),g=Ge(()=>n.validationValue===void 0?d.value:n.validationValue),v=eW(),x=Mn([]),S=Ao(!0),M=Ge(()=>!!(sf(d.value===""?null:d.value).length||sf(g.value===""?null:g.value).length)),R=Ge(()=>!!(n.disabled??(v==null?void 0:v.isDisabled.value))),I=Ge(()=>!!(n.readonly??(v==null?void 0:v.isReadonly.value))),L=Ge(()=>{var _e;return(_e=n.errorMessages)!=null&&_e.length?sf(n.errorMessages).concat(x.value).slice(0,Math.max(0,+n.maxErrors)):x.value}),$=Ge(()=>{let _e=(n.validateOn??(v==null?void 0:v.validateOn.value))||"input";_e==="lazy"&&(_e="input lazy"),_e==="eager"&&(_e="input eager");const le=new Set((_e==null?void 0:_e.split(" "))??[]);return{input:le.has("input"),blur:le.has("blur")||le.has("input")||le.has("invalid-input"),invalidInput:le.has("invalid-input"),lazy:le.has("lazy"),eager:le.has("eager")}}),K=Ge(()=>{var _e;return n.error||(_e=n.errorMessages)!=null&&_e.length?!1:n.rules.length?S.value?x.value.length||$.value.lazy?null:!0:!x.value.length:!0}),Y=Ao(!1),ne=Ge(()=>({[`${r}--error`]:K.value===!1,[`${r}--dirty`]:M.value,[`${r}--disabled`]:R.value,[`${r}--readonly`]:I.value})),oe=Tl("validation"),se=Ge(()=>n.name??ce(l));xU(()=>{v==null||v.register({id:se.value,vm:oe,validate:ee,reset:Me,resetValidation:xe})}),wc(()=>{v==null||v.unregister(se.value)}),Ru(async()=>{$.value.lazy||await ee(!$.value.eager),v==null||v.update(se.value,K.value,L.value)}),Rg(()=>$.value.input||$.value.invalidInput&&K.value===!1,()=>{zn(g,()=>{if(g.value!=null)ee();else if(n.focused){const _e=zn(()=>n.focused,le=>{le||ee(),_e()})}})}),Rg(()=>$.value.blur,()=>{zn(()=>n.focused,_e=>{_e||ee()})}),zn([K,L],()=>{v==null||v.update(se.value,K.value,L.value)});async function Me(){d.value=null,await Fs(),await xe()}async function xe(){S.value=!0,$.value.lazy?x.value=[]:await ee(!$.value.eager)}async function ee(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const le=[];Y.value=!0;for(const Ue of n.rules){if(le.length>=+(n.maxErrors??1))break;const qe=await(typeof Ue=="function"?Ue:()=>Ue)(g.value);if(qe!==!0){if(qe!==!1&&typeof qe!="string"){console.warn(`${qe} is not a valid value. Rule functions must return boolean true or a string.`);continue}le.push(qe||"")}}return x.value=le,Y.value=!1,S.value=_e,x.value}return{errorMessages:L,isDirty:M,isDisabled:R,isReadonly:I,isPristine:S,isValid:K,isValidating:Y,reset:Me,resetValidation:xe,validate:ee,validationClasses:ne}}const f8=Dn({id:String,appendIcon:fi,centerAffix:{type:Boolean,default:!0},prependIcon:fi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":rf(),"onClick:append":rf(),...Vs(),...Pg(),...Zde(Yh(),["maxWidth","minWidth","width"]),...cl(),...Qpe()},"VInput"),Gk=Ro()({name:"VInput",props:{...f8()},emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const{densityClasses:v}=qh(n),{dimensionStyles:x}=Xh(n),{themeClasses:S}=Hl(n),{rtlClasses:M}=Ng(),{InputIcon:R}=nQ(n),I=Ig(),L=Ge(()=>n.id||`input-${I}`),$=Ge(()=>`${L.value}-messages`),{errorMessages:K,isDirty:Y,isDisabled:ne,isReadonly:oe,isPristine:se,isValid:Me,isValidating:xe,reset:ee,resetValidation:_e,validate:le,validationClasses:Ue}=eve(n,"v-input",L),We=Ge(()=>({id:L,messagesId:$,isDirty:Y,isDisabled:ne,isReadonly:oe,isPristine:se,isValid:Me,isValidating:xe,reset:ee,resetValidation:_e,validate:le})),qe=Ge(()=>{var st;return(st=n.errorMessages)!=null&&st.length||!se.value&&K.value.length?K.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return vs(()=>{var Ke,ct,$t,Jt;const st=!!(d.prepend||n.prependIcon),ke=!!(d.append||n.appendIcon),Le=qe.value.length>0,O=!n.hideDetails||n.hideDetails==="auto"&&(Le||!!d.details);return j("div",{class:["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--hide-spin-buttons":n.hideSpinButtons},v.value,S.value,M.value,Ue.value,n.class],style:[x.value,n.style]},[st&&j("div",{key:"prepend",class:"v-input__prepend"},[(Ke=d.prepend)==null?void 0:Ke.call(d,We.value),n.prependIcon&&j(R,{key:"prepend-icon",name:"prepend"},null)]),d.default&&j("div",{class:"v-input__control"},[(ct=d.default)==null?void 0:ct.call(d,We.value)]),ke&&j("div",{key:"append",class:"v-input__append"},[n.appendIcon&&j(R,{key:"append-icon",name:"append"},null),($t=d.append)==null?void 0:$t.call(d,We.value)]),O&&j("div",{class:"v-input__details"},[j(Xpe,{id:$.value,active:Le,messages:qe.value},{message:d.message}),(Jt=d.details)==null?void 0:Jt.call(d,We.value)])])}),{reset:ee,resetValidation:_e,validate:le,isValid:Me,errorMessages:K}}}),tve=Dn({...f8(),...Jy(tQ(),["inline"])},"VCheckbox"),nve=Ro()({name:"VCheckbox",inheritAttrs:!1,props:tve(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const g=Hi(n,"modelValue"),{isFocused:v,focus:x,blur:S}=d8(n),M=Ig(),R=Ge(()=>n.id||`checkbox-${M}`);return vs(()=>{const[I,L]=KL(l),$=Gk.filterProps(n),K=NL.filterProps(n);return j(Gk,Wo({class:["v-checkbox",n.class]},I,$,{modelValue:g.value,"onUpdate:modelValue":Y=>g.value=Y,id:R.value,focused:v.value,style:n.style}),{...d,default:Y=>{let{id:ne,messagesId:oe,isDisabled:se,isReadonly:Me,isValid:xe}=Y;return j(NL,Wo(K,{id:ne.value,"aria-describedby":oe.value,disabled:se.value,readonly:Me.value},L,{error:xe.value===!1,modelValue:g.value,"onUpdate:modelValue":ee=>g.value=ee,onFocus:x,onBlur:S}),d)}})}),{}}});function ove(n){let{selectedElement:r,containerElement:l,isRtl:d,isHorizontal:g}=n;const v=iD(g,l),x=sQ(g,d,l),S=iD(g,r),M=rQ(g,r),R=S*.4;return x>M?M-R:x+v<M+S?M-v+S+R:x}function sve(n){let{selectedElement:r,containerElement:l,isHorizontal:d}=n;const g=iD(d,l),v=rQ(d,r),x=iD(d,r);return v-g/2+x/2}function Sq(n,r){const l=n?"scrollWidth":"scrollHeight";return(r==null?void 0:r[l])||0}function rve(n,r){const l=n?"clientWidth":"clientHeight";return(r==null?void 0:r[l])||0}function sQ(n,r,l){if(!l)return 0;const{scrollLeft:d,offsetWidth:g,scrollWidth:v}=l;return n?r?v-g+d:d:l.scrollTop}function iD(n,r){const l=n?"offsetWidth":"offsetHeight";return(r==null?void 0:r[l])||0}function rQ(n,r){const l=n?"offsetLeft":"offsetTop";return(r==null?void 0:r[l])||0}const ive=Symbol.for("vuetify:v-slide-group"),iQ=Dn({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ive},nextIcon:{type:fi,default:"$next"},prevIcon:{type:fi,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...Vs(),...PX({mobile:null}),...Qi(),...ZU({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),kq=Ro()({name:"VSlideGroup",props:iQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isRtl:d}=Ng(),{displayClasses:g,mobile:v}=XL(n),x=jU(n,n.symbol),S=Ao(!1),M=Ao(0),R=Ao(0),I=Ao(0),L=Ge(()=>n.direction==="horizontal"),{resizeRef:$,contentRect:K}=Kk(),{resizeRef:Y,contentRect:ne}=Kk(),oe=Ome(),se=Ge(()=>({container:$.el,duration:200,easing:"easeOutQuart"})),Me=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[0]):-1),xe=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[x.selected.value.length-1]):-1);if(di){let Lt=-1;zn(()=>[x.selected.value,K.value,ne.value,L.value],()=>{cancelAnimationFrame(Lt),Lt=requestAnimationFrame(()=>{if(K.value&&ne.value){const tt=L.value?"width":"height";R.value=K.value[tt],I.value=ne.value[tt],S.value=R.value+1<I.value}if(Me.value>=0&&Y.el){const tt=Y.el.children[xe.value];_e(tt,n.centerActive)}})})}const ee=Ao(!1);function _e(Lt,tt){let Ye=0;tt?Ye=sve({containerElement:$.el,isHorizontal:L.value,selectedElement:Lt}):Ye=ove({containerElement:$.el,isHorizontal:L.value,isRtl:d.value,selectedElement:Lt}),le(Ye)}function le(Lt){if(!di||!$.el)return;const tt=iD(L.value,$.el),Ye=sQ(L.value,d.value,$.el);if(!(Sq(L.value,$.el)<=tt||Math.abs(Lt-Ye)<16)){if(L.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:Fn}=$.el;Lt=oo-Fn-Lt}L.value?oe.horizontal(Lt,se.value):oe(Lt,se.value)}}function Ue(Lt){const{scrollTop:tt,scrollLeft:Ye}=Lt.target;M.value=L.value?Ye:tt}function We(Lt){if(ee.value=!0,!(!S.value||!Y.el)){for(const tt of Lt.composedPath())for(const Ye of Y.el.children)if(Ye===tt){_e(Ye);return}}}function qe(Lt){ee.value=!1}let st=!1;function ke(Lt){var tt;!st&&!ee.value&&!(Lt.relatedTarget&&((tt=Y.el)!=null&&tt.contains(Lt.relatedTarget)))&&Ke(),st=!1}function Le(){st=!0}function O(Lt){if(!Y.el)return;function tt(Ye){Lt.preventDefault(),Ke(Ye)}L.value?Lt.key==="ArrowRight"?tt(d.value?"prev":"next"):Lt.key==="ArrowLeft"&&tt(d.value?"next":"prev"):Lt.key==="ArrowDown"?tt("next"):Lt.key==="ArrowUp"&&tt("prev"),Lt.key==="Home"?tt("first"):Lt.key==="End"&&tt("last")}function Ke(Lt){var Ye,Mt;if(!Y.el)return;let tt;if(!Lt)tt=eD(Y.el)[0];else if(Lt==="next"){if(tt=(Ye=Y.el.querySelector(":focus"))==null?void 0:Ye.nextElementSibling,!tt)return Ke("first")}else if(Lt==="prev"){if(tt=(Mt=Y.el.querySelector(":focus"))==null?void 0:Mt.previousElementSibling,!tt)return Ke("last")}else Lt==="first"?tt=Y.el.firstElementChild:Lt==="last"&&(tt=Y.el.lastElementChild);tt&&tt.focus({preventScroll:!0})}function ct(Lt){const tt=L.value&&d.value?-1:1,Ye=(Lt==="prev"?-tt:tt)*R.value;let Mt=M.value+Ye;if(L.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:Fn}=$.el;Mt+=oo-Fn}le(Mt)}const $t=Ge(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),Jt=Ge(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return S.value||Math.abs(M.value)>0;case"mobile":return v.value||S.value||Math.abs(M.value)>0;default:return!v.value&&(S.value||Math.abs(M.value)>0)}}),et=Ge(()=>Math.abs(M.value)>1),pt=Ge(()=>{if(!$.value)return!1;const Lt=Sq(L.value,$.el),tt=rve(L.value,$.el);return Lt-tt-Math.abs(M.value)>1});return vs(()=>j(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!L.value,"v-slide-group--has-affixes":Jt.value,"v-slide-group--is-overflowing":S.value},g.value,n.class],style:n.style,tabindex:ee.value||x.selected.value.length?-1:0,onFocus:ke},{default:()=>{var Lt,tt,Ye;return[Jt.value&&j("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!et.value}],onMousedown:Le,onClick:()=>et.value&&ct("prev")},[((Lt=l.prev)==null?void 0:Lt.call(l,$t.value))??j(vq,null,{default:()=>[j(qn,{icon:d.value?n.nextIcon:n.prevIcon},null)]})]),j("div",{key:"container",ref:$,class:"v-slide-group__container",onScroll:Ue},[j("div",{ref:Y,class:"v-slide-group__content",onFocusin:We,onFocusout:qe,onKeydown:O},[(tt=l.default)==null?void 0:tt.call(l,$t.value)])]),Jt.value&&j("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!pt.value}],onMousedown:Le,onClick:()=>pt.value&&ct("next")},[((Ye=l.next)==null?void 0:Ye.call(l,$t.value))??j(vq,null,{default:()=>[j(qn,{icon:d.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:ct,scrollOffset:M,focus:Ke,hasPrev:et,hasNext:pt}}}),aQ=Symbol.for("vuetify:v-chip-group"),ave=Dn({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Jk},...iQ(),...Vs(),...ZU({selectedClass:"v-chip--selected"}),...Qi(),...cl(),...M1({variant:"tonal"})},"VChipGroup");Ro()({name:"VChipGroup",props:ave(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{themeClasses:d}=Hl(n),{isSelected:g,select:v,next:x,prev:S,selected:M}=jU(n,aQ);return Qy({VChip:{color:es(n,"color"),disabled:es(n,"disabled"),filter:es(n,"filter"),variant:es(n,"variant")}}),vs(()=>{const R=kq.filterProps(n);return j(kq,Wo(R,{class:["v-chip-group",{"v-chip-group--column":n.column},d.value,n.class],style:n.style}),{default:()=>{var I;return[(I=l.default)==null?void 0:I.call(l,{isSelected:g,select:v,next:x,prev:S,selected:M.value})]}})}),{}}});const lve=Dn({activeClass:String,appendAvatar:String,appendIcon:fi,closable:Boolean,closeIcon:{type:fi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:rf(),onClickOnce:rf(),...R1(),...Vs(),...Pg(),...N1(),...CJ(),...hm(),...l8(),...RD(),...Qi({tag:"span"}),...cl(),...M1({variant:"tonal"})},"VChip"),lQ=Ro()({name:"VChip",directives:{Ripple:ND},props:lve(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{t:v}=TD(),{borderClasses:x}=I1(n),{colorClasses:S,colorStyles:M,variantClasses:R}=oE(n),{densityClasses:I}=qh(n),{elevationClasses:L}=P1(n),{roundedClasses:$}=pm(n),{sizeClasses:K}=ID(n),{themeClasses:Y}=Hl(n),ne=Hi(n,"modelValue"),oe=_J(n,aQ,!1),se=a8(n,l),Me=Ge(()=>n.link!==!1&&se.isLink.value),xe=Ge(()=>!n.disabled&&n.link!==!1&&(!!oe||n.link||se.isClickable.value)),ee=Ge(()=>({"aria-label":v(n.closeLabel),onClick(Ue){Ue.preventDefault(),Ue.stopPropagation(),ne.value=!1,d("click:close",Ue)}}));function _e(Ue){var We;d("click",Ue),xe.value&&((We=se.navigate)==null||We.call(se,Ue),oe==null||oe.toggle())}function le(Ue){(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),_e(Ue))}return()=>{const Ue=se.isLink.value?"a":n.tag,We=!!(n.appendIcon||n.appendAvatar),qe=!!(We||g.append),st=!!(g.close||n.closable),ke=!!(g.filter||n.filter)&&oe,Le=!!(n.prependIcon||n.prependAvatar),O=!!(Le||g.prepend),Ke=!oe||oe.isSelected.value;return ne.value&&Qn(j(Ue,Wo({class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":xe.value,"v-chip--filter":ke,"v-chip--pill":n.pill},Y.value,x.value,Ke?S.value:void 0,I.value,L.value,$.value,K.value,R.value,oe==null?void 0:oe.selectedClass.value,n.class],style:[Ke?M.value:void 0,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:xe.value?0:void 0,onClick:_e,onKeydown:xe.value&&!Me.value&&le},se.linkProps),{default:()=>{var ct;return[nE(xe.value,"v-chip"),ke&&j(UJ,{key:"filter"},{default:()=>[Qn(j("div",{class:"v-chip__filter"},[g.filter?j(xa,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},g.filter):j(qn,{key:"filter-icon",icon:n.filterIcon},null)]),[[zo,oe.isSelected.value]])]}),O&&j("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?j(xa,{key:"prepend-defaults",disabled:!Le,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},g.prepend):j(us,null,[n.prependIcon&&j(qn,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&j(Gy,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),j("div",{class:"v-chip__content","data-no-activator":""},[((ct=g.default)==null?void 0:ct.call(g,{isSelected:oe==null?void 0:oe.isSelected.value,selectedClass:oe==null?void 0:oe.selectedClass.value,select:oe==null?void 0:oe.select,toggle:oe==null?void 0:oe.toggle,value:oe==null?void 0:oe.value.value,disabled:n.disabled}))??n.text]),qe&&j("div",{key:"append",class:"v-chip__append"},[g.append?j(xa,{key:"append-defaults",disabled:!We,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},g.append):j(us,null,[n.appendIcon&&j(qn,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&j(Gy,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),st&&j("button",Wo({key:"close",class:"v-chip__close",type:"button"},ee.value),[g.close?j(xa,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},g.close):j(qn,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[Xy("ripple"),xe.value&&n.ripple,null]])}}}),Q$=Symbol.for("vuetify:list");function cQ(){const n=wa(Q$,{hasPrepend:Ao(!1),updateHasPrepend:()=>null}),r={hasPrepend:Ao(!1),updateHasPrepend:l=>{l&&(r.hasPrepend.value=l)}};return Cd(Q$,r),n}function uQ(){return wa(Q$,null)}const tW=n=>{const r={activate:l=>{let{id:d,value:g,activated:v}=l;return d=ss(d),n&&!g&&v.size===1&&v.has(d)||(g?v.add(d):v.delete(d)),v},in:(l,d,g)=>{let v=new Set;if(l!=null)for(const x of sf(l))v=r.activate({id:x,value:!0,activated:new Set(v),children:d,parents:g});return v},out:l=>Array.from(l)};return r},dQ=n=>{const r=tW(n);return{activate:d=>{let{activated:g,id:v,...x}=d;v=ss(v);const S=g.has(v)?new Set([v]):new Set;return r.activate({...x,id:v,activated:S})},in:(d,g,v)=>{let x=new Set;if(d!=null){const S=sf(d);S.length&&(x=r.in(S.slice(0,1),g,v))}return x},out:(d,g,v)=>r.out(d,g,v)}},cve=n=>{const r=tW(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},uve=n=>{const r=dQ(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},dve={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){const v=new Set;v.add(r);let x=g.get(r);for(;x!=null;)v.add(x),x=g.get(x);return v}else return d.delete(r),d},select:()=>null},fQ={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){let v=g.get(r);for(d.add(r);v!=null&&v!==r;)d.add(v),v=g.get(v);return d}else d.delete(r);return d},select:()=>null},fve={open:fQ.open,select:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(!l)return d;const v=[];let x=g.get(r);for(;x!=null;)v.push(x),x=g.get(x);return new Set(v)}},nW=n=>{const r={select:l=>{let{id:d,value:g,selected:v}=l;if(d=ss(d),n&&!g){const x=Array.from(v.entries()).reduce((S,M)=>{let[R,I]=M;return I==="on"&&S.push(R),S},[]);if(x.length===1&&x[0]===d)return v}return v.set(d,g?"on":"off"),v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:l=>{const d=[];for(const[g,v]of l.entries())v==="on"&&d.push(g);return d}};return r},mQ=n=>{const r=nW(n);return{select:d=>{let{selected:g,id:v,...x}=d;v=ss(v);const S=g.has(v)?new Map([[v,g.get(v)]]):new Map;return r.select({...x,id:v,selected:S})},in:(d,g,v)=>{let x=new Map;return d!=null&&d.length&&(x=r.in(d.slice(0,1),g,v)),x},out:(d,g,v)=>r.out(d,g,v)}},mve=n=>{const r=nW(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},gve=n=>{const r=mQ(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ss(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},hve=n=>{const r={select:l=>{let{id:d,value:g,selected:v,children:x,parents:S}=l;d=ss(d);const M=new Map(v),R=[d];for(;R.length;){const L=R.shift();v.set(ss(L),g?"on":"off"),x.has(L)&&R.push(...x.get(L))}let I=ss(S.get(d));for(;I;){const L=x.get(I),$=L.every(Y=>v.get(ss(Y))==="on"),K=L.every(Y=>!v.has(ss(Y))||v.get(ss(Y))==="off");v.set(I,$?"on":K?"off":"indeterminate"),I=ss(S.get(I))}return n&&!g&&Array.from(v.entries()).reduce(($,K)=>{let[Y,ne]=K;return ne==="on"&&$.push(Y),$},[]).length===0?M:v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:(l,d)=>{const g=[];for(const[v,x]of l.entries())x==="on"&&!d.has(v)&&g.push(v);return g}};return r},aD=Symbol.for("vuetify:nested"),gQ={id:Ao(),root:{register:()=>null,unregister:()=>null,parents:Mn(new Map),children:Mn(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Mn(!1),selectable:Mn(!1),opened:Mn(new Set),activated:Mn(new Set),selected:Mn(new Map),selectedValues:Mn([]),getPath:()=>[]}},pve=Dn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),vve=n=>{let r=!1;const l=Mn(new Map),d=Mn(new Map),g=Hi(n,"opened",n.opened,Y=>new Set(Y),Y=>[...Y.values()]),v=Ge(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return cve(n.mandatory);case"single-leaf":return uve(n.mandatory);case"independent":return tW(n.mandatory);case"single-independent":default:return dQ(n.mandatory)}}),x=Ge(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return gve(n.mandatory);case"leaf":return mve(n.mandatory);case"independent":return nW(n.mandatory);case"single-independent":return mQ(n.mandatory);case"classic":default:return hve(n.mandatory)}}),S=Ge(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return fve;case"single":return dve;case"multiple":default:return fQ}}),M=Hi(n,"activated",n.activated,Y=>v.value.in(Y,l.value,d.value),Y=>v.value.out(Y,l.value,d.value)),R=Hi(n,"selected",n.selected,Y=>x.value.in(Y,l.value,d.value),Y=>x.value.out(Y,l.value,d.value));wc(()=>{r=!0});function I(Y){const ne=[];let oe=Y;for(;oe!=null;)ne.unshift(oe),oe=d.value.get(oe);return ne}const L=Tl("nested"),$=new Set,K={id:Ao(),root:{opened:g,activatable:es(n,"activatable"),selectable:es(n,"selectable"),activated:M,selected:R,selectedValues:Ge(()=>{const Y=[];for(const[ne,oe]of R.value.entries())oe==="on"&&Y.push(ne);return Y}),register:(Y,ne,oe)=>{if($.has(Y)){I(Y).join(" -> "),I(ne).concat(Y).join(" -> ");return}else $.add(Y);ne&&Y!==ne&&d.value.set(Y,ne),oe&&l.value.set(Y,[]),ne!=null&&l.value.set(ne,[...l.value.get(ne)||[],Y])},unregister:Y=>{if(r)return;$.delete(Y),l.value.delete(Y);const ne=d.value.get(Y);if(ne){const oe=l.value.get(ne)??[];l.value.set(ne,oe.filter(se=>se!==Y))}d.value.delete(Y)},open:(Y,ne,oe)=>{L.emit("click:open",{id:Y,value:ne,path:I(Y),event:oe});const se=S.value.open({id:Y,value:ne,opened:new Set(g.value),children:l.value,parents:d.value,event:oe});se&&(g.value=se)},openOnSelect:(Y,ne,oe)=>{const se=S.value.select({id:Y,value:ne,selected:new Map(R.value),opened:new Set(g.value),children:l.value,parents:d.value,event:oe});se&&(g.value=se)},select:(Y,ne,oe)=>{L.emit("click:select",{id:Y,value:ne,path:I(Y),event:oe});const se=x.value.select({id:Y,value:ne,selected:new Map(R.value),children:l.value,parents:d.value,event:oe});se&&(R.value=se),K.root.openOnSelect(Y,ne,oe)},activate:(Y,ne,oe)=>{if(!n.activatable)return K.root.select(Y,!0,oe);L.emit("click:activate",{id:Y,value:ne,path:I(Y),event:oe});const se=v.value.activate({id:Y,value:ne,activated:new Set(M.value),children:l.value,parents:d.value,event:oe});se&&(M.value=se)},children:l,parents:d,getPath:I}};return Cd(aD,K),K.root},hQ=(n,r)=>{const l=wa(aD,gQ),d=Symbol(Ig()),g=Ge(()=>n.value!==void 0?n.value:d),v={...l,id:g,open:(x,S)=>l.root.open(g.value,x,S),openOnSelect:(x,S)=>l.root.openOnSelect(g.value,x,S),isOpen:Ge(()=>l.root.opened.value.has(g.value)),parent:Ge(()=>l.root.parents.value.get(g.value)),activate:(x,S)=>l.root.activate(g.value,x,S),isActivated:Ge(()=>l.root.activated.value.has(ss(g.value))),select:(x,S)=>l.root.select(g.value,x,S),isSelected:Ge(()=>l.root.selected.value.get(ss(g.value))==="on"),isIndeterminate:Ge(()=>l.root.selected.value.get(g.value)==="indeterminate"),isLeaf:Ge(()=>!l.root.children.value.get(g.value)),isGroupActivator:l.isGroupActivator};return!l.isGroupActivator&&l.root.register(g.value,l.id.value,r),wc(()=>{!l.isGroupActivator&&l.root.unregister(g.value)}),r&&Cd(aD,v),v},bve=()=>{const n=wa(aD,gQ);Cd(aD,{...n,isGroupActivator:!0})};function m8(){const n=Ao(!1);return Ru(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:Ge(()=>n.value?void 0:{transition:"none !important"}),isBooted:_D(n)}}const yve=Qk({name:"VListGroupActivator",setup(n,r){let{slots:l}=r;return bve(),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),xve=Dn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:fi,default:"$collapse"},expandIcon:{type:fi,default:"$expand"},prependIcon:fi,appendIcon:fi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Vs(),...Qi()},"VListGroup"),Eq=Ro()({name:"VListGroup",props:xve(),setup(n,r){let{slots:l}=r;const{isOpen:d,open:g,id:v}=hQ(es(n,"value"),!0),x=Ge(()=>`v-list-group--id-${String(v.value)}`),S=uQ(),{isBooted:M}=m8();function R(K){K.stopPropagation(),g(!d.value,K)}const I=Ge(()=>({onClick:R,class:"v-list-group__header",id:x.value})),L=Ge(()=>d.value?n.collapseIcon:n.expandIcon),$=Ge(()=>({VListItem:{active:d.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&L.value,appendIcon:n.appendIcon||!n.subgroup&&L.value,title:n.title,value:n.value}}));return vs(()=>j(n.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":d.value},n.class],style:n.style},{default:()=>[l.activator&&j(xa,{defaults:$.value},{default:()=>[j(yve,null,{default:()=>[l.activator({props:I.value,isOpen:d.value})]})]}),j(Vy,{transition:{component:$J},disabled:!M.value},{default:()=>{var K;return[Qn(j("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(K=l.default)==null?void 0:K.call(l)]),[[zo,d.value]])]}})]})),{isOpen:d}}}),wve=Dn({opacity:[Number,String],...Vs(),...Qi()},"VListItemSubtitle"),Cve=Ro()({name:"VListItemSubtitle",props:wve(),setup(n,r){let{slots:l}=r;return vs(()=>j(n.tag,{class:["v-list-item-subtitle",n.class],style:[{"--v-list-item-subtitle-opacity":n.opacity},n.style]},l)),{}}}),_ve=GL("v-list-item-title"),Sve=Dn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:fi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:fi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:rf(),onClickOnce:rf(),...R1(),...Vs(),...Pg(),...Yh(),...N1(),...hm(),...l8(),...Qi(),...cl(),...M1({variant:"text"})},"VListItem"),vc=Ro()({name:"VListItem",directives:{Ripple:ND},props:Sve(),emits:{click:n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const v=a8(n,l),x=Ge(()=>n.value===void 0?v.href.value:n.value),{activate:S,isActivated:M,select:R,isOpen:I,isSelected:L,isIndeterminate:$,isGroupActivator:K,root:Y,parent:ne,openOnSelect:oe,id:se}=hQ(x,!1),Me=uQ(),xe=Ge(()=>{var Ye;return n.active!==!1&&(n.active||((Ye=v.isActive)==null?void 0:Ye.value)||(Y.activatable.value?M.value:L.value))}),ee=Ge(()=>n.link!==!1&&v.isLink.value),_e=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||v.isClickable.value||!!Me&&(Y.selectable.value||Y.activatable.value||n.value!=null))),le=Ge(()=>n.rounded||n.nav),Ue=Ge(()=>n.color??n.activeColor),We=Ge(()=>({color:xe.value?Ue.value??n.baseColor:n.baseColor,variant:n.variant}));zn(()=>{var Ye;return(Ye=v.isActive)==null?void 0:Ye.value},Ye=>{Ye&&ne.value!=null&&Y.open(ne.value,!0),Ye&&oe(Ye)},{immediate:!0});const{themeClasses:qe}=Hl(n),{borderClasses:st}=I1(n),{colorClasses:ke,colorStyles:Le,variantClasses:O}=oE(We),{densityClasses:Ke}=qh(n),{dimensionStyles:ct}=Xh(n),{elevationClasses:$t}=P1(n),{roundedClasses:Jt}=pm(le),et=Ge(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),pt=Ge(()=>({isActive:xe.value,select:R,isOpen:I.value,isSelected:L.value,isIndeterminate:$.value}));function Lt(Ye){var Mt;g("click",Ye),_e.value&&((Mt=v.navigate)==null||Mt.call(v,Ye),!K&&(Y.activatable.value?S(!M.value,Ye):(Y.selectable.value||n.value!=null)&&R(!L.value,Ye)))}function tt(Ye){(Ye.key==="Enter"||Ye.key===" ")&&(Ye.preventDefault(),Ye.target.dispatchEvent(new MouseEvent("click",Ye)))}return vs(()=>{const Ye=ee.value?"a":n.tag,Mt=d.title||n.title!=null,oo=d.subtitle||n.subtitle!=null,Fn=!!(n.appendAvatar||n.appendIcon),fn=!!(Fn||d.append),_n=!!(n.prependAvatar||n.prependIcon),J=!!(_n||d.prepend);return Me==null||Me.updateHasPrepend(J),n.activeColor&&cfe("active-color",["color","base-color"]),Qn(j(Ye,Wo({class:["v-list-item",{"v-list-item--active":xe.value,"v-list-item--disabled":n.disabled,"v-list-item--link":_e.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!J&&(Me==null?void 0:Me.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&xe.value},qe.value,st.value,ke.value,Ke.value,$t.value,et.value,Jt.value,O.value,n.class],style:[Le.value,ct.value,n.style],tabindex:_e.value?Me?-2:0:void 0,onClick:Lt,onKeydown:_e.value&&!ee.value&&tt},v.linkProps),{default:()=>{var xs;return[nE(_e.value||xe.value,"v-list-item"),J&&j("div",{key:"prepend",class:"v-list-item__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!_n,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var eo;return[(eo=d.prepend)==null?void 0:eo.call(d,pt.value)]}}):j(us,null,[n.prependAvatar&&j(Gy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(qn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),j("div",{class:"v-list-item__spacer"},null)]),j("div",{class:"v-list-item__content","data-no-activator":""},[Mt&&j(_ve,{key:"title"},{default:()=>{var eo;return[((eo=d.title)==null?void 0:eo.call(d,{title:n.title}))??n.title]}}),oo&&j(Cve,{key:"subtitle"},{default:()=>{var eo;return[((eo=d.subtitle)==null?void 0:eo.call(d,{subtitle:n.subtitle}))??n.subtitle]}}),(xs=d.default)==null?void 0:xs.call(d,pt.value)]),fn&&j("div",{key:"append",class:"v-list-item__append"},[d.append?j(xa,{key:"append-defaults",disabled:!Fn,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var eo;return[(eo=d.append)==null?void 0:eo.call(d,pt.value)]}}):j(us,null,[n.appendIcon&&j(qn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(Gy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),j("div",{class:"v-list-item__spacer"},null)])]}}),[[Xy("ripple"),_e.value&&n.ripple]])}),{activate:S,isActivated:M,isGroupActivator:K,isSelected:L,list:Me,select:R,root:Y,id:se}}}),kve=Dn({color:String,inset:Boolean,sticky:Boolean,title:String,...Vs(),...Qi()},"VListSubheader"),Eve=Ro()({name:"VListSubheader",props:kve(),setup(n,r){let{slots:l}=r;const{textColorClasses:d,textColorStyles:g}=Kh(es(n,"color"));return vs(()=>{const v=!!(l.default||n.title);return j(n.tag,{class:["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},d.value,n.class],style:[{textColorStyles:g},n.style]},{default:()=>{var x;return[v&&j("div",{class:"v-list-subheader__text"},[((x=l.default)==null?void 0:x.call(l))??n.title])]}})}),{}}}),Ave=Dn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Vs(),...cl()},"VDivider"),LO=Ro()({name:"VDivider",props:Ave(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=Hl(n),{textColorClasses:v,textColorStyles:x}=Kh(es(n,"color")),S=Ge(()=>{const M={};return n.length&&(M[n.vertical?"height":"width"]=hs(n.length)),n.thickness&&(M[n.vertical?"borderRightWidth":"borderTopWidth"]=hs(n.thickness)),M});return vs(()=>{const M=j("hr",{class:[{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},g.value,v.value,n.class],style:[S.value,x.value,{"--v-border-opacity":n.opacity},n.style],"aria-orientation":!l.role||l.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${l.role||"separator"}`},null);return d.default?j("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}]},[M,j("div",{class:"v-divider__content"},[d.default()]),M]):M}),{}}}),Tve=Dn({items:Array,returnObject:Boolean},"VListChildren"),pQ=Ro()({name:"VListChildren",props:Tve(),setup(n,r){let{slots:l}=r;return cQ(),()=>{var d,g;return((d=l.default)==null?void 0:d.call(l))??((g=n.items)==null?void 0:g.map(v=>{var $,K;let{children:x,props:S,type:M,raw:R}=v;if(M==="divider")return(($=l.divider)==null?void 0:$.call(l,{props:S}))??j(LO,S,null);if(M==="subheader")return((K=l.subheader)==null?void 0:K.call(l,{props:S}))??j(Eve,S,null);const I={subtitle:l.subtitle?Y=>{var ne;return(ne=l.subtitle)==null?void 0:ne.call(l,{...Y,item:R})}:void 0,prepend:l.prepend?Y=>{var ne;return(ne=l.prepend)==null?void 0:ne.call(l,{...Y,item:R})}:void 0,append:l.append?Y=>{var ne;return(ne=l.append)==null?void 0:ne.call(l,{...Y,item:R})}:void 0,title:l.title?Y=>{var ne;return(ne=l.title)==null?void 0:ne.call(l,{...Y,item:R})}:void 0},L=Eq.filterProps(S);return x?j(Eq,Wo({value:S==null?void 0:S.value},L),{activator:Y=>{let{props:ne}=Y;const oe={...S,...ne,value:n.returnObject?R:S.value};return l.header?l.header({props:oe}):j(vc,oe,I)},default:()=>j(pQ,{items:x,returnObject:n.returnObject},l)}):l.item?l.item({props:S}):j(vc,Wo(S,{value:n.returnObject?R:S.value}),I)}))}}}),vQ=Dn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Jk}},"list-items");function eU(n,r){const l=fv(r,n.itemTitle,r),d=fv(r,n.itemValue,l),g=fv(r,n.itemChildren),v=n.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?Jy(r,["children"]):r:void 0:fv(r,n.itemProps),x={title:l,value:d,...v};return{title:String(x.title??""),value:x.value,props:x,children:Array.isArray(g)?bQ(n,g):void 0,raw:r}}function bQ(n,r){const l=[];for(const d of r)l.push(eU(n,d));return l}function yQ(n){const r=Ge(()=>bQ(n,n.items)),l=Ge(()=>r.value.some(v=>v.value===null));function d(v){return l.value||(v=v.filter(x=>x!==null)),v.map(x=>n.returnObject&&typeof x=="string"?eU(n,x):r.value.find(S=>n.valueComparator(x,S.value))||eU(n,x))}function g(v){return n.returnObject?v.map(x=>{let{raw:S}=x;return S}):v.map(x=>{let{value:S}=x;return S})}return{items:r,transformIn:d,transformOut:g}}function Ove(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"}function Dve(n,r){const l=fv(r,n.itemType,"item"),d=Ove(r)?r:fv(r,n.itemTitle),g=fv(r,n.itemValue,void 0),v=fv(r,n.itemChildren),x=n.itemProps===!0?Jy(r,["children"]):fv(r,n.itemProps),S={title:d,value:g,...x};return{type:l,title:S.title,value:S.value,props:S,children:l==="item"&&v?xQ(n,v):void 0,raw:r}}function xQ(n,r){const l=[];for(const d of r)l.push(Dve(n,d));return l}function Rve(n){return{items:Ge(()=>xQ(n,n.items))}}const Ive=Dn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":rf(),"onClick:select":rf(),"onUpdate:opened":rf(),...pve({selectStrategy:"single-leaf",openStrategy:"list"}),...R1(),...Vs(),...Pg(),...Yh(),...N1(),itemType:{type:String,default:"type"},...vQ(),...hm(),...Qi(),...cl(),...M1({variant:"text"})},"VList"),lD=Ro()({name:"VList",props:Ive(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,r){let{slots:l}=r;const{items:d}=Rve(n),{themeClasses:g}=Hl(n),{backgroundColorClasses:v,backgroundColorStyles:x}=Wh(es(n,"bgColor")),{borderClasses:S}=I1(n),{densityClasses:M}=qh(n),{dimensionStyles:R}=Xh(n),{elevationClasses:I}=P1(n),{roundedClasses:L}=pm(n),{children:$,open:K,parents:Y,select:ne,getPath:oe}=vve(n),se=Ge(()=>n.lines?`v-list--${n.lines}-line`:void 0),Me=es(n,"activeColor"),xe=es(n,"baseColor"),ee=es(n,"color");cQ(),Qy({VListGroup:{activeColor:Me,baseColor:xe,color:ee,expandIcon:es(n,"expandIcon"),collapseIcon:es(n,"collapseIcon")},VListItem:{activeClass:es(n,"activeClass"),activeColor:Me,baseColor:xe,color:ee,density:es(n,"density"),disabled:es(n,"disabled"),lines:es(n,"lines"),nav:es(n,"nav"),slim:es(n,"slim"),variant:es(n,"variant")}});const _e=Ao(!1),le=Mn();function Ue(O){_e.value=!0}function We(O){_e.value=!1}function qe(O){var Ke;!_e.value&&!(O.relatedTarget&&((Ke=le.value)!=null&&Ke.contains(O.relatedTarget)))&&Le()}function st(O){const Ke=O.target;if(!(!le.value||["INPUT","TEXTAREA"].includes(Ke.tagName))){if(O.key==="ArrowDown")Le("next");else if(O.key==="ArrowUp")Le("prev");else if(O.key==="Home")Le("first");else if(O.key==="End")Le("last");else return;O.preventDefault()}}function ke(O){_e.value=!0}function Le(O){if(le.value)return WO(le.value,O)}return vs(()=>j(n.tag,{ref:le,class:["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},g.value,v.value,S.value,M.value,I.value,se.value,L.value,n.class],style:[x.value,R.value,n.style],tabindex:n.disabled||_e.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ue,onFocusout:We,onFocus:qe,onKeydown:st,onMousedown:ke},{default:()=>[j(pQ,{items:d.value,returnObject:n.returnObject},l)]})),{open:K,select:ne,focus:Le,children:$,parents:Y,getPath:oe}}}),Nve=Dn({id:String,submenu:Boolean,...Jy(QU({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:JU}}),["absolute"])},"VMenu"),g8=Ro()({name:"VMenu",props:Nve(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Hi(n,"modelValue"),{scopeId:g}=u8(),{isRtl:v}=Ng(),x=Ig(),S=Ge(()=>n.id||`v-menu-${x}`),M=Mn(),R=wa(J$,null),I=Ao(new Set);Cd(J$,{register(){I.value.add(x)},unregister(){I.value.delete(x)},closeParents(oe){setTimeout(()=>{var se;!I.value.size&&!n.persistent&&(oe==null||(se=M.value)!=null&&se.contentEl&&!Jde(oe,M.value.contentEl))&&(d.value=!1,R==null||R.closeParents())},40)}}),wc(()=>R==null?void 0:R.unregister()),$L(()=>d.value=!1);async function L(oe){var xe,ee,_e;const se=oe.relatedTarget,Me=oe.target;await Fs(),d.value&&se!==Me&&((xe=M.value)!=null&&xe.contentEl)&&((ee=M.value)!=null&&ee.globalTop)&&![document,M.value.contentEl].includes(Me)&&!M.value.contentEl.contains(Me)&&((_e=eD(M.value.contentEl)[0])==null||_e.focus())}zn(d,oe=>{oe?(R==null||R.register(),document.addEventListener("focusin",L,{once:!0})):(R==null||R.unregister(),document.removeEventListener("focusin",L))});function $(oe){R==null||R.closeParents(oe)}function K(oe){var se,Me,xe,ee,_e;if(!n.disabled)if(oe.key==="Tab"||oe.key==="Enter"&&!n.closeOnContentClick){if(oe.key==="Enter"&&(oe.target instanceof HTMLTextAreaElement||oe.target instanceof HTMLInputElement&&oe.target.closest("form")))return;oe.key==="Enter"&&oe.preventDefault(),vX(eD((se=M.value)==null?void 0:se.contentEl,!1),oe.shiftKey?"prev":"next",Ue=>Ue.tabIndex>=0)||(d.value=!1,(xe=(Me=M.value)==null?void 0:Me.activatorEl)==null||xe.focus())}else n.submenu&&oe.key===(v.value?"ArrowRight":"ArrowLeft")&&(d.value=!1,(_e=(ee=M.value)==null?void 0:ee.activatorEl)==null||_e.focus())}function Y(oe){var Me;if(n.disabled)return;const se=(Me=M.value)==null?void 0:Me.contentEl;se&&d.value?oe.key==="ArrowDown"?(oe.preventDefault(),oe.stopImmediatePropagation(),WO(se,"next")):oe.key==="ArrowUp"?(oe.preventDefault(),oe.stopImmediatePropagation(),WO(se,"prev")):n.submenu&&(oe.key===(v.value?"ArrowRight":"ArrowLeft")?d.value=!1:oe.key===(v.value?"ArrowLeft":"ArrowRight")&&(oe.preventDefault(),WO(se,"first"))):(n.submenu?oe.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(oe.key))&&(d.value=!0,oe.preventDefault(),setTimeout(()=>setTimeout(()=>Y(oe))))}const ne=Ge(()=>Wo({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-owns":S.value,onKeydown:Y},n.activatorProps));return vs(()=>{const oe=IL.filterProps(n);return j(IL,Wo({ref:M,id:S.value,class:["v-menu",n.class],style:n.style},oe,{modelValue:d.value,"onUpdate:modelValue":se=>d.value=se,absolute:!0,activatorProps:ne.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":$,onKeydown:K},g),{activator:l.activator,default:function(){for(var se=arguments.length,Me=new Array(se),xe=0;xe<se;xe++)Me[xe]=arguments[xe];return j(xa,{root:"VMenu"},{default:()=>{var ee;return[(ee=l.default)==null?void 0:ee.call(l,...Me)]}})}})}),rE({id:S,ΨopenChildren:I},M)}}),Pve=Dn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Vs(),...sE({transition:{component:HJ}})},"VCounter"),wQ=Ro()({name:"VCounter",functional:!0,props:Pve(),setup(n,r){let{slots:l}=r;const d=Ge(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return vs(()=>j(Vy,{transition:n.transition},{default:()=>[Qn(j("div",{class:["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class],style:n.style},[l.default?l.default({counter:d.value,max:n.max,value:n.value}):d.value]),[[zo,n.active]])]})),{}}}),Mve=Dn({floating:Boolean,...Vs()},"VFieldLabel"),XB=Ro()({name:"VFieldLabel",props:Mve(),setup(n,r){let{slots:l}=r;return vs(()=>j(XJ,{class:["v-field-label",{"v-field-label--floating":n.floating},n.class],style:n.style,"aria-hidden":n.floating||void 0},l)),{}}}),Bve=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],oW=Dn({appendInnerIcon:fi,bgColor:String,clearable:Boolean,clearIcon:{type:fi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:fi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>Bve.includes(n)},"onClick:clear":rf(),"onClick:appendInner":rf(),"onClick:prependInner":rf(),...Vs(),...KU(),...hm(),...cl()},"VField"),sW=Ro()({name:"VField",inheritAttrs:!1,props:{id:String,...oQ(),...oW()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{themeClasses:v}=Hl(n),{loaderClasses:x}=GU(n),{focusClasses:S,isFocused:M,focus:R,blur:I}=d8(n),{InputIcon:L}=nQ(n),{roundedClasses:$}=pm(n),{rtlClasses:K}=Ng(),Y=Ge(()=>n.dirty||n.active),ne=Ge(()=>!n.singleLine&&!!(n.label||g.label)),oe=Ig(),se=Ge(()=>n.id||`input-${oe}`),Me=Ge(()=>`${se.value}-messages`),xe=Mn(),ee=Mn(),_e=Mn(),le=Ge(()=>["plain","underlined"].includes(n.variant)),{backgroundColorClasses:Ue,backgroundColorStyles:We}=Wh(es(n,"bgColor")),{textColorClasses:qe,textColorStyles:st}=Kh(Ge(()=>n.error||n.disabled?void 0:Y.value&&M.value?n.color:n.baseColor));zn(Y,Ke=>{if(ne.value){const ct=xe.value.$el,$t=ee.value.$el;requestAnimationFrame(()=>{const Jt=NU(ct),et=$t.getBoundingClientRect(),pt=et.x-Jt.x,Lt=et.y-Jt.y-(Jt.height/2-et.height/2),tt=et.width/.75,Ye=Math.abs(tt-Jt.width)>1?{maxWidth:hs(tt)}:void 0,Mt=getComputedStyle(ct),oo=getComputedStyle($t),Fn=parseFloat(Mt.transitionDuration)*1e3||150,fn=parseFloat(oo.getPropertyValue("--v-field-label-scale")),_n=oo.getPropertyValue("color");ct.style.visibility="visible",$t.style.visibility="hidden",Mk(ct,{transform:`translate(${pt}px, ${Lt}px) scale(${fn})`,color:_n,...Ye},{duration:Fn,easing:wL,direction:Ke?"normal":"reverse"}).finished.then(()=>{ct.style.removeProperty("visibility"),$t.style.removeProperty("visibility")})})}},{flush:"post"});const ke=Ge(()=>({isActive:Y,isFocused:M,controlRef:_e,blur:I,focus:R}));function Le(Ke){Ke.target!==document.activeElement&&Ke.preventDefault()}function O(Ke){var ct;Ke.key!=="Enter"&&Ke.key!==" "||(Ke.preventDefault(),Ke.stopPropagation(),(ct=n["onClick:clear"])==null||ct.call(n,new MouseEvent("click")))}return vs(()=>{var pt,Lt,tt;const Ke=n.variant==="outlined",ct=!!(g["prepend-inner"]||n.prependInnerIcon),$t=!!(n.clearable||g.clear),Jt=!!(g["append-inner"]||n.appendInnerIcon||$t),et=()=>g.label?g.label({...ke.value,label:n.label,props:{for:se.value}}):n.label;return j("div",Wo({class:["v-field",{"v-field--active":Y.value,"v-field--appended":Jt,"v-field--center-affix":n.centerAffix??!le.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":ct,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!et(),[`v-field--variant-${n.variant}`]:!0},v.value,Ue.value,S.value,x.value,$.value,K.value,n.class],style:[We.value,n.style],onClick:Le},l),[j("div",{class:"v-field__overlay"},null),j(AJ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:g.loader}),ct&&j("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&j(L,{key:"prepend-icon",name:"prependInner"},null),(pt=g["prepend-inner"])==null?void 0:pt.call(g,ke.value)]),j("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&ne.value&&j(XB,{key:"floating-label",ref:ee,class:[qe.value],floating:!0,for:se.value,style:st.value},{default:()=>[et()]}),j(XB,{ref:xe,for:se.value},{default:()=>[et()]}),(Lt=g.default)==null?void 0:Lt.call(g,{...ke.value,props:{id:se.value,class:"v-field__input","aria-describedby":Me.value},focus:R,blur:I})]),$t&&j(UJ,{key:"clear"},{default:()=>[Qn(j("div",{class:"v-field__clearable",onMousedown:Ye=>{Ye.preventDefault(),Ye.stopPropagation()}},[j(xa,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[g.clear?g.clear({...ke.value,props:{onKeydown:O,onFocus:R,onBlur:I,onClick:n["onClick:clear"]}}):j(L,{name:"clear",onKeydown:O,onFocus:R,onBlur:I},null)]})]),[[zo,n.dirty]])]}),Jt&&j("div",{key:"append",class:"v-field__append-inner"},[(tt=g["append-inner"])==null?void 0:tt.call(g,ke.value),n.appendInnerIcon&&j(L,{key:"append-icon",name:"appendInner"},null)]),j("div",{class:["v-field__outline",qe.value],style:st.value},[Ke&&j(us,null,[j("div",{class:"v-field__outline__start"},null),ne.value&&j("div",{class:"v-field__outline__notch"},[j(XB,{ref:ee,floating:!0,for:se.value},{default:()=>[et()]})]),j("div",{class:"v-field__outline__end"},null)]),le.value&&ne.value&&j(XB,{ref:ee,floating:!0,for:se.value},{default:()=>[et()]})])])}),{controlRef:_e}}});function CQ(n){const r=Object.keys(sW.props).filter(l=>!DU(l)&&l!=="class"&&l!=="style");return fX(n,r)}const Lve=["color","file","time","date","datetime-local","week","month"],rW=Dn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...f8(),...oW()},"VTextField"),cD=Ro()({name:"VTextField",directives:{Intersect:XU},inheritAttrs:!1,props:rW(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=Hi(n,"modelValue"),{isFocused:x,focus:S,blur:M}=d8(n),R=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):typeof n.counterValue=="number"?n.counterValue:(v.value??"").toString().length),I=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),L=Ge(()=>["plain","underlined"].includes(n.variant));function $(le,Ue){var We,qe;!n.autofocus||!le||(qe=(We=Ue[0].target)==null?void 0:We.focus)==null||qe.call(We)}const K=Mn(),Y=Mn(),ne=Mn(),oe=Ge(()=>Lve.includes(n.type)||n.persistentPlaceholder||x.value||n.active);function se(){var le;ne.value!==document.activeElement&&((le=ne.value)==null||le.focus()),x.value||S()}function Me(le){d("mousedown:control",le),le.target!==ne.value&&(se(),le.preventDefault())}function xe(le){se(),d("click:control",le)}function ee(le){le.stopPropagation(),se(),Fs(()=>{v.value=null,pX(n["onClick:clear"],le)})}function _e(le){var We;const Ue=le.target;if(v.value=Ue.value,(We=n.modelModifiers)!=null&&We.trim&&["text","search","password","tel","url"].includes(n.type)){const qe=[Ue.selectionStart,Ue.selectionEnd];Fs(()=>{Ue.selectionStart=qe[0],Ue.selectionEnd=qe[1]})}}return vs(()=>{const le=!!(g.counter||n.counter!==!1&&n.counter!=null),Ue=!!(le||g.details),[We,qe]=KL(l),{modelValue:st,...ke}=Gk.filterProps(n),Le=CQ(n);return j(Gk,Wo({ref:K,modelValue:v.value,"onUpdate:modelValue":O=>v.value=O,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":L.value},n.class],style:n.style},We,ke,{centerAffix:!L.value,focused:x.value}),{...g,default:O=>{let{id:Ke,isDisabled:ct,isDirty:$t,isReadonly:Jt,isValid:et}=O;return j(sW,Wo({ref:Y,onMousedown:Me,onClick:xe,"onClick:clear":ee,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"],role:n.role},Le,{id:Ke.value,active:oe.value||$t.value,dirty:$t.value||n.dirty,disabled:ct.value,focused:x.value,error:et.value===!1}),{...g,default:pt=>{let{props:{class:Lt,...tt}}=pt;const Ye=Qn(j("input",Wo({ref:ne,value:v.value,onInput:_e,autofocus:n.autofocus,readonly:Jt.value,disabled:ct.value,name:n.name,placeholder:n.placeholder,size:1,type:n.type,onFocus:se,onBlur:M},tt,qe),null),[[Xy("intersect"),{handler:$},null,{once:!0}]]);return j(us,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[j("span",{class:"v-text-field__prefix__text"},[n.prefix])]),g.default?j("div",{class:Lt,"data-no-activator":""},[g.default(),Ye]):A1(Ye,{class:Lt}),n.suffix&&j("span",{class:"v-text-field__suffix"},[j("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:Ue?O=>{var Ke;return j(us,null,[(Ke=g.details)==null?void 0:Ke.call(g,O),le&&j(us,null,[j("span",null,null),j(wQ,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),rE({},K,Y,ne)}}),Fve=Dn({renderless:Boolean,...Vs()},"VVirtualScrollItem"),Vve=Ro()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Fve(),emits:{"update:height":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{resizeRef:v,contentRect:x}=Kk(void 0,"border");zn(()=>{var S;return(S=x.value)==null?void 0:S.height},S=>{S!=null&&d("update:height",S)}),vs(()=>{var S,M;return n.renderless?j(us,null,[(S=g.default)==null?void 0:S.call(g,{itemRef:v})]):j("div",Wo({ref:v,class:["v-virtual-scroll__item",n.class],style:n.style},l),[(M=g.default)==null?void 0:M.call(g)])})}}),zve=-1,Hve=1,f$=100,$ve=Dn({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Uve(n,r){const l=XL(),d=Ao(0);cf(()=>{d.value=parseFloat(n.itemHeight||0)});const g=Ao(0),v=Ao(Math.ceil((parseInt(n.height)||l.height.value)/(d.value||16))||1),x=Ao(0),S=Ao(0),M=Mn(),R=Mn();let I=0;const{resizeRef:L,contentRect:$}=Kk();cf(()=>{L.value=M.value});const K=Ge(()=>{var pt;return M.value===document.documentElement?l.height.value:((pt=$.value)==null?void 0:pt.height)||parseInt(n.height)||0}),Y=Ge(()=>!!(M.value&&R.value&&K.value&&d.value));let ne=Array.from({length:r.value.length}),oe=Array.from({length:r.value.length});const se=Ao(0);let Me=-1;function xe(pt){return ne[pt]||d.value}const ee=Kde(()=>{const pt=performance.now();oe[0]=0;const Lt=r.value.length;for(let tt=1;tt<=Lt-1;tt++)oe[tt]=(oe[tt-1]||0)+xe(tt-1);se.value=Math.max(se.value,performance.now()-pt)},se),_e=zn(Y,pt=>{pt&&(_e(),I=R.value.offsetTop,ee.immediate(),ct(),~Me&&Fs(()=>{di&&window.requestAnimationFrame(()=>{Jt(Me),Me=-1})}))});Du(()=>{ee.clear()});function le(pt,Lt){const tt=ne[pt],Ye=d.value;d.value=Ye?Math.min(d.value,Lt):Lt,(tt!==Lt||Ye!==d.value)&&(ne[pt]=Lt,ee())}function Ue(pt){return pt=$h(pt,0,r.value.length-1),oe[pt]||0}function We(pt){return Wve(oe,pt)}let qe=0,st=0,ke=0;zn(K,(pt,Lt)=>{Lt&&(ct(),pt<Lt&&requestAnimationFrame(()=>{st=0,ct()}))});function Le(){if(!M.value||!R.value)return;const pt=M.value.scrollTop,Lt=performance.now();Lt-ke>500?(st=Math.sign(pt-qe),I=R.value.offsetTop):st=pt-qe,qe=pt,ke=Lt,ct()}function O(){!M.value||!R.value||(st=0,ke=0,ct())}let Ke=-1;function ct(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame($t)}function $t(){if(!M.value||!K.value)return;const pt=qe-I,Lt=Math.sign(st),tt=Math.max(0,pt-f$),Ye=$h(We(tt),0,r.value.length),Mt=pt+K.value+f$,oo=$h(We(Mt)+1,Ye+1,r.value.length);if((Lt!==zve||Ye<g.value)&&(Lt!==Hve||oo>v.value)){const Fn=Ue(g.value)-Ue(Ye),fn=Ue(oo)-Ue(v.value);Math.max(Fn,fn)>f$?(g.value=Ye,v.value=oo):(Ye<=0&&(g.value=Ye),oo>=r.value.length&&(v.value=oo))}x.value=Ue(g.value),S.value=Ue(r.value.length)-Ue(v.value)}function Jt(pt){const Lt=Ue(pt);!M.value||pt&&!Lt?Me=pt:M.value.scrollTop=Lt}const et=Ge(()=>r.value.slice(g.value,v.value).map((pt,Lt)=>({raw:pt,index:Lt+g.value})));return zn(r,()=>{ne=Array.from({length:r.value.length}),oe=Array.from({length:r.value.length}),ee.immediate(),ct()},{deep:!0}),{calculateVisibleItems:ct,containerRef:M,markerRef:R,computedItems:et,paddingTop:x,paddingBottom:S,scrollToIndex:Jt,handleScroll:Le,handleScrollend:O,handleItemResize:le}}function Wve(n,r){let l=n.length-1,d=0,g=0,v=null,x=-1;if(n[l]<r)return l;for(;d<=l;)if(g=d+l>>1,v=n[g],v>r)l=g-1;else if(v<r)x=g,d=g+1;else return v===r?g:d;return x}const Zve=Dn({items:{type:Array,default:()=>[]},renderless:Boolean,...$ve(),...Vs(),...Yh()},"VVirtualScroll"),_Q=Ro()({name:"VVirtualScroll",props:Zve(),setup(n,r){let{slots:l}=r;const d=Tl("VVirtualScroll"),{dimensionStyles:g}=Xh(n),{calculateVisibleItems:v,containerRef:x,markerRef:S,handleScroll:M,handleScrollend:R,handleItemResize:I,scrollToIndex:L,paddingTop:$,paddingBottom:K,computedItems:Y}=Uve(n,es(n,"items"));return Rg(()=>n.renderless,()=>{function ne(){var Me,xe;const se=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[se]("scroll",M,{passive:!0}),document[se]("scrollend",R)):((Me=x.value)==null||Me[se]("scroll",M,{passive:!0}),(xe=x.value)==null||xe[se]("scrollend",R))}Ru(()=>{x.value=AX(d.vnode.el,!0),ne(!0)}),Du(ne)}),vs(()=>{const ne=Y.value.map(oe=>j(Vve,{key:oe.index,renderless:n.renderless,"onUpdate:height":se=>I(oe.index,se)},{default:se=>{var Me;return(Me=l.default)==null?void 0:Me.call(l,{item:oe.raw,index:oe.index,...se})}}));return n.renderless?j(us,null,[j("div",{ref:S,class:"v-virtual-scroll__spacer",style:{paddingTop:hs($.value)}},null),ne,j("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:hs(K.value)}},null)]):j("div",{ref:x,class:["v-virtual-scroll",n.class],onScrollPassive:M,onScrollend:R,style:[g.value,n.style]},[j("div",{ref:S,class:"v-virtual-scroll__container",style:{paddingTop:hs($.value),paddingBottom:hs(K.value)}},[ne])])}),{calculateVisibleItems:v,scrollToIndex:L}}});function SQ(n,r){const l=Ao(!1);let d;function g(S){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>{if(l.value){const M=zn(l,()=>{M(),S()})}else S()})}async function x(S){var I,L;if(S.key==="Tab"&&((I=r.value)==null||I.focus()),!["PageDown","PageUp","Home","End"].includes(S.key))return;const M=(L=n.value)==null?void 0:L.$el;if(!M)return;(S.key==="Home"||S.key==="End")&&M.scrollTo({top:S.key==="Home"?0:M.scrollHeight,behavior:"smooth"}),await v();const R=M.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(S.key==="PageDown"||S.key==="Home"){const $=M.getBoundingClientRect().top;for(const K of R)if(K.getBoundingClientRect().top>=$){K.focus();break}}else{const $=M.getBoundingClientRect().bottom;for(const K of[...R].reverse())if(K.getBoundingClientRect().bottom<=$){K.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const kQ=Dn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:fi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...vQ({itemChildren:!1})},"Select"),jve=Dn({...kQ(),...Jy(rW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...sE({transition:{component:JU}})},"VSelect");Ro()({name:"VSelect",props:jve(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=TD(),g=Mn(),v=Mn(),x=Mn(),S=Hi(n,"menu"),M=Ge({get:()=>S.value,set:pt=>{var Lt;S.value&&!pt&&((Lt=v.value)!=null&&Lt.ΨopenChildren.size)||(S.value=pt)}}),{items:R,transformIn:I,transformOut:L}=yQ(n),$=Hi(n,"modelValue",[],pt=>I(pt===null?[null]:sf(pt)),pt=>{const Lt=L(pt);return n.multiple?Lt:Lt[0]??null}),K=Ge(()=>typeof n.counterValue=="function"?n.counterValue($.value):typeof n.counterValue=="number"?n.counterValue:$.value.length),Y=eW(),ne=Ge(()=>$.value.map(pt=>pt.value)),oe=Ao(!1),se=Ge(()=>M.value?n.closeText:n.openText);let Me="",xe;const ee=Ge(()=>n.hideSelected?R.value.filter(pt=>!$.value.some(Lt=>n.valueComparator(Lt,pt))):R.value),_e=Ge(()=>n.hideNoData&&!ee.value.length||n.readonly||(Y==null?void 0:Y.isReadonly.value)),le=Ge(()=>{var pt;return{...n.menuProps,activatorProps:{...((pt=n.menuProps)==null?void 0:pt.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ue=Mn(),We=SQ(Ue,g);function qe(pt){n.openOnClear&&(M.value=!0)}function st(){_e.value||(M.value=!M.value)}function ke(pt){O$(pt)&&Le(pt)}function Le(pt){var Mt,oo;if(!pt.key||n.readonly||Y!=null&&Y.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(pt.key)&&pt.preventDefault(),["Enter","ArrowDown"," "].includes(pt.key)&&(M.value=!0),["Escape","Tab"].includes(pt.key)&&(M.value=!1),pt.key==="Home"?(Mt=Ue.value)==null||Mt.focus("first"):pt.key==="End"&&((oo=Ue.value)==null||oo.focus("last"));const Lt=1e3;if(n.multiple||!O$(pt))return;const tt=performance.now();tt-xe>Lt&&(Me=""),Me+=pt.key.toLowerCase(),xe=tt;const Ye=R.value.find(Fn=>Fn.title.toLowerCase().startsWith(Me));if(Ye!==void 0){$.value=[Ye];const Fn=ee.value.indexOf(Ye);di&&window.requestAnimationFrame(()=>{var fn;Fn>=0&&((fn=x.value)==null||fn.scrollToIndex(Fn))})}}function O(pt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!pt.props.disabled)if(n.multiple){const tt=$.value.findIndex(Mt=>n.valueComparator(Mt.value,pt.value)),Ye=Lt??!~tt;if(~tt){const Mt=Ye?[...$.value,pt]:[...$.value];Mt.splice(tt,1),$.value=Mt}else Ye&&($.value=[...$.value,pt])}else{const tt=Lt!==!1;$.value=tt?[pt]:[],Fs(()=>{M.value=!1})}}function Ke(pt){var Lt;(Lt=Ue.value)!=null&&Lt.$el.contains(pt.relatedTarget)||(M.value=!1)}function ct(){var pt;n.eager&&((pt=x.value)==null||pt.calculateVisibleItems())}function $t(){var pt;oe.value&&((pt=g.value)==null||pt.focus())}function Jt(pt){oe.value=!0}function et(pt){if(pt==null)$.value=[];else if(Zk(g.value,":autofill")||Zk(g.value,":-webkit-autofill")){const Lt=R.value.find(tt=>tt.title===pt);Lt&&O(Lt)}else g.value&&(g.value.value="")}return zn(M,()=>{if(!n.hideSelected&&M.value&&$.value.length){const pt=ee.value.findIndex(Lt=>$.value.some(tt=>n.valueComparator(tt.value,Lt.value)));di&&window.requestAnimationFrame(()=>{var Lt;pt>=0&&((Lt=x.value)==null||Lt.scrollToIndex(pt))})}}),zn(()=>n.items,(pt,Lt)=>{M.value||oe.value&&!Lt.length&&pt.length&&(M.value=!0)}),vs(()=>{const pt=!!(n.chips||l.chip),Lt=!!(!n.hideNoData||ee.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),tt=$.value.length>0,Ye=cD.filterProps(n),Mt=tt||!oe.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return j(cD,Wo({ref:g},Ye,{modelValue:$.value.map(oo=>oo.props.value).join(", "),"onUpdate:modelValue":et,focused:oe.value,"onUpdate:focused":oo=>oe.value=oo,validationValue:$.externalValue,counterValue:K.value,dirty:tt,class:["v-select",{"v-select--active-menu":M.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":$.value.length,"v-select--selection-slot":!!l.selection},n.class],style:n.style,inputmode:"none",placeholder:Mt,"onClick:clear":qe,"onMousedown:control":st,onBlur:Ke,onKeydown:Le,"aria-label":d(se.value),title:d(se.value)}),{...l,default:()=>j(us,null,[j(g8,Wo({ref:v,modelValue:M.value,"onUpdate:modelValue":oo=>M.value=oo,activator:"parent",contentClass:"v-select__content",disabled:_e.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:ct,onAfterLeave:$t},le.value),{default:()=>[Lt&&j(lD,Wo({ref:Ue,selected:ne.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:oo=>oo.preventDefault(),onKeydown:ke,onFocusin:Jt,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},We,n.listProps),{default:()=>{var oo,Fn,fn;return[(oo=l["prepend-item"])==null?void 0:oo.call(l),!ee.value.length&&!n.hideNoData&&(((Fn=l["no-data"])==null?void 0:Fn.call(l))??j(vc,{title:d(n.noDataText)},null)),j(_Q,{ref:x,renderless:!0,items:ee.value},{default:_n=>{var To;let{item:J,index:xs,itemRef:eo}=_n;const tn=Wo(J.props,{ref:eo,key:xs,onClick:()=>O(J,null)});return((To=l.item)==null?void 0:To.call(l,{item:J,index:xs,props:tn}))??j(vc,Wo(tn,{role:"option"}),{prepend:je=>{let{isSelected:ae}=je;return j(us,null,[n.multiple&&!n.hideSelected?j(NL,{key:J.value,modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0,J.props.prependAvatar&&j(Gy,{image:J.props.prependAvatar},null),J.props.prependIcon&&j(qn,{icon:J.props.prependIcon},null)])}})}}),(fn=l["append-item"])==null?void 0:fn.call(l)]}})]}),$.value.map((oo,Fn)=>{function fn(eo){eo.stopPropagation(),eo.preventDefault(),O(oo,!1)}const _n={"onClick:close":fn,onKeydown(eo){eo.key!=="Enter"&&eo.key!==" "||(eo.preventDefault(),eo.stopPropagation(),fn(eo))},onMousedown(eo){eo.preventDefault(),eo.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},J=pt?!!l.chip:!!l.selection,xs=J?IU(pt?l.chip({item:oo,index:Fn,props:_n}):l.selection({item:oo,index:Fn})):void 0;if(!(J&&!xs))return j("div",{key:oo.value,class:"v-select__selection"},[pt?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:oo.title}}},{default:()=>[xs]}):j(lQ,Wo({key:"chip",closable:n.closableChips,size:"small",text:oo.title,disabled:oo.props.disabled},_n),null):xs??j("span",{class:"v-select__selection-text"},[oo.title,n.multiple&&Fn<$.value.length-1&&j("span",{class:"v-select__selection-comma"},[Ei(",")])])])})]),"append-inner":function(){var _n;for(var oo=arguments.length,Fn=new Array(oo),fn=0;fn<oo;fn++)Fn[fn]=arguments[fn];return j(us,null,[(_n=l["append-inner"])==null?void 0:_n.call(l,...Fn),n.menuIcon?j(qn,{class:"v-select__menu-icon",icon:n.menuIcon},null):void 0])}})}),rE({isFocused:oe,menu:M,select:O},g)}});const Kve=(n,r,l)=>n==null||r==null?-1:n.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),Gve=Dn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function qve(n,r,l){var S;const d=[],g=(l==null?void 0:l.default)??Kve,v=l!=null&&l.filterKeys?sf(l.filterKeys):!1,x=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return d;e:for(let M=0;M<n.length;M++){const[R,I=R]=sf(n[M]),L={},$={};let K=-1;if((r||x>0)&&!(l!=null&&l.noFilter)){if(typeof R=="object"){const oe=v||Object.keys(I);for(const se of oe){const Me=fv(I,se),xe=(S=l==null?void 0:l.customKeyFilter)==null?void 0:S[se];if(K=xe?xe(Me,r,R):g(Me,r,R),K!==-1&&K!==!1)xe?L[se]=K:$[se]=K;else if((l==null?void 0:l.filterMode)==="every")continue e}}else K=g(R,r,R),K!==-1&&K!==!1&&($.title=K);const Y=Object.keys($).length,ne=Object.keys(L).length;if(!Y&&!ne||(l==null?void 0:l.filterMode)==="union"&&ne!==x&&!Y||(l==null?void 0:l.filterMode)==="intersection"&&(ne!==x||!Y))continue}d.push({index:M,matches:{...$,...L}})}return d}function Yve(n,r,l,d){const g=Mn([]),v=Mn(new Map),x=Ge(()=>ce(r));cf(()=>{const M=typeof l=="function"?l():ce(l),R=typeof M!="string"&&typeof M!="number"?"":String(M),I=qve(x.value,R,{customKeyFilter:{...n.customKeyFilter,...ce(d==null?void 0:d.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),L=ce(r),$=[],K=new Map;I.forEach(Y=>{let{index:ne,matches:oe}=Y;const se=L[ne];$.push(se),K.set(se.value,oe)}),g.value=$,v.value=K});function S(M){return v.value.get(M.value)}return{filteredItems:g,filteredMatches:v,getMatches:S}}function Xve(n,r,l){if(r==null)return n;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?j(us,null,[j("span",{class:"v-autocomplete__unmask"},[n.substr(0,r)]),j("span",{class:"v-autocomplete__mask"},[n.substr(r,l)]),j("span",{class:"v-autocomplete__unmask"},[n.substr(r+l)])]):n}const Jve=Dn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Gve({filterKeys:["title"]}),...kQ(),...Jy(rW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...sE({transition:!1})},"VAutocomplete"),Qve=Ro()({name:"VAutocomplete",props:Jve(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=TD(),g=Mn(),v=Ao(!1),x=Ao(!0),S=Ao(!1),M=Mn(),R=Mn(),I=Hi(n,"menu"),L=Ge({get:()=>I.value,set:tn=>{var To;I.value&&!tn&&((To=M.value)!=null&&To.ΨopenChildren.size)||(I.value=tn)}}),$=Ao(-1),K=Ge(()=>{var tn;return(tn=g.value)==null?void 0:tn.color}),Y=Ge(()=>L.value?n.closeText:n.openText),{items:ne,transformIn:oe,transformOut:se}=yQ(n),{textColorClasses:Me,textColorStyles:xe}=Kh(K),ee=Hi(n,"search",""),_e=Hi(n,"modelValue",[],tn=>oe(tn===null?[null]:sf(tn)),tn=>{const To=se(tn);return n.multiple?To:To[0]??null}),le=Ge(()=>typeof n.counterValue=="function"?n.counterValue(_e.value):typeof n.counterValue=="number"?n.counterValue:_e.value.length),Ue=eW(),{filteredItems:We,getMatches:qe}=Yve(n,ne,()=>x.value?"":ee.value),st=Ge(()=>n.hideSelected?We.value.filter(tn=>!_e.value.some(To=>To.value===tn.value)):We.value),ke=Ge(()=>!!(n.chips||l.chip)),Le=Ge(()=>ke.value||!!l.selection),O=Ge(()=>_e.value.map(tn=>tn.props.value)),Ke=Ge(()=>{var To;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&ee.value===((To=st.value[0])==null?void 0:To.title))&&st.value.length>0&&!x.value&&!S.value}),ct=Ge(()=>n.hideNoData&&!st.value.length||n.readonly||(Ue==null?void 0:Ue.isReadonly.value)),$t=Mn(),Jt=SQ($t,g);function et(tn){n.openOnClear&&(L.value=!0),ee.value=""}function pt(){ct.value||(L.value=!0)}function Lt(tn){ct.value||(v.value&&(tn.preventDefault(),tn.stopPropagation()),L.value=!L.value)}function tt(tn){var To;O$(tn)&&((To=g.value)==null||To.focus())}function Ye(tn){var ae,be,Be;if(n.readonly||Ue!=null&&Ue.isReadonly.value)return;const To=g.value.selectionStart,je=_e.value.length;if(($.value>-1||["Enter","ArrowDown","ArrowUp"].includes(tn.key))&&tn.preventDefault(),["Enter","ArrowDown"].includes(tn.key)&&(L.value=!0),["Escape"].includes(tn.key)&&(L.value=!1),Ke.value&&["Enter","Tab"].includes(tn.key)&&!_e.value.some(he=>{let{value:gt}=he;return gt===st.value[0].value})&&eo(st.value[0]),tn.key==="ArrowDown"&&Ke.value&&((ae=$t.value)==null||ae.focus("next")),["Backspace","Delete"].includes(tn.key)){if(!n.multiple&&Le.value&&_e.value.length>0&&!ee.value)return eo(_e.value[0],!1);if(~$.value){const he=$.value;eo(_e.value[$.value],!1),$.value=he>=je-1?je-2:he}else tn.key==="Backspace"&&!ee.value&&($.value=je-1)}if(n.multiple){if(tn.key==="ArrowLeft"){if($.value<0&&To>0)return;const he=$.value>-1?$.value-1:je-1;_e.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange((be=ee.value)==null?void 0:be.length,(Be=ee.value)==null?void 0:Be.length))}if(tn.key==="ArrowRight"){if($.value<0)return;const he=$.value+1;_e.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange(0,0))}}}function Mt(tn){if(Zk(g.value,":autofill")||Zk(g.value,":-webkit-autofill")){const To=ne.value.find(je=>je.title===tn.target.value);To&&eo(To)}}function oo(){var tn;n.eager&&((tn=R.value)==null||tn.calculateVisibleItems())}function Fn(){var tn;v.value&&(x.value=!0,(tn=g.value)==null||tn.focus())}function fn(tn){v.value=!0,setTimeout(()=>{S.value=!0})}function _n(tn){S.value=!1}function J(tn){(tn==null||tn===""&&!n.multiple&&!Le.value)&&(_e.value=[])}const xs=Ao(!1);function eo(tn){let To=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!tn||tn.props.disabled))if(n.multiple){const je=_e.value.findIndex(be=>n.valueComparator(be.value,tn.value)),ae=To??!~je;if(~je){const be=ae?[..._e.value,tn]:[..._e.value];be.splice(je,1),_e.value=be}else ae&&(_e.value=[..._e.value,tn]);n.clearOnSelect&&(ee.value="")}else{const je=To!==!1;_e.value=je?[tn]:[],ee.value=je&&!Le.value?tn.title:"",Fs(()=>{L.value=!1,x.value=!0})}}return zn(v,(tn,To)=>{var je;tn!==To&&(tn?(xs.value=!0,ee.value=n.multiple||Le.value?"":String(((je=_e.value.at(-1))==null?void 0:je.props.title)??""),x.value=!0,Fs(()=>xs.value=!1)):(!n.multiple&&ee.value==null&&(_e.value=[]),L.value=!1,_e.value.some(ae=>{let{title:be}=ae;return be===ee.value})||(ee.value=""),$.value=-1))}),zn(ee,tn=>{!v.value||xs.value||(tn&&(L.value=!0),x.value=!tn)}),zn(L,()=>{if(!n.hideSelected&&L.value&&_e.value.length){const tn=st.value.findIndex(To=>_e.value.some(je=>To.value===je.value));di&&window.requestAnimationFrame(()=>{var To;tn>=0&&((To=R.value)==null||To.scrollToIndex(tn))})}}),zn(()=>n.items,(tn,To)=>{L.value||v.value&&!To.length&&tn.length&&(L.value=!0)}),vs(()=>{const tn=!!(!n.hideNoData||st.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),To=_e.value.length>0,je=cD.filterProps(n);return j(cD,Wo({ref:g},je,{modelValue:ee.value,"onUpdate:modelValue":[ae=>ee.value=ae,J],focused:v.value,"onUpdate:focused":ae=>v.value=ae,validationValue:_e.externalValue,counterValue:le.value,dirty:To,onChange:Mt,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":L.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!Le.value,"v-autocomplete--selecting-index":$.value>-1},n.class],style:n.style,readonly:n.readonly,placeholder:To?void 0:n.placeholder,"onClick:clear":et,"onMousedown:control":pt,onKeydown:Ye}),{...l,default:()=>j(us,null,[j(g8,Wo({ref:M,modelValue:L.value,"onUpdate:modelValue":ae=>L.value=ae,activator:"parent",contentClass:"v-autocomplete__content",disabled:ct.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:oo,onAfterLeave:Fn},n.menuProps),{default:()=>[tn&&j(lD,Wo({ref:$t,selected:O.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:tt,onFocusin:fn,onFocusout:_n,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Jt,n.listProps),{default:()=>{var ae,be,Be;return[(ae=l["prepend-item"])==null?void 0:ae.call(l),!st.value.length&&!n.hideNoData&&(((be=l["no-data"])==null?void 0:be.call(l))??j(vc,{title:d(n.noDataText)},null)),j(_Q,{ref:R,renderless:!0,items:st.value},{default:he=>{var Vt;let{item:gt,index:zt,itemRef:vt}=he;const Ft=Wo(gt.props,{ref:vt,key:zt,active:Ke.value&&zt===0?!0:void 0,onClick:()=>eo(gt,null)});return((Vt=l.item)==null?void 0:Vt.call(l,{item:gt,index:zt,props:Ft}))??j(vc,Wo(Ft,{role:"option"}),{prepend:wn=>{let{isSelected:cn}=wn;return j(us,null,[n.multiple&&!n.hideSelected?j(NL,{key:gt.value,modelValue:cn,ripple:!1,tabindex:"-1"},null):void 0,gt.props.prependAvatar&&j(Gy,{image:gt.props.prependAvatar},null),gt.props.prependIcon&&j(qn,{icon:gt.props.prependIcon},null)])},title:()=>{var wn,cn;return x.value?gt.title:Xve(gt.title,(wn=qe(gt))==null?void 0:wn.title,((cn=ee.value)==null?void 0:cn.length)??0)}})}}),(Be=l["append-item"])==null?void 0:Be.call(l)]}})]}),_e.value.map((ae,be)=>{function Be(vt){vt.stopPropagation(),vt.preventDefault(),eo(ae,!1)}const he={"onClick:close":Be,onKeydown(vt){vt.key!=="Enter"&&vt.key!==" "||(vt.preventDefault(),vt.stopPropagation(),Be(vt))},onMousedown(vt){vt.preventDefault(),vt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},gt=ke.value?!!l.chip:!!l.selection,zt=gt?IU(ke.value?l.chip({item:ae,index:be,props:he}):l.selection({item:ae,index:be})):void 0;if(!(gt&&!zt))return j("div",{key:ae.value,class:["v-autocomplete__selection",be===$.value&&["v-autocomplete__selection--selected",Me.value]],style:be===$.value?xe.value:{}},[ke.value?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:ae.title}}},{default:()=>[zt]}):j(lQ,Wo({key:"chip",closable:n.closableChips,size:"small",text:ae.title,disabled:ae.props.disabled},he),null):zt??j("span",{class:"v-autocomplete__selection-text"},[ae.title,n.multiple&&be<_e.value.length-1&&j("span",{class:"v-autocomplete__selection-comma"},[Ei(",")])])])})]),"append-inner":function(){var he;for(var ae=arguments.length,be=new Array(ae),Be=0;Be<ae;Be++)be[Be]=arguments[Be];return j(us,null,[(he=l["append-inner"])==null?void 0:he.call(l,...be),n.menuIcon?j(qn,{class:"v-autocomplete__menu-icon",icon:n.menuIcon,onMousedown:Lt,onClick:Yde,"aria-label":d(Y.value),title:d(Y.value),tabindex:"-1"},null):void 0])}})}),rE({isFocused:v,isPristine:x,menu:L,search:ee,filteredItems:We,select:eo},g)}}),ebe={__name:"Items",setup(n){const r=ps(),l=mv(),d=yc(),g=oD(),v=bv(),x=ec();xc();const S=Mn(!1),M=Mn(!1),R=Mn("");Mn(!1);async function I(){await Fs(),S.value&&(M.value=!0,R.value="")}async function L(){S.value=!1,!r.isLoading&&R.value!=""&&$(R.value)}async function $(K){r.isLoading||(!await x.hasChangesInStorage()||await r.saveChangesToBackend(!0)?await r.loadItemFromBackend(K):r.setShowSendFailure(!0))}return(K,Y)=>(Ln(),ds(us,null,[j(xo,{class:"app-header-item",disabled:ce(r).isLoading||ce(r).itemKey==ce(l).firstKey,onClick:Y[0]||(Y[0]=ne=>$(ce(l).getPreviousKey(ce(r).itemKey)))},{default:It(()=>[j(qn,{left:"",icon:"mdi-arrow-left-bold"}),Y[6]||(Y[6]=Ae("span",{class:"sr-only"},"Vorheriger Teilnehmer",-1))]),_:1},8,["disabled"]),j(xo,{class:"app-header-item",disabled:ce(r).isLoading,id:"app-items-menu-activator"},{default:It(()=>[Qn(Ae("span",null," Lade Daten ... ",512),[[zo,ce(r).isLoading]]),Qn(Ae("span",null,Go(ce(l).currentItem.title)+" "+Go(ce(v).getPositionText(ce(r).correctorKey))+" "+Go(ce(r).isForReviewOrStitch?ce(g).isFinalized?" - finalisiert":" - offen":ce(d).isOwnAuthorized?" - autorisiert":" - offen"),513),[[zo,!ce(r).isLoading&&ce(l).currentItem!==void 0]])]),_:1},8,["disabled"]),j(g8,{disabled:ce(r).isLoading,modelValue:S.value,"onUpdate:modelValue":[Y[3]||(Y[3]=ne=>S.value=ne),Y[4]||(Y[4]=ne=>I())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:It(()=>[M.value?(Ln(),rr(Qve,{key:0,id:"app-items-autocomplete",modelValue:R.value,"onUpdate:modelValue":[Y[1]||(Y[1]=ne=>R.value=ne),Y[2]||(Y[2]=ne=>L())],items:ce(l).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:"Teilnehmer/in","prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items"])):Ts("",!0)]),_:1},8,["disabled","modelValue"]),j(xo,{class:"app-header-item",disabled:ce(r).isLoading||ce(r).itemKey==ce(l).lastKey,onClick:Y[5]||(Y[5]=ne=>$(ce(l).getNextKey(ce(r).itemKey)))},{default:It(()=>[j(qn,{left:"",icon:"mdi-arrow-right-bold"}),Y[7]||(Y[7]=Ae("span",{class:"sr-only"},"Nächster Teilnehmer",-1))]),_:1},8,["disabled"])],64))}},tbe={id:"app-stitch-decision-wrapper"},nbe=["min","max"],obe=["innerHTML"],sbe={__name:"StitchDecision",setup(n){const r=ps(),l=oD(),d=mv(),g=yc();let v=Mn(!1),x=Mn(!1);async function S(){if(v.value=!1,await l.saveStitchDecision(),!l.correction_finalized)x.value=!0;else{let R=d.getNextKey(r.itemKey);R!=""&&r.loadItemFromBackend(R)}}async function M(){v.value=!1,await l.saveStitchDecision(),l.correction_finalized?window.location=r.returnUrl:x.value=!0}return(R,I)=>(Ln(),ds("div",tbe,[j(xo,{class:"app-header-item",disabled:ce(l).correction_finalized,onClick:I[0]||(I[0]=L=>zr(v)?v.value=!0:v=!0)},{default:It(()=>[j(qn,{left:"",icon:"mdi-checkbox-marked-outline"}),I[9]||(I[9]=Ei(" Stichentscheid "))]),_:1},8,["disabled"]),j(pv,{persistent:"",modelValue:ce(v),"onUpdate:modelValue":I[6]||(I[6]=L=>zr(v)?v.value=L:v=L)},{default:It(()=>[j(hv,null,{default:It(()=>[j(c8,null,{default:It(()=>I[10]||(I[10]=[Ei("Stichentscheid")])),_:1}),j(zh,null,{default:It(()=>[I[14]||(I[14]=Ae("p",null," Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen. ",-1)),I[15]||(I[15]=Ae("br",null,null,-1)),Ae("p",null,"Minimale Punkte: "+Go(ce(g).minPoints),1),Ae("p",null,"Maximale Punkte: "+Go(ce(g).maxPoints),1),I[16]||(I[16]=Ae("br",null,null,-1)),Ae("p",null,[I[11]||(I[11]=Ae("label",{for:"appFinalPoints"},"Finale Punkte: ",-1)),Qn(Ae("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:ce(g).minPoints,max:ce(g).maxPoints,"onUpdate:modelValue":I[1]||(I[1]=L=>ce(l).final_points=L)},null,8,nbe),[[Zy,ce(l).final_points]]),Ae("span",{innerHTML:ce(l).grade},null,8,obe),I[12]||(I[12]=Ae("br",null,null,-1)),I[13]||(I[13]=Ae("label",{for:"appStitchComment"},"Begründung: ",-1)),Qn(Ae("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":I[2]||(I[2]=L=>ce(l).stitch_comment=L)},null,512),[[Zy,ce(l).stitch_comment]])])]),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:I[3]||(I[3]=L=>S()),disabled:ce(l).final_points===null||ce(l).final_points===""||!ce(l).stitch_comment},{default:It(()=>[j(qn,{left:"",icon:"mdi-check"}),I[17]||(I[17]=Ae("span",null,"Festlegen und Weiter",-1))]),_:1},8,["disabled"]),j(xo,{onClick:I[4]||(I[4]=L=>M()),disabled:ce(l).final_points===null||ce(l).final_points===""||!ce(l).stitch_comment},{default:It(()=>[j(qn,{left:"",icon:"mdi-check"}),I[18]||(I[18]=Ae("span",null,"Festlegen und Schließen",-1))]),_:1},8,["disabled"]),j(xo,{onClick:I[5]||(I[5]=L=>zr(v)?v.value=!1:v=!1)},{default:It(()=>[j(qn,{left:"",icon:"mdi-close"}),I[19]||(I[19]=Ae("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:ce(x),"onUpdate:modelValue":I[8]||(I[8]=L=>zr(x)?x.value=L:x=L)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>I[20]||(I[20]=[Ae("p",null,"Ihr Stichentscheid konnte nicht übertragen werden. Bitte versuchen Sie es später noch einmal.",-1)])),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:I[7]||(I[7]=L=>zr(x)?x.value=!1:x=!1)},{default:It(()=>[j(qn,{left:"",icon:"mdi-close"}),I[21]||(I[21]=Ae("span",null,"Meldung schließen",-1))]),_:1}),j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),I[22]||(I[22]=Ae("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},rbe=$l(sbe,[["__scopeId","data-v-2931e2f5"]]),ibe=Dn({fluid:{type:Boolean,default:!1},...Vs(),...Yh(),...Qi()},"VContainer"),EQ=Ro()({name:"VContainer",props:ibe(),setup(n,r){let{slots:l}=r;const{rtlClasses:d}=Ng(),{dimensionStyles:g}=Xh(n);return vs(()=>j(n.tag,{class:["v-container",{"v-container--fluid":n.fluid},d.value,n.class],style:[g.value,n.style]},l)),{}}}),AQ=YL.reduce((n,r)=>(n[r]={type:[Boolean,String,Number],default:!1},n),{}),TQ=YL.reduce((n,r)=>{const l="offset"+O1(r);return n[l]={type:[String,Number],default:null},n},{}),OQ=YL.reduce((n,r)=>{const l="order"+O1(r);return n[l]={type:[String,Number],default:null},n},{}),Aq={col:Object.keys(AQ),offset:Object.keys(TQ),order:Object.keys(OQ)};function abe(n,r,l){let d=n;if(!(l==null||l===!1)){if(r){const g=r.replace(n,"");d+=`-${g}`}return n==="col"&&(d="v-"+d),n==="col"&&(l===""||l===!0)||(d+=`-${l}`),d.toLowerCase()}}const lbe=["auto","start","end","center","baseline","stretch"],cbe=Dn({cols:{type:[Boolean,String,Number],default:!1},...AQ,offset:{type:[String,Number],default:null},...TQ,order:{type:[String,Number],default:null},...OQ,alignSelf:{type:String,default:null,validator:n=>lbe.includes(n)},...Vs(),...Qi()},"VCol"),im=Ro()({name:"VCol",props:cbe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in Aq)Aq[v].forEach(S=>{const M=n[S],R=abe(v,S,M);R&&g.push(R)});const x=g.some(S=>S.startsWith("v-col-"));return g.push({"v-col":!x||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),g});return()=>{var g;return xv(n.tag,{class:[d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),iW=["start","end","center"],DQ=["space-between","space-around","space-evenly"];function aW(n,r){return YL.reduce((l,d)=>{const g=n+O1(d);return l[g]=r(),l},{})}const ube=[...iW,"baseline","stretch"],RQ=n=>ube.includes(n),IQ=aW("align",()=>({type:String,default:null,validator:RQ})),dbe=[...iW,...DQ],NQ=n=>dbe.includes(n),PQ=aW("justify",()=>({type:String,default:null,validator:NQ})),fbe=[...iW,...DQ,"stretch"],MQ=n=>fbe.includes(n),BQ=aW("alignContent",()=>({type:String,default:null,validator:MQ})),Tq={align:Object.keys(IQ),justify:Object.keys(PQ),alignContent:Object.keys(BQ)},mbe={align:"align",justify:"justify",alignContent:"align-content"};function gbe(n,r,l){let d=mbe[n];if(l!=null){if(r){const g=r.replace(n,"");d+=`-${g}`}return d+=`-${l}`,d.toLowerCase()}}const hbe=Dn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:RQ},...IQ,justify:{type:String,default:null,validator:NQ},...PQ,alignContent:{type:String,default:null,validator:MQ},...BQ,...Vs(),...Qi()},"VRow"),Bk=Ro()({name:"VRow",props:hbe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in Tq)Tq[v].forEach(x=>{const S=n[x],M=gbe(v,x,S);M&&g.push(M)});return g.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),g});return()=>{var g;return xv(n.tag,{class:["v-row",d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),lW=GL("v-spacer","div","VSpacer"),pbe=["value"],vbe=["value"],bbe=["value"],ybe={for:"appIncludeRatings"},xbe=["value"],wbe=["value"],Cbe=["value"],_be=["value"],Sbe=["value"],kbe=["value"],Ebe=["value"],Abe=["value"],Tbe=["value"],LQ={__name:"OwnSummaryIncludes",setup(n){const r=yc(),l=Uh(),d=$y(),g=um(),v=Mn(!1);Mn([{title:"Nicht einbeziehen",value:_s.INCLUDE_NOT},{title:"informativ",value:_s.INCLUDE_INFO},{title:"bewertungsrelevant",value:_s.INCLUDE_RELEVANT}]);const x=Mn({}),S=Mn(!1);x.value=r.currentInclusionSettings;async function M(){v.value=!0,await Fs();const I=document.getElementById("app-own-summary-includes-container");for(const L of I.getElementsByTagName("label"))L.classList.contains("v-label")&&L.remove()}function R(){x.value.include_comments==_s.INCLUDE_NOT&&(x.value.include_comment_ratings=_s.INCLUDE_NOT,x.value.include_comment_points=_s.INCLUDE_NOT),r.editSummary.setData(x.value),S.value&&(d.setSummaryInclusions(x.value),S.value=!1),v.value=!1}return(I,L)=>(Ln(),ds("div",null,[L[16]||(L[16]=Ae("strong",null,"Einbeziehen:",-1)),Ei(" "+Go(ce(r).getInclusionText(ce(r).editSummary))+" ",1),ce(g).fixed_inclusions?Ts("",!0):(Ln(),rr(xo,{key:0,variant:"text",disabled:ce(r).isOwnDisabled,onClick:L[0]||(L[0]=$=>M())},{default:It(()=>[j(qn,{left:"",icon:"mdi-pencil"}),L[9]||(L[9]=Ae("span",{class:"sr-only"},"Einbezug bearbeiten",-1))]),_:1},8,["disabled"])),j(pv,{"max-width":"50em",persistent:"",modelValue:v.value,"onUpdate:modelValue":L[8]||(L[8]=$=>v.value=$)},{default:It(()=>[j(hv,null,{default:It(()=>[j(c8,null,{default:It(()=>L[10]||(L[10]=[Ei("In die Dokumentation der Korrektur einbeziehen")])),_:1}),j(zh,null,{default:It(()=>[j(EQ,{id:"app-own-summary-includes-container"},{default:It(()=>[j(Bk,null,{default:It(()=>[j(im,null,{default:It(()=>L[11]||(L[11]=[Ae("label",{for:"appIncludeComments"},"Markierungen und Kommentare",-1)])),_:1}),j(im,null,{default:It(()=>[Qn(Ae("select",{id:"appIncludeComments",class:"appIncludesSelect","onUpdate:modelValue":L[1]||(L[1]=$=>x.value.include_comments=$)},[Ae("option",{value:ce(_s).INCLUDE_NOT},"Nicht einbeziehen",8,pbe),Ae("option",{value:ce(_s).INCLUDE_INFO},"informativ",8,vbe),Ae("option",{value:ce(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,bbe)],512),[[zB,x.value.include_comments]])]),_:1})]),_:1}),Qn(j(Bk,null,{default:It(()=>[j(im,null,{default:It(()=>[Ae("label",ybe,Go(ce(g).ratingLabels),1)]),_:1}),j(im,null,{default:It(()=>[Qn(Ae("select",{id:"appIncludeRatings",class:"appIncludesSelect","onUpdate:modelValue":L[2]||(L[2]=$=>x.value.include_comment_ratings=$)},[Ae("option",{value:ce(_s).INCLUDE_NOT},"Nicht einbeziehen",8,xbe),Ae("option",{value:ce(_s).INCLUDE_INFO},"informativ",8,wbe),Ae("option",{value:ce(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,Cbe)],512),[[zB,x.value.include_comment_ratings]])]),_:1})]),_:1},512),[[zo,x.value.include_comments>ce(_s).INCLUDE_NOT]]),Qn(j(Bk,null,{default:It(()=>[j(im,null,{default:It(()=>L[12]||(L[12]=[Ae("label",{for:"appIncludeCommentPoints"},"Punkte zu Kommentaren",-1)])),_:1}),j(im,null,{default:It(()=>[Qn(Ae("select",{id:"appIncludeCommentPoints",class:"appIncludesSelect","onUpdate:modelValue":L[3]||(L[3]=$=>x.value.include_comment_points=$)},[Ae("option",{value:ce(_s).INCLUDE_NOT},"Nicht einbeziehen",8,_be),Ae("option",{value:ce(_s).INCLUDE_INFO},"informativ",8,Sbe),Ae("option",{value:ce(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,kbe)],512),[[zB,x.value.include_comment_points]])]),_:1})]),_:1},512),[[zo,x.value.include_comments>ce(_s).INCLUDE_NOT]]),Qn(j(Bk,null,{default:It(()=>[j(im,null,{default:It(()=>L[13]||(L[13]=[Ae("label",{for:"appIncludeCriteriaPoints"},"Punkte im Bewertungsschema",-1)])),_:1}),j(im,null,{default:It(()=>[Qn(Ae("select",{id:"appIncludeCriteriaPoints",class:"appIncludesSelect","onUpdate:modelValue":L[4]||(L[4]=$=>x.value.include_criteria_points=$)},[Ae("option",{value:ce(_s).INCLUDE_NOT},"Nicht einbeziehen",8,Ebe),Ae("option",{value:ce(_s).INCLUDE_INFO},"informativ",8,Abe),Ae("option",{value:ce(_s).INCLUDE_RELEVANT},"bewertungsrelevant",8,Tbe)],512),[[zB,x.value.include_criteria_points]])]),_:1})]),_:1},512),[[zo,ce(l).hasOwnCriteria]])]),_:1}),j(nve,{modelValue:S.value,"onUpdate:modelValue":L[5]||(L[5]=$=>S.value=$),label:"Als Vorgabe für andere Korekturen übernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverändert."},null,8,["modelValue"])]),_:1}),j(Vh,null,{default:It(()=>[j(lW),j(xo,{onClick:L[6]||(L[6]=$=>R())},{default:It(()=>[j(qn,{left:"",icon:"mdi-check"}),L[14]||(L[14]=Ae("span",null,"Übernehmen",-1))]),_:1}),j(xo,{onClick:L[7]||(L[7]=$=>{v.value=!1})},{default:It(()=>[j(qn,{left:"",icon:"mdi-close"}),L[15]||(L[15]=Ae("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Obe=GL("v-alert-title"),Dbe=["success","info","warning","error"],Rbe=Dn({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:fi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>Dbe.includes(n)},...Vs(),...Pg(),...Yh(),...N1(),...r8(),...qU(),...hm(),...Qi(),...cl(),...M1({variant:"flat"})},"VAlert"),JB=Ro()({name:"VAlert",props:Rbe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=Hi(n,"modelValue"),v=Ge(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),x=Ge(()=>({color:n.color??n.type,variant:n.variant})),{themeClasses:S}=Hl(n),{colorClasses:M,colorStyles:R,variantClasses:I}=oE(x),{densityClasses:L}=qh(n),{dimensionStyles:$}=Xh(n),{elevationClasses:K}=P1(n),{locationStyles:Y}=i8(n),{positionClasses:ne}=YU(n),{roundedClasses:oe}=pm(n),{textColorClasses:se,textColorStyles:Me}=Kh(es(n,"borderColor")),{t:xe}=TD(),ee=Ge(()=>({"aria-label":xe(n.closeLabel),onClick(_e){g.value=!1,l("click:close",_e)}}));return()=>{const _e=!!(d.prepend||v.value),le=!!(d.title||n.title),Ue=!!(d.close||n.closable);return g.value&&j(n.tag,{class:["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},S.value,M.value,L.value,K.value,ne.value,oe.value,I.value,n.class],style:[R.value,$.value,Y.value,n.style],role:"alert"},{default:()=>{var We,qe;return[nE(!1,"v-alert"),n.border&&j("div",{key:"border",class:["v-alert__border",se.value],style:Me.value},null),_e&&j("div",{key:"prepend",class:"v-alert__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:n.density,icon:v.value,size:n.prominent?44:28}}},d.prepend):j(qn,{key:"prepend-icon",density:n.density,icon:v.value,size:n.prominent?44:28},null)]),j("div",{class:"v-alert__content"},[le&&j(Obe,{key:"title"},{default:()=>{var st;return[((st=d.title)==null?void 0:st.call(d))??n.title]}}),((We=d.text)==null?void 0:We.call(d))??n.text,(qe=d.default)==null?void 0:qe.call(d)]),d.append&&j("div",{key:"append",class:"v-alert__append"},[d.append()]),Ue&&j("div",{key:"close",class:"v-alert__close"},[d.close?j(xa,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var st;return[(st=d.close)==null?void 0:st.call(d,{props:ee.value})]}}):j(xo,Wo({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},ee.value),null)])]}})}}}),Ibe={id:"app-authorization-wrapper"},Nbe=["innerHTML"],Pbe=["max"],Mbe={__name:"Authorization",setup(n){const r=ps(),l=mv(),d=um(),g=yc(),v=Ky(),x=xc();Mn(!1);async function S(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)){r.setShowAuthorization(!1);let I=l.getNextKey(r.itemKey);I!=""&&r.loadItemFromBackend(I)}else r.setShowAuthorization(!1),r.setShowSendFailure(!0)}async function M(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0))r.setShowAuthorization(!1),window.location=r.returnUrl;else{r.setShowAuthorization(!1),r.setShowSendFailure(!0);return}}function R(){r.showAuthorization=!1,x.showOwnSummaryText()}return(I,L)=>(Ln(),ds("div",Ibe,[Qn(j(xo,{class:"app-header-item",disabled:ce(r).isLoading||!ce(l).authorizationAllowed,onClick:L[0]||(L[0]=$=>ce(r).setShowAuthorization(!0))},{default:It(()=>[j(qn,{left:"",icon:"mdi-file-certificate-outline"}),L[7]||(L[7]=Ae("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[zo,!ce(g).isOwnDisabled]]),j(pv,{"max-width":"60em",persistent:"",modelValue:ce(r).showAuthorization,"onUpdate:modelValue":L[6]||(L[6]=$=>ce(r).showAuthorization=$)},{default:It(()=>[j(hv,null,{default:It(()=>[j(c8,null,{default:It(()=>[Ei("Korrektur von "+Go(ce(l).currentItem.title)+" autorisieren",1)]),_:1}),j(zh,null,{default:It(()=>[Ae("p",null,[L[9]||(L[9]=Ae("strong",null,"Gutachten:",-1)),j(xo,{variant:"text",onClick:L[1]||(L[1]=$=>R())},{default:It(()=>[j(qn,{left:"",icon:"mdi-pencil"}),L[8]||(L[8]=Ae("span",{class:"sr-only"},"Gutachten bearbeiten",-1))]),_:1})]),Ae("div",{class:"appText long-essay-content headlines-three",innerHTML:ce(g).editSummary.text},null,8,Nbe),L[12]||(L[12]=Ae("label",{for:"appAuthorizationPoints"},[Ae("strong",null,"Bewertung:")],-1)),Qn(Ae("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:ce(d).max_points,"onUpdate:modelValue":L[2]||(L[2]=$=>ce(g).editSummary.points=$)},null,8,Pbe),[[Zy,ce(g).editSummary.points]]),L[13]||(L[13]=Ei("Punkte   ")),L[14]||(L[14]=Ae("strong",null,"Notenstufe:",-1)),Ei(" "+Go(ce(g).currentGradeTitle)+" ",1),ce(d).inclusionsPossible?(Ln(),rr(LQ,{key:0})):Ts("",!0),Qn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:It(()=>L[10]||(L[10]=[Ei(" Bitte geben Sie einen Gutachten-Text ein. ")])),_:1},512),[[zo,ce(g).editSummary.text==""]]),Qn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:It(()=>L[11]||(L[11]=[Ei(" Bitte geben Sie eine Bewertung ein, damit eine Notenstufe vergeben werden kann. ")])),_:1},512),[[zo,ce(v).hasLevels&&ce(g).editSummary.points===null]]),Qn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:It(()=>[Ei(" Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("+Go(ce(g).currentPartialPoints)+") ab! ",1)]),_:1},512),[[zo,ce(g).currentPartialPointsAreIncluded&&ce(g).editSummary.points!==null&&ce(g).editSummary.points!=ce(g).currentPartialPoints]]),Qn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:It(()=>[Ei(" Ihre Punktevergabe wird einen Stichentscheid erfordern: "+Go(ce(g).stitchReasonText),1)]),_:1},512),[[zo,ce(g).areOthersAuthorized&&ce(g).stitchReasonText!=""]]),L[15]||(L[15]=Ae("br",null,null,-1)),L[16]||(L[16]=Ae("p",null," Durch die Autorisierung wird Ihre Korrektur festgeschrieben. Sie können sie anschließend nicht mehr ändern. Möchten Sie Ihre Korrektur autorisieren? ",-1))]),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:L[3]||(L[3]=$=>S())},{default:It(()=>[j(qn,{left:"",icon:"mdi-check"}),L[17]||(L[17]=Ae("span",null,"Autorisieren und Weiter",-1))]),_:1}),j(xo,{onClick:L[4]||(L[4]=$=>M())},{default:It(()=>[j(qn,{left:"",icon:"mdi-check"}),L[18]||(L[18]=Ae("span",null,"Autorisieren und Schließen",-1))]),_:1}),j(xo,{onClick:L[5]||(L[5]=$=>{ce(r).setShowAuthorization(!1)})},{default:It(()=>[j(qn,{left:"",icon:"mdi-close"}),L[19]||(L[19]=Ae("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Bbe=$l(Mbe,[["__scopeId","data-v-974a4a9c"]]),FQ=Dn({text:String,...Vs(),...Qi()},"VToolbarTitle"),VQ=Ro()({name:"VToolbarTitle",props:FQ(),setup(n,r){let{slots:l}=r;return vs(()=>{const d=!!(l.default||l.text||n.text);return j(n.tag,{class:["v-toolbar-title",n.class],style:n.style},{default:()=>{var g;return[d&&j("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():n.text,(g=l.default)==null?void 0:g.call(l)])]}})}),{}}}),Lbe=[null,"prominent","default","comfortable","compact"],zQ=Dn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>Lbe.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...R1(),...Vs(),...N1(),...hm(),...Qi({tag:"header"}),...cl()},"VToolbar"),Oq=Ro()({name:"VToolbar",props:zQ(),setup(n,r){var K;let{slots:l}=r;const{backgroundColorClasses:d,backgroundColorStyles:g}=Wh(es(n,"color")),{borderClasses:v}=I1(n),{elevationClasses:x}=P1(n),{roundedClasses:S}=pm(n),{themeClasses:M}=Hl(n),{rtlClasses:R}=Ng(),I=Ao(!!(n.extended||(K=l.extension)!=null&&K.call(l))),L=Ge(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),$=Ge(()=>I.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return Qy({VBtn:{variant:"text"}}),vs(()=>{var se;const Y=!!(n.title||l.title),ne=!!(l.image||n.image),oe=(se=l.extension)==null?void 0:se.call(l);return I.value=!!(n.extended||oe),j(n.tag,{class:["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},d.value,v.value,x.value,S.value,M.value,R.value,n.class],style:[g.value,n.style]},{default:()=>[ne&&j("div",{key:"image",class:"v-toolbar__image"},[l.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},l.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(xa,{defaults:{VTabs:{height:hs(L.value)}}},{default:()=>{var Me,xe,ee;return[j("div",{class:"v-toolbar__content",style:{height:hs(L.value)}},[l.prepend&&j("div",{class:"v-toolbar__prepend"},[(Me=l.prepend)==null?void 0:Me.call(l)]),Y&&j(VQ,{key:"title",text:n.title},{text:l.title}),(xe=l.default)==null?void 0:xe.call(l),l.append&&j("div",{class:"v-toolbar__append"},[(ee=l.append)==null?void 0:ee.call(l)])])]}}),j(xa,{defaults:{VTabs:{height:hs($.value)}}},{default:()=>[j($J,null,{default:()=>[I.value&&j("div",{class:"v-toolbar__extension",style:{height:hs($.value)}},[oe])]})]})]})}),{contentHeight:L,extensionHeight:$}}}),Fbe=Dn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Vbe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=r;let d=0,g=0;const v=Mn(null),x=Ao(0),S=Ao(0),M=Ao(0),R=Ao(!1),I=Ao(!1),L=Ge(()=>Number(n.scrollThreshold)),$=Ge(()=>$h((L.value-x.value)/L.value||0)),K=()=>{const Y=v.value;if(!Y||l&&!l.value)return;d=x.value,x.value="window"in Y?Y.pageYOffset:Y.scrollTop;const ne=Y instanceof Window?document.documentElement.scrollHeight:Y.scrollHeight;if(g!==ne){g=ne;return}I.value=x.value<d,M.value=Math.abs(x.value-L.value)};return zn(I,()=>{S.value=S.value||x.value}),zn(R,()=>{S.value=0}),Ru(()=>{zn(()=>n.scrollTarget,Y=>{var oe;const ne=Y?document.querySelector(Y):window;ne&&ne!==v.value&&((oe=v.value)==null||oe.removeEventListener("scroll",K),v.value=ne,v.value.addEventListener("scroll",K,{passive:!0}))},{immediate:!0})}),wc(()=>{var Y;(Y=v.value)==null||Y.removeEventListener("scroll",K)}),l&&zn(l,K,{immediate:!0}),{scrollThreshold:L,currentScroll:x,currentThreshold:M,isScrollActive:R,scrollRatio:$,isScrollingUp:I,savedScroll:S}}const zbe=Dn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...zQ(),...zX(),...Fbe(),height:{type:[Number,String],default:64}},"VAppBar"),HQ=Ro()({name:"VAppBar",props:zbe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Mn(),g=Hi(n,"modelValue"),v=Ge(()=>{var xe;const Me=new Set(((xe=n.scrollBehavior)==null?void 0:xe.split(" "))??[]);return{hide:Me.has("hide"),fullyHide:Me.has("fully-hide"),inverted:Me.has("inverted"),collapse:Me.has("collapse"),elevate:Me.has("elevate"),fadeImage:Me.has("fade-image")}}),x=Ge(()=>{const Me=v.value;return Me.hide||Me.fullyHide||Me.inverted||Me.collapse||Me.elevate||Me.fadeImage||!g.value}),{currentScroll:S,scrollThreshold:M,isScrollingUp:R,scrollRatio:I}=Vbe(n,{canScroll:x}),L=Ge(()=>v.value.hide||v.value.fullyHide),$=Ge(()=>n.collapse||v.value.collapse&&(v.value.inverted?I.value>0:I.value===0)),K=Ge(()=>n.flat||v.value.fullyHide&&!g.value||v.value.elevate&&(v.value.inverted?S.value>0:S.value===0)),Y=Ge(()=>v.value.fadeImage?v.value.inverted?1-I.value:I.value:void 0),ne=Ge(()=>{var ee,_e;if(v.value.hide&&v.value.inverted)return 0;const Me=((ee=d.value)==null?void 0:ee.contentHeight)??0,xe=((_e=d.value)==null?void 0:_e.extensionHeight)??0;return L.value?S.value<M.value||v.value.fullyHide?Me+xe:Me:Me+xe});Rg(Ge(()=>!!n.scrollBehavior),()=>{cf(()=>{L.value?v.value.inverted?g.value=S.value>M.value:g.value=R.value||S.value<M.value:g.value=!0})});const{ssrBootStyles:oe}=m8(),{layoutItemStyles:se}=HX({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:es(n,"location"),layoutSize:ne,elementSize:Ao(void 0),active:g,absolute:es(n,"absolute")});return vs(()=>{const Me=Oq.filterProps(n);return j(Oq,Wo({ref:d,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...se.value,"--v-toolbar-image-opacity":Y.value,height:void 0,...oe.value},n.style]},Me,{collapse:$.value,flat:K.value}),l)}),{}}}),Hbe=Ro()({name:"VAppBarTitle",props:FQ(),setup(n,r){let{slots:l}=r;return vs(()=>j(VQ,Wo(n,{class:"v-app-bar-title"}),l)),{}}}),$be={__name:"AppBar",setup(n){const r=ps(),l=jy(),d=ec(),g=xc();async function v(){if(g.focusTarget=="header"){await Fs();for(const S of document.getElementsByClassName("app-header-item"))if(!S.disabled){S.focus();break}}}zn(()=>g.focusChange,v);async function x(){!await d.hasChangesInStorage()||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:r.setShowSendFailure(!0)}return(S,M)=>(Ln(),rr(HQ,{elevation:"1",color:"white",density:"compact"},{default:It(()=>[j(Hbe,null,{default:It(()=>[Ei(Go(ce(l).title),1)]),_:1}),j(lW),j(ebe),j(jpe),!ce(r).isReview&&!ce(r).isStitchDecision?(Ln(),rr(Bbe,{key:0})):Ts("",!0),ce(r).isStitchDecision?(Ln(),rr(rbe,{key:1})):Ts("",!0),j(xo,{class:"app-header-item",onClick:M[0]||(M[0]=R=>x())},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),M[1]||(M[1]=Ae("span",null,"Korrekturen",-1))]),_:1})]),_:1}))}};function Ube(n){let{rootEl:r,isSticky:l,layoutItemStyles:d}=n;const g=Ao(!1),v=Ao(0),x=Ge(()=>{const R=typeof g.value=="boolean"?"top":g.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[R]:hs(v.value)}:{top:d.value.top}]});Ru(()=>{zn(l,R=>{R?window.addEventListener("scroll",M,{passive:!0}):window.removeEventListener("scroll",M)},{immediate:!0})}),wc(()=>{window.removeEventListener("scroll",M)});let S=0;function M(){const R=S>window.scrollY?"up":"down",I=r.value.getBoundingClientRect(),L=parseFloat(d.value.top??0),$=window.scrollY-Math.max(0,v.value-L),K=I.height+Math.max(v.value,L)-window.scrollY-window.innerHeight,Y=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-L?(g.value="top",v.value=L):R==="up"&&g.value==="bottom"||R==="down"&&g.value==="top"?(v.value=window.scrollY+I.top-Y,g.value=!0):R==="down"&&K<=0?(v.value=0,g.value="bottom"):R==="up"&&$<=0&&(Y?g.value!=="top"&&(v.value=-$+Y+L,g.value="top"):(v.value=I.top+$,g.value="top")),S=window.scrollY}return{isStuck:g,stickyStyles:x}}const Wbe=100,Zbe=20;function Dq(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function Rq(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let r=0;for(let l=n.length-1;l>0;l--){if(n[l].t===n[l-1].t)continue;const d=Dq(r),g=(n[l].d-n[l-1].d)/(n[l].t-n[l-1].t);r+=(g-d)*Math.abs(g),l===n.length-1&&(r*=.5)}return Dq(r)*1e3}function jbe(){const n={};function r(g){Array.from(g.changedTouches).forEach(v=>{(n[v.identifier]??(n[v.identifier]=new qde(Zbe))).push([g.timeStamp,v])})}function l(g){Array.from(g.changedTouches).forEach(v=>{delete n[v.identifier]})}function d(g){var R;const v=(R=n[g])==null?void 0:R.values().reverse();if(!v)throw new Error(`No samples for touch id ${g}`);const x=v[0],S=[],M=[];for(const I of v){if(x[0]-I[0]>Wbe)break;S.push({t:I[0],d:I[1].clientX}),M.push({t:I[0],d:I[1].clientY})}return{x:Rq(S),y:Rq(M),get direction(){const{x:I,y:L}=this,[$,K]=[Math.abs(I),Math.abs(L)];return $>K&&I>=0?"right":$>K&&I<=0?"left":K>$&&L>=0?"down":K>$&&L<=0?"up":Kbe()}}}return{addMovement:r,endTouch:l,getVelocity:d}}function Kbe(){throw new Error}function Gbe(n){let{el:r,isActive:l,isTemporary:d,width:g,touchless:v,position:x}=n;Ru(()=>{window.addEventListener("touchstart",Me,{passive:!0}),window.addEventListener("touchmove",xe,{passive:!1}),window.addEventListener("touchend",ee,{passive:!0})}),wc(()=>{window.removeEventListener("touchstart",Me),window.removeEventListener("touchmove",xe),window.removeEventListener("touchend",ee)});const S=Ge(()=>["left","right"].includes(x.value)),{addMovement:M,endTouch:R,getVelocity:I}=jbe();let L=!1;const $=Ao(!1),K=Ao(0),Y=Ao(0);let ne;function oe(le,Ue){return(x.value==="left"?le:x.value==="right"?document.documentElement.clientWidth-le:x.value==="top"?le:x.value==="bottom"?document.documentElement.clientHeight-le:Rk())-(Ue?g.value:0)}function se(le){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const We=x.value==="left"?(le-Y.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-le-Y.value)/g.value:x.value==="top"?(le-Y.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-le-Y.value)/g.value:Rk();return Ue?Math.max(0,Math.min(1,We)):We}function Me(le){if(v.value)return;const Ue=le.changedTouches[0].clientX,We=le.changedTouches[0].clientY,qe=25,st=x.value==="left"?Ue<qe:x.value==="right"?Ue>document.documentElement.clientWidth-qe:x.value==="top"?We<qe:x.value==="bottom"?We>document.documentElement.clientHeight-qe:Rk(),ke=l.value&&(x.value==="left"?Ue<g.value:x.value==="right"?Ue>document.documentElement.clientWidth-g.value:x.value==="top"?We<g.value:x.value==="bottom"?We>document.documentElement.clientHeight-g.value:Rk());(st||ke||l.value&&d.value)&&(ne=[Ue,We],Y.value=oe(S.value?Ue:We,l.value),K.value=se(S.value?Ue:We),L=Y.value>-20&&Y.value<80,R(le),M(le))}function xe(le){const Ue=le.changedTouches[0].clientX,We=le.changedTouches[0].clientY;if(L){if(!le.cancelable){L=!1;return}const st=Math.abs(Ue-ne[0]),ke=Math.abs(We-ne[1]);(S.value?st>ke&&st>3:ke>st&&ke>3)?($.value=!0,L=!1):(S.value?ke:st)>3&&(L=!1)}if(!$.value)return;le.preventDefault(),M(le);const qe=se(S.value?Ue:We,!1);K.value=Math.max(0,Math.min(1,qe)),qe>1?Y.value=oe(S.value?Ue:We,!0):qe<0&&(Y.value=oe(S.value?Ue:We,!1))}function ee(le){if(L=!1,!$.value)return;M(le),$.value=!1;const Ue=I(le.changedTouches[0].identifier),We=Math.abs(Ue.x),qe=Math.abs(Ue.y);(S.value?We>qe&&We>400:qe>We&&qe>3)?l.value=Ue.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||Rk()):l.value=K.value>.5}const _e=Ge(()=>$.value?{transform:x.value==="left"?`translateX(calc(-100% + ${K.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${K.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${K.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${K.value*g.value}px))`:Rk(),transition:"none"}:void 0);return Rg($,()=>{var We,qe;const le=((We=r.value)==null?void 0:We.style.transform)??null,Ue=((qe=r.value)==null?void 0:qe.style.transition)??null;cf(()=>{var st,ke,Le,O;(ke=r.value)==null||ke.style.setProperty("transform",((st=_e.value)==null?void 0:st.transform)||"none"),(O=r.value)==null||O.style.setProperty("transition",((Le=_e.value)==null?void 0:Le.transition)||null)}),Du(()=>{var st,ke;(st=r.value)==null||st.style.setProperty("transform",le),(ke=r.value)==null||ke.style.setProperty("transition",Ue)})}),{isDragging:$,dragProgress:K,dragStyles:_e}}function Rk(){throw new Error}const qbe=["start","end","left","right","top","bottom"],Ybe=Dn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>qbe.includes(n)},sticky:Boolean,...R1(),...Vs(),...jJ(),...PX({mobile:null}),...N1(),...zX(),...hm(),...Qi({tag:"nav"}),...cl()},"VNavigationDrawer"),Xbe=Ro()({name:"VNavigationDrawer",props:Ybe(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{isRtl:v}=Ng(),{themeClasses:x}=Hl(n),{borderClasses:S}=I1(n),{backgroundColorClasses:M,backgroundColorStyles:R}=Wh(es(n,"color")),{elevationClasses:I}=P1(n),{displayClasses:L,mobile:$}=XL(n),{roundedClasses:K}=pm(n),Y=TJ(),ne=Hi(n,"modelValue",null,tt=>!!tt),{ssrBootStyles:oe}=m8(),{scopeId:se}=u8(),Me=Mn(),xe=Ao(!1),{runOpenDelay:ee,runCloseDelay:_e}=KJ(n,tt=>{xe.value=tt}),le=Ge(()=>n.rail&&n.expandOnHover&&xe.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),Ue=Ge(()=>R$(n.location,v.value)),We=Ge(()=>n.persistent),qe=Ge(()=>!n.permanent&&($.value||n.temporary)),st=Ge(()=>n.sticky&&!qe.value&&Ue.value!=="bottom");Rg(()=>n.expandOnHover&&n.rail!=null,()=>{zn(xe,tt=>d("update:rail",!tt))}),Rg(()=>!n.disableResizeWatcher,()=>{zn(qe,tt=>!n.permanent&&Fs(()=>ne.value=!tt))}),Rg(()=>!n.disableRouteWatcher&&!!Y,()=>{zn(Y.currentRoute,()=>qe.value&&(ne.value=!1))}),zn(()=>n.permanent,tt=>{tt&&(ne.value=!0)}),n.modelValue==null&&!qe.value&&(ne.value=n.permanent||!$.value);const{isDragging:ke,dragProgress:Le}=Gbe({el:Me,isActive:ne,isTemporary:qe,width:le,touchless:es(n,"touchless"),position:Ue}),O=Ge(()=>{const tt=qe.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):le.value;return ke.value?tt*Le.value:tt}),Ke=Ge(()=>["top","bottom"].includes(n.location)?0:le.value),{layoutItemStyles:ct,layoutItemScrimStyles:$t}=HX({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:Ue,layoutSize:O,elementSize:Ke,active:Ge(()=>ne.value||ke.value),disableTransitions:Ge(()=>ke.value),absolute:Ge(()=>n.absolute||st.value&&typeof Jt.value!="string")}),{isStuck:Jt,stickyStyles:et}=Ube({rootEl:Me,isSticky:st,layoutItemStyles:ct}),pt=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),Lt=Ge(()=>({...ke.value?{opacity:Le.value*.2,transition:"none"}:void 0,...$t.value}));return Qy({VList:{bgColor:"transparent"}}),vs(()=>{const tt=g.image||n.image;return j(us,null,[j(n.tag,Wo({ref:Me,onMouseenter:ee,onMouseleave:_e,class:["v-navigation-drawer",`v-navigation-drawer--${Ue.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":xe.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":qe.value,"v-navigation-drawer--persistent":We.value,"v-navigation-drawer--active":ne.value,"v-navigation-drawer--sticky":st.value},x.value,M.value,S.value,L.value,I.value,K.value,n.class],style:[R.value,ct.value,oe.value,et.value,n.style,["top","bottom"].includes(Ue.value)?{height:"auto"}:{}]},se,l),{default:()=>{var Ye,Mt,oo;return[tt&&j("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},g.image):j(PD,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),g.prepend&&j("div",{class:"v-navigation-drawer__prepend"},[(Ye=g.prepend)==null?void 0:Ye.call(g)]),j("div",{class:"v-navigation-drawer__content"},[(Mt=g.default)==null?void 0:Mt.call(g)]),g.append&&j("div",{class:"v-navigation-drawer__append"},[(oo=g.append)==null?void 0:oo.call(g)])]}}),j(Wy,{name:"fade-transition"},{default:()=>[qe.value&&(ke.value||ne.value)&&!!n.scrim&&j("div",Wo({class:["v-navigation-drawer__scrim",pt.backgroundColorClasses.value],style:[Lt.value,pt.backgroundColorStyles.value],onClick:()=>{We.value||(ne.value=!1)}},se),null)]})])}),{isStuck:Jt}}}),Jbe={__name:"NavBar",setup(n){const r=ps(),l=xc(),d=dC(),g=bv(),v=jy(),x=ec();async function S(){if(l.focusTarget=="navigation"){await Fs();for(const Me of document.getElementsByClassName("app-navigation-item")){Me.focus();break}}}zn(()=>l.focusChange,S);function M(){return x.countChanges==0}function R(){return r.lastSendingTry>0}function I(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function L(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function $(Me){Me.keyCode==27?L():l.handleKeyDown(Me)}function K(Me){Me.type=="url"?window.open(Me.source,"long-essay-writer-resource-"+Me.key):(d.selectResource(Me),l.showResources())}function Y(Me){l.selectCorrector(Me.corrector_key)}function ne(Me){switch(Me.type){case"url":return d.getResourceIsActive(Me)&&l.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return d.getResourceIsActive(Me)&&l.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function oe(Me){return Me.title+" - "+Me.initials+" "+g.getPositionText(Me.corrector_key)+(l.getCorrectorIsVisible(Me.corrector_key)?" (ausgewählt)":"")}function se(Me){return l.getCorrectorIsVisible(Me.corrector_key)?"mdi-account-school":"mdi-account-school-outline"}return(Me,xe)=>(Ln(),rr(Xbe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:I,onFocusout:L,onKeydown:$},{append:It(()=>[j(lD,{tabindex:"-1"},{default:It(()=>[j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[7]||(xe[7]=ee=>{ce(r).saveChangesToBackend()}),disabled:M(),"aria-label":R()?"Änderungen werden gesendet":M()?"Alles gesendet":"Letzte Änderung senden",title:R()?"Änderungen werden gesendet":M()?"Alles gesendet":"Letzte Änderung senden",ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:R()?"mdi-cloud-upload":M()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1})]),default:It(()=>[j(lD,{tabindex:"-1"},{default:It(()=>[Qn(j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[0]||(xe[0]=ee=>{ce(l).showInstructions()}),"aria-label":"Aufgabenstellung"+ce(l).isInstructionsVisible?", ist ausgewählt":"",title:"Aufgabenstellung"+(ce(l).isInstructionsVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,ce(v).hasInstructions]]),Qn(j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[1]||(xe[1]=ee=>{ce(l).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(ce(l).isInstructionsPdfVisible?", ist ausgewählt":""),title:"Aufgabenstellung als PDF"+(ce(l).isInstructionsPdfVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,ce(d).hasInstruction]]),Qn(j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[2]||(xe[2]=ee=>{ce(l).showSolution()}),"aria-label":"Lösungshinweise"+(ce(l).isSolutionVisible?", ist ausgewählt":""),title:"Lösungshinweise"+(ce(l).isSolutionVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,ce(v).hasSolution]]),Qn(j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[3]||(xe[3]=ee=>{ce(l).showSolutionPdf()}),"aria-label":"Lösungshinweise als PDF"+(ce(l).isSolutionPdfVisible?", ist ausgewählt":""),title:"Lösungshinweise als PDF"+(ce(l).isSolutionPdfVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,ce(d).hasSolution]]),j(LO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,cC(ce(d).fileOrUrlResources,ee=>(Ln(),rr(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:_e=>{K(ee)},"aria-label":ee.title+(ce(d).getResourceIsActive(ee)&&ce(l).isResourcesVisible?", ist ausgewählt":""),title:ee.title+(ce(d).getResourceIsActive(ee)&&ce(l).isResourcesVisible?" (ausgewählt)":""),key:ee.key,ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ne(ee)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),j(LO,{class:"border-opacity-75"}),j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[4]||(xe[4]=ee=>{ce(l).showEssay()}),"aria-label":"Abgegebener Text"+(ce(l).isEssayVisible?", ist ausgewählt":""),title:"Abgegebener Text"+(ce(l).isEssayVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[5]||(xe[5]=ee=>{ce(l).showMarking()}),"aria-label":"Korrektur"+(ce(l).isMarkingVisible?", ist ausgewählt":""),title:"Korrektur"+(ce(l).isMarkingVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(LO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,cC(ce(g).otherCorrectors,ee=>(Ln(),rr(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:_e=>{Y(ee)},"aria-label":oe(ee)+(ce(l).getCorrectorIsVisible(ee.corrector_key)?", ist ausgewählt":""),title:oe(ee)+(ce(l).getCorrectorIsVisible(ee.corrector_key)?" (ausgewählt)":""),key:ee.corrector_key,ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:se(ee)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ce(r).isForReviewOrStitch?Ts("",!0):(Ln(),rr(vc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:xe[6]||(xe[6]=ee=>{ce(l).showSummary()}),"aria-label":"Gesamteindruck"+(ce(l).isSummaryVisible?", ist ausgewählt":""),title:"Gesamteindruck"+(ce(l).isSummaryVisible?" (ausgewählt)":""),ripple:!1},{prepend:It(()=>[j(qn,{"aria-role":"hidden",icon:ce(l).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),j(LO,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Qbe=$l(Jbe,[["__scopeId","data-v-07874397"]]),e1e=["innerHTML"],t1e={__name:"Instructions",setup(n){const r=jy(),l=xc();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="instructions"&&(await Fs(),document.getElementById("app-instructions").focus())}return g(),zn(()=>l.focusChange,g),(v,x)=>(Ln(),ds("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:ce(r).instructions},null,40,e1e))}},n1e=$l(t1e,[["__scopeId","data-v-f51945de"]]),o1e=["data"],s1e={__name:"InstructionsPdf",setup(n){const l=dC().instruction;return(d,g)=>(Ln(),ds("div",null,[ce(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:ce(l).url,width:"100%",height:"100%"},null,8,o1e)):Ts("",!0)]))}},r1e=$l(s1e,[["__scopeId","data-v-21afefc7"]]),i1e=["innerHTML"],a1e={__name:"Solution",setup(n){const r=jy(),l=xc();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="solution"&&(await Fs(),document.getElementById("app-solution").focus())}return g(),zn(()=>l.focusChange,g),(v,x)=>(Ln(),ds("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:ce(r).solution},null,40,i1e))}},l1e=$l(a1e,[["__scopeId","data-v-39abf810"]]),c1e=["data"],u1e={__name:"SolutionPdf",setup(n){const l=dC().solution;return(d,g)=>(Ln(),ds("div",null,[ce(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:ce(l).url,width:"100%",height:"100%"},null,8,c1e)):Ts("",!0)]))}},d1e=$l(u1e,[["__scopeId","data-v-d1f5bdf9"]]),f1e={class:"resources"},m1e={key:0},g1e=["data"],h1e={__name:"Resources",setup(n){const r=dC();return(l,d)=>(Ln(),ds("div",f1e,[(Ln(!0),ds(us,null,cC(ce(r).fileOrUrlResources,g=>(Ln(),ds(us,{key:g.key},[g.type=="file"?Qn((Ln(),ds("div",m1e,[g.mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,g1e)):Ts("",!0)],512)),[[zo,ce(r).getResourceIsActive(g)]]):Ts("",!0)],64))),128))]))}},p1e=$l(h1e,[["__scopeId","data-v-2fabdab3"]]);class v1e{constructor(r,l,d){Sn(this,"observer",null);Sn(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,l instanceof Function&&(this.onSelection=l,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),d instanceof Function&&(this.onIntersection=d,this.observer=new IntersectionObserver(this.keydownHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}keydownHandler(r){switch(r.key){case"Enter":r.preventDefault(),this.selectionHandler(r);break;case"Escape":r.preventDefault(),this.removeSelection();break}}selectionHandler(r){let l=this.getSelectionData();l.mouseX=r.clientX,l.mouseY=r.clientY,l.firstWord>0&&l.lastWord>0&&this.onSelection(l)}intersectionHandler(r){let l=0;this.marks.forEach(d=>{(l==0||d.firstWord<l)&&this.isMarkVisible(d.firstWord,d.lastWord)&&(l=d.firstWord)}),this.onIntersection(l)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const r=window.getSelection(),l=r.getRangeAt(0);if(!r||!l)return{};let d=l.commonAncestorContainer;d.nodeType==3&&(d=d.parentNode.parentNode);let g=0,v=0,x=0;return d.querySelectorAll("w-p").forEach(S=>{if(r.containsNode(S,!0)){let M=parseInt(S.getAttribute("w")),R=parseInt(S.getAttribute("p"));(g==0||M<g)&&(g=M,x=R),M>v&&(v=M)}}),{firstWord:g,lastWord:v,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,l,d){let g=this.el.querySelector('w-p[w="'+d+'"]');g&&(g.setAttribute("label",l),g.classList.add(r))}showMark(r,l,d){this.marks.push({cssClass:r,firstWord:l,lastWord:d}),this.el.querySelectorAll("w-p").forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.add(r),this.observer&&(v==l||v==d)&&this.observer.observe(g)})}hideMark(r,l,d){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=l||g.lastWord!=d),this.el.querySelectorAll("w-p."+r).forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.remove(r),this.observer&&(v==l||v==d)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(l=>l.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(l=>{l.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,l){if(!this.isMarkVisible(r,l,!0)){const d=this.el.querySelector('w-p[w="'+r+'"]');d&&d.scrollIntoView()}}setCaretToMark(r){const l=this.el.querySelector('w-p[w="'+r+'"]');if(l){let d=document.createRange(),g=window.getSelection();d.setStart(l,0),d.collapse(!0),g.removeAllRanges(),g.addRange(d)}}isMarkVisible(r,l,d){const g=this.el.querySelector('w-p[w="'+r+'"]'),v=this.el.querySelector('w-p[w="'+l+'"]');if(!g||!v)return!1;const x=this.el.getBoundingClientRect(),S=g.getBoundingClientRect(),M=v.getBoundingClientRect(),R=S.top>=x.top&&S.bottom<=x.bottom,I=M.top>=x.top&&M.bottom<=x.bottom;return d?R&&I:R||I}}const b1e={id:"app-essay-wrapper"},y1e={class:"appTextButtons"},x1e=["innerHTML"],w1e={__name:"Essay",setup(n){const r=oD(),l=Tu(),d=yc(),g=$y(),v=um(),x=xc();let S;Ru(()=>{Me(),S=new v1e(document.getElementById("app-essay"),Y,ne),l.activeComments.forEach(xe=>K(xe))});function M(xe){return xe.preventDefault(),!1}async function R(){x.focusTarget=="essay"&&(await Fs(),document.getElementById("app-essay").focus())}R(),zn(()=>x.focusChange,R);function I(){S.hideAllMarksAndLabels(),l.activeComments.forEach(xe=>K(xe)),L()}zn(()=>l.markerChange,I),zn(()=>l.filterChange,I);function L(){S.hideAllMarksOfClass("selected");let xe=l.getComment(l.selectedKey);xe&&(S.showMark("selected",xe.start_position,xe.end_position),S.addLabel("labelled",xe.label,xe.start_position),S.scrollToMark(xe.start_position,xe.end_position))}zn(()=>l.selectionChange,L);function $(){let xe=l.getComment(l.selectedKey);S.setCaretToMark(xe.start_position)}zn(()=>l.caretRequest,$);function K(xe){xe.prefix&&(S.hideMark(xe.prefix+"-excellent",xe.start_position,xe.end_position),S.hideMark(xe.prefix+"-cardinal",xe.start_position,xe.end_position),S.hideMark(xe.prefix,xe.start_position,xe.end_position),xe.rating_excellent?S.showMark(xe.prefix+"-excellent",xe.start_position,xe.end_position):xe.rating_cardinal?S.showMark(xe.prefix+"-cardinal",xe.start_position,xe.end_position):S.showMark(xe.prefix,xe.start_position,xe.end_position)),S.addLabel("labelled",xe.label,xe.start_position)}async function Y(xe){let ee=l.getActiveCommentsInRange(xe.firstWord,xe.lastWord);if(ee.length){let _e=ee.shift();xe.isCollapsed?(S.removeSelection(),l.selectComment(_e.key)):(S.removeSelection(),d.isOwnDisabled||l.createComment(xe.firstWord,xe.lastWord,xe.parentNumber))}else xe.isCollapsed||(S.removeSelection(),d.isOwnDisabled||l.createComment(xe.firstWord,xe.lastWord,xe.parentNumber))}function ne(xe){let ee=l.getActiveCommentsByStartPosition(xe);if(ee.length){let _e=ee.shift();l.setFirstVisibleComment(_e.key)}}function oe(){g.zoomEssayTextIn(),Me()}function se(){g.zoomEssayTextOut(),Me()}function Me(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(xe,ee)=>(Ln(),ds("div",b1e,[Ae("div",y1e,[j(C1,{density:"comfortable",variant:"outlined",divided:""},{default:It(()=>[j(xo,{title:"Abgabe Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:ee[0]||(ee[0]=_e=>se())}),j(xo,{title:"Abgabe Text vergrößern",size:"small",icon:"mdi-magnify-plus-outline",onClick:ee[1]||(ee[1]=_e=>oe())})]),_:1})]),Ae("div",{contenteditable:"true",id:"app-essay",onBeforeinput:M,class:wd("long-essay-content "+ce(v).headlineClass),innerHTML:ce(r).text},null,42,x1e)]))}},$k=()=>{},Iq=(n,r)=>Math.abs(n-r),C1e=(n,r)=>({x:Math.min(n.x,r.x),y:Math.min(n.y,r.y),width:Iq(n.x,r.x),height:Iq(n.y,r.y)}),$Q=n=>n,uD=n=>typeof n=="object",Lk=n=>typeof n=="string",qk=n=>typeof n=="number",MD=n=>typeof n>"u",_1e=n=>[!0,!1].includes(n),UQ=(n,r)=>Object.fromEntries(Object.entries(r).map(([l,d])=>[l,n(d,l)])),S1e=(n,r)=>Object.fromEntries(Object.entries(r).filter(([l,d])=>n(d,l))),jO=(n,r)=>S1e((l,d)=>n.includes(d),r),k1e=(n,r)=>uD(r)&&Object.values(UQ((l,d)=>l(r[d]),n)).filter(l=>!l).length===0,E1e=(...n)=>r=>n.reduce((l,d)=>d(l),r),dD=(...n)=>E1e(...n.reverse()),fD=Symbol("none"),A1e=n=>r=>r===fD?fD:n(r),T1e=n=>r=>r===fD?n():r,O1e=(n,r)=>dD(...Object.entries(n).map(([l,d])=>T1e(()=>d(r[l])?fD:{key:l,type:d.name,offendingValue:r[l]})))(uD(r)?fD:{type:uD.name,offendingValue:r}),Nq=(n,r)=>{const l=d=>d?`Key "${d}" of `:"";A1e(({type:d,key:g=!1})=>iE(`Value does not match required form: ${l(g)}${JSON.stringify(r)} does not satisfy ${d}.`))(O1e(n,r))},PL=(n,r)=>(...l)=>{if(n(...l))return r(...l)},Zh=(n,r)=>({x:n,y:r}),lL=n=>k1e({x:qk,y:qk},n),h8=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),mD=(n,r)=>({x:r.x*n,y:r.y*n}),gC=(n,r)=>h8(n,mD(-1,r)),D1e=n=>({width:n.x,height:n.y}),R1e=n=>Zh(n.width,n.height),I1e=(n,r)=>({width:n,height:r}),N1e=(n,r)=>Zh(n.x*Math.cos(r)-n.y*Math.sin(r),n.x*Math.sin(r)+n.y*Math.cos(r)),P1e=({x:n,y:r})=>`${n},${r}`,M1e=(n,r)=>n.map(l=>h8(l,r)),B1e=n=>n.map(P1e).join(" "),WQ=(n,r)=>B1e(M1e(n,r)),L1e=(n,r)=>{const[l,d]=n.width/n.height<r.width/r.height?["height","width"]:["width","height"];return{[l]:r[l],[d]:r[l]*(n[d]/n[l])}},iE=n=>{throw new Error(n)},gD=(n,r)=>n||iE(r),Pq=n=>()=>n,ZQ=(n,r)=>!MD(r.find(n)),F1e=(n,r)=>!ZQ(l=>!n(l),r),jQ=n=>n instanceof Array,KQ=n=>{const r=KQ.name+"("+n.name+")";return{[r]:d=>jQ(d)&&F1e(n,d)}[r]},V1e=(n,r)=>Object.entries(n).reduce((l,[d,g])=>g===r[d]?l:[...l,{left:g,right:r[d],name:d}],[]),GQ=Reflect.set,z1e=Reflect.deleteProperty,cW=(n,...r)=>n.bind(null,...r),H1e=n=>n.apply.bind(n,null),uW=n=>n.map(r=>r()),$1e=(n,r)=>Object.entries(r).forEach(H1e(n)),U1e=(n,r,l)=>$1e(n[r].bind(n),l),W1e=n=>r=>(n(r),r),Ik=(n,r=$k)=>(l=void 0)=>{if(MD(l))return n;r(l),n=l},m$=JSON.stringify,_v=n=>{let r=(...g)=>iE(`No matching function found for arguments: ${m$(g)}.`);const l={},d=(...g)=>(l[m$(n(...g))]||r)(...g);return d.define=(g,v=void 0)=>{MD(v)?r=g:l[m$(g)]=v},d},xr=(n,...r)=>n.define(...r),qQ=(n,r,l)=>(n.addEventListener(r,l),()=>n.removeEventListener(r,l)),hD=_v((n,r)=>r);xr(hD,qQ);const dW=(n,r)=>xr(hD,n,(l,d,g)=>{const v=[n,r].map(x=>qQ(l,x,g));return()=>{uW(v)}});dW("mousedown","touchstart");dW("mousemove","touchmove");dW("mouseup","touchend");const fC=_v(n=>n.constructor.name);xr(fC,"MouseEvent",n=>Zh(n.clientX,n.clientY));xr(fC,"TouchEvent",n=>Zh(n.touches[0].clientX,n.touches[0].clientY));const Z1e=n=>n.reduce((r,l)=>uD(l.right)&&!jQ(l.right)?[...r,...YQ(l.left,l.right).map(({path:d,...g})=>({path:[l.name,...d],...g}))]:[...r,{path:[l.name],value:l.right}],[]),YQ=(n,r)=>Z1e(V1e(n,r)),j1e=(n,r)=>!MD(r.find(l=>XQ(l.path,n))),XQ=(n,r)=>JSON.stringify(n)===JSON.stringify(r),JQ=(n,r)=>n.length>=r.length&&XQ(n.slice(0,r.length),r),fW=(n,r)=>n.length===0?r:uD(r)?fW(n.slice(1),r[n[0]]):iE("Path not found."),Eu=(n,r)=>({requires:l=>JQ(l,n),then:dD(r,cW(fW,n))}),zy=(n,r)=>({requires:Pq(!1),then:dD(r,Pq(n))}),mW=(n,r)=>({requires:l=>ZQ(cW(JQ,l),Object.values(n)),then:l=>r(UQ(d=>fW(d,l),n))}),Jl=n=>r=>l=>l.setAttribute(n,(qk(r),r)),QQ=()=>n=>r=>GQ(r,"textContent",n),pD=n=>r=>l=>l.style.setProperty(n,r),K1e=n=>n.reduce((r,l)=>r.includes(l)?r:[...r,l],[]),gW=(n,r,l)=>r.forEach(({then:d})=>d(n)(l)),Mq=(n,r,l,d)=>{const g=({path:x})=>r.filter(S=>S.requires(x)),v=K1e(l.reduce((x,S)=>x.concat(g(S)),[]));gW(n,v,d)},mm=(n,r)=>n.append(r),Yk=(n,r)=>U1e(n,"setAttribute",r),G1e=({start:n,move:r,stop:l=$k})=>{let d=null;return{start:g=>{g.preventDefault(),d=n(fC(g))},move:g=>{g.preventDefault(),d=r(fC(g),d)},stop:g=>{l(d)}}},q1e=(n,r)=>Array.from(n.children).forEach(cW(mm,r)),eee=n=>(r,l={},...d)=>{const g=n(r);return d.forEach(v=>mm(g,v)),Yk(g,l),g},Y1e=n=>document.createElementNS("http://www.w3.org/2000/svg",n),Ia=eee(Y1e),X1e=eee(n=>document.createElement(n)),J1e=()=>{let n=null;return r=>{if(n!==null)return new Promise($k);const l=()=>n===l?(n=null,!0):!1;return n=l,new Promise(d=>r(()=>{l(),d()}))}},Q1e=n=>{const r=J1e();return{current:()=>n,acquire:(l,d)=>r(g=>{const v=n;n=l,d(()=>{g()&&(n=v)})})}},e0e=n=>new Promise((r,l)=>{const d=document.createElement("img");d.onload=()=>r(I1e(d.width,d.height)),d.onerror=l,d.src=n}),tee=n=>n.type==="touchend"&&n.touches.length===0,vD=_v((n,r=void 0)=>MD(r)?n.constructor.name:r);xr(vD,"TouchEvent",n=>n.touches.length===1||tee(n));xr(vD,"MouseEvent",n=>n.button===0);xr(vD,"PointerEvent",n=>vD(n,"MouseEvent"));const bD=_v(n=>n.constructor.name);xr(bD,"TouchEvent",n=>n.touches.length===2||tee(n));xr(bD,"MouseEvent",n=>n.button===1);xr(bD,"PointerEvent",n=>bD(n,"MouseEvent"));const dm=_v((n,r)=>r);xr(dm,hD);["click","mousedown","mouseup"].forEach(n=>{xr(dm,n,(r,l,d)=>hD(r,l,PL(vD,d))),xr(dm,[n,"primary"],(r,[l,d],g)=>dm(r,l,g)),xr(dm,[n,"secondary"],(r,[l,d],g)=>hD(r,l,PL(bD,g)))});const t0e=(n,{start:r=$k,move:l=$k,stop:d=$k},g,v)=>{const x=R=>l(R),M=[dm(window,["mouseup",g],R=>{uW(M),d(R)}),dm(n,"mousemove",x)];r(v)},js={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},n0e=n=>Object.values(js).includes(n),o0e={[js.CIRCLE]:{symbol:Lk,symbolColor:Lk},[js.RECTANGLE]:{width:qk,height:qk},[js.POLYGON]:{polygon:KQ(lL)},[js.LINE]:{end:lL},[js.WAVE]:{end:lL}},nee={key:Lk,label:Lk,color:Lk,selectedColor:Lk,shape:n0e,pos:lL,locked:_1e},s0e=n=>({...jO(Object.keys(nee),n),pos:jO(["x","y"],n.pos)}),r0e={[js.CIRCLE]:n=>jO(["symbol","symbolColor"],n),[js.RECTANGLE]:n=>jO(["width","height"],n),[js.POLYGON]:({polygon:n})=>({polygon:n.map(r=>jO(["x","y"],r))}),[js.LINE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}}),[js.WAVE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}})},hW=_v(n=>n.shape);xr(hW,$Q);xr(hW,js.CIRCLE,({symbol:n="",symbolColor:r="black",...l})=>({...l,symbol:n,symbolColor:r}));const Fk=n=>(n={...n,key:n.key||"mark-"+Math.random().toString(),locked:n.locked||!1},Nq(nee,n),n=hW(n),Nq(o0e[n.shape],n),{...s0e(n),...r0e[n.shape](n)}),cL={lambda:60,amplitude:20,lineWidth:10},g$={startDot:{radius:20,borderWidth:10},lineWidth:10},i0e={width:15},E1=Symbol("silent"),a0e=({polygon:n,pos:r})=>WQ(n,r),l0e=n=>r=>r.setAttribute("points",a0e(n)),p8=n=>[Eu(["color"],pD("--default-color")),Eu(["selectedColor"],pD("--selected-color")),Eu(["locked"],r=>Jl("class")(["shape"].concat(r?["locked"]:[],n).join(" ")))],oee=(n,r)=>{const l=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),d=({start:g,end:v})=>{const x=Math.atan(v.y/v.x),S=v.x<0?x-Math.PI:x,M=N1e(gC(g,Zh(0,n/2)),-S),R=`rotateZ(${S}rad)`,I=`translate(${M.x}px, ${M.y}px)`;return`${R} ${I}`};return[...p8(r),mW({start:["pos"],end:["end"]},dD(pD("transform"),d)),Eu(["end"],dD(Jl("width"),l)),zy(`0 ${n/2}px`,pD("transform-origin")),zy(n,Jl("height")),zy(0,Jl("x")),zy(0,Jl("y"))]},wv=_v(n=>n.shape||n);xr(wv,js.RECTANGLE,()=>[...p8([]),Eu(["pos","x"],Jl("x")),Eu(["pos","y"],Jl("y")),Eu(["width"],Jl("width")),Eu(["height"],Jl("height"))]);xr(wv,js.CIRCLE,()=>[...p8([]),Eu(["pos","x"],Og(0,Jl("cx"))),Eu(["pos","y"],Og(0,Jl("cy"))),Eu(["pos","x"],Og(1,Jl("x"))),Eu(["pos","y"],Og(1,Jl("y"))),Eu(["symbol"],Og(1,QQ())),Eu(["symbolColor"],Og(1,pD("fill"))),zy("symbol",Og(1,Jl("class"))),zy(70,Og(0,Jl("r")))]);xr(wv,js.POLYGON,()=>[...p8([]),mW({pos:["pos"],polygon:["polygon"]},l0e)]);xr(wv,js.LINE,()=>oee(i0e.width,[]));xr(wv,js.WAVE,()=>oee(cL.amplitude*2,["wave"]));const Og=(n,r)=>l=>d=>r(l)(d.children[n]);xr(wv,"label",()=>[Eu(["pos","x"],Og(0,Jl("x"))),Eu(["pos","x"],Og(1,Jl("x"))),zy("label",Og(0,Jl("class"))),zy("label",Og(1,Jl("class"))),mW({shape:["shape"],label:["label"],y:["pos","y"]},({shape:n,label:r,y:l})=>d=>{n==js.CIRCLE&&(l=l-70),Yk(d.children[1],{y:l}),QQ()(r)(d.children[1]),requestAnimationFrame(()=>{const{width:g,height:v}=d.children[1].getBBox();Yk(d.children[0],{y:l-v+v*.15,width:g,height:v})})})]);const hC=_v($Q);xr(hC,js.RECTANGLE,()=>Ia("rect"));xr(hC,js.CIRCLE,()=>Ia("g",{},Ia("circle"),Ia("text")));xr(hC,js.POLYGON,()=>Ia("polygon"));xr(hC,js.LINE,()=>Ia("rect"));xr(hC,js.WAVE,()=>Ia("rect"));xr(hC,n=>iE(`Invalid shape name: ${n}.`));const see=n=>{const r=hC(n.shape);return gW(n,wv(n),r),r},c0e=n=>{const r=Ia("g",{},Ia("rect"),Ia("text"));return gW(n,wv("label"),r),r},u0e=(n,r,l)=>{Mq(n,wv(n),r,l.nodes.shape),Mq(n,wv("label"),r,l.nodes.label)},d0e=n=>({mark:n,nodes:{root:Ia("g"),label:c0e(n),shape:see(n)}}),f0e={[js.RECTANGLE]:{width:10,height:20},[js.CIRCLE]:{},[js.POLYGON]:{polygon:[Zh(0,0)]},[js.LINE]:{end:Zh(0,0)},[js.WAVE]:{end:Zh(0,0)}},m0e=(n,r,l,d)=>Fk({...f0e[r],shape:r,pos:n,color:l,selectedColor:d,label:""}),v8=(n,r,l,d="primary")=>t0e(n.nodes.svg,G1e(l),d,r),g0e=(n,r)=>e0e(r).then(l=>{Yk(n.nodes.backgroundImage,{href:r,x:0,y:0,...l}),n.canvas.size(l),gee(n)}),h0e=()=>W1e(n=>GQ(n,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),p0e=()=>({background:Ia("g",{class:"background"}),normal:Ia("g"),foreground:Ia("g",{class:"foreground"})}),v0e=n=>gD(Object.values(js).includes(n),`Invalid shape name: ${n}.`),b0e=n=>{gD(qk(n),`Scale must be a number, given: ${JSON.stringify(n)}.`),gD(n>0,`Scale must be > 0 given: ${n}.`)},y0e=(n,r,l)=>{const d=p0e(),g=Ia("svg",{width:"100%",height:"100%"},...Object.values(d)),v=X1e("div",{class:"long-essay-image-marker"},g),x=Ia("image");return mm(n,v),mm(n,h0e()),mm(g,Ia("defs",{},S0e(),k0e())),{nodes:{app:v,svg:g,layers:d,backgroundImage:x},creation:{color:Ik("#0000AAAA"),selectedColor:Ik("#FF0000AA"),shape:Ik(js.CIRCLE,v0e)},status:Q1e({name:"idle"}),canvas:{scale:Ik(1,b0e),size:Ik(null)},mode:Ik("draw-shape",S=>gD(["draw-shape","scroll"].includes(S),`Invalid marker mode: ${S}`)),groups:{},emit:{createMark:r,selectMark:l}}},BD=(n,r,l)=>n.status.acquire(r,l),pW=(n,r,l,d)=>BD(n,{name:r,group:l},d),ree=(n,r,l)=>{dm(l,"mousedown",d=>(r.mark.locked?Promise.resolve():lee(n,r,d)).then(()=>fee(n,[r])))},x0e=(n,r)=>{iee(n,r),w0e(n,r),mm(n.nodes.layers.normal,r.nodes.root)},w0e=(n,r)=>{mm(r.nodes.root,r.nodes.label),ree(n,r,r.nodes.label)},iee=(n,r)=>{mm(r.nodes.root,r.nodes.shape),ree(n,r,r.nodes.shape)},b8=n=>(r,l)=>BD(r,{name:"drawNew"},d=>{const g=m0e(T1(r,fC(l)),O0e(r),cee(r),uee(r));r.emit.selectMark(null,l),d(),bW(r,g,E1),n(r,r.groups[g.key],l).then(()=>{r.emit.createMark(r.groups[g.key].mark,l),ML(r,[g.key],l)})}),vW=_v(n=>n.mode()),pC=_v(vW),aee=(n,r,l)=>pW(n,"editGroup",r,d=>v8(n,l,{start:g=>(y8(n,[r],E1),g=T1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=gC(T1(n,g),x.mouse),M={...v,end:S};return x8(n,M),{start:x,mark:M}},stop:d}));xr(pC,["draw-shape",js.LINE],b8(aee));xr(pC,["draw-shape",js.WAVE],b8(aee));const C0e=(n,r,l)=>pW(n,"editGroup",r,d=>v8(n,l,{start:g=>(y8(n,[r],E1),g=T1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=gC(T1(n,g),x.mouse),{width:M,height:R,...I}=C1e(x.pos,h8(x.pos,S)),L={...v,pos:I,width:M,height:R};return x8(n,L),{start:x,mark:L}},stop:d}));xr(pC,["draw-shape",js.RECTANGLE],b8(C0e));const lee=(n,r,l)=>pW(n,"moveGroup",r,d=>v8(n,l,{start:g=>(g=T1(n,g),y8(n,[r],E1),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:v,start:x})=>{const S=gC(T1(n,g),x.mouse),M={...v,pos:h8(x.pos,S)};return x8(n,M),{start:x,mark:M}},stop:d}));xr(pC,["draw-shape",js.CIRCLE],b8(lee));const _0e=(n,r,l)=>{const d=Ia("circle",{cx:r.x,cy:r.y,r:g$.startDot.radius+"px","stroke-width":g$.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Ia("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":g$.lineWidth+"px",fill:"none"}),v=Ia("g",{class:"new-polygon"});return mm(v,g),mm(v,d),mm(n,v),dm(d,"click",x=>{x.stopPropagation(),v.remove(),l()}),x=>Yk(g,{points:WQ(x,r)})},S0e=()=>{const n=Zh(cL.lambda,cL.amplitude*2),r=mD(.5,n),l=mD(.5,r);return Ia("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${n.x}px`,height:`${n.y}px`,patternUnits:"userSpaceOnUse"},Ia("path",{d:`M -${r.x} ${r.y} Q -${l.x} -${l.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":cL.lineWidth+"px"}))},k0e=()=>Ia("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Ia("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),E0e=(n,r,l)=>Fk({label:"",polygon:r,pos:l,color:cee(n),selectedColor:uee(n),shape:js.POLYGON}),A0e=(n,r,l)=>d=>{d.preventDefault(),l(gC(T1(n,fC(d)),r))};xr(pC,["draw-shape",js.POLYGON],(n,r)=>BD(n,{name:"newPolygon"},l=>{r.preventDefault(),n.emit.selectMark(null,r);const d=T1(n,fC(r)),g=_0e(n.nodes.layers.foreground,d,()=>R()),v=[Zh(0,0)],x=I=>A0e(n,d,I);let S=Zh(0,0);const M=[l,dm(n.nodes.svg,"mousemove",x(I=>{g([...v,I]),S=I})),dm(window,"mouseup",I=>v.push(S))],R=()=>{uW(M);const I=E0e(n,v,d);bW(n,I,r),ML(n,[I.key],r)}}));const T0e=n=>{const r=l=>[n.nodes.svg,n.nodes.backgroundImage].includes(l.target);dm(n.nodes.svg,"mousedown",PL(r,l=>pC(n,l))),dm(n.nodes.svg,["mousedown","secondary"],PL(r,l=>dee(n,l,"secondary")))},cee=n=>n.creation.color(),uee=n=>n.creation.selectedColor(),O0e=n=>n.creation.shape();xr(vW,"draw-shape",n=>[n.mode(),n.creation.shape()]);xr(vW,n=>n.mode());const dee=(n,r,l="primary")=>BD(n,{name:"moving-view"},d=>{n.nodes.app.classList.add("moving"),v8(n,r,{start:g=>g,move:(g,v)=>{const x=gC(v,g);return n.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{n.nodes.app.classList.remove("moving"),d()}},l)});xr(pC,"scroll",dee);const y8=(n,r,l)=>{[].slice.call(n.nodes.layers.foreground.children).forEach(d=>d.classList.remove("active")),q1e(n.nodes.layers.foreground,n.nodes.layers.normal),r.forEach(d=>{const g=d.nodes.root;g.classList.add("active"),mm(n.nodes.layers.foreground,g)}),l!==E1&&r.forEach(d=>n.emit.selectMark(d.mark,l))},fee=(n,r,l)=>BD(n,{name:"selecting-multiple"},d=>{y8(n,r,l),d()}),mee=(n,r)=>n.groups[r]||iE(`Mark with key ${r} does not exist.`),ML=(n,r,l)=>fee(n,r.map(d=>mee(n,d)),l),bW=(n,r,l)=>{gD(!n.groups[r.key],`Duplicated key: ${r.key}`);const d=d0e(r);x0e(n,d),n.groups[r.key]=d,l!==E1&&n.emit.createMark(r,l)},x8=(n,r)=>{const l=mee(n,r.key),d=YQ(l.mark,r);l.mark=r,j1e(["shape"],d)?(l.nodes.shape.remove(),l.nodes.shape=see(l.mark),iee(n,l)):u0e(l.mark,d,l)},gee=n=>Yk(n.nodes.svg,{...D1e(mD(n.canvas.scale(),R1e(n.canvas.size()))),viewBox:[0,0,n.canvas.size().width,n.canvas.size().height].join(" ")}),T1=(n,r)=>mD(1/n.canvas.scale(),gC(r,n.nodes.svg.getBoundingClientRect())),D0e=(n,r,l)=>{const d=y0e(n,(S,M)=>r(Fk(S),M),(S,M)=>l(S?Fk(S):null,M));T0e(d);const g=S=>bW(d,Fk(S),E1),v=S=>{d.groups[S].nodes.root.remove(),z1e(d.groups,S)},x=S=>{d.canvas.scale(S),gee(d)};return{showPage:(S,M)=>{g0e(d,S),mm(d.nodes.layers.background,d.nodes.backgroundImage),d.canvas.scale(1),Object.values(d.groups).forEach(R=>v(R.mark.key)),M.forEach(g)},addMark:g,removeMark:v,selectMark:S=>ML(d,[S],E1),selectMarks:S=>ML(d,S,E1),updateMark:S=>x8(d,Fk(S)),setDefaultColor:S=>d.creation.color(S),setDefaultSelectedColor:S=>d.creation.selectedColor(S),setDefaultShape:S=>d.creation.shape(S),setZoomLevel:x,fitToPage:()=>{if(d.canvas.size()){const S=L1e(d.canvas.size(),d.nodes.app.getBoundingClientRect());x(S.width/d.canvas.size().width)}},drawMode:()=>d.mode("draw-shape"),scrollMode:()=>d.mode("scroll")}},R0e={id:"app-essay-image-wrapper"},I0e={class:"appImageButtons"},N0e={class:"appImageBottomNav"},P0e={__name:"EssayImage",setup(n){const r=ps(),l=Tu(),d=yc(),g=OL();xc();const v=$y(),x=Mn(),S=Mn("scroll"),M=Mn(!1),R=Mn(0),I=Mn(!0);let L,$="",K=[];Ru(()=>{L=D0e(x.value,Y,ne),L.setDefaultColor("#3365ffaa"),L.setDefaultSelectedColor("#3365ffaa"),ke(),oe(g.minPage)});async function Y(O){if(O&&!d.isOwnDisabled){const Ke=new am(O);switch(S.value){case"check":Ke.symbol=am.SYMBOL_CHECK;break;case"cross":Ke.symbol=am.SYMBOL_CROSS;break;case"question":Ke.symbol=am.SYMBOL_QUESTION;break}if(K.push(O.key),!l.getCommentByMarkKey(O.key)){const ct=l.selectedComment;if(ct&&ct.parent_number==g.selectedPageNo)ct.addMarkData(Ke),await l.updateComment(ct,!0);else{const $t=new tC({parent_number:g.selectedPageNo,marks:[Ke]});await l.addComment($t)}}}}function ne(O,Ke){if(console.log(Date.now(),"onSelection",O,Ke),O){let ct=l.getCommentByMarkKey(O.key);if(ct){l.selectComment(ct.key);const $t=ct.getData();if(ct.corrector_key==r.correctorKey&&!d.isOwnDisabled){O.symbol=O.symbol==""?null:O.symbol,ct.updateMarkData(O);const Jt=ct.getData();JSON.stringify($t)!=JSON.stringify(Jt)&&l.updateComment(ct,!0)}else{const Jt=ct.getMarkByKey(O.key);if(Jt){const et={...Jt.getData(),label:I.value?ct.label:"",color:ct.getMarkColor(Jt),selectedColor:ct.getMarkSelectedColor(Jt),locked:ct.corrector_key!=r.correctorKey||d.isOwnDisabled};L.updateMark(et)}}}}else{const ct=l.selectedComment;Ke&&Ke.shiftKey&&ct&&ct.parent_number==g.selectedPageNo||l.selectComment("")}}function oe(O){if(g.selectByPageNo(O)){const Ke=g.getPageByPageNo(O);if(Ke){Ke.url?(L.showPage(Ke.url,[]),$=Ke.url):(L.showPage("",[]),$="");try{L.setZoomLevel(v.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,K=[],xe(),R.value=O}}}function se(){const O=g.selectedPage;O&&O.url!=$&&oe(O.page_no)}zn(()=>g.loadedImages,se);function Me(){const O=l.getComment(l.selectedKey);O&&O.parent_number!=g.selectedPageNo&&oe(O.parent_number),xe()}zn(()=>l.selectionChange,Me);function xe(){let O=[];for(const Ke of l.activeComments)if(Ke.parent_number==g.selectedPageNo){let ct=[];for(const $t of Ke.marks){const Jt={...$t.getData(),label:I.value?Ke.label:"",color:Ke.getMarkColor($t),selectedColor:Ke.getMarkSelectedColor($t),locked:Ke.corrector_key!=r.correctorKey||d.isOwnDisabled};K.includes($t.key)?L.updateMark(Jt):L.addMark(Jt),O.push($t.key),ct.push($t.key)}Ke.key==l.selectedKey&&L.selectMarks(ct)}for(const Ke of K)O.includes(Ke)||L.removeMark(Ke);K=O}zn(()=>l.markerChange,xe),zn(()=>l.filterChange,xe);function ee(){let O=l.getActiveCommentsByParentNumber(g.selectedPageNo);if(O.length){let Ke=O.shift();l.setFirstVisibleComment(Ke.key)}}zn(()=>g.selectedKey,ee);function _e(){g.selectedPageNo>g.minPage&&oe(g.selectedPageNo-1)}function le(){g.selectedPageNo<g.maxPage&&oe(g.selectedPageNo+1)}function Ue(O){M.value=!1,oe(O)}async function We(){M.value&&(await Fs(),await new Promise(Ke=>setTimeout(Ke,250)),document.getElementById("app-pages-menu-input").select())}function qe(){v.zoomEssayPageIn(),L.setZoomLevel(v.essay_page_zoom)}function st(){v.zoomEssayPageOut(),L.setZoomLevel(v.essay_page_zoom)}function ke(){switch(d.isOwnDisabled&&(S.value="scroll"),S.value){case"scroll":L.scrollMode();break;case"rectangle":L.drawMode(),L.setDefaultShape(js.RECTANGLE);break;case"line":L.drawMode(),L.setDefaultShape(js.LINE);break;case"wave":L.drawMode(),L.setDefaultShape(js.WAVE);break;case"polygon":L.drawMode(),L.setDefaultShape(js.POLYGON);break;case"circle":case"check":case"cross":case"question":L.drawMode(),L.setDefaultShape(js.CIRCLE);break}}function Le(){I.value==1?I.value=0:I.value=1,xe()}return(O,Ke)=>(Ln(),ds("div",R0e,[Ae("div",I0e,[j(C1,{density:"comfortable",variant:"outlined",divided:""},{default:It(()=>[j(xo,{size:"small",icon:"mdi-magnify-minus-outline",onClick:Ke[0]||(Ke[0]=ct=>st())}),j(xo,{size:"small",icon:"mdi-magnify-plus-outline",onClick:Ke[1]||(Ke[1]=ct=>qe())})]),_:1}),Ke[13]||(Ke[13]=Ei("   ")),j(Uhe,{density:"comfortable",variant:"outlined",divided:"",modelValue:S.value,"onUpdate:modelValue":Ke[2]||(Ke[2]=ct=>S.value=ct),onClick:Ke[3]||(Ke[3]=ct=>ke())},{default:It(()=>[j(xo,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),j(xo,{disabled:ce(d).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),Ke[14]||(Ke[14]=Ei("   ")),j(C1,{density:"comfortable",variant:"outlined",divided:""},{default:It(()=>[j(xo,{size:"small",active:I.value,icon:"mdi-label-outline",onClick:Ke[4]||(Ke[4]=ct=>Le())},null,8,["active"])]),_:1}),Ke[15]||(Ke[15]=Ei("   ")),j(C1,{density:"comfortable",variant:"outlined",divided:""},{default:It(()=>[j(xo,{size:"small",icon:"mdi-menu-left",onClick:Ke[5]||(Ke[5]=ct=>_e())}),j(xo,{size:"small",id:"app-pages-menu-activator"},{default:It(()=>[Ei(Go(ce(g).selectedPageNo),1)]),_:1}),j(xo,{size:"small",icon:"mdi-menu-right",onClick:Ke[6]||(Ke[6]=ct=>le())})]),_:1}),j(g8,{activator:"#app-pages-menu-activator",modelValue:M.value,"onUpdate:modelValue":[Ke[9]||(Ke[9]=ct=>M.value=ct),Ke[10]||(Ke[10]=ct=>We())],"close-on-content-click":!1},{default:It(()=>[j(lD,null,{default:It(()=>[j(vc,null,{default:It(()=>[j(cD,{id:"app-pages-menu-input",modelValue:R.value,"onUpdate:modelValue":Ke[7]||(Ke[7]=ct=>R.value=ct),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:Ke[8]||(Ke[8]=ct=>Ue(R.value))},null,8,["modelValue"])]),_:1}),(Ln(!0),ds(us,null,cC(ce(g).currentPages,ct=>(Ln(),rr(vc,{onClick:$t=>Ue(ct.page_no),title:ct.page_no,key:ct.key},{default:It(()=>[Qn(j(PD,{src:ct.thumb_url,width:"100"},null,8,["src"]),[[zo,ct.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Ae("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),Ae("div",N0e,[j(C1,{variant:"outlined",divided:""},{default:It(()=>[j(xo,{disabled:ce(g).selectedPageNo<=ce(g).minPage,size:"small",icon:"mdi-menu-left",onClick:Ke[11]||(Ke[11]=ct=>_e())},null,8,["disabled"]),j(xo,{disabled:ce(g).selectedPageNo>=ce(g).maxPage,size:"small",icon:"mdi-menu-right",onClick:Ke[12]||(Ke[12]=ct=>le())},null,8,["disabled"])]),_:1})])]))}},M0e=$l(P0e,[["__scopeId","data-v-9d4afded"]]),B0e={class:"sr-only"},L0e={"aria-hidden":"true"},F0e={class:"text-right"},V0e={class:"sr-only"},z0e={"aria-hidden":"true"},H0e={class:"text-right"},$0e={class:"text-right"},U0e={class:"sr-only"},W0e={"aria-hidden":"true"},Z0e={class:"text-right"},j0e={class:"text-right"},K0e={__name:"SummaryCriteria",props:["corrector_key"],setup(n){const r=ps(),l=Uh(),d=Tu(),g=k1(),v=xc(),x=um(),S=n;zn(()=>S,L),zn(()=>r.itemKey,L);const M=Ql({}),R=Mn(0),I=Mn(0);async function L(){await Fs(),R.value=0,I.value=0,l.getCorrectorCriteria(S.corrector_key).forEach(oe=>{M[oe.key]={key:oe.key,title:oe.title,max_points:oe.points,sum_points:0},I.value+=oe.points}),g.getObjectsByCommentKeys(d.getKeysOfCorrector(S.corrector_key)).forEach(oe=>{M[oe.criterion_key]!==void 0&&(M[oe.criterion_key].sum_points+=oe.points),R.value+=oe.points})}l.getCorrectorHasCriteria(S.corrector_key)&&L();function $(oe){return d.getPointsOfCorrector(S.corrector_key)>x.max_points?"red":"black"}async function K(oe,se){d.setFilterByRating(S.corrector_key,oe,se),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}async function Y(){d.setFilterByPoints(S.corrector_key),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}async function ne(oe){d.setFilterByCriterion(S.corrector_key,oe),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Fs(),v.showEssay(),v.showMarking()}return(oe,se)=>(Ln(),ds("div",null,[j(w1,{class:"table",density:"compact"},{default:It(()=>[se[3]||(se[3]=Ae("thead",null,[Ae("tr",null,[Ae("th",null,"Markierung"),Ae("th",{class:"text-right"},"Anzahl")])],-1)),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ce(d).getCountOfExcellent(S.corrector_key)==0,onClick:se[0]||(se[0]=Me=>K(!0,!1))},{default:It(()=>[Ae("span",B0e,Go(ce(x).positive_rating),1)]),_:1},8,["disabled"]),Ae("span",L0e,Go(ce(x).positive_rating),1)]),Ae("td",F0e,Go(ce(d).getCountOfExcellent(S.corrector_key)),1)]),Ae("tr",null,[Ae("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ce(d).getCountOfCardinal(S.corrector_key)==0,onClick:se[1]||(se[1]=Me=>K(!1,!0))},{default:It(()=>[Ae("span",V0e,Go(ce(x).negative_rating),1)]),_:1},8,["disabled"]),Ae("span",z0e,Go(ce(x).negative_rating),1)]),Ae("td",H0e,Go(ce(d).getCountOfCardinal(S.corrector_key)),1)])])]),_:1}),ce(l).getCorrectorHasCriteria(S.corrector_key)?Ts("",!0):(Ln(),rr(w1,{key:0,class:"table",density:"compact"},{default:It(()=>[se[6]||(se[6]=Ae("thead",null,[Ae("tr",null,[Ae("th",null,[Ae("strong",null,"Bewertung")]),Ae("th",{class:"text-right"},"Punkte / max")])],-1)),Ae("tbody",null,[Ae("tr",null,[Ae("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ce(d).getPointsOfCorrector(S.corrector_key)==0,onClick:se[2]||(se[2]=Me=>Y(!0))},{default:It(()=>se[4]||(se[4]=[Ae("span",{class:"sr-only"},"Punkte in Kommentaren",-1)])),_:1},8,["disabled"]),se[5]||(se[5]=Ae("span",{"aria-hidden":"true"},"Punkte in Kommentaren",-1))]),Ae("td",$0e,[Ae("span",{style:xD("color: "+$()+";")},Go(ce(d).getPointsOfCorrector(S.corrector_key))+" / "+Go(ce(x).max_points),5)])])])]),_:1})),ce(l).getCorrectorHasCriteria(S.corrector_key)?(Ln(),rr(w1,{key:1,class:"table",density:"compact"},{default:It(()=>[se[8]||(se[8]=Ae("thead",null,[Ae("tr",null,[Ae("th",null,"Kriterium"),Ae("th",{class:"text-right"},"Punkte / max")])],-1)),Ae("tbody",null,[(Ln(!0),ds(us,null,cC(M,Me=>(Ln(),ds("tr",{key:Me.key},[Ae("td",null,[j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Me.sum_points==0,onClick:xe=>ne(Me.key)},{default:It(()=>[Ae("span",U0e,Go(Me.title),1)]),_:2},1032,["disabled","onClick"]),Ae("span",W0e,Go(Me.title),1)]),Ae("td",Z0e,Go(Me.sum_points)+" / "+Go(Me.max_points),1)]))),128)),Ae("tr",null,[se[7]||(se[7]=Ae("td",null,[Ae("strong",null,"Summe")],-1)),Ae("td",j0e,[Ae("strong",null,Go(R.value)+" / "+Go(I.value),1)])])])]),_:1})):Ts("",!0)]))}},hee=$l(K0e,[["__scopeId","data-v-7890efa0"]]),G0e={id:"app-own-summary-points-wrapper"},q0e=["disabled","max"],Y0e={__name:"OwnSummaryPoints",setup(n){const r=ps(),l=mv(),d=yc(),g=um();return(v,x)=>(Ln(),ds("div",G0e,[x[3]||(x[3]=Ae("label",{for:"appOwnSummaryPoints"},[Ae("strong",null,"Bewertung:")],-1)),x[4]||(x[4]=Ei("   ")),Qn(Ae("input",{disabled:ce(d).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:ce(g).max_points,"onUpdate:modelValue":x[0]||(x[0]=S=>ce(d).editSummary.points=S)},null,8,q0e),[[Zy,ce(d).editSummary.points]]),x[5]||(x[5]=Ei(" Punkte   ")),x[6]||(x[6]=Ae("strong",null,"Notenstufe:",-1)),Ei(" "+Go(ce(d).currentGradeTitle)+" ",1),Qn(j(xo,{variant:"text",disabled:!ce(l).authorizationAllowed,onClick:x[1]||(x[1]=S=>ce(r).setShowAuthorization(!0))},{default:It(()=>[j(qn,{left:"",icon:"mdi-file-certificate-outline"}),x[2]||(x[2]=Ae("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[zo,!ce(d).isOwnDisabled]]),ce(g).inclusionsPossible?(Ln(),rr(LQ,{key:0})):Ts("",!0)]))}},X0e=$l(Y0e,[["__scopeId","data-v-4a1217f3"]]);var pee={exports:{}};(function(n){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},g=function(e,t){return v(function(o,i){return e.eq(t(o),t(i))})},v=function(e){return{eq:e}},x=v(function(e,t){return e===t}),S=x,M=function(e){return v(function(t,o){if(t.length!==o.length)return!1;for(var i=t.length,c=0;c<i;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},R=function(e,t){return g(M(e),function(o){return d(o,t)})},I=function(e){return v(function(t,o){var i=Object.keys(t),c=Object.keys(o);if(!R(S).eq(i,c))return!1;for(var m=i.length,h=0;h<m;h++){var C=i[h];if(!e.eq(t[C],o[C]))return!1}return!0})},L=v(function(e,t){if(e===t)return!0;var o=r(e),i=r(t);return o!==i?!1:l(o)?e===t:o==="array"?M(L).eq(e,t):o==="object"?I(L).eq(e,t):!1});const $=Object.getPrototypeOf,K=(e,t,o)=>{var i;return o(e,t.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===t.name},Y=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&K(e,String,(o,i)=>i.isPrototypeOf(o))?"string":t},ne=e=>t=>Y(t)===e,oe=e=>t=>typeof t===e,se=e=>t=>e===t,Me=(e,t)=>ee(e)&&K(e,t,(o,i)=>$(o)===i),xe=ne("string"),ee=ne("object"),_e=e=>Me(e,Object),le=ne("array"),Ue=se(null),We=oe("boolean"),qe=se(void 0),st=e=>e==null,ke=e=>!st(e),Le=oe("function"),O=oe("number"),Ke=(e,t)=>{if(le(e)){for(let o=0,i=e.length;o<i;++o)if(!t(e[o]))return!1;return!0}return!1},ct=()=>{},$t=(e,t)=>(...o)=>e(t.apply(null,o)),Jt=(e,t)=>o=>e(t(o)),et=e=>()=>e,pt=e=>e,Lt=(e,t)=>e===t;function tt(e,...t){return(...o)=>{const i=t.concat(o);return e.apply(null,i)}}const Ye=e=>t=>!e(t),Mt=e=>()=>{throw new Error(e)},oo=e=>e(),Fn=e=>{e()},fn=et(!1),_n=et(!0);class J{constructor(t,o){this.tag=t,this.value=o}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return ke(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const xs=Array.prototype.slice,eo=Array.prototype.indexOf,tn=Array.prototype.push,To=(e,t)=>eo.call(e,t),je=(e,t)=>{const o=To(e,t);return o===-1?J.none():J.some(o)},ae=(e,t)=>To(e,t)>-1,be=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return!0}return!1},Be=(e,t)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const m=e[c];i[c]=t(m,c)}return i},he=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];t(c,o)}},gt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];t(i,o)}},zt=(e,t)=>{const o=[],i=[];for(let c=0,m=e.length;c<m;c++){const h=e[c];(t(h,c)?o:i).push(h)}return{pass:o,fail:i}},vt=(e,t)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const m=e[i];t(m,i)&&o.push(m)}return o},Ft=(e,t,o)=>(gt(e,(i,c)=>{o=t(o,i,c)}),o),Vt=(e,t,o)=>(he(e,(i,c)=>{o=t(o,i,c)}),o),wn=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++){const m=e[i];if(t(m,i))return J.some(m);if(o(m,i))break}return J.none()},cn=(e,t)=>wn(e,t,fn),An=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return J.some(o)}return J.none()},On=e=>{const t=[];for(let o=0,i=e.length;o<i;++o){if(!le(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);tn.apply(t,e[o])}return t},wo=(e,t)=>On(Be(e,t)),Oo=(e,t)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},Ho=e=>{const t=xs.call(e,0);return t.reverse(),t},cs=(e,t)=>vt(e,o=>!ae(t,o)),ar=(e,t)=>{const o={};for(let i=0,c=e.length;i<c;i++){const m=e[i];o[String(m)]=t(m,i)}return o},fs=(e,t)=>{const o=xs.call(e,0);return o.sort(t),o},Ar=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),hn=e=>Ar(e,0),Eo=e=>Ar(e,e.length-1),vo=Le(Array.from)?Array.from:e=>xs.call(e),or=(e,t)=>{for(let o=0;o<e.length;o++){const i=t(e[o],o);if(i.isSome())return i}return J.none()},ea=(e,t)=>{const o=[],i=Le(t)?c=>be(o,m=>t(m,c)):c=>ae(o,c);for(let c=0,m=e.length;c<m;c++){const h=e[c];i(h)||o.push(h)}return o},Kt=Object.keys,mi=Object.hasOwnProperty,rs=(e,t)=>{const o=Kt(e);for(let i=0,c=o.length;i<c;i++){const m=o[i],h=e[m];t(h,m)}},Ul=(e,t)=>$s(e,(o,i)=>({k:i,v:t(o,i)})),$s=(e,t)=>{const o={};return rs(e,(i,c)=>{const m=t(i,c);o[m.k]=m.v}),o},Qr=e=>(t,o)=>{e[o]=t},bm=(e,t,o,i)=>{rs(e,(c,m)=>{(t(c,m)?o:i)(c,m)})},Nu=(e,t)=>{const o={},i={};return bm(e,t,Qr(o),Qr(i)),{t:o,f:i}},Cc=(e,t)=>{const o={};return bm(e,t,Qr(o),ct),o},ul=(e,t)=>{const o=[];return rs(e,(i,c)=>{o.push(t(i,c))}),o},Pu=e=>ul(e,pt),Os=(e,t)=>ao(e,t)?J.from(e[t]):J.none(),ao=(e,t)=>mi.call(e,t),Wl=(e,t)=>ao(e,t)&&e[t]!==void 0&&e[t]!==null,Ti=(e,t,o=L)=>I(o).eq(e,t),Mu=e=>{const t={};return he(e,o=>{t[o]={}}),Kt(t)},rn=e=>e.length!==void 0,Bu=Array.isArray,ym=e=>{if(Bu(e))return e;{const t=[];for(let o=0,i=e.length;o<i;o++)t[o]=e[o];return t}},hr=(e,t,o)=>{if(!e)return!1;if(o=o||e,rn(e)){for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(ao(e,i)&&t.call(o,e[i],i,e)===!1)return!1;return!0},xm=(e,t)=>{const o=[];return hr(e,(i,c)=>{o.push(t(i,c,e))}),o},Ga=(e,t)=>{const o=[];return hr(e,(i,c)=>{(!t||t(i,c,e))&&o.push(i)}),o},Ol=(e,t)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===t)return o}return-1},dl=(e,t,o,i)=>{let c=qe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=t.call(i,c,e[m],m);return c},lr=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e))return i;return-1},Ca=e=>e[e.length-1],Dl=e=>{let t=!1,o;return(...i)=>(t||(t=!0,o=e.apply(null,i)),o)},wm=(e,t,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),C=h||i("(pointer:coarse)"),A=c||!m&&h&&i("(min-device-width:768px)"),V=m||h&&!A,Z=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,q=!V&&!A&&!Z;return{isiPad:et(c),isiPhone:et(m),isTablet:et(A),isPhone:et(V),isTouch:et(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:et(Z),isDesktop:et(q)}},Gc=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(t))return i}},qc=(e,t)=>{const o=Gc(e,t);if(!o)return{major:0,minor:0};const i=c=>Number(t.replace(o,"$"+c));return is(i(1),i(2))},uf=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Sd():qc(e,o)},Sd=()=>is(0,0),is=(e,t)=>({major:e,minor:t}),Br={nu:is,detect:uf,unknown:Sd},ri=(e,t)=>or(t.brands,o=>{const i=o.brand.toLowerCase();return cn(e,c=>{var m;return i===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Br.nu(parseInt(o.version,10),0)}))}),Cm=(e,t)=>{const o=String(t).toLowerCase();return cn(e,i=>i.search(o))},qa=(e,t)=>Cm(e,t).map(o=>{const i=Br.detect(o.versionRegexes,t);return{current:o.name,version:i}}),Yc=(e,t)=>Cm(e,t).map(o=>{const i=Br.detect(o.versionRegexes,t);return{current:o.name,version:i}}),_a=(e,t)=>e.substring(t),Sa=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Xc=(e,t)=>cr(e,t)?_a(e,t.length):e,Ns=(e,t,o=0,i)=>{const c=e.indexOf(t,o);return c!==-1?qe(i)?!0:c+t.length<=i:!1},cr=(e,t)=>Sa(e,t,0),Te=(e,t)=>Sa(e,t,e.length-t.length),nt=e=>t=>t.replace(e,""),Ne=nt(/^\s+|\s+$/g),mt=nt(/^\s+/g),ut=nt(/\s+$/g),Je=e=>e.length>0,Wt=e=>!Je(e),nn=(e,t)=>t<=0?"":new Array(t+1).join(e),un=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?J.none():J.some(o)},vn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>Ns(t,e),ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ns(e,"edge/")&&Ns(e,"chrome")&&Ns(e,"safari")&&Ns(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vn],search:e=>Ns(e,"chrome")&&!Ns(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ns(e,"msie")||Ns(e,"trident")},{name:"Opera",versionRegexes:[vn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[vn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ns(e,"safari")||Ns(e,"mobile/"))&&Ns(e,"applewebkit")}],sn=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ns(e,"iphone")||Ns(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ks={browsers:et(ho),oses:et(sn)},Po="Edge",Zo="Chromium",Tr="IE",_o="Opera",Rl="Firefox",ta="Safari",co=()=>Ya({current:void 0,version:Br.unknown()}),Ya=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isEdge:i(Po),isChromium:i(Zo),isIE:i(Tr),isOpera:i(_o),isFirefox:i(Rl),isSafari:i(ta)}},fl={unknown:co,nu:Ya,edge:et(Po),chromium:et(Zo),ie:et(Tr),opera:et(_o),firefox:et(Rl),safari:et(ta)},wr="Windows",kd="iOS",Hr="Android",df="Linux",Il="macOS",ws="Solaris",Lu="FreeBSD",_m="ChromeOS",Jh=()=>Or({current:void 0,version:Br.unknown()}),Or=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isWindows:i(wr),isiOS:i(kd),isAndroid:i(Hr),isMacOS:i(Il),isLinux:i(df),isSolaris:i(ws),isFreeBSD:i(Lu),isChromeOS:i(_m)}},_c={unknown:Jh,nu:Or,windows:et(wr),ios:et(kd),android:et(Hr),linux:et(df),macos:et(Il),solaris:et(ws),freebsd:et(Lu),chromeos:et(_m)},Xs={detect:(e,t,o)=>{const i=ks.browsers(),c=ks.oses(),m=t.bind(A=>ri(i,A)).orThunk(()=>qa(i,e)).fold(fl.unknown,fl.nu),h=Yc(c,e).fold(_c.unknown,_c.nu),C=wm(h,m,e,o);return{browser:m,os:h,deviceType:C}}},Sm=e=>window.matchMedia(e).matches;let Nl=Dl(()=>Xs.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),Sm));const na=()=>Nl(),Mg=window.navigator.userAgent,Oi=na(),Xa=Oi.browser,oa=Oi.os,Pl=Oi.deviceType,Qh=Mg.indexOf("Windows Phone")!==-1,Mo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xa.isIE(),windowsPhone:Qh,browser:{current:Xa.current,version:Xa.version,isChromium:Xa.isChromium,isEdge:Xa.isEdge,isFirefox:Xa.isFirefox,isIE:Xa.isIE,isOpera:Xa.isOpera,isSafari:Xa.isSafari},os:{current:oa.current,version:oa.version,isAndroid:oa.isAndroid,isChromeOS:oa.isChromeOS,isFreeBSD:oa.isFreeBSD,isiOS:oa.isiOS,isLinux:oa.isLinux,isMacOS:oa.isMacOS,isSolaris:oa.isSolaris,isWindows:oa.isWindows},deviceType:{isDesktop:Pl.isDesktop,isiPad:Pl.isiPad,isiPhone:Pl.isiPhone,isPhone:Pl.isPhone,isTablet:Pl.isTablet,isTouch:Pl.isTouch,isWebView:Pl.isWebView}},Jc=/^\s*|\s*$/g,Ed=e=>st(e)?"":(""+e).replace(Jc,""),Fu=(e,t)=>t?t==="array"&&Bu(e)?!0:typeof e===t:e!==void 0,Sv=(e,t,o={})=>{const i=xe(e)?e.split(t||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},ex=ao,B1=(e,...t)=>{for(let o=0;o<t.length;o++){const i=t[o];for(const c in i)if(ao(i,c)){const m=i[c];m!==void 0&&(e[c]=m)}}return e},L1=function(e,t,o,i){i=i||this,e&&(o&&(e=e[o]),hr(e,(c,m)=>t.call(i,c,m,o)===!1?!1:(L1(c,t,o,i),!0)))},Xt={trim:Ed,isArray:Bu,is:Fu,toArray:ym,makeMap:Sv,each:hr,map:xm,grep:Ga,inArray:Ol,hasOwn:ex,extend:B1,walk:L1,resolve:(e,t=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(t=t[o[i]],!!t);i++);return t},explode:(e,t)=>le(e)?e:e===""?[]:xm(e.split(t||","),Ed),_addCacheSuffix:e=>{const t=Mo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},ff=(e,t,o=Lt)=>e.exists(i=>o(i,t)),mf=(e,t,o=Lt)=>sa(e,t,o).getOr(e.isNone()&&t.isNone()),V1=e=>{const t=[],o=i=>{t.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return t},sa=(e,t,o)=>e.isSome()&&t.isSome()?J.some(o(e.getOrDie(),t.getOrDie())):J.none(),gf=(e,t,o,i)=>e.isSome()&&t.isSome()&&o.isSome()?J.some(i(e.getOrDie(),t.getOrDie(),o.getOrDie())):J.none(),Bg=(e,t)=>e?J.some(t):J.none(),tx=typeof window<"u"?window:Function("return this;")(),nx=(e,t)=>{let o=t??tx;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},kv=(e,t)=>{const o=e.split(".");return nx(o,t)},ox=(e,t)=>kv(e,t),z1=(e,t)=>{const o=ox(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},sx=Object.getPrototypeOf,Lg=e=>z1("HTMLElement",e),H1=e=>{const t=kv("ownerDocument.defaultView",e);return ee(e)&&(Lg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(sx(e).constructor.name))},hf=8,pf=9,ra=11,gl=1,Fg=3,qo=e=>e.dom.nodeName.toLowerCase(),Ad=e=>e.dom.nodeType,Vg=e=>t=>Ad(t)===e,zg=e=>Ad(e)===hf||qo(e)==="#comment",Na=e=>$r(e)&&H1(e.dom),$r=Vg(gl),ur=Vg(Fg),$i=Vg(pf),Js=Vg(ra),vf=e=>t=>$r(t)&&qo(t)===e,km=(e,t,o)=>{if(xe(o)||We(o)||O(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},yi=(e,t,o)=>{km(e.dom,t,o)},Pa=(e,t)=>{const o=e.dom;rs(t,(i,c)=>{km(o,c,i)})},ka=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Qc=(e,t)=>J.from(ka(e,t)),Td=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Do=(e,t)=>{e.dom.removeAttribute(t)},ii=e=>{const t=e.dom.attributes;return t==null||t.length===0},hl=e=>Vt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Od=(e,t)=>{const o=ka(e,t);return o===void 0||o===""?[]:o.split(" ")},Ui=(e,t,o)=>{const c=Od(e,t).concat([o]);return yi(e,t,c.join(" ")),!0},Bn=(e,t,o)=>{const i=vt(Od(e,t),c=>c!==o);return i.length>0?yi(e,t,i.join(" ")):Do(e,t),!1},Sc=e=>e.dom.classList!==void 0,kc=e=>Od(e,"class"),Es=(e,t)=>Ui(e,"class",t),tp=(e,t)=>Bn(e,"class",t),Ev=(e,t)=>ae(kc(e),t)?tp(e,t):Es(e,t),Dd=(e,t)=>{Sc(e)?e.dom.classList.add(t):Es(e,t)},Bo=e=>{(Sc(e)?e.dom.classList:kc(e)).length===0&&Do(e,"class")},Ma=(e,t)=>{Sc(e)?e.dom.classList.remove(t):tp(e,t),Bo(e)},np=(e,t)=>{const o=Sc(e)?e.dom.classList.toggle(t):Ev(e,t);return Bo(e),o},Rd=(e,t)=>Sc(e)&&e.dom.classList.contains(t),Av=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return tu(i.childNodes[0])},eu=(e,t)=>{const i=(t||document).createElement(e);return tu(i)},Ja=(e,t)=>{const i=(t||document).createTextNode(e);return tu(i)},tu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Fe={fromHtml:Av,fromTag:eu,fromText:Ja,fromDom:tu,fromPoint:(e,t,o)=>J.from(e.dom.elementFromPoint(t,o)).map(tu)},Em=(e,t)=>{const o=[],i=m=>(o.push(m),t(m));let c=t(e);do c=c.bind(i);while(c.isSome());return o},Ps=(e,t)=>{const o=e.dom;if(o.nodeType!==gl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(t);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(t);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Tv=e=>e.nodeType!==gl&&e.nodeType!==pf&&e.nodeType!==ra||e.childElementCount===0,Hg=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?[]:Be(o.querySelectorAll(e),Fe.fromDom)},nu=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?J.none():J.from(o.querySelector(e)).map(Fe.fromDom)},Yo=(e,t)=>e.dom===t.dom,ia=(e,t)=>{const o=e.dom,i=t.dom;return o===i?!1:o.contains(i)},Vu=e=>Fe.fromDom(e.dom.ownerDocument),tc=e=>$i(e)?e:Vu(e),zu=e=>Fe.fromDom(tc(e).dom.documentElement),Hu=e=>Fe.fromDom(tc(e).dom.defaultView),aa=e=>J.from(e.dom.parentNode).map(Fe.fromDom),yf=e=>J.from(e.dom.parentElement).map(Fe.fromDom),Am=(e,t)=>{const o=Le(t)?t:fn;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,h=Fe.fromDom(m);if(c.push(h),o(h)===!0)break;i=m}return c},Ov=e=>{const t=o=>vt(o,i=>!Yo(e,i));return aa(e).map(la).map(t).getOr([])},xi=e=>J.from(e.dom.previousSibling).map(Fe.fromDom),Wn=e=>J.from(e.dom.nextSibling).map(Fe.fromDom),$u=e=>Ho(Em(e,xi)),Tm=e=>Em(e,Wn),la=e=>Be(e.dom.childNodes,Fe.fromDom),Uu=(e,t)=>{const o=e.dom.childNodes;return J.from(o[t]).map(Fe.fromDom)},Ml=e=>Uu(e,0),Wu=e=>Uu(e,e.dom.childNodes.length-1),Id=e=>e.dom.childNodes.length,wi=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Fe.fromDom(t)},nc=e=>Js(e)&&ke(e.dom.host),ou=e=>Fe.fromDom(e.dom.getRootNode()),Om=e=>nc(e)?e:wi(tc(e)),$1=e=>nc(e)?e:Fe.fromDom(tc(e).dom.body),Zu=e=>{const t=ou(e);return nc(t)?J.some(t):J.none()},xf=e=>Fe.fromDom(e.dom.host),Dv=e=>{if(ke(e.target)){const t=Fe.fromDom(e.target);if($r(t)&&Cr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return hn(o)}}return J.from(e.target)},Cr=e=>ke(e.dom.shadowRoot),Ba=e=>{const t=ur(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Zu(Fe.fromDom(t)).fold(()=>o.body.contains(t),Jt(Ba,xf))};var Ea=(e,t,o,i,c)=>e(o,i)?J.some(o):Le(c)&&c(o)?J.none():t(o,i,c);const Qa=(e,t,o)=>{let i=e.dom;const c=Le(o)?o:fn;for(;i.parentNode;){i=i.parentNode;const m=Fe.fromDom(i);if(t(m))return J.some(m);if(c(m))break}return J.none()},gi=(e,t,o)=>Ea((c,m)=>m(c),Qa,e,t,o),op=(e,t)=>{const o=e.dom;return o.parentNode?ai(Fe.fromDom(o.parentNode),i=>!Yo(e,i)&&t(i)):J.none()},ai=(e,t)=>{const o=c=>t(Fe.fromDom(c));return cn(e.dom.childNodes,o).map(Fe.fromDom)},Wi=(e,t)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const m=Fe.fromDom(i.childNodes[c]);if(t(m))return J.some(m);const h=o(i.childNodes[c]);if(h.isSome())return h}return J.none()};return o(e.dom)},su=(e,t,o)=>Qa(e,i=>Ps(i,t),o),Ot=(e,t)=>nu(t,e),Zi=(e,t,o)=>Ea((c,m)=>Ps(c,m),su,e,t,o),sp=e=>Zi(e,"[contenteditable]"),_r=(e,t=!1)=>Ba(e)?e.dom.isContentEditable:sp(e).fold(et(t),o=>ju(o)==="true"),ju=e=>e.dom.contentEditable,La=e=>e.style!==void 0&&Le(e.style.getPropertyValue),Ec=(e,t,o)=>{if(!xe(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);La(e)&&e.style.setProperty(t,o)},Dm=(e,t)=>{La(e)&&e.style.removeProperty(t)},el=(e,t,o)=>{const i=e.dom;Ec(i,t,o)},jo=(e,t)=>{const o=e.dom;rs(t,(i,c)=>{Ec(o,c,i)})},Ur=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!Ba(e)?wf(o,t):c},wf=(e,t)=>La(e)?e.style.getPropertyValue(t):"",Lr=(e,t)=>{const o=e.dom,i=wf(o,t);return J.from(i).filter(c=>c.length>0)},$g=e=>{const t={},o=e.dom;if(La(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);t[c]=o.style[c]}return t},ru=(e,t)=>{const o=e.dom;Dm(o,t),ff(Qc(e,"style").map(Ne),"")&&Do(e,"style")},U1=e=>e.dom.offsetWidth,Dr=(e,t)=>{aa(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},it=(e,t)=>{Wn(e).fold(()=>{aa(e).each(c=>{Wr(c,t)})},i=>{Dr(i,t)})},Fa=(e,t)=>{Ml(e).fold(()=>{Wr(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},Wr=(e,t)=>{e.dom.appendChild(t.dom)},Zl=(e,t)=>{Dr(e,t),Wr(t,e)},Ac=(e,t)=>{he(t,(o,i)=>{const c=i===0?e:t[i-1];it(c,o)})},ei=(e,t)=>{he(t,o=>{Wr(e,o)})},Qs=e=>{e.dom.textContent="",he(la(e),t=>{Ds(t)})},Ds=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Va=e=>{const t=la(e);t.length>0&&Ac(e,t),Ds(e)},jl=(e,t)=>{const i=(t||document).createElement("div");return i.innerHTML=e,la(Fe.fromDom(i))},iu=e=>Be(e,Fe.fromDom),Nd=e=>e.dom.innerHTML,Rm=(e,t)=>{const i=Vu(e).dom,c=Fe.fromDom(i.createDocumentFragment()),m=jl(t,i);ei(c,m),Qs(e),Wr(e,c)},Ug=e=>{const t=Fe.fromTag("div"),o=Fe.fromDom(e.dom.cloneNode(!0));return Wr(t,o),Nd(t)},Wg=(e,t,o,i,c,m,h)=>({target:e,x:t,y:o,stop:i,prevent:c,kill:m,raw:h}),Rv=e=>{const t=Fe.fromDom(Dv(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=$t(i,o);return Wg(t,e.clientX,e.clientY,o,i,c,e)},Iv=(e,t)=>o=>{e(o)&&t(Rv(o))},Ku=(e,t,o,i,c)=>{const m=Iv(o,i);return e.dom.addEventListener(t,m,c),{unbind:tt(W,e,t,m,c)}},N=(e,t,o,i)=>Ku(e,t,o,i,!1),W=(e,t,o,i)=>{e.dom.removeEventListener(t,o,i)},re=(e,t)=>({left:e,top:t,translate:(i,c)=>re(e+i,t+c)}),Re=re,$e=e=>{const t=e.getBoundingClientRect();return Re(t.left,t.top)},Dt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Zn=e=>{const t=e.dom.ownerDocument,o=t.body,i=t.defaultView,c=t.documentElement;if(o===e.dom)return Re(o.offsetLeft,o.offsetTop);const m=Dt(i==null?void 0:i.pageYOffset,c.scrollTop),h=Dt(i==null?void 0:i.pageXOffset,c.scrollLeft),C=Dt(c.clientTop,o.clientTop),A=Dt(c.clientLeft,o.clientLeft);return po(e).translate(h-A,m-C)},po=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Re(i.offsetLeft,i.offsetTop):Ba(e)?$e(t):Re(0,0)},lo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Re(o,i)},Tn=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},bs=(e,t)=>{na().browser.isSafari()&&Le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Zr=e=>{const t=e===void 0?window:e;return na().browser.isFirefox()?J.none():J.from(t.visualViewport)},Sr=(e,t,o,i)=>({x:e,y:t,width:o,height:i,right:e+o,bottom:t+i}),Tc=e=>{const t=e===void 0?window:e,o=t.document,i=lo(Fe.fromDom(o));return Zr(t).fold(()=>{const c=t.document.documentElement,m=c.clientWidth,h=c.clientHeight;return Sr(i.left,i.top,m,h)},c=>Sr(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Im=(e,t)=>vt(la(e),t),Nm=(e,t)=>{let o=[];return he(la(e),i=>{t(i)&&(o=o.concat([i])),o=o.concat(Nm(i,t))}),o},hi=(e,t)=>Hg(t,e),bC=(e,t,o)=>Qa(e,t,o).isSome(),Nv=(e,t)=>op(e,t).isSome(),W1=(e,t)=>Wi(e,t).isSome();class ca{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,i,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let m=t[i];if(m)return m;for(let h=t.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(m=h[i],m)return m}}}findPreviousNode(t,o){if(t){const i=t.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const Rr="\uFEFF",Di=" ",Gu=e=>e===Rr,rp=e=>e.replace(/\uFEFF/g,""),rx=/^[ \t\r\n]*$/,oc=e=>rx.test(e),pl=e=>{for(const t of e)if(!Gu(t))return!1;return!0},Pv=e=>" \f	\v".indexOf(e)!==-1,Cf=e=>e===`
`||e==="\r",aE=(e,t)=>t<e.length&&t>=0?Cf(e[t]):!1,Mv=(e,t=4,o=!0,i=!0)=>{const c=nn(" ",t),m=e.replace(/\t/g,c);return Vt(m,(C,A)=>Pv(A)||A===Di?C.pcIsSpace||C.str===""&&o||C.str.length===m.length-1&&i||aE(m,C.str.length+1)?{pcIsSpace:!1,str:C.str+Di}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Cf(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Pd=e=>t=>!!t&&t.nodeType===e,_f=e=>!!e&&!Object.getPrototypeOf(e),En=Pd(1),au=e=>En(e)&&Na(Fe.fromDom(e)),Bv=e=>En(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Sf=e=>{const t=e.toLowerCase();return o=>ke(o)&&o.nodeName.toLowerCase()===t},ua=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return ae(t,i)}return!1}},Oc=(e,t)=>{const o=t.toLowerCase().split(" ");return i=>{if(En(i)){const c=i.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[m])return!0}}return!1}},Zg=e=>t=>En(t)&&t.hasAttribute(e),kf=e=>En(e)&&e.hasAttribute("data-mce-bogus"),Z1=e=>En(e)&&e.getAttribute("data-mce-bogus")==="all",lu=e=>En(e)&&e.tagName==="TABLE",ip=e=>t=>!!(au(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),ap=ua(["textarea","input"]),Ut=Pd(3),ix=Pd(4),Ef=Pd(7),ko=Pd(8),Rn=Pd(9),Af=Pd(11),pr=Sf("br"),Dc=Sf("img"),Rc=ip("true"),fo=ip("false"),lp=ua(["td","th"]),yC=ua(["td","th","caption"]),St=ua(["video","audio","object","embed"]),ax=Sf("li"),cp=Sf("details"),up=Sf("summary"),jg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Pm=(e,t,o)=>{const i=Fe.fromDom(t),c=Fe.fromDom(e),m=o.getWhitespaceElements();return bC(c,C=>ao(m,qo(C)),tt(Yo,i))},xC=e=>En(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Tf=(e,t)=>En(e)&&ao(t.getNonEmptyElements(),e.nodeName),sr=Zg("data-mce-bookmark"),qu=e=>yf(Fe.fromDom(e)).exists(t=>!_r(t)),j1=(e,t,o)=>oc(e.data)&&!Pm(e,t,o),cu=(e,t,o,i)=>Ut(e)&&!j1(e,t,o)&&(!i.includeZwsp||!pl(e.data)),Mm=(e,t,o,i)=>Le(i.isContent)&&i.isContent(t)||Tf(t,e)||sr(t)||xC(t)||cu(t,o,e,i)||fo(t)||Rc(t)&&qu(t),sc=(e,t,o)=>{const i={...jg,...o};if(i.checkRootAsContent&&Mm(e,t,t,i))return!1;let c=t.firstChild,m=0;if(!c)return!0;const h=new ca(c,t);do{if(i.skipBogus&&En(c)){const C=c.getAttribute("data-mce-bogus");if(C){c=h.next(C==="all");continue}}if(ko(c)){c=h.next(!0);continue}if(pr(c)){m++,c=h.next();continue}if(Mm(e,c,t,i))return!1;c=h.next()}while(c);return m<=1},jr=(e,t,o)=>sc(e,t.dom,{checkRootAsContent:!0,...o}),Lv=(e,t,o)=>Mm(e,t,t,{includeZwsp:jg.includeZwsp,...o}),Ri=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},K1=e=>{const t=Ri(J.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(J.some(C))}}},Ic=e=>{const t=Ri(J.none()),o=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{o(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(J.some(setInterval(C,e)))}}},Ii=()=>{const e=K1(ct);return{...e,on:o=>e.get().each(o)}},Zt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Bm=e=>Zt(e)!=="html",Ni=e=>Bm(e.nodeName),wC=e=>Zt(e.nodeName),CC=["svg","math"],lE=()=>{const e=Ii(),t=()=>e.get().map(wC).getOr("html");return{track:c=>(Ni(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Md="data-mce-block",Kg=e=>vt(Kt(e),t=>!/[A-Z]/.test(t)),Fv=e=>Be(Kg(e),t=>{const o=CSS.escape(t);return`${o}:`+Be(CC,i=>`not(${i} ${o})`).join(":")}).join(","),G1=(e,t)=>ke(t.querySelector(e))?(t.setAttribute(Md,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Md),!1),lx=(e,t)=>{const o=Fv(e.getTransparentElements()),i=Fv(e.getBlockElements());return vt(t.querySelectorAll(o),c=>G1(i,c))},kr=(e,t,o)=>{var i;const c=o?"lastChild":"firstChild";for(let m=t[c];m;m=m[c])if(sc(e,m,{checkRootAsContent:!0})){(i=m.parentNode)===null||i===void 0||i.removeChild(m);return}},Vv=(e,t,o)=>{const i=document.createRange(),c=t.parentNode;if(c){i.setStartBefore(t),i.setEndBefore(o);const m=i.extractContents();kr(e,m,!0),i.setStartAfter(o),i.setEndAfter(t);const h=i.extractContents();kr(e,h,!1),sc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,t),sc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),sc(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),c.removeChild(t)}},Ir=(e,t,o)=>{const i=e.getBlockElements(),c=Fe.fromDom(t),m=C=>qo(C)in i,h=C=>Yo(C,c);he(iu(o),C=>{Qa(C,m,h).each(A=>{const V=Im(C,Z=>m(Z)&&!e.isValidChild(qo(A),qo(Z)));if(V.length>0){const Z=yf(A);he(V,q=>{Qa(q,m,h).each(Q=>{Vv(e,Q.dom,q.dom)})}),Z.each(q=>lx(e,q.dom))}})})},tl=(e,t,o)=>{he([...o,...Of(e,t)?[t]:[]],i=>he(hi(Fe.fromDom(i),i.nodeName.toLowerCase()),c=>{_C(e,c.dom)&&Va(c)}))},Kr=(e,t)=>{const o=lx(e,t);Ir(e,t,o),tl(e,t,o)},rc=(e,t)=>{if(dp(e,t)){const o=Fv(e.getBlockElements());G1(o,t)}},Bd=(e,t,o)=>{const i=m=>Yo(m,Fe.fromDom(t)),c=Am(Fe.fromDom(o),i);Ar(c,c.length-2).filter($r).fold(()=>Kr(e,t),m=>Kr(e,m.dom))},ji=e=>e.hasAttribute(Md),zv=(e,t)=>ao(e.getTransparentElements(),t),dp=(e,t)=>En(t)&&zv(e,t.nodeName),Of=(e,t)=>dp(e,t)&&ji(t),_C=(e,t)=>dp(e,t)&&!ji(t),fp=(e,t)=>t.type===1&&zv(e,t.name)&&xe(t.attr(Md)),cx=na().browser,q1=e=>cn(e,$r),Hv=e=>cx.isFirefox()&&qo(e)==="table"?q1(la(e)).filter(t=>qo(t)==="caption").bind(t=>q1(Tm(t)).map(o=>{const i=o.dom.offsetTop,c=t.dom.offsetTop,m=t.dom.offsetHeight;return i<=c?-m:0})).getOr(0):0,Y1=(e,t)=>e.children&&ae(e.children,t),ux=(e,t,o)=>{let i=0,c=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Ur(Fe.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return i=C.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=C.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:c}}let h=t;for(;h&&h!==o&&h.nodeType&&!Y1(h,o);){const C=h;i+=C.offsetLeft||0,c+=C.offsetTop||0,h=C.offsetParent}for(h=t.parentNode;h&&h!==o&&h.nodeType&&!Y1(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Hv(Fe.fromDom(t))}return{x:i,y:c}},Lm=(e,t={})=>{let o=0;const i={},c=Fe.fromDom(e),m=tc(c),h=He=>{t.referrerPolicy=He},C=He=>{t.contentCssCors=He},A=He=>{Wr(Om(c),He)},V=He=>{const Qe=Om(c);Ot(Qe,"#"+He).each(Ds)},Z=He=>Os(i,He).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),q=He=>new Promise((Qe,Xe)=>{let dt;const Bt=Xt._addCacheSuffix(He),Yt=Z(Bt);i[Bt]=Yt,Yt.count++;const pn=(Cn,Vn)=>{he(Cn,Fn),Yt.status=Vn,Yt.passed=[],Yt.failed=[],dt&&(dt.onload=null,dt.onerror=null,dt=null)},kt=()=>pn(Yt.passed,2),bt=()=>pn(Yt.failed,3);if(Qe&&Yt.passed.push(Qe),Xe&&Yt.failed.push(Xe),Yt.status===1)return;if(Yt.status===2){kt();return}if(Yt.status===3){bt();return}Yt.status=1;const Nt=Fe.fromTag("link",m.dom);Pa(Nt,{rel:"stylesheet",type:"text/css",id:Yt.id}),t.contentCssCors&&yi(Nt,"crossOrigin","anonymous"),t.referrerPolicy&&yi(Nt,"referrerpolicy",t.referrerPolicy),dt=Nt.dom,dt.onload=kt,dt.onerror=bt,A(Nt),yi(Nt,"href",Bt)}),Q=(He,Qe)=>{const Xe=Z(He);i[He]=Xe,Xe.count++;const dt=Fe.fromTag("style",m.dom);Pa(dt,{rel:"stylesheet",type:"text/css",id:Xe.id}),dt.dom.innerHTML=Qe,A(dt)},ge=He=>Promise.allSettled(Be(He,Xe=>q(Xe).then(et(Xe)))).then(Xe=>{const dt=zt(Xe,Bt=>Bt.status==="fulfilled");return dt.fail.length>0?Promise.reject(Be(dt.fail,Bt=>Bt.reason)):Be(dt.pass,Bt=>Bt.value)}),Se=He=>{const Qe=Xt._addCacheSuffix(He);Os(i,Qe).each(Xe=>{--Xe.count===0&&(delete i[Qe],V(Xe.id))})};return{load:q,loadRawCss:Q,loadAll:ge,unload:Se,unloadRawCss:He=>{Os(i,He).each(Qe=>{--Qe.count===0&&(delete i[He],V(Qe.id))})},unloadAll:He=>{he(He,Qe=>{Se(Qe)})},_setReferrerPolicy:h,_setContentCssCors:C}},X1=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const m=ou(o).dom;return J.from(e.get(m)).getOrThunk(()=>{const h=Lm(m,i);return e.set(m,h),h})}}})(),J1=e=>e.nodeName.toLowerCase()==="span",dx=(e,t)=>ke(e)&&(Lv(t,e)||t.isInline(e.nodeName.toLowerCase())),fx=(e,t,o)=>{const i=new ca(e,t).prev(!1),c=new ca(e,t).next(!1),m=qe(i)||dx(i,o),h=qe(c)||dx(c,o);return m&&h},$v=e=>J1(e)&&e.getAttribute("data-mce-type")==="bookmark",mx=(e,t,o)=>Ut(e)&&e.data.length>0&&fx(e,t,o),gx=e=>En(e)?e.childNodes.length>0:!1,Uv=e=>Af(e)||Rn(e),mp=(e,t,o,i)=>{var c;const m=i||t;if(En(t)&&$v(t))return t;const h=t.childNodes;for(let C=h.length-1;C>=0;C--)mp(e,h[C],o,m);if(En(t)){const C=t.childNodes;C.length===1&&$v(C[0])&&((c=t.parentNode)===null||c===void 0||c.insertBefore(C[0],t))}return!Uv(t)&&!Lv(o,t)&&!gx(t)&&!mx(t,m,o)&&e.remove(t),t},hx=Xt.makeMap,Wv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fm=/[<>&\"\']/g,gp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,px={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ld={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Gg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qg=e=>{const t=Fe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Fd=(e,t)=>{const o={};if(e){const i=e.split(",");t=t||10;for(let c=0;c<i.length;c+=2){const m=String.fromCharCode(parseInt(i[c],t));if(!Ld[m]){const h="&"+i[c+1]+";";o[m]=h,o[h]=m}}return o}else return},Df=Fd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),jv=(e,t)=>e.replace(t?Wv:Zv,o=>Ld[o]||o),uE=e=>(""+e).replace(Fm,t=>Ld[t]||t),Kv=(e,t)=>e.replace(t?Wv:Zv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Ld[o]||"&#"+o.charCodeAt(0)+";"),Nc=(e,t,o)=>{const i=o||Df;return e.replace(t?Wv:Zv,c=>Ld[c]||i[c]||c)},Yg={encodeRaw:jv,encodeAllRaw:uE,encodeNumeric:Kv,encodeNamed:Nc,getEncodeFunc:(e,t)=>{const o=Fd(t)||Df,i=(h,C)=>h.replace(C?Wv:Zv,A=>Ld[A]!==void 0?Ld[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(h,C)=>Nc(h,C,o),m=hx(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?t?c:Nc:m.numeric?Kv:jv},decode:e=>e.replace(gp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):px[o]||String.fromCharCode(o)):Gg[t]||Df[t]||qg(t))},da=(e,t)=>(e=Xt.trim(e),e?e.split(t||" "):[]),Xg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jg=e=>ee(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Q1=e=>{const t=o=>le(o)?Be(o,t):Jg(o)?new RegExp(o.source,o.flags):ee(o)?Ul(o,t):o;return t(e)},Xo=e=>{const t=/^(~)?(.+)$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const m=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:m,name:h}]}else return[]})},vl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Yu=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const i=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:i}},Aa=e=>{const{blockContent:t,phrasingContent:o,flowContent:i}=Yu(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(i)})},Ks={html4:Dl(()=>Aa("html4")),html5:Dl(()=>Aa("html5")),"html5-strict":Dl(()=>Aa("html5-strict"))},Gv=(e,t)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Ks[e]();return t==="blocks"?J.some(o):t==="phrasing"?J.some(i):t==="flow"?J.some(c):J.none()},kC=e=>{const t=vl(e),{phrasingContent:o,flowContent:i}=Yu(e),c={},m=(A,V,Z)=>{c[A]={attributes:ar(V,et({})),attributesOrder:V,children:ar(Z,et({}))}},h=(A,V="",Z="")=>{const q=da(Z),Q=da(A);let ge=Q.length;const Se=[...t,...da(V)];for(;ge--;)m(Q[ge],Se.slice(),q)},C=(A,V)=>{const Z=da(A),q=da(V);let Q=Z.length;for(;Q--;){const ge=c[Z[Q]];for(let Se=0,pe=q.length;Se<pe;Se++)ge.attributes[q[Se]]={},ge.attributesOrder.push(q[Se])}};return e!=="html5-strict"&&(he(da("acronym applet basefont big font strike tt"),Z=>{h(Z,"",o)}),he(da("center dir isindex noframes"),Z=>{h(Z,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&he([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),he(da("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},dE=e=>e==="-"?"remove":"add",dr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},e0=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const c=i[1],m=c?dE(c):"replace",h=i[2],C=wo(da(i[3],"|"),A=>dr(A).toArray());return[{operation:m,name:h,validChildren:C}]}else return[]})},bx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:m}=t;return he(da(e,"|"),h=>{const C=o.exec(h);if(C){const A={},V=C[1],Z=C[2].replace(/[\\:]:/g,":"),q=C[3],Q=C[4];if(V==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(Z),A.required=!0),V==="-"){delete c[Z],m.splice(Xt.inArray(m,Z),1);return}if(q&&(q==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:Z,value:Q}),A.defaultValue=Q):q==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:Z,value:Q}),A.forcedValue=Q):q==="<"&&(A.validValues=Xt.makeMap(Q,"?"))),i.test(Z)){const ge=A;t.attributePatterns=t.attributePatterns||[],ge.pattern=Xg(Z),t.attributePatterns.push(ge)}else c[Z]||m.push(Z),c[Z]=A}})},Vm=(e,t)=>{rs(e.attributes,(o,i)=>{t.attributes[i]=o}),t.attributesOrder.push(...e.attributesOrder)},Pc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return wo(da(t,","),i=>{const c=o.exec(i);if(c){const m=c[1],h=c[2],C=c[3],A=c[4],V=c[5],Z={attributes:{},attributesOrder:[]};if(e.each(q=>Vm(q,Z)),m==="#"?Z.paddEmpty=!0:m==="-"&&(Z.removeEmpty=!0),A==="!"&&(Z.removeEmptyAttrs=!0),V&&bx(V,Z),C&&(Z.outputName=h),h==="@")if(e.isNone())e=J.some(Z);else return[];return[C?{name:h,element:Z,aliasName:C}:{name:h,element:Z}]}else return[]})},hp={},bn=Xt.makeMap,uu=Xt.each,yx=Xt.extend,t0=Xt.explode,pp=(e,t={})=>{const o=bn(e," ",bn(e.toUpperCase()," "));return yx(o,t)},n0=e=>pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Qg=(e,t)=>{if(e){const o={};return xe(e)&&(e={"*":e}),uu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?bn(i,/[, ]/):t0(i,/[, ]/)}),o}else return},Mc=(e={})=>{var t;const o={},i={};let c=[];const m={},h={},C=(Un,ls,Xr)=>{const bi=e[Un];if(bi)return bn(bi,/[, ]/,bn(bi.toUpperCase(),/[, ]/));{let Xi=hp[Un];return Xi||(Xi=pp(ls,Xr),hp[Un]=Xi),Xi}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",V=kC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const Z=Qg(e.valid_styles),q=Qg(e.invalid_styles,"map"),Q=Qg(e.valid_classes,"map"),ge=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Se=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),pe=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Oe=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),He="td th iframe video audio object script code",Qe=C("non_empty_elements",He+" pre svg textarea summary",pe),Xe=C("move_caret_before_on_enter_elements",He+" table",pe),dt="h1 h2 h3 h4 h5 h6",Bt=C("text_block_elements",dt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Yt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Bt),pn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kt=C("transparent_elements","a ins del canvas map"),bt=C("wrap_block_elements","pre "+dt);uu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Un=>{h[Un]=new RegExp("</"+Un+"[^>]*>","gi")});const Nt=Un=>{const ls=J.from(o["@"]),Xr=/[*?+]/;he(Pc(ls,Un??""),({name:bi,element:Xi,aliasName:ll})=>{if(ll&&(o[ll]=Xi),Xr.test(bi)){const Li=Xi;Li.pattern=Xg(bi),c.push(Li)}else o[bi]=Xi})},Cn=Un=>{c=[],he(Kt(o),ls=>{delete o[ls]}),Nt(Un)},Vn=(Un,ls)=>{var Xr,bi;delete hp.text_block_elements,delete hp.block_elements;const Xi=ls.extends?!gd(ls.extends):!1,ll=ls.extends;if(i[Un]=ll?i[ll]:{},m[Un]=ll??Un,Qe[Un.toUpperCase()]={},Qe[Un]={},Xi||(Yt[Un.toUpperCase()]={},Yt[Un]={}),ll&&!o[Un]&&o[ll]){const Li=Q1(o[ll]);delete Li.removeEmptyAttrs,delete Li.removeEmpty,o[Un]=Li}else o[Un]={attributesOrder:[],attributes:{}};if(le(ls.attributes)){const Li=hc=>{Fi.attributesOrder.push(hc),Fi.attributes[hc]={}},Fi=(Xr=o[Un])!==null&&Xr!==void 0?Xr:{};delete Fi.attributesDefault,delete Fi.attributesForced,delete Fi.attributePatterns,delete Fi.attributesRequired,Fi.attributesOrder=[],Fi.attributes={},he(ls.attributes,hc=>{const Cg=vl(A);dr(hc).each(({preset:_g,name:Sg})=>{_g?Sg==="global"&&he(Cg,Li):Li(Sg)})}),o[Un]=Fi}if(We(ls.padEmpty)){const Li=(bi=o[Un])!==null&&bi!==void 0?bi:{};Li.paddEmpty=ls.padEmpty,o[Un]=Li}if(le(ls.children)){const Li={},Fi=Cg=>{Li[Cg]={}},hc=Cg=>{Gv(A,Cg).each(_g=>{he(_g,Fi)})};he(ls.children,Cg=>{dr(Cg).each(({preset:_g,name:Sg})=>{_g?hc(Sg):Fi(Sg)})}),i[Un]=Li}ll&&rs(i,(Li,Fi)=>{Li[ll]&&(i[Fi]=Li=yx({},i[Fi]),Li[Un]=Li[ll])})},Io=Un=>{he(Xo(Un??""),({name:ls,cloneName:Xr})=>{Vn(ls,{extends:Xr})})},Vo=Un=>{ee(Un)?rs(Un,(ls,Xr)=>Vn(Xr,ls)):xe(Un)&&Io(Un)},Rs=Un=>{he(e0(Un??""),({operation:ls,name:Xr,validChildren:bi})=>{const Xi=ls==="replace"?{"#comment":{}}:i[Xr],ll=Fi=>{ls==="remove"?delete Xi[Fi]:Xi[Fi]={}},Li=Fi=>{Gv(A,Fi).each(hc=>{he(hc,ll)})};he(bi,({preset:Fi,name:hc})=>{Fi?Li(hc):ll(hc)}),i[Xr]=Xi})},Us=Un=>{const ls=o[Un];if(ls)return ls;let Xr=c.length;for(;Xr--;){const bi=c[Xr];if(bi.pattern.test(Un))return bi}},ci=()=>{e.valid_elements?(Cn(e.valid_elements),uu(V,(Un,ls)=>{i[ls]=Un.children})):(uu(V,(Un,ls)=>{o[ls]={attributes:Un.attributes,attributesOrder:Un.attributesOrder},i[ls]=Un.children}),uu(da("strong/b em/i"),Un=>{const ls=da(Un,"/");o[ls[1]].outputName=ls[0]}),uu(pn,(Un,ls)=>{o[ls]&&(e.padd_empty_block_inline_children&&(o[ls].paddInEmptyBlock=!0),o[ls].removeEmpty=!0)}),uu(da("ol ul blockquote a table tbody"),Un=>{o[Un]&&(o[Un].removeEmpty=!0)}),uu(da("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Un=>{o[Un]&&(o[Un].paddEmpty=!0)}),uu(da("span"),Un=>{o[Un].removeEmptyAttrs=!0})),delete o.svg,Vo(e.custom_elements),Rs(e.valid_children),Nt(e.extended_valid_elements),Rs("+ol[ul|ol],+ul[ul|ol]"),uu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Un,ls)=>{o[ls]&&(o[ls].parentsRequired=da(Un))}),e.invalid_elements&&uu(t0(e.invalid_elements),Un=>{o[Un]&&delete o[Un]}),Us("span")||Nt("span[!data-mce-type|*]")},kl=et(Z),Ys=et(q),on=et(Q),Pn=et(Oe),ys=et(Yt),ln=et(Bt),Gn=et(pn),Fo=et(Object.seal(pe)),gn=et(Se),No=et(Qe),$o=et(Xe),Ra=et(ge),Hs=et(kt),ba=et(bt),nm=et(Object.seal(h)),Lh=(Un,ls)=>{const Xr=i[Un.toLowerCase()];return!!(Xr&&Xr[ls.toLowerCase()])},gc=(Un,ls)=>{const Xr=Us(Un);if(Xr)if(ls){if(Xr.attributes[ls])return!0;const bi=Xr.attributePatterns;if(bi){let Xi=bi.length;for(;Xi--;)if(bi[Xi].pattern.test(ls))return!0}}else return!0;return!1},gd=Un=>ao(ys(),Un),om=Un=>!cr(Un,"#")&&gc(Un)&&!gd(Un),hd=Un=>ao(ba(),Un)||om(Un),sm=et(m);return ci(),{type:A,children:i,elements:o,getValidStyles:kl,getValidClasses:on,getBlockElements:ys,getInvalidStyles:Ys,getVoidElements:Fo,getTextBlockElements:ln,getTextInlineElements:Gn,getBoolAttrs:Pn,getElementRule:Us,getSelfClosingElements:gn,getNonEmptyElements:No,getMoveCaretBeforeOnEnterElements:$o,getWhitespaceElements:Ra,getTransparentElements:Hs,getSpecialElements:nm,isValidChild:Lh,isValid:gc,isBlock:gd,isInline:om,isWrapper:hd,getCustomElements:sm,addValidElements:Nt,setValidElements:Cn,addCustomElements:Vo,addValidChildren:Rs}},fE=e=>({value:o0(e)}),o0=e=>Xc(e,"#").toUpperCase(),xx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},s0=e=>{const t=xx(e.red)+xx(e.green)+xx(e.blue);return fE(t)},wx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Cx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,r0=(e,t,o,i)=>({red:e,green:t,blue:o,alpha:i}),_x=(e,t,o,i)=>{const c=parseInt(e,10),m=parseInt(t,10),h=parseInt(o,10),C=parseFloat(i);return r0(c,m,h,C)},Sx=e=>wx.test(e)?"rgb":Cx.test(e)?"rgba":"other",EC=e=>{const t=wx.exec(e);if(t!==null)return J.some(_x(t[1],t[2],t[3],"1"));const o=Cx.exec(e);return o!==null?J.some(_x(o[1],o[2],o[3],o[4])):J.none()},mE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,qv=e=>EC(e).map(s0).map(t=>"#"+t.value).getOr(e),kx=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let h,C;const A=Rr;t&&(h=t.getValidStyles(),C=t.getInvalidStyles());const V=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let q=0;q<V.length;q++)m[V[q]]=A+q,m[A+q]=V[q];const Z={parse:q=>{const Q={};let ge=!1;const Se=e.url_converter,pe=e.url_converter_scope||Z,Oe=(kt,bt,Nt)=>{const Cn=Q[kt+"-top"+bt];if(!Cn)return;const Vn=Q[kt+"-right"+bt];if(!Vn)return;const Io=Q[kt+"-bottom"+bt];if(!Io)return;const Vo=Q[kt+"-left"+bt];if(!Vo)return;const Rs=[Cn,Vn,Io,Vo];let Us=Rs.length-1;for(;Us--&&Rs[Us]===Rs[Us+1];);Us>-1&&Nt||(Q[kt+bt]=Us===-1?Rs[0]:Rs.join(" "),delete Q[kt+"-top"+bt],delete Q[kt+"-right"+bt],delete Q[kt+"-bottom"+bt],delete Q[kt+"-left"+bt])},He=kt=>{const bt=Q[kt];if(!bt)return;const Nt=bt.indexOf(",")>-1?[bt]:bt.split(" ");let Cn=Nt.length;for(;Cn--;)if(Nt[Cn]!==Nt[0])return!1;return Q[kt]=Nt[0],!0},Qe=(kt,bt,Nt,Cn)=>{He(bt)&&He(Nt)&&He(Cn)&&(Q[kt]=Q[bt]+" "+Q[Nt]+" "+Q[Cn],delete Q[bt],delete Q[Nt],delete Q[Cn])},Xe=kt=>(ge=!0,m[kt]),dt=(kt,bt)=>(ge&&(kt=kt.replace(/\uFEFF[0-9]/g,Nt=>m[Nt])),bt||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt),Bt=kt=>String.fromCharCode(parseInt(kt.slice(1),16)),Yt=kt=>kt.replace(/\\[0-9a-f]+/gi,Bt),pn=(kt,bt,Nt,Cn,Vn,Io)=>{if(Vn=Vn||Io,Vn)return Vn=dt(Vn),"'"+Vn.replace(/\'/g,"\\'")+"'";if(bt=dt(bt||Nt||Cn||""),!e.allow_script_urls){const Vo=bt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Vo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Vo))return""}return Se&&(bt=Se.call(pe,bt,"style")),"url('"+bt.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,Xe).replace(/\"[^\"]+\"|\'[^\']+\'/g,bt=>bt.replace(/[;:]/g,Xe));let kt;for(;kt=i.exec(q);){i.lastIndex=kt.index+kt[0].length;let bt=kt[1].replace(c,"").toLowerCase(),Nt=kt[2].replace(c,"");if(bt&&Nt){if(bt=Yt(bt),Nt=Yt(Nt),bt.indexOf(A)!==-1||bt.indexOf('"')!==-1||!e.allow_script_urls&&(bt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nt)))continue;bt==="font-weight"&&Nt==="700"?Nt="bold":(bt==="color"||bt==="background-color")&&(Nt=Nt.toLowerCase()),Sx(Nt)==="rgb"&&EC(Nt).each(Cn=>{Nt=qv(mE(Cn)).toLowerCase()}),Nt=Nt.replace(o,pn),Q[bt]=ge?dt(Nt,!0):Nt}}Oe("border","",!0),Oe("border","-width"),Oe("border","-color"),Oe("border","-style"),Oe("padding",""),Oe("margin",""),Qe("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(q,Q)=>{let ge="";const Se=(Oe,He)=>{const Qe=He[Oe];if(Qe)for(let Xe=0,dt=Qe.length;Xe<dt;Xe++){const Bt=Qe[Xe],Yt=q[Bt];Yt&&(ge+=(ge.length>0?" ":"")+Bt+": "+Yt+";")}},pe=(Oe,He)=>{if(!C||!He)return!0;let Qe=C["*"];return Qe&&Qe[Oe]?!1:(Qe=C[He],!(Qe&&Qe[Oe]))};return Q&&h?(Se("*",h),Se(Q,h)):rs(q,(Oe,He)=>{Oe&&pe(He,Q)&&(ge+=(ge.length>0?" ":"")+He+": "+Oe+";")}),ge}};return Z},eh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},gE=e=>e instanceof Event||Le(e.initEvent),hE=e=>e.isDefaultPrevented===_n||e.isDefaultPrevented===fn,Rf=e=>st(e.preventDefault)||gE(e),zm=(e,t)=>{const o=t??{};for(const i in e)ao(eh,i)||(o[i]=e[i]);return ke(e.composedPath)&&(o.composedPath=()=>e.composedPath()),ke(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),ke(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},i0=(e,t,o,i)=>{var c;const m=zm(t,i);return m.type=e,st(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),Rf(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=_n,Le(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=_n,Le(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=_n,m.stopPropagation()},hE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?_n:fn,m.isPropagationStopped=m.cancelBubble===!0?_n:fn,m.isImmediatePropagationStopped=fn)),m},AC="mce-data-",Ex=/^(?:mouse|contextmenu)|click/,Yv=(e,t,o,i)=>{e.addEventListener(t,o,i||!1)},Vd=(e,t,o,i)=>{e.removeEventListener(t,o,i||!1)},a0=e=>ke(e)&&Ex.test(e.type),pi=(e,t)=>{const o=i0(e.type,e,document,t);if(a0(e)&&qe(e.pageX)&&!qe(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,m=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Fr=(e,t,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{Vd(e,"DOMContentLoaded",h),Vd(e,"load",h),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};m()?h():Yv(e,"DOMContentLoaded",h),o.domLoaded||Yv(e,"load",h)};class If{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=AC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,i,c){const m=this;let h;const C=window,A=Q=>{m.executeHandlers(pi(Q||C.event),V)};if(!t||Ut(t)||ko(t))return i;let V;t[m.expando]?V=t[m.expando]:(V=m.count++,t[m.expando]=V,m.events[V]={}),c=c||t;const Z=o.split(" ");let q=Z.length;for(;q--;){let Q=Z[q],ge=A,Se=!1,pe=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),m.domLoaded&&Q==="ready"&&t.readyState==="complete"){i.call(c,pi({type:Q}));continue}!m.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(Se=!0,pe=Q==="focusin"?"focus":"blur",ge=Oe=>{const He=pi(Oe||C.event);He.type=He.type==="focus"?"focusin":"focusout",m.executeHandlers(He,V)}),h=m.events[V][Q],h?Q==="ready"&&m.domLoaded?i(pi({type:Q})):h.push({func:i,scope:c}):(m.events[V][Q]=h=[{func:i,scope:c}],h.fakeName=pe,h.capture=Se,h.nativeHandler=ge,Q==="ready"?Fr(t,ge,m):Yv(t,pe||Q,ge,Se))}return t=h=null,i}unbind(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=t[this.expando];if(c){let m=this.events[c];if(o){const h=o.split(" ");let C=h.length;for(;C--;){const A=h[C],V=m[A];if(V){if(i){let Z=V.length;for(;Z--;)if(V[Z].func===i){const q=V.nativeHandler,Q=V.fakeName,ge=V.capture,Se=V.slice(0,Z).concat(V.slice(Z+1));Se.nativeHandler=q,Se.fakeName=Q,Se.capture=ge,m[A]=Se}}(!i||V.length===0)&&(delete m[A],Vd(t,V.fakeName||A,V.nativeHandler,V.capture))}}}else rs(m,(h,C)=>{Vd(t,h.fakeName||C,h.nativeHandler,h.capture)}),m={};for(const h in m)if(ao(m,h))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,i){return this.dispatch(t,o,i)}dispatch(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=pi({type:o,target:t},i);do{const m=t[this.expando];m&&this.executeHandlers(c,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||Ut(t)||ko(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let i=o.length;for(;i--;)t=o[i],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const i=this.events[o],c=i&&i[t.type];if(c)for(let m=0,h=c.length;m<h;m++){const C=c[m];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}If.Event=new If;const Ax=Xt.each,l0=Xt.grep,Ki="data-mce-style",nl=Xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),th=(e,t,o)=>{st(o)||o===""?Do(e,t):yi(e,t,o)},Nf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Hm=(e,t)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;t&&Ut(c)&&(m===i||!c.data.length)||(o++,i=m)}return o},c0=(e,t)=>{const o=ka(t,"style"),i=e.serialize(e.parse(o),qo(t));th(t,Ki,i)},TC=(e,t)=>O(e)?ao(nl,t)?e+"":e+"px":e,Tx=(e,t,o)=>{const i=Nf(t);st(o)||o===""?ru(e,i):el(e,i,TC(o,i))},$m=(e,t,o)=>{const i=t.keep_values,c={set:(h,C,A)=>{const V=Fe.fromDom(h);Le(t.url_converter)&&ke(C)&&(C=t.url_converter.call(t.url_converter_scope||o(),String(C),A,h));const Z="data-mce-"+A;th(V,Z,C),th(V,A,C)},get:(h,C)=>{const A=Fe.fromDom(h);return ka(A,"data-mce-"+C)||ka(A,C)}},m={style:{set:(h,C)=>{const A=Fe.fromDom(h);i&&th(A,Ki,C),Do(A,"style"),xe(C)&&jo(A,e.parse(C))},get:h=>{const C=Fe.fromDom(h),A=ka(C,Ki)||ka(C,"style");return e.serialize(e.parse(A),qo(C))}}};return i&&(m.href=m.src=c),m},Gs=(e,t={})=>{const o={},i=window,c={};let m=0;const h=!0,C=!0,A=X1.forElement(Fe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),V=[],Z=t.schema?t.schema:Mc({}),q=kx({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new If:If.Event,ge=Z.getBlockElements(),Se=ht=>xe(ht)?ao(ge,ht):En(ht)&&(ao(ge,ht.nodeName)||Of(Z,ht)),pe=ht=>ht&&e&&xe(ht)?e.getElementById(ht):ht,Oe=ht=>{const yt=pe(ht);return ke(yt)?Fe.fromDom(yt):null},He=(ht,yt,en="")=>{let qt;const to=Oe(ht);if(ke(to)&&$r(to)){const Qo=TO[yt];Qo&&Qo.get?qt=Qo.get(to.dom,yt):qt=ka(to,yt)}return ke(qt)?qt:en},Qe=ht=>{const yt=pe(ht);return st(yt)?[]:yt.attributes},Xe=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const to=Fe.fromDom(qt),Qo=en===""?null:en,Jr=ka(to,yt),kg=TO[yt];kg&&kg.set?kg.set(to.dom,Qo,yt):th(to,yt,Qo),Jr!==Qo&&t.onSetAttrib&&t.onSetAttrib({attrElm:to.dom,attrName:yt,attrValue:Qo})}})},dt=(ht,yt)=>ht.cloneNode(yt),Bt=()=>t.root_element||e.body,Yt=ht=>{const yt=Tc(ht);return{x:yt.x,y:yt.y,w:yt.width,h:yt.height}},pn=(ht,yt)=>ux(e.body,pe(ht),yt),kt=(ht,yt,en)=>{Pn(ht,qt=>{const to=Fe.fromDom(qt);Tx(to,yt,en),t.update_styles&&c0(q,to)})},bt=(ht,yt)=>{Pn(ht,en=>{const qt=Fe.fromDom(en);rs(yt,(to,Qo)=>{Tx(qt,Qo,to)}),t.update_styles&&c0(q,qt)})},Nt=(ht,yt,en)=>{const qt=pe(ht);if(!(st(qt)||!au(qt)&&!Bv(qt)))return en?Ur(Fe.fromDom(qt),Nf(yt)):(yt=yt.replace(/-(\D)/g,(to,Qo)=>Qo.toUpperCase()),yt==="float"&&(yt="cssFloat"),qt.style?qt.style[yt]:void 0)},Cn=ht=>{const yt=pe(ht);if(!yt)return{w:0,h:0};let en=Nt(yt,"width"),qt=Nt(yt,"height");return(!en||en.indexOf("px")===-1)&&(en="0"),(!qt||qt.indexOf("px")===-1)&&(qt="0"),{w:parseInt(en,10)||yt.offsetWidth||yt.clientWidth,h:parseInt(qt,10)||yt.offsetHeight||yt.clientHeight}},Vn=ht=>{const yt=pe(ht),en=pn(yt),qt=Cn(yt);return{x:en.x,y:en.y,w:qt.w,h:qt.h}},Io=(ht,yt)=>{if(!ht)return!1;const en=le(ht)?ht:[ht];return be(en,qt=>Ps(Fe.fromDom(qt),yt))},Vo=(ht,yt,en,qt)=>{const to=[];let Qo=pe(ht);qt=qt===void 0;const Jr=en||(Bt().nodeName!=="BODY"?Bt().parentNode:null);if(xe(yt))if(yt==="*")yt=En;else{const kg=yt;yt=DB=>Io(DB,kg)}for(;Qo&&!(Qo===Jr||st(Qo.nodeType)||Rn(Qo)||Af(Qo));){if(!yt||yt(Qo))if(qt)to.push(Qo);else return[Qo];Qo=Qo.parentNode}return qt?to:null},Rs=(ht,yt,en)=>{const qt=Vo(ht,yt,en,!1);return qt&&qt.length>0?qt[0]:null},Us=(ht,yt,en)=>{let qt=yt;if(ht){xe(yt)&&(qt=to=>Io(to,yt));for(let to=ht[en];to;to=to[en])if(Le(qt)&&qt(to))return to}return null},ci=(ht,yt)=>Us(ht,yt,"nextSibling"),kl=(ht,yt)=>Us(ht,yt,"previousSibling"),Ys=ht=>Le(ht.querySelectorAll),on=(ht,yt)=>{var en,qt;const to=(qt=(en=pe(yt))!==null&&en!==void 0?en:t.root_element)!==null&&qt!==void 0?qt:e;return Ys(to)?vo(to.querySelectorAll(ht)):[]},Pn=function(ht,yt,en){const qt=en??this;if(le(ht)){const to=[];return Ax(ht,(Qo,Jr)=>{const kg=pe(Qo);kg&&to.push(yt.call(qt,kg,Jr))}),to}else{const to=pe(ht);return to?yt.call(qt,to):!1}},ys=(ht,yt)=>{Pn(ht,en=>{rs(yt,(qt,to)=>{Xe(en,to,qt)})})},ln=(ht,yt)=>{Pn(ht,en=>{const qt=Fe.fromDom(en);Rm(qt,yt)})},Gn=(ht,yt,en,qt,to)=>Pn(ht,Qo=>{const Jr=xe(yt)?e.createElement(yt):yt;return ke(en)&&ys(Jr,en),qt&&(!xe(qt)&&qt.nodeType?Jr.appendChild(qt):xe(qt)&&ln(Jr,qt)),to?Jr:Qo.appendChild(Jr)}),Fo=(ht,yt,en)=>Gn(e.createElement(ht),ht,yt,en,!0),gn=Yg.decode,No=Yg.encodeAllRaw,$o=(ht,yt,en="")=>{let qt="<"+ht;for(const to in yt)Wl(yt,to)&&(qt+=" "+to+'="'+No(yt[to])+'"');return Wt(en)&&ao(Z.getVoidElements(),ht)?qt+" />":qt+">"+en+"</"+ht+">"},Ra=ht=>{const yt=e.createElement("div"),en=e.createDocumentFragment();en.appendChild(yt),ht&&(yt.innerHTML=ht);let qt;for(;qt=yt.firstChild;)en.appendChild(qt);return en.removeChild(yt),en},Hs=(ht,yt)=>Pn(ht,en=>{const qt=Fe.fromDom(en);return yt&&he(la(qt),to=>{ur(to)&&to.dom.length===0?Ds(to):Dr(qt,to)}),Ds(qt),qt.dom}),ba=ht=>Pn(ht,yt=>{const en=yt.attributes;for(let qt=en.length-1;qt>=0;qt--)yt.removeAttributeNode(en.item(qt))}),nm=ht=>q.parse(ht),Lh=(ht,yt)=>q.serialize(ht,yt),gc=ht=>{if(av!==Gs.DOM&&e===document){if(o[ht])return;o[ht]=!0}let yt=e.getElementById("mceDefaultStyles");if(!yt){yt=e.createElement("style"),yt.id="mceDefaultStyles",yt.type="text/css";const en=e.head;en.firstChild?en.insertBefore(yt,en.firstChild):en.appendChild(yt)}yt.styleSheet?yt.styleSheet.cssText+=ht:yt.appendChild(e.createTextNode(ht))},gd=ht=>{ht||(ht=""),he(ht.split(","),yt=>{c[yt]=!0,A.load(yt).catch(ct)})},om=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const to=Fe.fromDom(qt),Qo=yt.split(" ");he(Qo,Jr=>{ke(en)?(en?Dd:Ma)(to,Jr):np(to,Jr)})}})},hd=(ht,yt)=>{om(ht,yt,!0)},sm=(ht,yt)=>{om(ht,yt,!1)},Un=(ht,yt)=>{const en=Oe(ht),qt=yt.split(" ");return ke(en)&&Oo(qt,to=>Rd(en,to))},ls=ht=>{Pn(ht,yt=>ru(Fe.fromDom(yt),"display"))},Xr=ht=>{Pn(ht,yt=>el(Fe.fromDom(yt),"display","none"))},bi=ht=>{const yt=Oe(ht);return ke(yt)&&ff(Lr(yt,"display"),"none")},Xi=ht=>(ht||"mce_")+m++,ll=ht=>{const yt=Oe(ht);return ke(yt)?En(yt.dom)?yt.dom.outerHTML:Ug(yt):""},Li=(ht,yt)=>{Pn(ht,en=>{En(en)&&(en.outerHTML=yt)})},Fi=(ht,yt)=>{const en=pe(yt);return Pn(ht,qt=>{const to=en==null?void 0:en.parentNode,Qo=en==null?void 0:en.nextSibling;return to&&(Qo?to.insertBefore(qt,Qo):to.appendChild(qt)),qt})},hc=(ht,yt,en)=>Pn(yt,qt=>{var to;const Qo=le(yt)?ht.cloneNode(!0):ht;return en&&Ax(l0(qt.childNodes),Jr=>{Qo.appendChild(Jr)}),(to=qt.parentNode)===null||to===void 0||to.replaceChild(Qo,qt),qt}),Cg=(ht,yt)=>{if(ht.nodeName!==yt.toUpperCase()){const en=Fo(yt);return Ax(Qe(ht),qt=>{Xe(en,qt.nodeName,He(ht,qt.nodeName))}),hc(en,ht,!0),en}else return ht},_g=(ht,yt)=>{let en=ht;for(;en;){let qt=yt;for(;qt&&en!==qt;)qt=qt.parentNode;if(en===qt)break;en=en.parentNode}return!en&&ht.ownerDocument?ht.ownerDocument.documentElement:en},Sg=(ht,yt,en)=>_e(yt)?sc(Z,ht,{...en,isContent:to=>{const Qo=to.nodeName.toLowerCase();return!!yt[Qo]}}):sc(Z,ht,en),rm=()=>e.createRange(),Ty=(ht,yt,en)=>{let qt=rm(),to,Qo;if(ht&&yt&&ht.parentNode&&yt.parentNode){const Jr=ht.parentNode;return qt.setStart(Jr,Hm(ht)),qt.setEnd(yt.parentNode,Hm(yt)),to=qt.extractContents(),qt=rm(),qt.setStart(yt.parentNode,Hm(yt)+1),qt.setEnd(Jr,Hm(ht)+1),Qo=qt.extractContents(),Jr.insertBefore(mp(av,to,Z),ht),en?Jr.insertBefore(en,ht):Jr.insertBefore(yt,ht),Jr.insertBefore(mp(av,Qo,Z),ht),Hs(ht),en||yt}else return},xk=(ht,yt,en,qt)=>{if(le(ht)){let to=ht.length;const Qo=[];for(;to--;)Qo[to]=xk(ht[to],yt,en,qt);return Qo}else return t.collect&&(ht===e||ht===i)&&V.push([ht,yt,en,qt]),Q.bind(ht,yt,en,qt||av)},wk=(ht,yt,en)=>{if(le(ht)){let qt=ht.length;const to=[];for(;qt--;)to[qt]=wk(ht[qt],yt,en);return to}else{if(V.length>0&&(ht===e||ht===i)){let qt=V.length;for(;qt--;){const[to,Qo,Jr]=V[qt];ht===to&&(!yt||yt===Qo)&&(!en||en===Jr)&&Q.unbind(to,Qo,Jr)}}return Q.unbind(ht,yt,en)}},DH=(ht,yt,en)=>Q.dispatch(ht,yt,en),m1=(ht,yt,en)=>Q.dispatch(ht,yt,en),OB=ht=>{if(ht&&au(ht)){const yt=ht.getAttribute("data-mce-contenteditable");return yt&&yt!=="inherit"?yt:ht.contentEditable!=="inherit"?ht.contentEditable:null}else return null},av={doc:e,settings:t,win:i,files:c,stdMode:h,boxModel:C,styleSheetLoader:A,boundEvents:V,styles:q,schema:Z,events:Q,isBlock:Se,root:null,clone:dt,getRoot:Bt,getViewPort:Yt,getRect:Vn,getSize:Cn,getParent:Rs,getParents:Vo,get:pe,getNext:ci,getPrev:kl,select:on,is:Io,add:Gn,create:Fo,createHTML:$o,createFragment:Ra,remove:Hs,setStyle:kt,getStyle:Nt,setStyles:bt,removeAllAttribs:ba,setAttrib:Xe,setAttribs:ys,getAttrib:He,getPos:pn,parseStyle:nm,serializeStyle:Lh,addStyle:gc,loadCSS:gd,addClass:hd,removeClass:sm,hasClass:Un,toggleClass:om,show:ls,hide:Xr,isHidden:bi,uniqueId:Xi,setHTML:ln,getOuterHTML:ll,setOuterHTML:Li,decode:gn,encode:No,insertAfter:Fi,replace:hc,rename:Cg,findCommonAncestor:_g,run:Pn,getAttribs:Qe,isEmpty:Sg,createRng:rm,nodeIndex:Hm,split:Ty,bind:xk,unbind:wk,fire:m1,dispatch:DH,getContentEditable:OB,getContentEditableParent:ht=>{const yt=Bt();let en=null;for(let qt=ht;qt&&qt!==yt&&(en=OB(qt),en===null);qt=qt.parentNode);return en},isEditable:ht=>{if(ke(ht)){const yt=En(ht)?ht:ht.parentElement;return ke(yt)&&au(yt)&&_r(Fe.fromDom(yt))}else return!1},destroy:()=>{if(V.length>0){let ht=V.length;for(;ht--;){const[yt,en,qt]=V[ht];Q.unbind(yt,en,qt)}}rs(c,(ht,yt)=>{A.unload(yt),delete c[yt]})},isChildOf:(ht,yt)=>ht===yt||yt.contains(ht),dumpRng:ht=>"startContainer: "+ht.startContainer.nodeName+", startOffset: "+ht.startOffset+", endContainer: "+ht.endContainer.nodeName+", endOffset: "+ht.endOffset},TO=$m(q,t,et(av));return av};Gs.DOM=Gs(document),Gs.nodeIndex=Hm;const u0=Gs.DOM,fr=0,Xu=1,du=2,nh=3;class bl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,i)=>{const c=u0;let m;const h=()=>{c.remove(V),m&&(m.onerror=m.onload=m=null)},C=()=>{h(),o()},A=()=>{h(),i("Failed to load script: "+t)},V=c.uniqueId();m=document.createElement("script"),m.id=V,m.type="text/javascript",m.src=Xt._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=C,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===du}markDone(t){this.states[t]=du}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=fr),new Promise((c,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,i=(A,V)=>{Os(o.scriptLoadedCallbacks,V).each(Z=>{he(Z,q=>q[A](V))}),delete o.scriptLoadedCallbacks[V]},c=A=>{const V=vt(A,Z=>Z.status==="rejected");return V.length>0?Promise.reject(wo(V,({reason:Z})=>le(Z)?Z:[Z])):Promise.resolve()},m=A=>Promise.allSettled(Be(A,V=>o.states[V]===du?(i("resolve",V),Promise.resolve()):o.states[V]===nh?(i("reject",V),Promise.reject(V)):(o.states[V]=Xu,o.loadScript(V).then(()=>{o.states[V]=du,i("resolve",V);const Z=o.queue;return Z.length>0?(o.queue=[],m(Z).then(c)):Promise.resolve()},()=>(o.states[V]=nh,i("reject",V),Promise.reject(V)))))),h=A=>(o.loading=!0,m(A).then(V=>{o.loading=!1;const Z=o.queueLoadedCallbacks.shift();return J.from(Z).each(Fn),c(V)})),C=Mu(t);return o.loading?new Promise((A,V)=>{o.queueLoadedCallbacks.push(()=>{h(C).then(A,V)})}):h(C)}}bl.ScriptLoader=new bl;const fa=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Um=e=>ee(e)&&ao(e,"raw"),Xv=e=>le(e)&&e.length>1,oh={},Jv=Ri("en"),sh=()=>Os(oh,Jv.get()),Bc={getData:()=>Ul(oh,e=>({...e})),setCode:e=>{e&&Jv.set(e)},getCode:()=>Jv.get(),add:(e,t)=>{let o=oh[e];o||(oh[e]=o={});const i=Be(Kt(t),c=>c.toLowerCase());rs(t,(c,m)=>{const h=m.toLowerCase();h!==m&&fa(i,h)?(ao(t,h)||(o[h]=c),o[m]=c):o[h]=c})},translate:e=>{const t=sh().getOr({}),o=h=>Le(h)?Object.prototype.toString.call(h):i(h)?"":""+h,i=h=>h===""||h===null||h===void 0,c=h=>{const C=o(h);return ao(t,C)?o(t[C]):Os(t,C.toLowerCase()).map(o).getOr(C)},m=h=>h.replace(/{context:\w+}$/,"");if(i(e))return"";if(Um(e))return o(e.raw);if(Xv(e)){const h=e.slice(1),C=c(e[0]).replace(/\{([0-9]+)\}/g,(A,V)=>ao(h,V)?o(h[V]):A);return m(C)}return m(c(e))},isRtl:()=>sh().bind(e=>Os(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(oh,e)},ol=()=>{const e=[],t={},o={},i=[],c=(pe,Oe)=>{const He=vt(i,Qe=>Qe.name===pe&&Qe.state===Oe);he(He,Qe=>Qe.resolve())},m=pe=>ao(t,pe),h=pe=>ao(o,pe),C=pe=>{if(o[pe])return o[pe].instance},A=(pe,Oe)=>{const He=Bc.getCode(),Qe=","+(Oe||"")+",";!He||Oe&&Qe.indexOf(","+He+",")===-1||bl.ScriptLoader.add(t[pe]+"/langs/"+He+".js")},V=(pe,Oe)=>{ol.languageLoad!==!1&&(m(pe)?A(pe,Oe):Se(pe,"loaded").then(()=>A(pe,Oe)))},Z=(pe,Oe)=>(e.push(Oe),o[pe]={instance:Oe},c(pe,"added"),Oe),q=pe=>{delete t[pe],delete o[pe]},Q=(pe,Oe)=>xe(Oe)?xe(pe)?{prefix:"",resource:Oe,suffix:""}:{prefix:pe.prefix,resource:Oe,suffix:pe.suffix}:Oe,ge=(pe,Oe)=>{if(t[pe])return Promise.resolve();let He=xe(Oe)?Oe:Oe.prefix+Oe.resource+Oe.suffix;He.indexOf("/")!==0&&He.indexOf("://")===-1&&(He=ol.baseURL+"/"+He),t[pe]=He.substring(0,He.lastIndexOf("/"));const Qe=()=>(c(pe,"loaded"),Promise.resolve());return o[pe]?Qe():bl.ScriptLoader.add(He).then(Qe)},Se=(pe,Oe="added")=>Oe==="added"&&h(pe)||Oe==="loaded"&&m(pe)?Promise.resolve():new Promise(He=>{i.push({name:pe,state:Oe,resolve:He})});return{items:e,urls:t,lookup:o,get:C,requireLangPack:V,add:Z,remove:q,createUrl:Q,load:ge,waitFor:Se}};ol.languageLoad=!0,ol.baseURL="",ol.PluginManager=ol(),ol.ThemeManager=ol(),ol.ModelManager=ol();const rh=(e,t)=>{let o=null;return{cancel:()=>{Ue(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ue(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},vp=(e,t)=>{let o=null;const i=()=>{Ue(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...m)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},IC=(e,t,o)=>su(e,t,o).isSome(),Nr=et("mce-annotation"),Pr=et("data-mce-annotation"),ti=et("data-mce-annotation-uid"),Ms=et("data-mce-annotation-active"),Er=et("data-mce-annotation-classes"),Gr=et("data-mce-annotation-attrs"),d0=e=>t=>Yo(t,e),f0=(e,t)=>{const o=e.selection.getRng(),i=Fe.fromDom(o.startContainer),c=Fe.fromDom(e.getBody()),m=t.fold(()=>"."+Nr(),A=>`[${Pr()}="${A}"]`),h=Uu(i,o.startOffset).getOr(i);return Zi(h,m,d0(c)).bind(A=>Qc(A,`${ti()}`).bind(V=>Qc(A,`${Pr()}`).map(Z=>{const q=Ix(e,V);return{uid:V,name:Z,elements:q}})))},Rx=e=>$r(e)&&Rd(e,Nr()),Qv=(e,t)=>Td(e,"data-mce-bogus")||IC(e,'[data-mce-bogus="all"]',d0(t)),Ix=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=hi(o,`[${ti()}="${t}"]`);return vt(i,c=>!Qv(c,o))},ih=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=hi(o,`[${Pr()}="${t}"]`),c={};return he(i,m=>{if(!Qv(m,o)){const h=ka(m,ti()),C=Os(c,h).getOr([]);c[h]=C.concat([m])}}),c},m0=(e,t)=>{const o=Ri({}),i=()=>({listeners:[],previous:Ii()}),c=(q,Q)=>{m(q,ge=>(Q(ge),ge))},m=(q,Q)=>{const ge=o.get(),Se=Os(ge,q).getOrThunk(i),pe=Q(Se);ge[q]=pe,o.set(ge)},h=(q,Q,ge)=>{c(q,Se=>{he(Se.listeners,pe=>pe(!0,q,{uid:Q,nodes:Be(ge,Oe=>Oe.dom)}))})},C=q=>{c(q,Q=>{he(Q.listeners,ge=>ge(!1,q))})},A=(q,Q)=>{he(Ix(e,q),ge=>{Q?yi(ge,Ms(),"true"):Do(ge,Ms())})},V=vp(()=>{const q=fs(t.getNames());he(q,Q=>{m(Q,ge=>{const Se=ge.previous.get();return f0(e,J.some(Q)).fold(()=>{Se.each(pe=>{C(Q),ge.previous.clear(),A(pe,!1)})},({uid:pe,name:Oe,elements:He})=>{ff(Se,pe)||(Se.each(Qe=>A(Qe,!1)),h(Oe,pe,He),ge.previous.set(pe),A(pe,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{V.cancel()}),e.on("NodeChange",()=>{V.throttle()}),{addListener:(q,Q)=>{m(q,ge=>({previous:ge.previous,listeners:ge.listeners.concat([Q])}))}}},g0=(e,t)=>{const o=Pr(),i=m=>J.from(m.attr(o)).bind(t.lookup),c=m=>{var h,C;m.attr(ti(),null),m.attr(Pr(),null),m.attr(Ms(),null);const A=J.from(m.attr(Gr())).map(Q=>Q.split(",")).getOr([]),V=J.from(m.attr(Er())).map(Q=>Q.split(",")).getOr([]);he(A,Q=>m.attr(Q,null));const Z=(C=(h=m.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&C!==void 0?C:[],q=cs(Z,[Nr()].concat(V));m.attr("class",q.length>0?q.join(" "):null),m.attr(Er(),null),m.attr(Gr(),null)};e.serializer.addTempAttr(Ms()),e.serializer.addAttributeFilter(o,m=>{for(const h of m)i(h).each(C=>{C.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},Nx=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Os(e,c).map(m=>m.settings),getNames:()=>Kt(e)}},eb=(e,t,o)=>Math.min(Math.max(e,t),o),yl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Px=0;const za=e=>{const o=new Date().getTime(),i=Math.floor(yl()*1e9);return Px++,e+"_"+i+Px+String(o)},tb=(e,t)=>{he(t,o=>{Dd(e,o)})},ah=(e,t)=>{he(t,o=>{Ma(e,o)})},fu=(e,t)=>Fe.fromDom(e.dom.cloneNode(t)),qr=e=>fu(e,!1),Zm=e=>fu(e,!0),Mx=(e,t)=>{const o=Fe.fromTag(t),i=hl(e);return Pa(o,i),o},Bx=(e,t)=>{const o=Mx(e,t);it(e,o);const i=la(e);return ei(o,i),Ds(e),o},nb=(e,t,o=fn)=>{const i=new ca(e,t),c=m=>{let h;do h=i[m]();while(h&&!Ut(h)&&!o(h));return J.from(h).filter(Ut)};return{current:()=>J.from(i.current()).filter(Ut),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},zd=(e,t)=>{const o=t||(h=>e.isBlock(h)||pr(h)||fo(h)),i=(h,C,A,V)=>{if(Ut(h)){const Z=V(h,C,h.data);if(Z!==-1)return J.some({container:h,offset:Z})}return A().bind(Z=>i(Z.container,Z.offset,A,V))};return{backwards:(h,C,A,V)=>{const Z=nb(h,V??e.getRoot(),o);return i(h,C,()=>Z.prev().map(q=>({container:q,offset:q.length})),A).getOrNull()},forwards:(h,C,A,V)=>{const Z=nb(h,V??e.getRoot(),o);return i(h,C,()=>Z.next().map(q=>({container:q,offset:0})),A).getOrNull()}}},ob=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return i(m).getOr("")},i=m=>e(m)?J.from(m.dom.nodeValue):J.none();return{get:o,getOption:i,set:(m,h)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=h}}})(ur,"text"),jm=e=>ob.get(e),NC=e=>ob.getOption(e),sb=(e,t)=>ob.set(e,t),rb=["td","th"],h0=["thead","tbody","tfoot"],bp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],p0=["li","dd","dt"],Ha=["ul","ol","dl"],Lx=["pre","script","textarea","style"],Hd=e=>{let t;return o=>(t=t||ar(e,_n),ao(t,qo(o)))},ib=e=>qo(e)==="table",Ju=e=>$r(e)&&qo(e)==="br",ab=Hd(bp),lb=Hd(Ha),Km=Hd(p0),lh=Hd(h0),Lc=Hd(rb),cb=Hd(Lx),vE=e=>{const t=[];let o=e.dom;for(;o;)t.push(Fe.fromDom(o)),o=o.lastChild;return t},ic=e=>{const t=hi(e,"br"),o=vt(vE(e).slice(-1),Ju);t.length===o.length&&he(o,Ds)},$d=()=>{const e=Fe.fromTag("br");return yi(e,"data-mce-bogus","1"),e},Fc=e=>{Qs(e),Wr(e,$d())},Fx=(e,t)=>{Wu(e).each(o=>{xi(o).each(i=>{t.isBlock(qo(e))&&Ju(o)&&t.isBlock(qo(i))&&Ds(o)})})},Ci=Rr,Vc=Gu,xl=rp,bE=e=>e.insertContent(Ci,{preserve_zwsp:!0}),Pf=En,Ud=Ut,yp=e=>(Ud(e)&&(e=e.parentNode),Pf(e)&&e.hasAttribute("data-mce-caret")),Gm=e=>Ud(e)&&Vc(e.data),Kl=e=>yp(e)||Gm(e),v0=e=>e.firstChild!==e.lastChild||!pr(e.firstChild),b0=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ci),m=e.parentNode;if(t){const h=e.previousSibling;if(Ud(h)){if(Kl(h))return h;if(Wd(h))return h.splitText(h.data.length-1)}m==null||m.insertBefore(c,e)}else{const h=e.nextSibling;if(Ud(h)){if(Kl(h))return h;if(db(h))return h.splitText(1),h}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},ub=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset())===Ci||e.isAtStart()&&Gm(t.previousSibling):!1},y0=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset()-1)===Ci||e.isAtEnd()&&Gm(t.nextSibling):!1},PC=(e,t,o)=>{var i;const m=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild($d().dom);const h=t.parentNode;return o?h==null||h.insertBefore(m,t):t.nextSibling?h==null||h.insertBefore(m,t.nextSibling):h==null||h.appendChild(m),m},db=e=>Ud(e)&&e.data[0]===Ci,Wd=e=>Ud(e)&&e.data[e.data.length-1]===Ci,fb=e=>{var t;const o=e.getElementsByTagName("br"),i=o[o.length-1];kf(i)&&((t=i.parentNode)===null||t===void 0||t.removeChild(i))},ch=e=>e&&e.hasAttribute("data-mce-caret")?(fb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,uh=e=>yp(e.startContainer),Mf=Math.round,Bf=e=>e?{left:Mf(e.left),top:Mf(e.top),bottom:Mf(e.bottom),right:Mf(e.right),width:Mf(e.width),height:Mf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mb=(e,t)=>(e=Bf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Lf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Ff=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Vf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Ff(t.top-e.bottom,e,t)},dh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Ff(t.bottom-e.top,e,t),x0=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,xp=e=>Vt(e,(t,o)=>t.fold(()=>J.some(o),i=>{const c=Math.min(o.left,i.left),m=Math.min(o.top,i.top),h=Math.max(o.right,i.right),C=Math.max(o.bottom,i.bottom);return J.some({top:m,right:h,bottom:C,left:c,width:h-c,height:C-m})}),J.none()),w0=(e,t,o)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(o-c)*(o-c))},Vx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),wp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},_i=(e,t)=>{if(En(e)&&e.hasChildNodes()){const o=e.childNodes,i=eb(t,0,o.length-1);return o[i]}else return e},zx=(e,t)=>{if(!(t<0&&En(e)&&e.hasChildNodes()))return _i(e,t)},MC=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Hx=e=>xe(e)&&e.charCodeAt(0)>=768&&MC.test(e),$x=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},zf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},C0=Rc,gb=fo,Ux=pr,yE=Ut,Hf=ua(["script","style","textarea"]),hb=ua(["img","input","textarea","hr","iframe","video","audio","object","embed"]),BC=ua(["table"]),LC=Kl,mu=e=>LC(e)?!1:yE(e)?!Hf(e.parentNode):hb(e)||Ux(e)||BC(e)||_0(e),Wx=e=>En(e)&&e.getAttribute("unselectable")==="true",_0=e=>!Wx(e)&&gb(e),FC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(_0(o))return!1;if(C0(o))return!0}return!0},fh=e=>_0(e)?!Vt(vo(e.getElementsByTagName("*")),(t,o)=>t||C0(o),!1):!1,Cp=e=>hb(e)||fh(e),pb=(e,t)=>mu(e)&&FC(e,t),VC=En,gu=mu,qm=Oc("display","block table"),vb=Oc("float","left right"),bb=zf(VC,gu,Ye(vb)),S0=Ye(Oc("white-space","pre pre-line pre-wrap")),yb=Ut,ga=pr,k0=Gs.nodeIndex,Ym=zx,Xm=e=>e?e.createRange():Gs.DOM.createRng(),xb=e=>xe(e)&&/[\r\n\t ]/.test(e),E0=e=>!!e.setStart&&!!e.setEnd,mh=e=>{const t=e.startContainer,o=e.startOffset;if(xb(e.toString())&&S0(t.parentNode)&&Ut(t)){const i=t.data;if(xb(i[o-1])||xb(i[o+1]))return!0}return!1},$f=e=>{const t=e.ownerDocument,o=Xm(t),i=t.createTextNode(Di),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const m=Bf(o.getBoundingClientRect());return c.removeChild(i),m},Zx=e=>{const t=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(t===o&&Ut(o)&&i===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),sl(m)}else return null},A0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,sl=e=>{var t;let o;const i=e.getClientRects();return i.length>0?o=Bf(i[0]):o=Bf(e.getBoundingClientRect()),!E0(e)&&ga(e)&&A0(o)?$f(e):A0(o)&&E0(e)&&(t=Zx(e))!==null&&t!==void 0?t:o},Uf=(e,t)=>{const o=mb(e,t);return o.width=1,o.right=o.left+1,o},jx=e=>{const t=[],o=h=>{h.height!==0&&(t.length>0&&Lf(h,t[t.length-1])||t.push(h))},i=(h,C)=>{const A=Xm(h.ownerDocument);if(C<h.data.length){if(Hx(h.data[C]))return;if(Hx(h.data[C-1])&&(A.setStart(h,C),A.setEnd(h,C+1),!mh(A))){o(Uf(sl(A),!1));return}}C>0&&(A.setStart(h,C-1),A.setEnd(h,C),mh(A)||o(Uf(sl(A),!1))),C<h.data.length&&(A.setStart(h,C),A.setEnd(h,C+1),mh(A)||o(Uf(sl(A),!0)))},c=e.container(),m=e.offset();if(yb(c))return i(c,m),t;if(VC(c))if(e.isAtEnd()){const h=Ym(c,m);yb(h)&&i(h,h.data.length),bb(h)&&!ga(h)&&o(Uf(sl(h),!1))}else{const h=Ym(c,m);if(yb(h)&&i(h,0),bb(h)&&e.isAtEnd())return o(Uf(sl(h),!1)),t;const C=Ym(e.container(),e.offset()-1);bb(C)&&!ga(C)&&(qm(C)||qm(h)||!bb(h))&&o(Uf(sl(C),!1)),bb(h)&&o(Uf(sl(h),!0))}return t},xt=(e,t,o)=>{const i=()=>(yb(e),t===0),c=()=>yb(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const Z=Xm(e.ownerDocument);return Z.setStart(e,t),Z.setEnd(e,t),Z},h=()=>(o||(o=jx(xt(e,t))),o),C=()=>h().length>0,A=Z=>Z&&e===Z.container()&&t===Z.offset(),V=Z=>Ym(e,Z?t-1:t);return{container:et(e),offset:et(t),toRange:m,getClientRects:h,isVisible:C,isAtStart:i,isAtEnd:c,isEqual:A,getNode:V}};xt.fromRangeStart=e=>xt(e.startContainer,e.startOffset),xt.fromRangeEnd=e=>xt(e.endContainer,e.endOffset),xt.after=e=>xt(e.parentNode,k0(e)+1),xt.before=e=>xt(e.parentNode,k0(e)),xt.isAbove=(e,t)=>sa(hn(t.getClientRects()),Eo(e.getClientRects()),Vf).getOr(!1),xt.isBelow=(e,t)=>sa(Eo(t.getClientRects()),hn(e.getClientRects()),dh).getOr(!1),xt.isAtStart=e=>e?e.isAtStart():!1,xt.isAtEnd=e=>e?e.isAtEnd():!1,xt.isTextPosition=e=>e?Ut(e.container()):!1,xt.isElementPosition=e=>!xt.isTextPosition(e);const _p=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},xE=(e,t,o)=>{t.insertNode(o),_p(e,o.previousSibling),_p(e,o.nextSibling)},zC=(e,t,o)=>{const i=J.from(o.firstChild),c=J.from(o.lastChild);t.insertNode(o),i.each(m=>_p(e,m.previousSibling)),c.each(m=>_p(e,m.nextSibling))},T0=(e,t,o)=>{Af(o)?zC(e,t,o):xE(e,t,o)},hu=Ut,O0=kf,wb=Gs.nodeIndex,Kx=e=>{const t=e.parentNode;return O0(t)?Kx(t):t},Gx=e=>e?dl(e.childNodes,(t,o)=>(O0(o)&&o.nodeName!=="BR"?t=t.concat(Gx(o)):t.push(o),t),[]):[],wE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&hu(o);)t+=o.data.length;return t},y=e=>t=>e===t,_=e=>{let t,o;t=Gx(Kx(e)),o=lr(t,y(e),e),t=t.slice(0,o+1);const i=dl(t,(c,m,h)=>(hu(m)&&hu(t[h-1])&&c++,c),0);return t=Ga(t,ua([e.nodeName])),o=lr(t,y(e),e),o-i},T=e=>(hu(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",B=(e,t,o)=>{const i=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},H=(e,t)=>{let o=[],i=t.container(),c=t.offset(),m;if(hu(i))m=wE(i,c);else{const C=i.childNodes;c>=C.length?(m="after",c=C.length-1):m="before",i=C[c]}o.push(T(i));let h=B(e,i);return h=Ga(h,Ye(kf)),o=o.concat(xm(h,C=>T(C))),o.reverse().join("/")+","+m},U=(e,t,o)=>{let i=Gx(e);return i=Ga(i,(c,m)=>!hu(c)||!hu(i[m-1])),i=Ga(i,ua([t])),i[o]},te=(e,t)=>{let o=e,i=0;for(;hu(o);){const c=o.data.length;if(t>=i&&t<=i+c){e=o,t=t-i;break}if(!hu(o.nextSibling)){e=o,t=c;break}i+=c,o=o.nextSibling}return hu(e)&&t>e.data.length&&(t=e.data.length),xt(e,t)},ie=(e,t)=>{if(!t)return null;const o=t.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",m=dl(i,(h,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(h,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!hu(m)&&m.parentNode){let h;return c==="after"?h=wb(m)+1:h=wb(m),xt(m.parentNode,h)}return te(m,parseInt(c,10))},ye=fo,Ie=(e,t,o)=>{let i=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&Ut(c);c=c.previousSibling)i+=e(c.data).length;return i},Ze=(e,t,o,i,c)=>{const m=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const C=[],A=e.getRoot();if(Ut(m))C.push(o?Ie(t,m,h):h);else{let V=0;const Z=m.childNodes;h>=Z.length&&Z.length&&(V=1,h=Math.max(0,Z.length-1)),C.push(e.nodeIndex(Z[h],o)+V)}for(let V=m;V&&V!==A;V=V.parentNode)C.push(e.nodeIndex(V,o));return C},De=(e,t,o,i)=>{const c=t.dom,m=Ze(c,e,o,i,!0),h=t.isForward(),C=uh(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:h,...C};{const A=Ze(c,e,o,i,!1);return{start:m,end:A,forward:h,...C}}},Pe=(e,t,o)=>{let i=0;return Xt.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},Ve=(e,t)=>{let o=t?e.startContainer:e.endContainer,i=t?e.startOffset:e.endOffset;if(En(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?i:i-1,c.length-1)],o&&(i=t?0:o.childNodes.length,t?e.setStart(o,i):e.setEnd(o,i))}},rt=e=>(Ve(e,!0),Ve(e,!1),e),at=(e,t)=>{if(En(e)&&(e=_i(e,t),ye(e)))return e;if(Kl(e)){Ut(e)&&yp(e)&&(e=e.parentNode);let o=e.previousSibling;if(ye(o)||(o=e.nextSibling,ye(o)))return o}},Tt=e=>at(e.startContainer,e.startOffset)||at(e.endContainer,e.endOffset),Rt=(e,t,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||ye(i)){const h=i.nodeName;return{name:h,index:Pe(o.dom,h,i)}}const m=Tt(c);if(m){const h=m.tagName;return{name:h,index:Pe(o.dom,h,m)}}return De(e,o,t,c)},At=e=>{const t=e.getRng();return{start:H(e.dom.getRoot(),xt.fromRangeStart(t)),end:H(e.dom.getRoot(),xt.fromRangeEnd(t)),forward:e.isForward()}},Pt=e=>({rng:e.getRng(),forward:e.isForward()}),Gt=(e,t,o)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Qt=(e,t)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),h=e.getNode(),C=h.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Pe(o,C,h)};const V=rt(i.cloneRange());if(!m){V.collapse(!1);const q=Gt(o,c+"_end",t);T0(o,V,q)}i=rt(i),i.collapse(!0);const Z=Gt(o,c+"_start",t);return T0(o,i,Z),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},lt=(e,t,o=!1)=>t===2?Rt(xl,o,e):t===3?At(e):t?Pt(e):Qt(e,!1),yn=tt(Rt,pt,!0),Yn=e=>{const t=m=>m(e),o=et(e),i=()=>c,c={tag:!0,inner:e,fold:(m,h)=>h(e),isValue:_n,isError:fn,map:m=>Xn.value(m(e)),mapError:i,bind:t,exists:t,forall:t,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:m=>{m(e)},toOptional:()=>J.some(e)};return c},yo=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:fn,isError:_n,map:t,mapError:i=>Xn.error(i(e)),bind:t,exists:fn,forall:_n,getOr:pt,or:pt,getOrThunk:oo,orThunk:oo,getOrDie:Mt(String(e)),each:ct,toOptional:J.none};return o},Xn={value:Yn,error:yo,fromOption:(e,t)=>e.fold(()=>yo(t),Yn)},Ko={generate:e=>{if(!le(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return he(e,(i,c)=>{const m=Kt(i);if(m.length!==1)throw new Error("one and only one name per case");const h=m[0],C=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!le(C))throw new Error("case arguments must be an array");t.push(h),o[h]=(...A)=>{const V=A.length;if(V!==C.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+C.length+" ("+C+"), got "+V);return{fold:(...q)=>{if(q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+q.length);return q[c].apply(null,A)},match:q=>{const Q=Kt(q);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!Oo(t,Se=>ae(Q,Se)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return q[h].apply(null,A)},log:q=>{console.log(q,{constructors:t,constructor:h,params:A})}}}}),o}};Ko.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ni=e=>{const t=[],o=[];return he(e,i=>{i.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Ta=e=>e.type==="inline-command"||e.type==="inline-format",Gi=e=>e.type==="block-command"||e.type==="block-format",ac=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Jm=e=>{var t;const o=c=>Xn.error({message:c,pattern:e}),i=(c,m,h)=>{if(e.format!==void 0){let C;if(le(e.format)){if(!Oo(e.format,xe))return o(c+" pattern has non-string items in the `format` array");C=e.format}else if(xe(e.format))C=[e.format];else return o(c+" pattern has non-string `format` parameter");return Xn.value(m(C))}else return e.cmd!==void 0?xe(e.cmd)?Xn.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!ee(e))return o("Raw pattern is not an object");if(!xe(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!xe(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:m,format:h}),(h,C)=>({type:"inline-command",start:c,end:m,cmd:h,value:C}))}else{if(e.replacement!==void 0)return xe(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Xn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,h)=>({type:"block-command",start:e.start,cmd:m,value:h,trigger:c}))}}},Oa=e=>vt(e,Gi),Qu=e=>vt(e,Ta),Sp=(e,t)=>({inlinePatterns:Qu(e),blockPatterns:Oa(e),dynamicPatternsLookup:t}),Wf=(e,t)=>({...e,blockPatterns:vt(e.blockPatterns,o=>ac(o,t))}),kp=e=>{const t=ni(Be(e,Jm));return he(t.errors,o=>console.error(o.message,o.pattern)),t.values},D0=e=>t=>{const o=e(t);return kp(o)},Zf=na().deviceType,HC=Zf.isTouch(),w8=Gs.DOM,C8=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Vt(t,(o,i)=>{const c=i.split("="),m=c[0],h=c.length>1?c[1]:m;return o[Ne(m)]=Ne(h),o},{})},LD=e=>Me(e,RegExp),xn=e=>t=>t.options.get(e),qx=e=>xe(e)||ee(e),CE=(e,t="")=>o=>{const i=xe(o);if(i)if(o.indexOf("=")!==-1){const c=C8(o);return{value:Os(c,e.id).getOr(t),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},$C=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:CE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:CE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const i=xe(o)&&Je(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const i=ae(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>We(o)?{valid:!0,value:o}:xe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const i=o===!1||xe(o)||Ke(o,xe);return i?xe(o)?{value:Be(o.split(","),Ne),valid:i}:le(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Cb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const i=xe(o)||Ke(o,xe);return i?{value:le(o)?o:Be(o.split(","),Ne),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const i=We(o)||xe(o);return i?o===!1||Zf.isiPhone()||Zf.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!HC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||xe(o)||Le(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const i=o===!1||xe(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:qx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:qx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:qx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:qx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>xe(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Ke(o,ee)||o===!1?{value:kp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Le(o)?{value:D0(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Ke(o,LD)?{value:o,valid:!0}:LD(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const i=ae(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const i=ae(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Bc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:w8.getAttrib(e.getElement(),"placeholder")})})},wl=xn("iframe_attrs"),Zd=xn("doctype"),pu=xn("document_base_url"),UC=xn("body_id"),_E=xn("body_class"),FD=xn("content_security_policy"),SE=xn("br_in_pre"),rl=xn("forced_root_block"),Yx=xn("forced_root_block_attrs"),kE=xn("newline_behavior"),VD=xn("br_newline_selector"),zD=xn("no_newline_selector"),EE=xn("keep_styles"),AE=xn("end_container_on_empty_block"),qs=xn("automatic_uploads"),gh=xn("images_reuse_filename"),HD=xn("images_replace_blob_uris"),TE=xn("icons"),$D=xn("icons_url"),OE=xn("images_upload_url"),UD=xn("images_upload_base_path"),DE=xn("images_upload_credentials"),_8=xn("images_upload_handler"),WD=xn("content_css_cors"),Xx=xn("referrer_policy"),RE=xn("language"),S8=xn("language_url"),ZD=xn("indent_use_margin"),vu=xn("indentation"),Bl=xn("content_css"),R0=xn("content_style"),jD=xn("font_css"),k8=xn("directionality"),ns=xn("inline_boundaries_selector"),KD=xn("object_resizing"),GD=xn("resize_img_proportional"),IE=xn("placeholder"),qD=xn("event_root"),E8=xn("service_message"),I0=xn("theme"),A8=xn("theme_url"),Jx=xn("model"),NE=xn("model_url"),N0=xn("inline_boundaries"),T8=xn("formats"),O8=xn("preview_styles"),D8=xn("format_empty_lines"),ro=xn("format_noneditable_selector"),YD=xn("custom_ui_selector"),Cb=xn("inline"),PE=xn("hidden_input"),XD=xn("submit_patch"),JD=xn("add_form_submit_trigger"),QD=xn("add_unload_trigger"),e5=xn("custom_undo_redo_levels"),R8=xn("disable_nodechange"),t5=xn("readonly"),Ss=xn("editable_root"),n5=xn("content_css_cors"),jd=xn("plugins"),Qm=xn("external_plugins"),WC=xn("block_unsupported_drop"),zc=xn("visual"),ZC=xn("visual_table_class"),P0=xn("visual_anchor_class"),Qx=xn("iframe_aria_text"),M0=xn("setup"),I8=xn("init_instance_callback"),N8=xn("urlconverter_callback"),P8=xn("auto_focus"),M8=xn("browser_spellcheck"),as=xn("protect"),jf=xn("paste_block_drop"),eg=xn("paste_data_images"),B8=xn("paste_preprocess"),e2=xn("paste_postprocess"),ms=xn("newdocument_content"),o5=xn("paste_webkit_styles"),ME=xn("paste_remove_styles_if_webkit"),L8=xn("paste_merge_formats"),_b=xn("smart_paste"),Sb=xn("paste_as_text"),s5=xn("paste_tab_spaces"),F8=xn("allow_html_data_urls"),V8=xn("text_patterns"),t2=xn("text_patterns_lookup"),kb=xn("noneditable_class"),z8=xn("editable_class"),r5=xn("noneditable_regexp"),H8=xn("preserve_cdata"),i5=xn("highlight_on_focus"),a5=xn("xss_sanitization"),l5=xn("init_content_sync"),BE=e=>e.options.isSet("text_patterns_lookup"),LE=e=>Xt.explode(e.options.get("font_size_style_values")),FE=e=>Xt.explode(e.options.get("font_size_classes")),c5=e=>e.options.get("encoding")==="xml",VE=e=>Xt.explode(e.options.get("images_file_types")),u5=xn("table_tab_navigation"),jC=xn("details_initial_state"),d5=xn("details_serialized_state"),zE=xn("sandbox_iframes"),KC=e=>e.options.get("sandbox_iframes_exclusions"),f5=xn("convert_unsafe_embeds"),m5=xn("license_key"),g5=xn("api_key"),$8=En,h5=Ut,n2=e=>{const t=e.parentNode;t&&t.removeChild(e)},HE=e=>{const t=xl(e);return{count:e.length-t.length,text:t}},$E=e=>{let t;for(;(t=e.data.lastIndexOf(Ci))!==-1;)e.deleteData(t,1)},UE=(e,t)=>(Ep(e),t),U8=(e,t)=>{const o=HE(e.data.substr(0,t.offset())),i=HE(e.data.substr(t.offset()));return(o.text+i.text).length>0?($E(e),xt(e,t.offset()-o.count)):t},W8=(e,t)=>{const o=t.container(),i=je(vo(o.childNodes),e).map(c=>c<t.offset()?xt(o,t.offset()-1):t).getOr(t);return Ep(e),i},Z8=(e,t)=>h5(e)&&t.container()===e?U8(e,t):UE(e,t),j8=(e,t)=>t.container()===e.parentNode?W8(e,t):UE(e,t),K8=(e,t)=>xt.isTextPosition(t)?Z8(e,t):j8(e,t),Ep=e=>{$8(e)&&Kl(e)&&(v0(e)?e.removeAttribute("data-mce-caret"):n2(e)),h5(e)&&($E(e),e.data.length===0&&n2(e))},p5=fo,GC=St,G8=lp,WE="*[contentEditable=false],video,audio,embed,object",v5=(e,t,o)=>{const i=mb(t.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;c=e.scrollLeft||C.scrollLeft,m=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();c=e.scrollLeft-C.left,m=e.scrollTop-C.top}i.left+=c,i.right+=c,i.top+=m,i.bottom+=m,i.width=1;let h=t.offsetWidth-t.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},b5=e=>{var t,o;const i=hi(Fe.fromDom(e),WE);for(let c=0;c<i.length;c++){const m=i[c].dom;let h=m.previousSibling;if(Wd(h)){const C=h.data;C.length===1?(t=h.parentNode)===null||t===void 0||t.removeChild(h):h.deleteData(C.length-1,1)}h=m.nextSibling,db(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},y5=(e,t,o,i)=>{const c=Ii();let m,h;const C=rl(e),A=e.dom,V=(pe,Oe)=>{let He;if(Z(),G8(Oe))return null;if(o(Oe)){const Qe=PC(C,Oe,pe),Xe=v5(t,Oe,pe);A.setStyle(Qe,"top",Xe.top),A.setStyle(Qe,"caret-color","transparent"),h=Qe;const dt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(dt,{...Xe}),A.add(t,dt),c.set({caret:dt,element:Oe,before:pe}),pe&&A.addClass(dt,"mce-visual-caret-before"),q(),He=Oe.ownerDocument.createRange(),He.setStart(Qe,0),He.setEnd(Qe,0)}else return h=b0(Oe,pe),He=Oe.ownerDocument.createRange(),o2(h.nextSibling)?(He.setStart(h,0),He.setEnd(h,0)):(He.setStart(h,1),He.setEnd(h,1)),He;return He},Z=()=>{b5(t),h&&(Ep(h),h=null),c.on(pe=>{A.remove(pe.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},q=()=>{m=setInterval(()=>{c.on(pe=>{i()?A.toggleClass(pe.caret,"mce-visual-caret-hidden"):A.addClass(pe.caret,"mce-visual-caret-hidden")})},500)};return{show:V,hide:Z,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(pe=>{const Oe=v5(t,pe.element,pe.before);A.setStyles(pe.caret,{...Oe})})},destroy:()=>clearInterval(m)}},ZE=()=>Mo.browser.isFirefox(),o2=e=>p5(e)||GC(e),s2=e=>(o2(e)||lu(e)&&ZE())&&yf(Fe.fromDom(e)).exists(_r),qC=Rc,YC=fo,x5=St,jE=Oc("display","block table table-cell table-caption list-item"),KE=Kl,w5=yp,q8=En,XC=Ut,C5=mu,Eb=e=>e>0,Ab=e=>e<0,JC=(e,t)=>{let o;for(;o=e(t);)if(!w5(o))return o;return null},r2=(e,t,o,i,c)=>{const m=new ca(e,i),h=YC(e)||w5(e);let C;if(Ab(t)){if(h&&(C=JC(m.prev.bind(m),!0),o(C)))return C;for(;C=JC(m.prev.bind(m),c);)if(o(C))return C}if(Eb(t)){if(h&&(C=JC(m.next.bind(m),!0),o(C)))return C;for(;C=JC(m.next.bind(m),c);)if(o(C))return C}return null},Y8=(e,t)=>{const o=c=>qC(c.dom),i=c=>c.dom===t;return Qa(Fe.fromDom(e),o,i).map(c=>c.dom).getOr(t)},Ap=(e,t)=>{for(;e&&e!==t;){if(jE(e))return e;e=e.parentNode}return null},tg=(e,t,o)=>Ap(e.container(),o)===Ap(t.container(),o),QC=(e,t)=>{if(!t)return J.none();const o=t.container(),i=t.offset();return q8(o)?J.from(o.childNodes[i+e]):J.none()},_5=(e,t)=>{var o;const c=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)),c},S5=(e,t,o)=>Ap(t,e)===Ap(o,e),GE=(e,t,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let m=c[i];if(m&&KE(m)&&(m=m[i]),YC(m)||x5(m)){if(S5(t,m,c))return m;break}if(C5(m))break;c=c.parentNode}return null},i2=tt(_5,!0),a2=tt(_5,!1),qE=(e,t,o)=>{let i;const c=tt(GE,!0,t),m=tt(GE,!1,t),h=o.startContainer,C=o.startOffset;if(yp(h)){const A=XC(h)?h.parentNode:h,V=A.getAttribute("data-mce-caret");if(V==="before"&&(i=A.nextSibling,s2(i)))return i2(i);if(V==="after"&&(i=A.previousSibling,s2(i)))return a2(i)}if(!o.collapsed)return o;if(Ut(h)){if(KE(h)){if(e===1){if(i=m(h),i)return i2(i);if(i=c(h),i)return a2(i)}if(e===-1){if(i=c(h),i)return a2(i);if(i=m(h),i)return i2(i)}return o}if(Wd(h)&&C>=h.data.length-1)return e===1&&(i=m(h),i)?i2(i):o;if(db(h)&&C<=1)return e===-1&&(i=c(h),i)?a2(i):o;if(C===h.data.length)return i=m(h),i?i2(i):o;if(C===0)return i=c(h),i?a2(i):o}return o},k5=(e,t)=>QC(e?0:-1,t).filter(YC),l2=(e,t,o)=>{const i=qE(e,t,o);return e===-1?xt.fromRangeStart(i):xt.fromRangeEnd(i)},e_=e=>J.from(e.getNode()).map(Fe.fromDom),X8=e=>J.from(e.getNode(!0)).map(Fe.fromDom),YE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},t_=(e,t)=>{const o=tg(e,t);return!o&&pr(e.getNode())?!0:o};var $a;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($a||($a={}));const J8=fo,ng=Ut,E5=En,Nn=pr,Tb=mu,XE=Cp,n_=pb,JE=(e,t)=>{const o=[];let i=e;for(;i&&i!==t;)o.push(i),i=i.parentNode;return o},A5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,c2=(e,t)=>{if(Eb(e)){if(Tb(t.previousSibling)&&!ng(t.previousSibling))return xt.before(t);if(ng(t))return xt(t,0)}if(Ab(e)){if(Tb(t.nextSibling)&&!ng(t.nextSibling))return xt.after(t);if(ng(t))return xt(t,t.data.length)}return Ab(e)?Nn(t)?xt.before(t):xt.after(t):xt.before(t)},T5=(e,t)=>{const o=t.nextSibling;return o&&Tb(o)?ng(o)?xt(o,0):xt.before(o):QE($a.Forwards,xt.after(t),e)},QE=(e,t,o)=>{let i,c,m,h;if(!E5(o)||!t)return null;if(t.isEqual(xt.after(o))&&o.lastChild){if(h=xt.after(o.lastChild),Ab(e)&&Tb(o.lastChild)&&E5(o.lastChild))return Nn(o.lastChild)?xt.before(o.lastChild):h}else h=t;const C=h.container();let A=h.offset();if(ng(C)){if(Ab(e)&&A>0)return xt(C,--A);if(Eb(e)&&A<C.length)return xt(C,++A);i=C}else{if(Ab(e)&&A>0&&(c=A5(C,A-1),Tb(c)))return!XE(c)&&(m=r2(c,e,n_,c),m)?ng(m)?xt(m,m.data.length):xt.after(m):ng(c)?xt(c,c.data.length):xt.before(c);if(Eb(e)&&A<C.childNodes.length&&(c=A5(C,A),Tb(c)))return Nn(c)?T5(o,c):!XE(c)&&(m=r2(c,e,n_,c),m)?ng(m)?xt(m,0):xt.before(m):ng(c)?xt(c,0):xt.after(c);i=c||h.getNode()}if(i&&(Eb(e)&&h.isAtEnd()||Ab(e)&&h.isAtStart())&&(i=r2(i,e,_n,o,!0),n_(i,o)))return c2(e,i);c=i&&r2(i,e,n_,o);const V=Ca(vt(JE(C,o),J8));return V&&(!c||!V.contains(c))?(Eb(e)?h=xt.after(V):h=xt.before(V),h):c?c2(e,c):null},Kn=e=>({next:t=>QE($a.Forwards,t,e),prev:t=>QE($a.Backwards,t,e)}),Co=(e,t,o)=>{const i=e?xt.before(o):xt.after(o);return bu(e,t,i)},O5=e=>pr(e)?xt.before(e):xt.after(e),D5=e=>xt.isTextPosition(e)?e.offset()===0:mu(e.getNode()),R5=e=>{if(xt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return mu(e.getNode(!0))},I5=(e,t)=>!xt.isTextPosition(e)&&!xt.isTextPosition(t)&&e.getNode()===t.getNode(!0),no=e=>!xt.isTextPosition(e)&&pr(e.getNode()),u2=(e,t,o)=>e?!I5(t,o)&&!no(t)&&R5(t)&&D5(o):!I5(o,t)&&D5(t)&&R5(o),bu=(e,t,o)=>{const i=Kn(t);return J.from(e?i.next(o):i.prev(o))},Ob=(e,t,o)=>bu(e,t,o).bind(i=>tg(o,i,t)&&u2(e,o,i)?bu(e,t,i):J.some(i)),N5=(e,t,o,i)=>Ob(e,t,o).bind(c=>i(c)?N5(e,t,c,i):J.some(c)),B0=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Ut(o)?J.some(xt(o,e?0:o.data.length)):o?mu(o)?J.some(e?xt.before(o):O5(o)):Co(e,t,o):J.none()},Gl=tt(bu,!0),Hc=tt(bu,!1),Jn=tt(B0,!0),ed=tt(B0,!1),L0="_mce_caret",yu=e=>En(e)&&e.id===L0,Tp=(e,t)=>{let o=t;for(;o&&o!==e;){if(yu(o))return o;o=o.parentNode}return null},P5=e=>xe(e.start),M5=e=>ao(e,"rng"),B5=e=>ao(e,"id"),eA=e=>ao(e,"name"),L5=e=>Xt.isArray(e.start),o_=e=>!eA(e)&&We(e.forward)?e.forward:!0,F5=(e,t)=>(En(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Q8=(e,t)=>{const o=J.from(ie(e.getRoot(),t.start)),i=J.from(ie(e.getRoot(),t.end));return sa(o,i,(c,m)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(m.container(),m.offset()),{range:h,forward:o_(t)}})},eF=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ci);e.appendChild(c),t.setStart(c,0),t.setEnd(c,0)},tA=e=>!e.hasChildNodes(),nA=(e,t)=>ed(e).fold(fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),V5=(e,t,o)=>tA(t)&&Tp(e,t)?(eF(t,o),!0):!1,z5=(e,t,o,i)=>{const c=o[t?"start":"end"],m=e.getRoot();if(c){let h=m,C=c[0];for(let A=c.length-1;h&&A>=1;A--){const V=h.childNodes;if(V5(m,h,i))return!0;if(c[A]>V.length-1)return V5(m,h,i)?!0:nA(h,i);h=V[c[A]]}Ut(h)&&(C=Math.min(c[0],h.data.length)),En(h)&&(C=Math.min(c[0],h.childNodes.length)),t?i.setStart(h,C):i.setEnd(h,C)}return!0},oA=e=>Ut(e)&&e.data.length>0,H5=(e,t,o)=>{const i=e.get(o.id+"_"+t),c=i==null?void 0:i.parentNode,m=o.keep;if(i&&c){let h,C;if(t==="start"?m?i.hasChildNodes()?(h=i.firstChild,C=1):oA(i.nextSibling)?(h=i.nextSibling,C=0):oA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)+1):(h=c,C=e.nodeIndex(i)):m?i.hasChildNodes()?(h=i.firstChild,C=1):oA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)):(h=c,C=e.nodeIndex(i)),!m){const A=i.previousSibling,V=i.nextSibling;Xt.each(Xt.grep(i.childNodes),q=>{Ut(q)&&(q.data=q.data.replace(/\uFEFF/g,""))});let Z;for(;Z=e.get(o.id+"_"+t);)e.remove(Z,!0);if(Ut(V)&&Ut(A)&&!Mo.browser.isOpera()){const q=A.data.length;A.appendData(V.data),e.remove(V),h=A,C=q}}return J.some(xt(h,C))}else return J.none()},$5=(e,t)=>{const o=e.createRng();return z5(e,!0,t,o)&&z5(e,!1,t,o)?J.some({range:o,forward:o_(t)}):J.none()},Db=(e,t)=>{const o=H5(e,"start",t),i=H5(e,"end",t);return sa(o,i.or(o),(c,m)=>{const h=e.createRng();return h.setStart(F5(e,c.container()),c.offset()),h.setEnd(F5(e,m.container()),m.offset()),{range:h,forward:o_(t)}})},U5=(e,t)=>J.from(e.select(t.name)[t.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),W5=(e,t)=>{const o=e.dom;if(t){if(L5(t))return $5(o,t);if(P5(t))return Q8(o,t);if(B5(t))return Db(o,t);if(eA(t))return U5(o,t);if(M5(t))return J.some({range:t.rng,forward:o_(t)})}return J.none()},tF=(e,t,o)=>lt(e,t,o),nF=(e,t)=>{W5(e,t).each(({range:o,forward:i})=>{e.setRng(o,i)})},xu=e=>En(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",il=(e=>t=>e===t)(Di),Rb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,hh=e=>!Rb(e)&&!il(e)&&!Gu(e),vr=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},td=e=>wo(e,t=>{const o=wp(t);return o?[Fe.fromDom(o)]:[]}),d2=e=>vr(e).length>1,s_=e=>vt(td(e),Lc),F0=e=>hi(e,"td[data-mce-selected],th[data-mce-selected]"),Z5=(e,t)=>{const o=F0(t);return o.length>0?o:s_(e)},Kf=e=>Z5(vr(e.selection.getSel()),Fe.fromDom(e.getBody())),Bs=(e,t)=>su(e,"table",t),f2=e=>{const t=e.startContainer,o=e.startOffset;return Ut(t)?o===0?J.some(Fe.fromDom(t)):J.none():J.from(t.childNodes[o]).map(Fe.fromDom)},j5=e=>{const t=e.endContainer,o=e.endOffset;return Ut(t)?o===t.data.length?J.some(Fe.fromDom(t)):J.none():J.from(t.childNodes[o-1]).map(Fe.fromDom)},sA=e=>Ml(e).fold(et([e]),t=>[e].concat(sA(t))),m2=e=>Wu(e).fold(et([e]),t=>qo(t)==="br"?xi(t).map(o=>[e].concat(m2(o))).getOr([]):[e].concat(m2(t))),g2=(e,t)=>sa(f2(t),j5(t),(o,i)=>{const c=cn(sA(e),tt(Yo,o)),m=cn(m2(e),tt(Yo,i));return c.isSome()&&m.isSome()}).getOr(!1),h2=(e,t,o,i)=>{const c=o,m=new ca(o,c),h=Cc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,V)=>!ae(["td","th","table"],V.toLowerCase()));let C=o;do{if(Ut(C)&&Xt.trim(C.data).length!==0){i?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(h[C.nodeName]){i?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=i?m.next():m.prev());c.nodeName==="BODY"&&(i?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},V0=e=>{const t=e.selection.getSel();return ke(t)&&t.rangeCount>0},z0=(e,t)=>{const o=Kf(e);o.length>0?he(o,i=>{const c=i.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),t(m,!0)}):t(e.selection.getRng(),!1)},r_=(e,t,o)=>{const i=Qt(e,t);o(i),e.moveToBookmark(i)},H0=e=>O(e==null?void 0:e.nodeType),i_=e=>En(e)&&!xu(e)&&!yu(e)&&!kf(e),K5=(e,t)=>{if(i_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},rA=(e,t,o)=>{const{selection:i,dom:c}=e,m=i.getNode(),h=fo(m);r_(i,!0,()=>{t()}),h&&fo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(i.getStart())&&G5(c,i)},G5=(e,t)=>{var o,i;const c=t.getRng(),{startContainer:m,startOffset:h}=c,C=t.getNode();if(!K5(e,C)&&En(m)){const A=m.childNodes,V=e.getRoot();let Z;if(h<A.length){const q=A[h];Z=new ca(q,(o=e.getParent(q,e.isBlock))!==null&&o!==void 0?o:V)}else{const q=A[A.length-1];Z=new ca(q,(i=e.getParent(q,e.isBlock))!==null&&i!==void 0?i:V),Z.next(!0)}for(let q=Z.current();q;q=Z.next()){if(e.getContentEditable(q)==="false")return;if(Ut(q)&&!iA(q)){c.setStart(q,0),t.setRng(c);return}}}},Ib=(e,t,o)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(En(e)||!iA(e))return e}},a_=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Of(e,t),Op=(e,t,o)=>e.schema.isValidChild(t,o),iA=(e,t=!1)=>{if(ke(e)&&Ut(e)){const o=t?e.data.replace(/ /g," "):e.data;return oc(o)}else return!1},sF=e=>ke(e)&&Ut(e)&&e.length===0,q5=(e,t)=>{const o="[data-mce-cef-wrappable]",i=ro(e),c=Wt(i)?o:`${o},${i}`;return Ps(Fe.fromDom(t),c)},aA=(e,t)=>{const o=e.dom;return i_(t)&&o.getContentEditable(t)==="false"&&q5(e,t)&&o.select('[contenteditable="true"]',t).length===0},ph=(e,t)=>Le(e)?e(t):(ke(t)&&(e=e.replace(/%(\w+)/g,(o,i)=>t[i]||o)),e),$0=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),l_=(e,t)=>{if(st(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=qv(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},p2=(e,t,o)=>{const i=e.getStyle(t,o);return l_(i,o)},lA=(e,t)=>{let o;return e.getParent(t,i=>En(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},v2=(e,t,o)=>e.getParents(t,o,e.getRoot()),c_=(e,t,o)=>{const i=e.formatter.get(t);return ke(i)&&be(i,o)},Y5=(e,t)=>c_(e,t,i=>{const c=m=>Le(m)||m.length>1&&m.charAt(0)==="%";return be(["styles","attributes"],m=>Os(i,m).exists(h=>{const C=le(h)?h:Pu(h);return be(C,c)}))}),X5=(e,t,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=m=>Cc(m,(h,C)=>be(i,A=>A===C));return c_(e,t,m=>{const h=c(m);return c_(e,o,C=>{const A=c(C);return Ti(h,A)})})},Gf=e=>Wl(e,"block"),J5=e=>Gf(e)&&e.wrapper===!0,Q5=e=>Gf(e)&&e.wrapper!==!0,$c=e=>Wl(e,"selector"),ha=e=>Wl(e,"inline"),eR=e=>$c(e)&&ha(e)&&ff(Os(e,"mixed"),!0),u_=e=>$c(e)&&e.expand!==!1&&!ha(e),tR=e=>{const t=[];let o=e;for(;o;){if(Ut(o)&&o.data!==Ci||o.childNodes.length>1)return[];En(o)&&t.push(o),o=o.firstChild}return t},cA=e=>tR(e).length>0,d_=e=>yu(e.dom)&&cA(e.dom),Dp=xu,b2=v2,f_=iA,m_=a_,nR=e=>pr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,y2=(e,t)=>{let o=t;for(;o;){if(En(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},g_=(e,t,o,i)=>{const c=t.data;if(e){for(let m=o;m>0;m--)if(i(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(i(c.charAt(m)))return m;return-1},x2=(e,t,o)=>g_(e,t,o,i=>il(i)||Rb(i)),uA=(e,t,o)=>g_(e,t,o,hh),dA=(e,t,o,i,c,m)=>{let h;const C=e.getParent(o,e.isBlock)||t,A=(Z,q,Q)=>{const ge=zd(e),Se=c?ge.backwards:ge.forwards;return J.from(Se(Z,q,(pe,Oe)=>Dp(pe.parentNode)?-1:(h=pe,Q(c,pe,Oe)),C))};return A(o,i,x2).bind(Z=>m?A(Z.container,Z.offset+(c?-1:0),uA):J.some(Z)).orThunk(()=>h?J.some({container:h,offset:c?0:h.length}):J.none())},Nb=(e,t,o,i,c)=>{const m=i[c];Ut(i)&&Wt(i.data)&&m&&(i=m);const h=b2(e,i);for(let C=0;C<h.length;C++)for(let A=0;A<t.length;A++){const V=t[A];if(!(ke(V.collapsed)&&V.collapsed!==o.collapsed)&&$c(V)&&e.is(h[C],V.selector))return h[C]}return i},h_=(e,t,o,i)=>{var c;let m=o;const h=e.getRoot(),C=t[0];if(Gf(C)&&(m=C.wrapper?null:e.getParent(o,C.block,h)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;m=e.getParent(Ut(o)?o.parentNode:o,V=>V!==h&&m_(e.schema,V),A)}if(m&&Gf(C)&&C.wrapper&&(m=b2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[i]&&!e.isBlock(m[i])&&(m=m[i],!$0(m,"br")););return m||o},p_=(e,t,o,i)=>{const c=o.parentNode;return ke(o[i])?!1:c===t||st(c)||e.isBlock(c)?!0:p_(e,t,c,i)},vh=(e,t,o,i,c)=>{let m=o;const h=c?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!f_(o)&&(c?i>0:i<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let A=m[h];A;A=A[h]){const V=Ut(A)&&!p_(e,C,A,h);if(!Dp(A)&&!nR(A)&&!f_(A,V))return m}if(m===C||m.parentNode===C){o=m;break}m=m.parentNode}return o},bh=e=>Dp(e.parentNode)||Dp(e),Rp=(e,t,o,i=!1)=>{let{startContainer:c,startOffset:m,endContainer:h,endOffset:C}=t;const A=o[0];return En(c)&&c.hasChildNodes()&&(c=_i(c,m),Ut(c)&&(m=0)),En(h)&&h.hasChildNodes()&&(h=_i(h,t.collapsed?C:C-1),Ut(h)&&(C=h.data.length)),c=y2(e,c),h=y2(e,h),bh(c)&&(c=Dp(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Ut(c)&&(m=t.collapsed?c.length:0)),bh(h)&&(h=Dp(h)?h:h.parentNode,t.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,Ut(h)&&(C=t.collapsed?0:h.length)),t.collapsed&&(dA(e,e.getRoot(),c,m,!0,i).each(({container:q,offset:Q})=>{c=q,m=Q}),dA(e,e.getRoot(),h,C,!1,i).each(({container:q,offset:Q})=>{h=q,C=Q})),(ha(A)||A.block_expand)&&((!ha(A)||!Ut(c)||m===0)&&(c=vh(e,o,c,m,!0)),(!ha(A)||!Ut(h)||C===h.data.length)&&(h=vh(e,o,h,C,!1))),u_(A)&&(c=Nb(e,o,t,c,"previousSibling"),h=Nb(e,o,t,h,"nextSibling")),(Gf(A)||$c(A))&&(c=h_(e,o,c,"previousSibling"),h=h_(e,o,h,"nextSibling"),Gf(A)&&(e.isBlock(c)||(c=vh(e,o,c,m,!0),Ut(c)&&(m=0)),e.isBlock(h)||(h=vh(e,o,h,C,!1),Ut(h)&&(C=h.data.length)))),En(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),En(h)&&h.parentNode&&(C=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:c,startOffset:m,endContainer:h,endOffset:C}},w2=(e,t,o)=>{var i;const c=t.startOffset,m=_i(t.startContainer,c),h=t.endOffset,C=_i(t.endContainer,h-1),A=Oe=>{const He=Oe[0];Ut(He)&&He===m&&c>=He.data.length&&Oe.splice(0,1);const Qe=Oe[Oe.length-1];return h===0&&Oe.length>0&&Qe===C&&Ut(Qe)&&Oe.splice(Oe.length-1,1),Oe},V=(Oe,He,Qe)=>{const Xe=[];for(;Oe&&Oe!==Qe;Oe=Oe[He])Xe.push(Oe);return Xe},Z=(Oe,He)=>e.getParent(Oe,Qe=>Qe.parentNode===He,He),q=(Oe,He,Qe)=>{const Xe=Qe?"nextSibling":"previousSibling";for(let dt=Oe,Bt=dt.parentNode;dt&&dt!==He;dt=Bt){Bt=dt.parentNode;const Yt=V(dt===Oe?dt:dt[Xe],Xe);Yt.length&&(Qe||Yt.reverse(),o(A(Yt)))}};if(m===C)return o(A([m]));const Q=(i=e.findCommonAncestor(m,C))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(m,C))return q(m,Q,!0);if(e.isChildOf(C,m))return q(C,Q);const ge=Z(m,Q)||m,Se=Z(C,Q)||C;q(m,ge,!0);const pe=V(ge===m?ge:ge.nextSibling,"nextSibling",Se===C?Se.nextSibling:Se);pe.length&&o(A(pe)),q(C,Se)},rF=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],oR=e=>ur(e)&&jm(e)===Ci,sR=(e,t,o,i)=>aa(t).fold(()=>"skipping",c=>i==="br"||oR(t)?"valid":Rx(t)?"existing":yu(t.dom)?"caret":be(rF,m=>Ps(t,m))?"valid-block":!Op(e,o,i)||!Op(e,qo(c),o)?"invalid-child":"valid"),Ip=(e,t)=>{const o=Rp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},Np=(e,t,o,i,c,m)=>{const{uid:h=t,...C}=o;Dd(e,Nr()),yi(e,`${ti()}`,h),yi(e,`${Pr()}`,i);const{attributes:A={},classes:V=[]}=c(h,C);if(Pa(e,A),tb(e,V),m){V.length>0&&yi(e,`${Er()}`,V.join(","));const Z=Kt(A);Z.length>0&&yi(e,`${Gr()}`,Z.join(","))}},Ua=e=>{Ma(e,Nr()),Do(e,`${ti()}`),Do(e,`${Pr()}`),Do(e,`${Ms()}`);const t=Qc(e,`${Gr()}`).map(i=>i.split(",")).getOr([]),o=Qc(e,`${Er()}`).map(i=>i.split(",")).getOr([]);he(t,i=>Do(e,i)),ah(e,o),Do(e,`${Er()}`),Do(e,`${Gr()}`)},og=(e,t,o,i,c)=>{const m=Fe.fromTag("span",e);return Np(m,t,o,i,c,!1),m},Cs=(e,t,o,i,c,m)=>{const h=[],C=og(e.getDoc(),o,m,i,c),A=Ii(),V=()=>{A.clear()},Z=()=>A.get().getOrThunk(()=>{const Se=qr(C);return h.push(Se),A.set(Se),Se}),q=Se=>{he(Se,Q)},Q=Se=>{switch(sR(e,Se,"span",qo(Se))){case"invalid-child":{V();const Oe=la(Se);q(Oe),V();break}case"valid-block":{V(),Np(Se,o,m,i,c,!0);break}case"valid":{const Oe=Z();Zl(Se,Oe);break}}},ge=Se=>{const pe=Be(Se,Fe.fromDom);q(pe)};return w2(e.dom,t,Se=>{V(),ge(Se)}),h},iF=(e,t,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),h=Kf(e).length>0,C=za("mce-annotation");if(m.collapsed&&!h&&Ip(e,m),c.getRng().collapsed&&!h){const A=og(e.getDoc(),C,i,t,o.decorate);Rm(A,Di),c.getRng().insertNode(A.dom),c.select(A.dom)}else r_(c,!1,()=>{z0(e,A=>{Cs(e,A,C,t,o.decorate,i)})})})},rR=e=>{const t=Nx();g0(e,t);const o=m0(e,t),i=vf("span"),c=m=>{he(m,h=>{i(h)?Va(h):Ua(h)})};return{register:(m,h)=>{t.register(m,h)},annotate:(m,h)=>{t.lookup(m).each(C=>{iF(e,m,C,h)})},annotationChanged:(m,h)=>{o.addListener(m,h)},remove:m=>{f0(e,J.some(m)).each(({elements:h})=>{const C=e.selection.getBookmark();c(h),e.selection.moveToBookmark(C)})},removeAll:m=>{const h=e.selection.getBookmark();rs(ih(e,m),(C,A)=>{c(C)}),e.selection.moveToBookmark(h)},getAll:m=>{const h=ih(e,m);return Ul(h,C=>Be(C,A=>A.dom))}}},Zs=e=>({getBookmark:tt(tF,e),moveToBookmark:tt(nF,e)});Zs.isBookmarkNode=xu;const fA=(e,t,o)=>o.collapsed?!1:be(o.getClientRects(),i=>x0(i,e,t)),C2=(e,t)=>e.dispatch("PreProcess",t),_2=(e,t)=>e.dispatch("PostProcess",t),S2=e=>{e.dispatch("remove")},k2=e=>{e.dispatch("detach")},iR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},aF=(e,t,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:i,origin:c})},lF=(e,t,o,i,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:i,origin:c})},cF=e=>{e.dispatch("PreInit")},uF=e=>{e.dispatch("PostRender")},oi=e=>{e.dispatch("Init")},aR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},mA=(e,t,o)=>{e.dispatch(t,o)},lR=(e,t,o,i)=>{e.dispatch("FormatApply",{format:t,node:o,vars:i})},cR=(e,t,o,i)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:i})},dF=(e,t)=>e.dispatch("BeforeSetContent",t),lc=(e,t)=>e.dispatch("SetContent",t),qf=(e,t)=>e.dispatch("BeforeGetContent",t),uR=(e,t)=>e.dispatch("GetContent",t),gA=(e,t)=>{e.dispatch("AutocompleterStart",t)},hA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},pA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},fF=e=>{e.dispatch("AutocompleterEnd")},E2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),v_=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),b_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),mF=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),dn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dn.metaKeyPressed(e),metaKeyPressed:e=>Mo.os.isMacOS()||Mo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Pb="data-mce-selected",gF="table,img,figure.image,hr,video,span.mce-preview-object,details",wu=Math.abs,Pp=Math.round,y_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Kd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,zs=(e,t)=>{const o=t.dom,i=t.getDoc(),c=document,m=t.getBody();let h,C,A,V,Z,q,Q,ge,Se,pe,Oe,He,Qe,Xe,dt,Bt,Yt;const pn=gn=>ke(gn)&&(Dc(gn)||o.is(gn,"figure.image")),kt=gn=>St(gn)||o.hasClass(gn,"mce-preview-object"),bt=(gn,No)=>{if(Kd(gn)){const $o=gn.touches[0];return pn(gn.target)&&!fA($o.clientX,$o.clientY,No)}else return pn(gn.target)&&!fA(gn.clientX,gn.clientY,No)},Nt=gn=>{const No=gn.target;bt(gn,t.selection.getRng())&&!gn.isDefaultPrevented()&&t.selection.select(No)},Cn=gn=>o.hasClass(gn,"mce-preview-object")&&ke(gn.firstElementChild)?[gn,gn.firstElementChild]:o.is(gn,"figure.image")?[gn.querySelector("img")]:[gn],Vn=gn=>{const No=KD(t);return!No||gn.getAttribute("data-mce-resize")==="false"||gn===t.getBody()?!1:o.hasClass(gn,"mce-preview-object")&&ke(gn.firstElementChild)?Ps(Fe.fromDom(gn.firstElementChild),No):Ps(Fe.fromDom(gn),No)},Io=(gn,No)=>{if(kt(No))return gn.create("img",{src:Mo.transparentSrc});if(lu(No)){const Ra=cr(V.name,"n")?hn:Eo,Hs=No.cloneNode(!0);return Ra(gn.select("tr",Hs)).each(ba=>{const nm=gn.select("td,th",ba);gn.setStyle(ba,"height",null),he(nm,Lh=>gn.setStyle(Lh,"height",null))}),Hs}else return No.cloneNode(!0)},Vo=(gn,No,$o)=>{if(ke($o)){const Ra=Cn(gn);he(Ra,Hs=>{Hs.style[No]||!t.schema.isValid(Hs.nodeName.toLowerCase(),No)?o.setStyle(Hs,No,$o):o.setAttrib(Hs,No,""+$o)})}},Rs=(gn,No,$o)=>{Vo(gn,"width",No),Vo(gn,"height",$o)},Us=gn=>{let No,$o,Ra,Hs,ba;No=gn.screenX-q,$o=gn.screenY-Q,Xe=No*V[2]+pe,dt=$o*V[3]+Oe,Xe=Xe<5?5:Xe,dt=dt<5?5:dt,(pn(h)||kt(h))&&GD(t)!==!1?Ra=!dn.modifierPressed(gn):Ra=dn.modifierPressed(gn),Ra&&(wu(No)>wu($o)?(dt=Pp(Xe*He),Xe=Pp(dt/He)):(Xe=Pp(dt/He),dt=Pp(Xe*He))),Rs(C,Xe,dt),Hs=V.startPos.x+No,ba=V.startPos.y+$o,Hs=Hs>0?Hs:0,ba=ba>0?ba:0,o.setStyles(A,{left:Hs,top:ba,display:"block"}),A.innerHTML=Xe+" &times; "+dt,V[2]<0&&C.clientWidth<=Xe&&o.setStyle(C,"left",ge+(pe-Xe)),V[3]<0&&C.clientHeight<=dt&&o.setStyle(C,"top",Se+(Oe-dt)),No=m.scrollWidth-Bt,$o=m.scrollHeight-Yt,No+$o!==0&&o.setStyles(A,{left:Hs-No,top:ba-$o}),Qe||(aF(t,h,pe,Oe,"corner-"+V.name),Qe=!0)},ci=()=>{const gn=Qe;Qe=!1,gn&&(Vo(h,"width",Xe),Vo(h,"height",dt)),o.unbind(i,"mousemove",Us),o.unbind(i,"mouseup",ci),c!==i&&(o.unbind(c,"mousemove",Us),o.unbind(c,"mouseup",ci)),o.remove(C),o.remove(A),o.remove(Z),kl(h),gn&&(lF(t,h,Xe,dt,"corner-"+V.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),t.nodeChanged()},kl=gn=>{ln();const No=o.getPos(gn,m),$o=No.x,Ra=No.y,Hs=gn.getBoundingClientRect(),ba=Hs.width||Hs.right-Hs.left,nm=Hs.height||Hs.bottom-Hs.top;h!==gn&&(on(),h=gn,Xe=dt=0);const Lh=t.dispatch("ObjectSelected",{target:gn});Vn(gn)&&!Lh.isDefaultPrevented()?rs(y_,(gc,gd)=>{const om=sm=>{const Un=Cn(h)[0];q=sm.screenX,Q=sm.screenY,pe=Un.clientWidth,Oe=Un.clientHeight,He=Oe/pe,V=gc,V.name=gd,V.startPos={x:ba*gc[0]+$o,y:nm*gc[1]+Ra},Bt=m.scrollWidth,Yt=m.scrollHeight,Z=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(Z,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=Io(o,h),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:$o,top:Ra,margin:0}),Rs(C,ba,nm),C.removeAttribute(Pb),m.appendChild(C),o.bind(i,"mousemove",Us),o.bind(i,"mouseup",ci),c!==i&&(o.bind(c,"mousemove",Us),o.bind(c,"mouseup",ci)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},pe+" &times; "+Oe)};let hd=o.get("mceResizeHandle"+gd);hd&&o.remove(hd),hd=o.add(m,"div",{id:"mceResizeHandle"+gd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+gd+"-resize; margin:0; padding:0"}),o.bind(hd,"mousedown",sm=>{sm.stopImmediatePropagation(),sm.preventDefault(),om(sm)}),gc.elm=hd,o.setStyles(hd,{left:ba*gc[0]+$o-hd.offsetWidth/2,top:nm*gc[1]+Ra-hd.offsetHeight/2})}):on(!1)},Ys=rh(kl,0),on=(gn=!0)=>{Ys.cancel(),ln(),h&&gn&&h.removeAttribute(Pb),rs(y_,(No,$o)=>{const Ra=o.get("mceResizeHandle"+$o);Ra&&(o.unbind(Ra),o.remove(Ra))})},Pn=(gn,No)=>o.isChildOf(gn,No),ys=gn=>{if(Qe||t.removed||t.composing)return;const No=gn.type==="mousedown"?gn.target:e.getNode(),$o=Zi(Fe.fromDom(No),gF).map(Hs=>Hs.dom).filter(Hs=>o.isEditable(Hs.parentElement)||Hs.nodeName==="IMG"&&o.isEditable(Hs)).getOrUndefined(),Ra=ke($o)?o.getAttrib($o,Pb,"1"):"1";if(he(o.select(`img[${Pb}],hr[${Pb}]`),Hs=>{Hs.removeAttribute(Pb)}),ke($o)&&Pn($o,m)&&t.hasFocus()){Gn();const Hs=e.getStart(!0);if(Pn(Hs,$o)&&Pn(e.getEnd(!0),$o)){o.setAttrib($o,Pb,Ra),Ys.throttle($o);return}}on()},ln=()=>{rs(y_,gn=>{gn.elm&&(o.unbind(gn.elm),delete gn.elm)})},Gn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Gn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ys),t.on("keyup compositionend",gn=>{h&&h.nodeName==="TABLE"&&ys(gn)}),t.on("hide blur",on),t.on("contextmenu longpress",Nt,!0)}),t.on("remove",ln),{isResizable:Vn,showResizeRect:kl,hideResizeRect:on,updateResizeRect:ys,destroy:()=>{Ys.cancel(),h=C=Z=null}}},U0=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},x_=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},vA=(e,t,o)=>{const i=e.document.createRange();return U0(i,t),x_(i,o),i},A2=(e,t,o,i,c)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(i.dom,c),m},Mb=Ko.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dR=(e,t,o)=>t(Fe.fromDom(o.startContainer),o.startOffset,Fe.fromDom(o.endContainer),o.endOffset),bA=(e,t)=>t.match({domRange:o=>({ltr:et(o),rtl:J.none}),relative:(o,i)=>({ltr:Dl(()=>vA(e,o,i)),rtl:Dl(()=>J.some(vA(e,i,o)))}),exact:(o,i,c,m)=>({ltr:Dl(()=>A2(e,o,i,c,m)),rtl:Dl(()=>J.some(A2(e,c,m,o,i)))})}),hF=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Mb.rtl(Fe.fromDom(c.endContainer),c.endOffset,Fe.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>dR(e,Mb.ltr,o)):dR(e,Mb.ltr,o)},fR=(e,t)=>{const o=bA(e,t);return hF(e,o)};Mb.ltr,Mb.rtl;const w_={create:(e,t,o,i)=>({start:e,soffset:t,finish:o,foffset:i})},mR=(e,t,o)=>{var i;return J.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,t,o)).bind(c=>{if(c.offsetNode===null)return J.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),J.some(m)})},C_=(e,t,o)=>{var i;return J.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,t,o))},vF=(e,t,o)=>e.caretPositionFromPoint?mR(e,t,o):e.caretRangeFromPoint?C_(e,t,o):J.none(),bF=(e,t,o)=>{const i=e.document;return vF(i,t,o).map(c=>w_.create(Fe.fromDom(c.startContainer),c.startOffset,Fe.fromDom(c.endContainer),c.endOffset))},yA=Ko.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yF=(e,t,o,i)=>e.fold(t,o,i),xF=e=>e.fold(pt,pt,pt),gR=yA.before,wF=yA.on,CF=yA.after,sg={before:gR,on:wF,after:CF,cata:yF,getStart:xF},T2=Ko.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_F=e=>T2.exact(e.start,e.soffset,e.finish,e.foffset),SF=e=>e.match({domRange:t=>Fe.fromDom(t.startContainer),relative:(t,o)=>sg.getStart(t),exact:(t,o,i,c)=>t}),hR=T2.domRange,nd=T2.relative,kF=T2.exact,pR=e=>{const t=SF(e);return Hu(t)},xA=w_.create,Mp={domRange:hR,relative:nd,exact:kF,exactFromRange:_F,getWin:pR,range:xA},O2=(e,t)=>{const o=qo(e);return o==="input"?sg.after(e):ae(["br","img"],o)?t===0?sg.before(e):sg.after(e):sg.on(e,t)},vR=(e,t)=>{const o=e.fold(sg.before,O2,sg.after),i=t.fold(sg.before,O2,sg.after);return Mp.relative(o,i)},__=(e,t,o,i)=>{const c=O2(e,t),m=O2(o,i);return Mp.relative(c,m)},bR=e=>e.match({domRange:t=>{const o=Fe.fromDom(t.startContainer),i=Fe.fromDom(t.endContainer);return __(o,t.startOffset,i,t.endOffset)},relative:vR,exact:__}),Uc=(e,t)=>{const i=document.createDocumentFragment();return he(e,c=>{i.appendChild(c.dom)}),Fe.fromDom(i)},EF=e=>{const t=Mp.getWin(e).dom,o=(c,m,h,C)=>A2(t,c,m,h,C),i=bR(e);return fR(t,i).match({ltr:o,rtl:o})},wA=(e,t,o)=>bF(e,t,o),yR=(e,t,o)=>{const i=Hu(Fe.fromDom(o));return wA(i.dom,e,t).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},D2=(e,t)=>ke(e)&&ke(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Yf=(e,t,o)=>{let i=e;for(;i&&i!==t;){if(o(i))return i;i=i.parentNode}return null},S_=(e,t,o)=>Yf(e,t,o)!==null,k_=(e,t,o)=>S_(e,t,i=>i.nodeName===o),xR=(e,t)=>Kl(e)&&!S_(e,t,yu),wR=(e,t,o)=>{const i=t.parentNode;if(i){const c=new ca(t,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(pr(m))return!0}return!1},CR=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},_R=(e,t)=>{let o=t;for(;o&&o!==e;){if(fo(o))return!0;o=o.parentNode}return!1},R2=(e,t,o,i,c)=>{const m=e.getRoot(),h=e.schema.getNonEmptyElements(),C=c.parentNode;let A,V;if(!C)return J.none();const Z=e.getParent(C,e.isBlock)||m;if(i&&pr(c)&&t&&e.isEmpty(Z))return J.some(xt(C,e.nodeIndex(c)));const q=new ca(c,Z);for(;V=q[i?"prev":"next"]();){if(e.getContentEditableParent(V)==="false"||xR(V,m))return J.none();if(Ut(V)&&V.data.length>0)return k_(V,m,"A")?J.none():J.some(xt(V,i?V.data.length:0));if(e.isBlock(V)||h[V.nodeName.toLowerCase()])return J.none();A=V}return ko(A)?J.none():o&&A?J.some(xt(A,0)):J.none()},CA=(e,t,o,i)=>{const c=e.getRoot();let m,h=!1,C=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const V=En(C)&&A===C.childNodes.length,Z=e.schema.getNonEmptyElements();let q=o;if(Kl(C))return J.none();if(En(C)&&A>C.childNodes.length-1&&(q=!1),Rn(C)&&(C=c,A=0),C===c){if(q&&(m=C.childNodes[A>0?A-1:0],m&&(Kl(m)||Z[m.nodeName]||lu(m))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!q&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Ut(C)&&V?C.data.length:0,!t&&C===c.lastChild&&lu(C)||_R(c,C)||Kl(C)||cp(C))return J.none();if(C.hasChildNodes()&&!lu(C)){m=C;const Q=new ca(C,c);do{if(fo(m)||Kl(m)){h=!1;break}if(Ut(m)&&m.data.length>0){A=q?0:m.data.length,C=m,h=!0;break}if(Z[m.nodeName.toLowerCase()]&&!yC(m)){A=e.nodeIndex(m),C=m.parentNode,q||A++,h=!0;break}}while(m=q?Q.next():Q.prev())}}}return t&&(Ut(C)&&A===0&&R2(e,V,t,!0,C).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}),En(C)&&(m=C.childNodes[A],m||(m=C.childNodes[A-1]),m&&pr(m)&&!CR(m,"A")&&!wR(e,m,!1)&&!wR(e,m,!0)&&R2(e,V,t,!0,m).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}))),q&&!t&&Ut(C)&&A===C.data.length&&R2(e,V,t,!1,C).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}),h&&C?J.some(xt(C,A)):J.none()},rg=(e,t)=>{const o=t.collapsed,i=t.cloneRange(),c=xt.fromRangeStart(t);return CA(e,o,!0,i).each(m=>{(!o||!xt.isAbove(c,m))&&i.setStart(m.container(),m.offset())}),o||CA(e,o,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),o&&i.collapse(!0),D2(t,i)?J.none():J.some(i)},I2=(e,t)=>e.splitText(t),N2=e=>{let t=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(t===i&&Ut(t)){if(o>0&&o<t.data.length)if(i=I2(t,o),t=i.previousSibling,c>o){c=c-o;const m=I2(i,c).previousSibling;t=i=m,c=m.data.length,o=0}else c=0}else if(Ut(t)&&o>0&&o<t.data.length&&(t=I2(t,o),o=0),Ut(i)&&c>0&&c<i.data.length){const m=I2(i,c).previousSibling;i=m,c=m.data.length}return{startContainer:t,startOffset:o,endContainer:i,endOffset:c}},Bp=e=>({walk:(m,h)=>w2(e,m,h),split:N2,expand:(m,h={type:"word"})=>{if(h.type==="word"){const C=Rp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return m},normalize:m=>rg(e,m).fold(fn,h=>(m.setStart(h.startContainer,h.startOffset),m.setEnd(h.endContainer,h.endOffset),!0))});Bp.compareRanges=D2,Bp.getCaretRangeFromPoint=yR,Bp.getSelectedNode=wp,Bp.getNode=_i;const _A=((e,t)=>{const o=(C,A)=>{if(!O(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const V=C.dom;La(V)&&(V.style[e]=A+"px")},i=C=>{const A=t(C);if(A<=0||A===null){const V=Ur(C,e);return parseFloat(V)||0}return A},c=i,m=(C,A)=>Vt(A,(V,Z)=>{const q=Ur(C,Z),Q=q===void 0?0:parseInt(q,10);return isNaN(Q)?V:V+Q},0);return{set:o,get:i,getOuter:c,aggregate:m,max:(C,A,V)=>{const Z=m(C,V);return A>Z?A-Z:0}}})("height",e=>{const t=e.dom;return Ba(e)?t.getBoundingClientRect().height:t.offsetHeight}),Bb=e=>_A.get(e),SR=()=>Fe.fromDom(document),kR=(e,t)=>e.view(t).fold(et([]),i=>{const c=e.owner(i),m=kR(e,c);return[i].concat(m)}),E_=(e,t)=>{const o=t.owner(e);return kR(t,o)};var OF=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Fe.fromDom)},owner:e=>tc(e)});const ER=e=>{const t=SR(),o=lo(t),i=E_(e,OF),c=po(e),m=Ft(i,(h,C)=>{const A=po(C);return{left:h.left+A.left,top:h.top+A.top}},{left:0,top:0});return Re(m.left+c.left+o.left,m.top+c.top+o.top)},yh=e=>qo(e)==="textarea",AR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),TR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},OR=(e,t)=>{const o=la(e);if(o.length===0||yh(e))return{element:e,offset:t};if(t<o.length&&!yh(o[t]))return{element:o[t],offset:0};{const i=o[o.length-1];return yh(i)?{element:e,offset:t}:qo(i)==="img"?{element:i,offset:1}:ur(i)?{element:i,offset:jm(i).length}:{element:i,offset:la(i).length}}},P2=(e,t)=>{const o=Zn(e),i=Bb(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:t}},DR=(e,t)=>{const o=OR(e,t),i=Fe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ci+"</span>");return Dr(o.element,i),P2(i,()=>Ds(i))},RR=e=>P2(Fe.fromDom(e),ct),IR=(e,t,o,i)=>{PR(e,(c,m)=>NR(e,t,o,i),o)},M2=(e,t,o,i,c)=>{const m={elm:i.element.dom,alignToTop:c};if(AR(e,m))return;const h=lo(t).top;o(e,t,h,i,c),TR(e,m)},NR=(e,t,o,i)=>{const c=Fe.fromDom(e.getBody()),m=Fe.fromDom(e.getDoc());U1(c);const h=DR(Fe.fromDom(o.startContainer),o.startOffset);M2(e,m,t,h,i),h.cleanup()},A_=(e,t,o,i)=>{const c=Fe.fromDom(e.getDoc());M2(e,c,o,RR(t),i)},PR=(e,t,o)=>{const i=o.startContainer,c=o.startOffset,m=o.endContainer,h=o.endOffset;t(Fe.fromDom(i),Fe.fromDom(m));const C=e.dom.createRng();C.setStart(i,c),C.setEnd(m,h),e.selection.setRng(o)},B2=(e,t,o,i,c)=>{const m=t.pos;if(i)Tn(m.left,m.top,c);else{const h=m.top-o+t.height;Tn(-e.getBody().getBoundingClientRect().left,h,c)}},SA=(e,t,o,i,c,m)=>{const h=i+o,C=c.pos.top,A=c.bottom,V=A-C>=i;C<o?B2(e,c,i,m!==!1,t):C>h?B2(e,c,i,V?m!==!1:m===!0,t):A>h&&!V&&B2(e,c,i,m===!0,t)},L2=(e,t,o,i,c)=>{const m=Hu(t).dom.innerHeight;SA(e,t,o,m,i,c)},ig=(e,t,o,i,c)=>{const m=Hu(t).dom.innerHeight;SA(e,t,o,m,i,c);const h=ER(i.element),C=Tc(window);h.top<C.y?bs(i.element,c!==!1):h.top>C.bottom&&bs(i.element,c===!0)},DF=(e,t,o)=>IR(e,L2,t,o),kA=(e,t,o)=>A_(e,t,L2,o),vi=(e,t,o)=>IR(e,ig,t,o),EA=(e,t,o)=>A_(e,t,ig,o),AA=(e,t,o)=>{(e.inline?kA:EA)(e,t,o)},od=(e,t,o)=>{(e.inline?DF:vi)(e,t,o)},TA=(e,t=!1)=>e.dom.focus({preventScroll:t}),OA=e=>{const t=ou(e).dom;return e.dom===t.activeElement},Lb=(e=SR())=>J.from(e.dom.activeElement).map(Fe.fromDom),RF=e=>Lb(ou(e)).filter(t=>e.dom.contains(t.dom)),MR=(e,t)=>{const o=ur(t)?jm(t).length:la(t).length+1;return e>o?o:e<0?0:e},W0=e=>Mp.range(e.start,MR(e.soffset,e.start),e.finish,MR(e.foffset,e.finish)),BR=(e,t)=>!_f(t.dom)&&(ia(e,t)||Yo(e,t)),Lp=e=>t=>BR(e,t.start)&&BR(e,t.finish),IF=e=>e.inline||Mo.browser.isFirefox(),Fp=e=>Mp.range(Fe.fromDom(e.startContainer),e.startOffset,Fe.fromDom(e.endContainer),e.endOffset),NF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(Fp)},sd=e=>{const t=Hu(e);return NF(t.dom).filter(Lp(e))},F2=(e,t)=>J.from(t).filter(Lp(e)).map(W0),DA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},Z0=e=>{const t=IF(e)?sd(Fe.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},RA=e=>(e.bookmark?e.bookmark:J.none()).bind(o=>F2(Fe.fromDom(e.getBody()),o)).bind(DA),T_=e=>{RA(e).each(t=>e.selection.setRng(t))},rd={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},O_=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),LR=(e,t)=>(O(t)||(t=0),setInterval(e,t)),Wc={setEditorTimeout:(e,t,o)=>O_(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const i=LR(()=>{e.removed?clearInterval(i):t()},o);return i}},IA=e=>e.type==="nodechange"&&e.selectionChange,Fb=(e,t)=>{const o=()=>{t.throttle()};Gs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Gs.DOM.unbind(document,"mouseup",o)})},NA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},FR=(e,t)=>{NA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{IA(o)||Z0(e)})},PF=e=>{const t=rh(()=>{Z0(e)},0);e.on("init",()=>{e.inline&&Fb(e,t),FR(e,t)}),e.on("remove",()=>{t.cancel()})};let ag;const PA=Gs.DOM,VR=e=>En(e)&&rd.isEditorUIElement(e),V2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},D_=(e,t)=>{const o=YD(e);return PA.getParent(t,c=>VR(c)||(o?e.dom.is(c,o):!1))!==null},R_=e=>{try{const t=ou(Fe.fromDom(e.getElement()));return Lb(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},zR=(e,t)=>{const o=t.editor;PF(o);const i=(c,m)=>{if(i5(c)&&c.inline!==!0){const h=Fe.fromDom(c.getContainer());m(h,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;V2(R_(o))&&i(o,Dd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Wc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!V2(R_(o))||c!==o)&&i(o,Ma),!D_(o,R_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ag||(ag=c=>{const m=e.activeEditor;m&&Dv(c).each(h=>{const C=h;C.ownerDocument===document&&C!==document.body&&!D_(m,C)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},PA.bind(document,"focusin",ag))},MF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&ag&&(PA.unbind(document,"focusin",ag),ag=null)},BF=e=>{e.on("AddEditor",tt(zR,e)),e.on("RemoveEditor",tt(MF,e))},LF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),FF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,VF=e=>e.collapsed?J.from(_i(e.startContainer,e.startOffset)).map(Fe.fromDom):J.none(),zF=(e,t)=>VF(t).bind(o=>lh(o)?J.some(o):ia(e,o)?J.none():J.some(e)),HR=(e,t)=>{zF(Fe.fromDom(e.getBody()),t).bind(o=>Jn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},I_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},HF=e=>OA(e)||RF(e).isSome(),$F=e=>ke(e.iframeElement)&&OA(Fe.fromDom(e.iframeElement)),UF=e=>{const t=e.getBody();return t&&HF(Fe.fromDom(t))},$R=e=>{const t=ou(Fe.fromDom(e.getElement()));return Lb(t).filter(o=>!V2(o.dom)&&D_(e,o.dom)).isSome()},j0=e=>e.inline?UF(e):$F(e),Vb=e=>j0(e)||$R(e),WF=e=>{const t=e.selection,o=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable();const c=h=>{RA(h).each(C=>{h.selection.setRng(C),i=C})};!j0(e)&&e.hasEditableRoot()&&c(e);const m=LF(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){FF(e,m)||I_(o),I_(m),e.hasEditableRoot()||c(e),HR(e,i),MA(e);return}e.inline||(Mo.browser.isOpera()||I_(o),e.getWin().focus()),(Mo.browser.isFirefox()||e.inline)&&(I_(o),HR(e,i)),MA(e)},MA=e=>e.editorManager.setActive(e),UR=(e,t)=>{e.removed||(t?MA(e):WF(e))},WR=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),ZR=(e,t,o,i,c)=>{const m=o?t.startContainer:t.endContainer,h=o?t.startOffset:t.endOffset;return J.from(m).map(Fe.fromDom).map(C=>!i||!t.collapsed?Uu(C,c(C,h)).getOr(C):C).bind(C=>$r(C)?J.some(C):aa(C).filter($r)).map(C=>C.dom).getOr(e)},jR=(e,t,o=!1)=>ZR(e,t,!0,o,(i,c)=>Math.min(Id(i),c)),KR=(e,t,o=!1)=>ZR(e,t,!1,o,(i,c)=>c>0?c-1:c),GR=(e,t)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},ZF=(e,t)=>{if(!t)return e;let o=t.startContainer,i=t.endContainer;const c=t.startOffset,m=t.endOffset;let h=t.commonAncestorContainer;t.collapsed||(o===i&&m-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Ut(o)&&Ut(i)&&(o.length===c?o=GR(o.nextSibling,!0):o=o.parentNode,m===0?i=GR(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const C=Ut(h)?h.parentNode:h;return au(C)?C:e},BA=(e,t,o,i)=>{const c=[],m=e.getRoot(),h=e.getParent(o||jR(m,t,t.collapsed),e.isBlock),C=e.getParent(i||KR(m,t,t.collapsed),e.isBlock);if(h&&h!==m&&c.push(h),h&&C&&h!==C){let A;const V=new ca(h,m);for(;(A=V.next())&&A!==C;)e.isBlock(A)&&c.push(A)}return C&&h!==C&&C!==m&&c.push(C),c},z2=(e,t,o)=>J.from(t).bind(i=>J.from(i.parentNode).map(c=>{const m=e.nodeIndex(i),h=e.createRng();return h.setStart(c,m),h.setEnd(c,m+1),o&&(h2(e,h,i,!0),h2(e,h,i,!1)),h})),N_=(e,t)=>Be(t,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),jF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},zb=(e,t,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==t){let m=e[c];if(m)return m;for(let h=e.parent;h&&h!==t;h=h.parent)if(m=h[c],m)return m}},qR=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!oc(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},Pi=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Da{static create(t,o){const i=new Da(t,jF[t]||1);return o&&rs(o,(c,m)=>{i.attr(m,c)}),i}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const i=this;if(!xe(t))return ke(t)&&rs(t,(m,h)=>{i.attr(h,m)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let m=c.length;for(;m--;)if(c[m].name===t)return c.splice(m,1),i}return i}if(t in c.map){let m=c.length;for(;m--;)if(c[m].name===t){c[m].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,i}return c.map[t]}}clone(){const t=this,o=new Da(t.name,t.type),i=t.attributes;if(i){const c=[];c.map={};for(let m=0,h=i.length;m<h;m++){const C=i[m];C.name!=="id"&&(c[c.length]={name:C.name,value:C.value},c.map[C.name]=C.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const i=o.next;t.insert(o,t,!0),o=i}t.remove()}remove(){const t=this,o=t.parent,i=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const i=o.lastChild;return i?(i.next=t,t.prev=i,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,i){t.parent&&t.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,i=[];for(let c=o.firstChild;c;c=zb(c,o))c.name===t&&i.push(c);return i}children(){const t=this,o=[];for(let i=t.firstChild;i;i=i.next)o.push(i);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=zb(c,t))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},i){var c;const m=this;let h=m.firstChild;if(Pi(m))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||Pi(h))return!1}if(h.type===8||h.type===3&&!qR(h)||h.type===3&&h.parent&&o[h.parent.name]&&oc((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=zb(h,m));return!0}walk(t){return zb(this,null,t)}}const YR=Xt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),P_=e=>xe(e.nodeValue)&&e.nodeValue.includes(Ci),H2=e=>`${e.length===0?"":`${Be(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Vp=(e,t)=>t.querySelectorAll(H2(e)),xh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>P_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),XR=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(P_(t)){const o=t.parentNode;return o&&ao(YR,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),KF=e=>xh(e).nextNode()!==null,K0=e=>XR(e).nextNode()!==null,G0=(e,t)=>t.querySelector(H2(e))!==null,q0=(e,t)=>{he(Vp(e,t),o=>{const i=Fe.fromDom(o);ka(i,"data-mce-bogus")==="all"?Ds(i):he(e,c=>{Td(i,c)&&Do(i,c)})})},M_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},LA=$t(M_,xh),JR=$t(M_,XR),FA=(e,t)=>{const o=[{condition:tt(G0,t),action:tt(q0,t)},{condition:KF,action:LA},{condition:K0,action:JR}];let i=e,c=!1;return he(o,({condition:m,action:h})=>{m(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},QR=e=>{const t=hi(e,"[data-mce-bogus]");he(t,o=>{ka(o,"data-mce-bogus")==="all"?Ds(o):Ju(o)?(Dr(o,Fe.fromText(Rr)),Ds(o)):Va(o)})},eI=e=>{const t=hi(e,"input");he(t,o=>{Do(o,"name")})},tI=(e,t)=>{const o=rl(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(i,"")},nI=(e,t)=>{const o=e.getDoc(),i=ou(Fe.fromDom(e.getBody())),c=Fe.fromTag("div",o);yi(c,"data-mce-bogus","all"),jo(c,{position:"fixed",left:"-9999999px",top:"0"}),Rm(c,t.innerHTML),QR(c),eI(c);const m=$1(i);Wr(m,c);const h=xl(c.dom.innerText);return Ds(c),h},$2=(e,t,o)=>{let i;return t.format==="raw"?i=Xt.trim(xl(FA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?i=nI(e,o):t.format==="tree"?i=e.serializer.serialize(o,t):i=tI(e,e.serializer.serialize(o,t)),t.format!=="text"&&!cb(Fe.fromDom(o))&&xe(i)?Xt.trim(i):i},oI=(e,t)=>J.from(e.getBody()).fold(et(t.format==="tree"?new Da("body",11):""),o=>$2(e,t,o)),VA=Xt.makeMap,zA=e=>{const t=[];e=e||{};const o=e.indent,i=VA(e.indent_before||""),c=VA(e.indent_after||""),m=Yg.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(C,A,V)=>{if(o&&i[C]&&t.length>0){const Z=t[t.length-1];Z.length>0&&Z!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let Z=0,q=A.length;Z<q;Z++){const Q=A[Z];t.push(" ",Q.name,'="',m(Q.value,!0),'"')}if(!V||h?t[t.length]=">":t[t.length]=" />",V&&o&&c[C]&&t.length>0){const Z=t[t.length-1];Z.length>0&&Z!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),o&&c[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:m(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",m(A),"?>"):t.push("<?",C,"?>"),o&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},wh=(e={},t=Mc())=>{const o=zA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,h={3:A=>{var V;o.text((V=A.value)!==null&&V!==void 0?V:"",A.raw)},8:A=>{var V;o.comment((V=A.value)!==null&&V!==void 0?V:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var V;o.doctype((V=A.value)!==null&&V!==void 0?V:"")},4:A=>{var V;o.cdata((V=A.value)!==null&&V!==void 0?V:"")},11:A=>{let V=A;if(V=V.firstChild)do C(V);while(V=V.next)}};o.reset();const C=A=>{var V;const Z=h[A.type];if(Z)Z(A);else{const q=A.name,Q=q in t.getVoidElements();let ge=A.attributes;if(m&&ge&&ge.length>1){const Se=[];Se.map={};const pe=t.getElementRule(A.name);if(pe){for(let Oe=0,He=pe.attributesOrder.length;Oe<He;Oe++){const Qe=pe.attributesOrder[Oe];if(Qe in ge.map){const Xe=ge.map[Qe];Se.map[Qe]=Xe,Se.push({name:Qe,value:Xe})}}for(let Oe=0,He=ge.length;Oe<He;Oe++){const Qe=ge[Oe].name;if(!(Qe in Se.map)){const Xe=ge.map[Qe];Se.map[Qe]=Xe,Se.push({name:Qe,value:Xe})}}ge=Se}}if(o.start(q,ge,Q),Bm(q))xe(A.value)&&o.text(A.value,!0),o.end(q);else if(!Q){let Se=A.firstChild;if(Se){(q==="pre"||q==="textarea")&&Se.type===3&&((V=Se.value)===null||V===void 0?void 0:V[0])===`
`&&o.text(`
`,!0);do C(Se);while(Se=Se.next)}o.end(q)}}};return c.type===1&&!e.inner?C(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},HA=new Set;he(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{HA.add(t)});const $A=new Set;he(["background-color"],t=>{$A.add(t)});const UA=["font","text-decoration","text-emphasis"],sI=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Hb=(e,t)=>Kt(sI(e,t)),WA=e=>HA.has(e),U2=e=>$A.has(e),ZA=(e,t)=>be(Hb(e,t),o=>WA(o)),rI=(e,t)=>ZA(e,t)&&be(Hb(e,t),o=>U2(o)),B_=e=>vt(e,t=>be(UA,o=>cr(t,o))),GF=(e,t,o)=>{const i=Hb(e,t),c=Hb(e,o),m=h=>{var C,A;const V=(C=e.getStyle(t,h))!==null&&C!==void 0?C:"",Z=(A=e.getStyle(o,h))!==null&&A!==void 0?A:"";return Je(V)&&Je(Z)&&V!==Z};return be(i,h=>{const C=A=>be(A,V=>V===h);if(!C(c)&&C(UA)){const A=B_(c);return be(A,m)}else return m(h)})},iI=(e,t,o)=>J.from(o.container()).filter(Ut).exists(i=>{const c=e?0:-1;return t(i.data.charAt(o.offset()+c))}),Ch=tt(iI,!0,Rb),W2=tt(iI,!1,Rb),aI=e=>{const t=e.container();return Ut(t)&&(t.data.length===0||Vc(t.data)&&Zs.isBookmarkNode(t.parentNode))},Gd=(e,t)=>o=>QC(e?0:-1,o).filter(t).isSome(),jA=e=>Dc(e)&&Ur(Fe.fromDom(e),"display")==="block",L_=e=>fo(e)&&!Z1(e),lI=Gd(!0,jA),cI=Gd(!1,jA),$b=Gd(!0,St),Y0=Gd(!1,St),uI=Gd(!0,lu),X0=Gd(!1,lu),Mi=Gd(!0,L_),Xf=Gd(!1,L_),Ub=e=>e.slice(0,-1),dI=(e,t,o)=>ia(t,e)?Ub(Am(e,i=>o(i)||Yo(i,t))):[],cc=(e,t)=>dI(e,t,fn),Zc=(e,t)=>[e].concat(cc(e,t)),F_=(e,t,o)=>N5(e,t,o,aI),fI=e=>t=>e.isBlock(qo(t)),KA=(e,t,o)=>cn(Zc(Fe.fromDom(t.container()),e),fI(o)),J0=(e,t,o,i)=>F_(e,t.dom,o).forall(c=>KA(t,o,i).fold(()=>!tg(c,o,t.dom),m=>!tg(c,o,t.dom)&&ia(m,Fe.fromDom(c.container())))),V_=(e,t,o,i)=>KA(t,o,i).fold(()=>F_(e,t.dom,o).forall(c=>!tg(c,o,t.dom)),c=>F_(e,c.dom,o).isNone()),z_=tt(V_,!1),mI=tt(V_,!0),GA=tt(J0,!1),qA=tt(J0,!0),qF=e=>e_(e).exists(Ju),id=(e,t,o,i)=>{const c=vt(Zc(Fe.fromDom(o.container()),t),h=>i.isBlock(qo(h))),m=hn(c).getOr(t);return bu(e,m.dom,o).filter(qF)},Z2=(e,t,o)=>e_(t).exists(Ju)||id(!0,e,t,o).isSome(),Wb=(e,t,o)=>X8(t).exists(Ju)||id(!1,e,t,o).isSome(),H_=tt(id,!1),gI=tt(id,!0),YA=e=>xt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),XA=(e,t,o)=>{const i=vt(Zc(Fe.fromDom(t.container()),e),c=>o.isBlock(qo(c)));return hn(i).getOr(e)},hI=(e,t,o)=>YA(t)?W2(t):W2(t)||Hc(XA(e,t,o).dom,t).exists(W2),pI=(e,t,o)=>YA(t)?Ch(t):Ch(t)||Gl(XA(e,t,o).dom,t).exists(Ch),vI=e=>ae(["pre","pre-wrap"],e),$_=e=>e_(e).bind(t=>gi(t,$r)).exists(t=>vI(Ur(t,"white-space"))),JA=(e,t)=>Hc(e.dom,t).isNone(),QA=(e,t)=>Gl(e.dom,t).isNone(),bI=(e,t,o)=>JA(e,t)||QA(e,t)||z_(e,t,o)||mI(e,t,o)||Wb(e,t,o)||Z2(e,t,o),e3=e=>ke(e)&&fo(e)&&jE(e),t3=(e,t)=>o=>e3(new ca(o,e)[t]()),yI=(e,t)=>{const o=Gl(e.dom,t).getOr(t),i=t3(e.dom,"next");return t.isAtEnd()&&(i(t.container())||i(o.container()))},n3=(e,t)=>{const o=Hc(e.dom,t).getOr(t),i=t3(e.dom,"prev");return t.isAtStart()&&(i(t.container())||i(o.container()))},o3=(e,t,o)=>$_(t)?!1:bI(e,t,o)||hI(e,t,o)||pI(e,t,o),Q0=(e,t,o)=>$_(t)?!1:z_(e,t,o)||GA(e,t,o)||Wb(e,t,o)||hI(e,t,o)||n3(e,t),xI=e=>{const t=e.container(),o=e.offset();return Ut(t)&&o<t.data.length?xt(t,o+1):e},Zb=(e,t,o)=>$_(t)?!1:mI(e,t,o)||qA(e,t,o)||Z2(e,t,o)||pI(e,t,o)||yI(e,t),s3=(e,t,o)=>Q0(e,t,o)||Zb(e,xI(t),o),j2=(e,t)=>il(e.charAt(t)),r3=(e,t)=>Rb(e.charAt(t)),wI=e=>{const t=e.container();return Ut(t)&&Ns(t.data,Di)},YF=e=>{const t=e.split("");return Be(t,(o,i)=>il(o)&&i>0&&i<t.length-1&&hh(t[i-1])&&hh(t[i+1])?" ":o).join("")},CI=(e,t,o,i)=>{const c=t.data,m=xt(t,0);return!o&&j2(c,0)&&!s3(e,m,i)?(t.data=" "+c.slice(1),!0):o&&r3(c,0)&&Q0(e,m,i)?(t.data=Di+c.slice(1),!0):!1},_I=e=>{const t=e.data,o=YF(t);return o!==t?(e.data=o,!0):!1},SI=(e,t,o,i)=>{const c=t.data,m=xt(t,c.length-1);return!o&&j2(c,c.length-1)&&!s3(e,m,i)?(t.data=c.slice(0,-1)+" ",!0):o&&r3(c,c.length-1)&&Zb(e,m,i)?(t.data=c.slice(0,-1)+Di,!0):!1},kI=(e,t,o)=>{const i=t.container();if(!Ut(i))return J.none();if(wI(t)){const c=CI(e,i,!1,o)||_I(i)||SI(e,i,!1,o);return Bg(c,t)}else if(s3(e,t,o)){const c=CI(e,i,!0,o)||SI(e,i,!0,o);return Bg(c,t)}else return J.none()},XF=e=>{const t=Fe.fromDom(e.getBody());e.selection.isCollapsed()&&kI(t,xt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},EI=(e,t,o,i)=>{if(o===0)return;const c=Fe.fromDom(e),m=Qa(c,V=>i.isBlock(qo(V))).getOr(c),h=e.data.slice(t,t+o),C=t+o>=e.data.length&&Zb(m,xt(e,e.data.length),i),A=t===0&&Q0(m,xt(e,0),i);e.replaceData(t,o,Mv(h,4,A,C))},U_=(e,t,o)=>{const i=e.data.slice(t),c=i.length-mt(i).length;EI(e,t,c,o)},Vr=(e,t,o)=>{const i=e.data.slice(0,t),c=i.length-ut(i).length;EI(e,t-c,c,o)},K2=(e,t,o,i,c=!0)=>{const m=ut(e.data).length,h=c?e:t,C=c?t:e;return c?h.appendData(C.data):h.insertData(0,C.data),Ds(Fe.fromDom(C)),i&&U_(h,m,o),h},JF=(e,t)=>{const o=e.container(),i=e.offset();return!xt.isTextPosition(e)&&o===t.parentNode&&i>xt.before(t).offset()},QF=(e,t)=>JF(t,e)?xt(t.container(),t.offset()-1):t,ey=e=>Ut(e)?xt(e,0):xt.before(e),zp=e=>Ut(e)?xt(e,e.data.length):xt.after(e),lg=e=>mu(e.previousSibling)?J.some(zp(e.previousSibling)):e.previousSibling?ed(e.previousSibling):J.none(),i3=e=>mu(e.nextSibling)?J.some(ey(e.nextSibling)):e.nextSibling?Jn(e.nextSibling):J.none(),AI=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Hc(e,xt.before(o))).orThunk(()=>Gl(e,xt.after(t))),TI=(e,t)=>Gl(e,xt.after(t)).orThunk(()=>Hc(e,xt.before(t))),W_=(e,t)=>lg(t).orThunk(()=>i3(t)).orThunk(()=>AI(e,t)),e7=(e,t)=>i3(t).orThunk(()=>lg(t)).orThunk(()=>TI(e,t)),a3=(e,t,o)=>e?e7(t,o):W_(t,o),OI=(e,t,o)=>a3(e,t,o).map(tt(QF,o)),l3=(e,t,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),t)})},c3=e=>t=>t.dom===e,DI=(e,t)=>t&&ao(e.schema.getBlockElements(),qo(t)),u3=(e,t,o)=>{if(jr(e,t)){const i=Fe.fromHtml('<br data-mce-bogus="1">');return o?he(la(t),c=>{d_(c)||Ds(c)}):Qs(t),Wr(t,i),J.some(xt.before(i.dom))}else return J.none()},t7=(e,t,o,i)=>{const c=xi(e).filter(ur),m=Wn(e).filter(ur);return Ds(e),gf(c,m,t,(h,C,A)=>{const V=h.dom,Z=C.dom,q=V.data.length;return K2(V,Z,o,i),A.container()===Z?xt(V,q):A}).orThunk(()=>(i&&(c.each(h=>Vr(h.dom,h.dom.length,o)),m.each(h=>U_(h.dom,0,o))),t))},n7=(e,t)=>ao(e.schema.getTextInlineElements(),qo(t)),Cl=(e,t,o,i=!0,c=!1)=>{const m=OI(t,e.getBody(),o.dom),h=Qa(o,tt(DI,e),c3(e.getBody())),C=t7(o,m,e.schema,n7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(A=>u3(e.schema,A,c)).fold(()=>{i&&l3(e,t,C)},A=>{i&&l3(e,t,J.some(A))})},RI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,o7=e=>RI.test(e),jb=(e,t)=>Ps(Fe.fromDom(t),ns(e))&&!Of(e.schema,t)&&e.dom.isEditable(t),G2=e=>{var t;return Gs.DOM.getStyle(e,"direction",!0)==="rtl"||o7((t=e.textContent)!==null&&t!==void 0?t:"")},s7=(e,t,o)=>vt(Gs.DOM.getParents(o.container(),"*",t),e),Hp=(e,t,o)=>{const i=s7(e,t,o);return J.from(i[i.length-1])},II=(e,t,o)=>{const i=Ap(t,e),c=Ap(o,e);return ke(i)&&i===c},d3=e=>ub(e)||y0(e),ad=(e,t)=>{const o=t.container(),i=t.offset();return e?Gm(o)?Ut(o.nextSibling)?xt(o.nextSibling,0):xt.after(o):ub(t)?xt(o,i+1):t:Gm(o)?Ut(o.previousSibling)?xt(o.previousSibling,o.previousSibling.data.length):xt.before(o):y0(t)?xt(o,i-1):t},NI=tt(ad,!0),ty=tt(ad,!1),f3=(e,t)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},PI=e=>{e.execCommand("delete")},Z_=e=>f3(e,"Delete"),m3=e=>f3(e,"ForwardDelete"),q2=e=>t=>ff(aa(t),e,Yo),MI=e=>ab(e)||Km(e),Y2=(e,t)=>ia(e,t)?gi(t,MI,q2(e)):J.none(),j_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},BI=(e,t,o)=>sa(Jn(o),ed(o),(i,c)=>{const m=ad(!0,i),h=ad(!1,c),C=ad(!1,t);return e?Gl(o,C).exists(A=>A.isEqual(h)&&t.isEqual(m)):Hc(o,C).exists(A=>A.isEqual(m)&&t.isEqual(h))}).getOr(!0),qd=e=>(zg(e)?xi(e):Wu(e)).bind(qd).orThunk(()=>J.some(e)),K_=(e,t,o,i=!0)=>{var c;t.deleteContents();const m=qd(o).getOr(o),h=Fe.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?j_(e,i):jr(e.schema,h,{checkRootAsContent:!1})&&(Fc(h),i&&e.selection.setCursorLocation(h.dom,0)),!Yo(o,h)){const C=ff(aa(h),o)?[]:Ov(h);he(C.concat(la(o)),A=>{!Yo(A,h)&&!ia(A,h)&&jr(e.schema,A)&&Ds(A)})}},r7=e=>t=>Yo(e,t),g3=e=>hi(e,"td,th"),As=(e,t)=>Bs(Fe.fromDom(e),t),i7=e=>sa(e.startTable,e.endTable,(t,o)=>{const i=W1(t,m=>Yo(m,o)),c=W1(o,m=>Yo(m,t));return!i&&!c?e:{...e,startTable:i?J.none():e.startTable,endTable:c?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),X2=e=>i7(e),a7=(e,t)=>{const o=As(e.startContainer,t),i=As(e.endContainer,t),c=o.isSome(),m=i.isSome(),h=sa(o,i,Yo).getOr(!1);return X2({startTable:o,endTable:i,isStartInTable:c,isEndInTable:m,isSameTable:h,isMultiTable:!h&&c&&m})},G_=(e,t)=>({start:e,end:t}),$p=(e,t,o)=>({rng:e,table:t,cells:o}),al=Ko.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Up=(e,t)=>Zi(Fe.fromDom(e),"td,th",t),_h=e=>!Yo(e.start,e.end),Jf=(e,t)=>Bs(e.start,t).bind(o=>Bs(e.end,t).bind(i=>Bg(Yo(o,i),o))),J2=(e,t)=>!_h(e)&&Jf(e,t).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),h3=(e,t)=>{const o=Up(e.startContainer,t),i=Up(e.endContainer,t);return sa(o,i,G_)},p3=e=>t=>Bs(t,e).bind(o=>Eo(g3(o)).map(i=>G_(t,i))),LI=e=>t=>Bs(t,e).bind(o=>hn(g3(o)).map(i=>G_(i,t))),q_=e=>t=>Jf(t,e).map(o=>$p(t,o,g3(o))),FI=(e,t,o,i)=>{if(o.collapsed||!e.forall(_h))return J.none();if(t.isSameTable){const c=e.bind(q_(i));return J.some({start:c,end:c})}else{const c=Up(o.startContainer,i),m=Up(o.endContainer,i),h=c.bind(p3(i)).bind(q_(i)),C=m.bind(LI(i)).bind(q_(i));return J.some({start:h,end:C})}},VI=(e,t)=>An(e,o=>Yo(o,t)),Y_=e=>sa(VI(e.cells,e.rng.start),VI(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),zI=(e,t,o)=>e.exists(i=>J2(i,o)&&g2(i.start,t)),v3=(e,t)=>{const{startTable:o,endTable:i}=t,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),i.each(m=>c.setEndBefore(m.dom)),c},HI=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=t,h=Y_(c).getOr([]);if(m&&c.cells.length===h.length)return J.some(al.fullTable(c.table));if(h.length>0){if(m)return J.some(al.partialTable(h,J.none()));{const C=v3(o,t);return J.some(al.partialTable(h,J.some({...t,rng:C})))}}else return J.none()}),b3=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>{const h=c.bind(Y_).getOr([]),C=m.bind(Y_).getOr([]);if(h.length>0&&C.length>0){const A=v3(o,t);return J.some(al.multiTable(h,C,A))}else return J.none()}),l7=(e,t)=>{const o=r7(e),i=h3(t,o),c=a7(t,o);return zI(i,t,o)?i.map(m=>al.singleCellTable(t,m.start)):c.isMultiTable?b3(i,c,t,o):HI(i,c,t,o)},$I=e=>he(e,t=>{Do(t,"contenteditable"),Fc(t)}),c7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(Fe.fromDom),cg=(e,t,o)=>{o.each(i=>{t?Ds(i):(Fc(i),e.selection.setCursorLocation(i.dom,0))})},Kb=(e,t,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),w3(e,c,t,!1).each(m=>m())},y3=e=>{const t=Kf(e),o=Fe.fromDom(e.selection.getNode());lp(o.dom)&&jr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&be(t,i=>Yo(i,o))&&yi(o,"data-mce-selected","1")},x3=(e,t,o)=>J.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:h})=>{const C=c7(e,h?m.endContainer:m.startContainer);m.deleteContents(),cg(e,h,C.filter(tt(jr,e.schema)));const A=h?t[0]:t[t.length-1];return Kb(e,A,i,h),jr(e.schema,A)?J.none():J.some(h?t.slice(1):t.slice(0,-1))}).getOr(t);$I(c),y3(e)}),UI=(e,t,o,i)=>J.some(()=>{const c=e.selection.getRng(),m=t[0],h=o[o.length-1];Kb(e,m,c,!0),Kb(e,h,c,!1);const C=jr(e.schema,m)?t:t.slice(1),A=jr(e.schema,h)?o:o.slice(0,-1);$I(C.concat(A)),i.deleteContents(),y3(e)}),w3=(e,t,o,i=!0)=>J.some(()=>{K_(e,t,o,i)}),Wp=(e,t)=>J.some(()=>Cl(e,!1,t)),u7=(e,t,o)=>l7(t,o).bind(i=>i.fold(tt(w3,e),tt(Wp,e),tt(x3,e),tt(UI,e))),d7=(e,t)=>X_(e,t),f7=(e,t,o,i)=>C3(t,i).fold(()=>u7(e,t,o),c=>d7(e,c)),m7=(e,t,o)=>{const i=Fe.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?x3(e,o,J.none()):f7(e,i,c,t)},WI=(e,t)=>cn(Zc(t,e),Lc),C3=(e,t)=>cn(Zc(t,e),vf("caption")),g7=(e,t,o,i,c)=>Ob(o,e.getBody(),c).bind(m=>WI(t,Fe.fromDom(m.getNode())).bind(h=>Yo(h,i)?J.none():J.some(ct))),X_=(e,t)=>J.some(()=>{Fc(t),e.selection.setCursorLocation(t.dom,0)}),h7=(e,t,o,i)=>Jn(e.dom).bind(c=>ed(e.dom).map(m=>t?o.isEqual(c)&&i.isEqual(m):o.isEqual(m)&&i.isEqual(c))).getOr(!0),J_=(e,t)=>X_(e,t),p7=(e,t,o)=>C3(e,Fe.fromDom(o.getNode())).fold(()=>J.some(ct),i=>Bg(!Yo(i,t),ct)),Q2=(e,t,o,i,c)=>Ob(o,e.getBody(),c).fold(()=>J.some(ct),m=>h7(i,o,c,m)?J_(e,i):p7(t,i,m)),_3=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return WI(o,i).bind(m=>jr(e.schema,m,{checkRootAsContent:!1})?X_(e,m):g7(e,o,t,m,c))},Gb=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return jr(e.schema,i)?X_(e,i):Q2(e,o,t,i,c)},Zp=(e,t)=>e?uI(t):X0(t),Q_=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return Zp(t,o)||bu(t,e.getBody(),o).exists(i=>Zp(t,i))},eS=(e,t,o)=>{const i=Fe.fromDom(e.getBody());return C3(i,o).fold(()=>_3(e,t,i,o).orThunk(()=>Bg(Q_(e,t),ct)),c=>Gb(e,t,i,c))},Sh=(e,t)=>{const o=Fe.fromDom(e.selection.getStart(!0)),i=Kf(e);return e.selection.isCollapsed()&&i.length===0?eS(e,t,o):m7(e,o,i)},ld=(e,t)=>{let o=t;for(;o&&o!==e;){if(Rc(o)||fo(o))return o;o=o.parentNode}return null},tS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],nS=Xt.each,oS=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(m,h)=>{if(m.nodeName!==h.nodeName||m.nodeType!==h.nodeType)return!1;const C=V=>{const Z={};return nS(t.getAttribs(V),q=>{const Q=q.nodeName.toLowerCase();Q!=="style"&&!c(Q)&&(Z[Q]=t.getAttrib(V,Q))}),Z},A=(V,Z)=>{for(const q in V)if(ao(V,q)){const Q=Z[q];if(qe(Q)||V[q]!==Q)return!1;delete Z[q]}for(const q in Z)if(ao(Z,q))return!1;return!0};return En(m)&&En(h)&&(!A(C(m),C(h))||!A(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(h,"style"))))?!1:!xu(m)&&!xu(h)},c=m=>be(tS,h=>cr(m,h))||o.has(m);return{compare:i,isAttributeInternal:c}},sS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),S3=e=>e.name==="summary",ZI=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},k3=(e,t,o,i)=>{const c=o.name;for(let m=0,h=e.length;m<h;m++){const C=e[m];if(C.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:C,nodes:[o]}}}if(o.attributes)for(let m=0,h=t.length;m<h;m++){const C=t[m],A=C.name;if(A in o.attributes.map){const V=i.attributes[A];V?V.nodes.push(o):i.attributes[A]={filter:C,nodes:[o]}}}},ny=(e,t,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&ZI(o,c=>{k3(e,t,c,i)}),i},E3=(e,t)=>{const o=(i,c)=>{rs(i,m=>{const h=vo(m.nodes);he(m.filter.callbacks,C=>{for(let A=h.length-1;A>=0;A--){const V=h[A];(!(c?V.attr(m.filter.name)!==void 0:V.name===m.filter.name)||st(V.parent))&&h.splice(A,1)}h.length>0&&C(h,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},A3=(e,t,o,i={})=>{const c=ny(e,t,o);E3(c,i)},rS=(e,t,o,i)=>{if((e.pad_empty_with_br||t.insert)&&o(i)){const m=new Da("br",1);t.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new Da("#text",3)).value=Di},iS=e=>{var t;return T3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Di},T3=(e,t)=>{const o=e==null?void 0:e.firstChild;return ke(o)&&o===e.lastChild&&o.name===t},jI=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},oy=(e,t,o,i)=>i.isEmpty(t,o,c=>jI(e,c)),KI=(e,t)=>ke(e)&&(t(e)||e.name==="br"),kh=e=>{let t;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(t=o)}return J.from(t)},ug=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!t.isValidChild(o.name,c.name)&&ug(c,t,o);e.unwrap()}},Cu=(e,t,o,i=ct)=>{const c=t.getTextBlockElements(),m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=Xt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,V=Z=>Z!==o&&!C[Z.name];for(let Z=0;Z<e.length;Z++){const q=e[Z];let Q,ge,Se;if(!q.parent||A.has(q))continue;if(c[q.name]&&q.parent.name==="li"){let Oe=q.next;for(;Oe&&c[Oe.name];){Oe.name="li",A.add(Oe),q.parent.insert(Oe,q.parent);Oe=Oe.next}q.unwrap();continue}const pe=[q];for(Q=q.parent;Q&&!t.isValidChild(Q.name,q.name)&&V(Q);Q=Q.parent)pe.push(Q);if(Q&&pe.length>1)if(ew(t,q,Q))ug(q,t);else{pe.reverse(),ge=pe[0].clone(),i(ge);let Oe=ge;for(let He=0;He<pe.length-1;He++){t.isValidChild(Oe.name,pe[He].name)&&He>0?(Se=pe[He].clone(),i(Se),Oe.append(Se)):Se=Oe;for(let Qe=pe[He].firstChild;Qe&&Qe!==pe[He+1];){const Xe=Qe.next;Se.append(Qe),Qe=Xe}Oe=Se}oy(t,m,h,ge)?Q.insert(q,pe[0],!0):(Q.insert(ge,pe[0],!0),Q.insert(q,ge)),Q=pe[0],(oy(t,m,h,Q)||T3(Q,"br"))&&Q.empty().remove()}else if(q.parent){if(q.name==="li"){let Oe=q.prev;if(Oe&&(Oe.name==="ul"||Oe.name==="ol")){Oe.append(q);continue}if(Oe=q.next,Oe&&(Oe.name==="ul"||Oe.name==="ol")&&Oe.firstChild){Oe.insert(q,Oe.firstChild,!0);continue}const He=new Da("ul",1);i(He),q.wrap(He);continue}if(t.isValidChild(q.parent.name,"div")&&t.isValidChild("div",q.name)){const Oe=new Da("div",1);i(Oe),q.wrap(Oe)}else ug(q,t)}}},O3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},ew=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&O3(o,"a")?!0:S3(o)&&sS(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,GI=(e,t,o,i)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,i),c},qI=e=>{const t=xt.fromRangeStart(e),o=xt.fromRangeEnd(e),i=e.commonAncestorContainer;return bu(!1,i,o).map(c=>!tg(t,o,i)&&tg(t,c,i)?GI(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},aS=e=>e.collapsed?e:qI(e),D3=e=>ke(e.firstChild)&&e.firstChild===e.lastChild,YI=e=>e.name==="br"||e.value===Di,XI=(e,t)=>e.getBlockElements()[t.name]&&D3(t)&&YI(t.firstChild),R3=(e,t)=>{const o=e.getNonEmptyElements();return ke(t)&&(t.isEmpty(o)||XI(e,t))},dg=(e,t)=>{let o=t.firstChild,i=t.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),R3(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},Yd=e=>{var t,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((t=i.parentNode)===null||t===void 0||t.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},lS=(e,t,o)=>{const i=t.serialize(o),c=e.createFragment(i);return Yd(c)},JI=e=>{var t;return vt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},cS=e=>e.data===Di||pr(e),QI=e=>ke(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&cS(e.firstChild),eN=e=>!e.firstChild||QI(e),tN=e=>e.length>0&&eN(e[e.length-1])?e.slice(0,-1):e,uS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},nN=(e,t)=>!!uS(e,t),oN=(e,t)=>{const o=t.cloneRange(),i=t.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},dS=(e,t)=>{const o=xt.before(e),c=Kn(t).next(o);return c?c.toRange():null},fS=(e,t)=>{const o=xt.after(e),c=Kn(t).prev(o);return c?c.toRange():null},sN=(e,t,o,i)=>{const c=oN(e,i),m=e.parentNode;return m&&(m.insertBefore(c[0],e),Xt.each(t,h=>{m.insertBefore(h,e)}),m.insertBefore(c[1],e),m.removeChild(e)),fS(t[t.length-1],o)},I3=(e,t,o)=>{const i=e.parentNode;return i&&Xt.each(t,c=>{i.insertBefore(c,e)}),dS(e,o)},v7=(e,t,o,i)=>(i.insertAfter(t.reverse(),e),fS(t[0],o)),b7=(e,t,o,i)=>{const c=lS(t,e,i),m=uS(t,o.startContainer),h=tN(JI(c.firstChild)),C=1,A=2,V=t.getRoot(),Z=q=>{const Q=xt.fromRangeStart(o),ge=Kn(t.getRoot()),Se=q===C?ge.prev(Q):ge.next(Q),pe=Se==null?void 0:Se.getNode();return pe?uS(t,pe)!==m:!0};return m?Z(C)?I3(m,h,V):Z(A)?v7(m,h,V,t):sN(m,h,V,o):null},y7=["pre"],x7=(e,t,o,i)=>{var c;const m=t.firstChild,h=t.lastChild,C=h.attr("data-mce-type")==="bookmark"?h.prev:h,A=m===C,V=ae(y7,m.name);if(A&&V){const Z=m.attr("contenteditable")!=="false",q=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,Q=J.from(ld(i,o)).forall(Rc);return Z&&q&&Q}else return!1},N3=lp,w7=(e,t,o)=>{if(ke(o)){const i=e.getParent(t.endContainer,N3);return o===i&&g2(Fe.fromDom(o),t)}else return!1},mS=(e,t,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(t),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},P3=(e,t,o)=>{J.from(e.getParent(t,"td,th")).map(Fe.fromDom).each(i=>Fx(i,o))},rN=(e,t)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(t){const c=e.getBody(),m=oS(e),h="*[data-mce-fragment]",C=i.select(h);Xt.each(C,A=>{const V=Q=>ke(o[Q.nodeName.toLowerCase()]),Z=Q=>Q.childNodes.length===1;if((Q=>!(ZA(i,Q)||rI(i,Q)))(A)&&V(A)&&Z(A)){const Q=Hb(i,A),ge=(He,Qe)=>Oo(He,Xe=>ae(Qe,Xe)),Se=He=>Z(A)&&i.is(He,h)&&V(He)&&(He.nodeName===A.nodeName&&ge(Q,Hb(i,He))||Se(He.children[0])),pe=He=>ke(He)&&He!==c&&(m.compare(A,He)||pe(He.parentElement)),Oe=He=>ke(He)&&He!==c&&i.is(He,h)&&(GF(i,A,He)||Oe(He.parentElement));(Se(A.children[0])||pe(A.parentElement)&&!Oe(A.parentElement))&&i.remove(A,!0)}})}},M3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},C7=e=>{Xt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},_7=e=>!!e.getAttribute("data-mce-fragment"),S7=(e,t)=>ke(t)&&!e.schema.getVoidElements()[t.nodeName],k7=(e,t)=>{var o,i,c;let m;const h=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=ld(e.getBody(),t);if(A&&h.getContentEditable(A)==="false"){h.remove(t),C.select(A);return}let V=h.createRng();const Z=t.previousSibling;if(Ut(Z)){V.setStart(Z,(i=(o=Z.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ge=t.nextSibling;Ut(ge)&&(Z.appendData(ge.data),(c=ge.parentNode)===null||c===void 0||c.removeChild(ge))}else V.setStartBefore(t),V.setEndBefore(t);const q=ge=>{let Se=xt.fromRangeStart(ge);return Se=Kn(e.getBody()).next(Se),Se==null?void 0:Se.toRange()},Q=h.getParent(t,h.isBlock);if(h.remove(t),Q&&h.isEmpty(Q)){const ge=N3(Q);Qs(Fe.fromDom(Q)),V.setStart(Q,0),V.setEnd(Q,0),!ge&&!_7(Q)&&(m=q(V))?(V=m,h.remove(Q)):h.add(Q,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}C.setRng(V)},E7=e=>{const t=e.dom,o=aS(e.selection.getRng());e.selection.setRng(o);const i=t.getParent(o.startContainer,N3);w7(t,o,i)?w3(e,o,Fe.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},A7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},gS=(e,t,o)=>{var i;return be(o.children(),sS)&&((i=e.getParent(t,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},hS=(e,t,o)=>{var i,c;const m=e.selection,h=e.dom,C=e.parser,A=o.merge,V=wh({validate:!0},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=xl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,Z);let q=m.getRng();const Q=q.startContainer,ge=e.getBody();Q===ge&&m.isCollapsed()&&h.isBlock(ge.firstChild)&&S7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(q=h.createRng(),q.setStart(ge.firstChild,0),q.setEnd(ge.firstChild,0),m.setRng(q)),m.isCollapsed()||E7(e);const Se=m.getNode(),pe={context:Se.nodeName.toLowerCase(),data:o.data,insert:!0},Oe=C.parse(t,pe);if(o.paste===!0&&dg(e.schema,Oe)&&nN(h,Se))return q=b7(V,h,m.getRng(),Oe),q&&m.setRng(q),t;o.paste===!0&&x7(h,Oe,Se,e.getBody())&&((i=Oe.firstChild)===null||i===void 0||i.unwrap()),M3(Oe);let He=Oe.lastChild;if(He&&He.attr("id")==="mce_marker"){const Qe=He;for(He=He.prev;He;He=He.walk(!0))if(He.type===3||!h.isBlock(He.name)){He.parent&&e.schema.isValidChild(He.parent.name,"span")&&He.parent.insert(Qe,He,He.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Se),!pe.invalid&&!gS(h,Se,Oe))t=V.serialize(Oe),mS(e,t,Se);else{e.selection.setContent(Z);let Qe=m.getNode(),Xe;const dt=e.getBody();for(Rn(Qe)?Qe=Xe=dt:Xe=Qe;Xe&&Xe!==dt;)Qe=Xe,Xe=Xe.parentNode;t=Qe===dt?dt.innerHTML:h.getOuterHTML(Qe);const Bt=C.parse(t),Yt=A7(Bt),pn=Yt.bind(kh).getOr(Bt);Yt.each(Cn=>Cn.replace(Oe));const kt=Oe.children(),bt=(c=Oe.parent)!==null&&c!==void 0?c:Bt;Oe.unwrap();const Nt=vt(kt,Cn=>ew(e.schema,Cn,bt));Cu(Nt,e.schema,pn),A3(C.getNodeFilters(),C.getAttributeFilters(),Bt),t=V.serialize(Bt),Qe===dt?h.setHTML(dt,t):h.setOuterHTML(Qe,t)}return rN(e,A),k7(e,h.get("mce_marker")),C7(e.getBody()),P3(h,m.getStart(),e.schema),Bd(e.schema,e.getBody(),m.getStart()),t},qb=e=>e instanceof Da,T7=e=>{j0(e)&&Jn(e.getBody()).each(t=>{const o=t.getNode(),i=lu(o)?Jn(o).getOr(t):t;e.selection.setRng(i.toRange())})},B3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&T7(e)},O7=(e,t,o,i)=>{if(o=xl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const m=rl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,Yx(e),o)):o||(o=c),B3(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=wh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=cb(Fe.fromDom(t))?o:Xt.trim(o);return B3(e,c,i.no_selection),{content:c,html:c}}},D7=(e,t,o,i)=>{A3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=wh({validate:!1},e.schema).serialize(o),m=xl(cb(Fe.fromDom(t))?c:Xt.trim(c));return B3(e,m,i.no_selection),{content:o,html:m}},R7=(e,t,o)=>J.from(e.getBody()).map(i=>qb(t)?D7(e,i,t,o):O7(e,i,t,o)).getOr({content:t,html:qb(o.content)?"":o.content}),iN=e=>Le(e)?e:fn,Xd=(e,t,o)=>{let i=e.dom;const c=iN(o);for(;i.parentNode;){i=i.parentNode;const m=Fe.fromDom(i),h=t(m);if(h.isSome())return h;if(c(m))break}return J.none()},tw=(e,t,o)=>{const i=t(e),c=iN(o);return i.orThunk(()=>c(e)?J.none():Xd(e,t,c))},pS=$0,L3=(e,t,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const m=i[c];if($c(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},vS=(e,t,o,i,c)=>{const m=e.dom.getRoot();if(t===m)return!1;const h=e.dom.getParent(t,C=>L3(e,C,o)?!0:C.parentNode===m||!!fg(e,C,o,i,!0));return!!fg(e,h,o,i,c)},bS=(e,t,o)=>ha(o)&&pS(t,o.inline)||Gf(o)&&pS(t,o.block)?!0:$c(o)?En(t)&&e.is(t,o.selector):!1,F3=(e,t,o,i,c,m)=>{const h=o[i],C=i==="attributes";if(Le(o.onmatch))return o.onmatch(t,o,i);if(h){if(rn(h)){for(let A=0;A<h.length;A++)if(C?e.getAttrib(t,h[A]):p2(e,t,h[A]))return!0}else for(const A in h)if(ao(h,A)){const V=C?e.getAttrib(t,A):p2(e,t,A),Z=ph(h[A],m),q=st(V)||Wt(V);if(q&&st(Z))continue;if(c&&q&&!o.exact||(!c||o.exact)&&!pS(V,l_(Z,A)))return!1}}return!0},fg=(e,t,o,i,c)=>{const m=e.formatter.get(o),h=e.dom;if(m&&En(t))for(let C=0;C<m.length;C++){const A=m[C];if(bS(e.dom,t,A)&&F3(h,t,A,"attributes",c,i)&&F3(h,t,A,"styles",c,i)){const V=A.classes;if(V){for(let Z=0;Z<V.length;Z++)if(!e.dom.hasClass(t,ph(V[Z],i)))return}return A}}},jp=(e,t,o,i,c)=>{if(i)return vS(e,i,t,o,c);if(i=e.selection.getNode(),vS(e,i,t,o,c))return!0;const m=e.selection.getStart();return!!(m!==i&&vS(e,m,t,o,c))},aN=(e,t,o)=>{const i=[],c={},m=e.selection.getStart();return e.dom.getParent(m,h=>{for(let C=0;C<t.length;C++){const A=t[C];!c[A]&&fg(e,h,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},lN=(e,t)=>{const o=c=>Yo(c,Fe.fromDom(e.getBody())),i=(c,m)=>fg(e,c.dom,m)?J.some(m):J.none();return J.from(e.selection.getStart(!0)).bind(c=>tw(Fe.fromDom(c),m=>or(t,h=>i(m,h)),o)).getOrNull()},cN=(e,t)=>{const o=e.formatter.get(t),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=v2(i,c);for(let h=o.length-1;h>=0;h--){const C=o[h];if(!$c(C))return!0;for(let A=m.length-1;A>=0;A--)if(i.is(m[A],C.selector))return!0}}return!1},V3=(e,t,o)=>Vt(o,(i,c)=>{const m=Y5(e,c);return e.formatter.matchNode(t,c,{},m)?i.concat([c]):i},[]),nw=Ci,I7=(e,t)=>e.importNode(t,!0),uN=e=>{if(e){const t=new ca(e,e);for(let o=t.current();o;o=t.next())if(Ut(o))return o}return null},mg=e=>{const t=Fe.fromTag("span");return Pa(t,{id:L0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Wr(t,Fe.fromText(nw)),t},z3=e=>{const t=uN(e);return t&&t.data.charAt(0)===nw&&t.deleteData(0,1),t},H3=(e,t,o)=>{const i=e.dom,c=e.selection;if(cA(t))Cl(e,!1,Fe.fromDom(t),o,!0);else{const m=c.getRng(),h=i.getParent(t,i.isBlock),C=m.startContainer,A=m.startOffset,V=m.endContainer,Z=m.endOffset,q=z3(t);i.remove(t,!0),C===q&&A>0&&m.setStart(q,A-1),V===q&&Z>0&&m.setEnd(q,Z-1),h&&i.isEmpty(h)&&Fc(Fe.fromDom(h)),c.setRng(m)}},$3=(e,t,o)=>{const i=e.dom,c=e.selection;if(t)H3(e,t,o);else if(t=Tp(e.getBody(),c.getStart()),!t)for(;t=i.get(L0);)H3(e,t,o)},Yb=(e,t,o)=>{var i,c;const m=e.dom,h=m.getParent(o,tt(a_,e.schema));h&&m.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(t,o):(ic(Fe.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(t,o):m.insertAfter(t,o))},U3=(e,t)=>(e.appendChild(t),t),ow=(e,t)=>{var o;const i=Ft(e,(m,h)=>U3(m,h.cloneNode(!1)),t),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return U3(i,c.createTextNode(nw))},N7=(e,t,o,i,c,m)=>{const h=e.formatter,C=e.dom,A=vt(Kt(h.get()),q=>q!==i&&!Ns(q,"removeformat")),V=V3(e,o,A);if(vt(V,q=>!X5(e,q,i)).length>0){const q=o.cloneNode(!1);return C.add(t,q),h.remove(i,c,q,m),C.remove(q),J.some(q)}else return J.none()},dN=e=>sb(e,jm(e).replace(new RegExp(`${Di}$`)," ")),W3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&xi(Fe.fromDom(t)).each(i=>{ur(i)?dN(i):Wi(i,c=>ur(c)).each(c=>{ur(c)&&dN(c)})})};e.once("input",i=>{i.data&&!Rb(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},Eh=(e,t,o)=>{let i;const c=e.selection,m=e.formatter.get(t);if(!m)return;const h=c.getRng();let C=h.startOffset;const V=h.startContainer.nodeValue;i=Tp(e.getBody(),c.getStart());const Z=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(V&&C>0&&C<V.length&&Z.test(V.charAt(C))&&Z.test(V.charAt(C-1))){const q=c.getBookmark();h.collapse(!0);let Q=Rp(e.dom,h,m);Q=N2(Q),e.formatter.apply(t,o,Q),c.moveToBookmark(q)}else{let q=i?uN(i):null;(!i||(q==null?void 0:q.data)!==nw)&&(i=I7(e.getDoc(),mg(!0).dom),q=i.firstChild,h.insertNode(i),C=1,W3(e,i)),e.formatter.apply(t,o,i),c.setCursorLocation(q,C)}},Z3=(e,t,o,i)=>{const c=e.dom,m=e.selection;let h=!1;const C=e.formatter.get(t);if(!C)return;const A=m.getRng(),V=A.startContainer,Z=A.startOffset;let q=V;Ut(V)&&(Z!==V.data.length&&(h=!0),q=q.parentNode);const Q=[];let ge;for(;q;){if(fg(e,q,t,o,i)){ge=q;break}q.nextSibling&&(h=!0),Q.push(q),q=q.parentNode}if(ge)if(h){const Se=m.getBookmark();A.collapse(!0);let pe=Rp(c,A,C,!0);pe=N2(pe),e.formatter.remove(t,o,pe,i),m.moveToBookmark(Se)}else{const Se=Tp(e.getBody(),ge),pe=ke(Se)?c.getParents(ge.parentNode,_n,Se):[],Oe=mg(!1).dom;Yb(e,Oe,Se??ge);const He=N7(e,Oe,ge,t,o,i),Qe=ow([...Q,...He.toArray(),...pe],Oe);Se&&H3(e,Se,ke(Se)),m.setCursorLocation(Qe,1),W3(e,Oe),c.isEmpty(ge)&&c.remove(ge)}},j3=(e,t,o)=>{const i=e.selection,c=e.getBody();$3(e,null,o),(t===8||t===46)&&i.isCollapsed()&&i.getStart().innerHTML===nw&&$3(e,Tp(c,i.getStart()),!0),(t===37||t===39)&&$3(e,Tp(c,i.getStart()),!0)},K3=e=>Ut(e)&&Te(e.data,Di),fN=e=>{e.on("mouseup keydown",t=>{j3(e,t.keyCode,K3(e.selection.getRng().endContainer))})},G3=e=>{const t=mg(!1),o=ow(e,t.dom);return{caretContainer:t,caretPosition:xt(o,0)}},q3=(e,t)=>{const{caretContainer:o,caretPosition:i}=G3(t);return Dr(Fe.fromDom(e),o),Ds(Fe.fromDom(e)),i},P7=(e,t)=>{const{caretContainer:o,caretPosition:i}=G3(t);return e.insertNode(o.dom),i},sy=(e,t)=>{if(yu(t.dom))return!1;const o=e.schema.getTextInlineElements();return ao(o,qo(t))&&!yu(t.dom)&&!kf(t.dom)},Kp={},Y3=ua(["pre"]),mN=(e,t)=>{Kp[e]||(Kp[e]=[]),Kp[e].push(t)},gN=(e,t)=>{ao(Kp,e)&&he(Kp[e],o=>{o(t)})};mN("pre",e=>{const t=e.selection.getRng(),o=c=>m=>{const h=m.previousSibling;return Y3(h)&&ae(c,h)},i=(c,m)=>{const h=Fe.fromDom(m),C=tc(h).dom;Ds(h),ei(Fe.fromDom(c),[Fe.fromTag("br",C),Fe.fromTag("br",C),...la(h)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),m=vt(vt(c,Y3),o(c));he(m,h=>{i(h.previousSibling,h)})}});const X3=["fontWeight","fontStyle","color","fontSize","fontFamily"],yS=e=>ee(e.styles)&&be(Kt(e.styles),t=>ae(X3,t)),J3=e=>cn(e,t=>ha(t)&&t.inline==="span"&&yS(t)),ry=(e,t)=>{const o=e.get(t);return le(o)?J3(o):J.none()},hN=(e,t)=>Hc(t,xt.fromRangeStart(e)).isNone(),Q3=(e,t)=>Gl(t,xt.fromRangeEnd(e)).exists(o=>!pr(o.getNode())||Gl(t,o).isSome())===!1,pN=e=>t=>ax(t)&&e.isEditable(t),M7=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return hN(o,t[0])&&Q3(o,t[0])?t:[];{const i=hn(t).filter(h=>hN(o,h)).toArray(),c=Eo(t).filter(h=>Q3(o,h)).toArray(),m=t.slice(1,-1);return i.concat(m).concat(c)}},vN=e=>vt(M7(e),pN(e.dom)),e4=e=>vt(e.getSelectedBlocks(),pN(e.dom)),t4=Xt.each,xS=e=>En(e)&&!xu(e)&&!yu(e)&&!kf(e),Gp=(e,t)=>{for(let o=e;o;o=o[t]){if(Ut(o)&&Je(o.data))return e;if(En(o)&&!xu(o))return o}return e},n4=(e,t,o)=>{const i=oS(e),c=au(t)&&e.dom.isEditable(t),m=au(o)&&e.dom.isEditable(o);if(c&&m){const h=Gp(t,"previousSibling"),C=Gp(o,"nextSibling");if(i.compare(h,C)){for(let A=h.nextSibling;A&&A!==C;){const V=A;A=A.nextSibling,h.appendChild(V)}return e.dom.remove(C),Xt.each(Xt.grep(C.childNodes),A=>{h.appendChild(A)}),h}}return o},wS=(e,t,o,i)=>{var c;if(i&&t.merge_siblings!==!1){const m=(c=n4(e,Ib(i),i))!==null&&c!==void 0?c:i;n4(e,m,Ib(m,!0))}},bN=(e,t,o)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";t4(e.select(i,o),c=>{xS(c)&&e.isEditable(c)&&t4(t.styles,(m,h)=>{e.setStyle(c,h,"")})})}},sw=(e,t,o)=>{t4(e.childNodes,i=>{xS(i)&&(t(i)&&o(i),i.hasChildNodes()&&sw(i,t,o))})},qp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},o4=(e,t)=>o=>!!(o&&p2(e,o,t)),_u=(e,t,o)=>i=>{e.setStyle(i,t,o),i.getAttribute("style")===""&&i.removeAttribute("style"),qp(e,i)},cd=Ko.generate([{keep:[]},{rename:["name"]},{removed:[]}]),s4=/^(src|href|style)$/,CS=Xt.each,_S=$0,yN=e=>/^(TR|TH|TD)$/.test(e.nodeName),Xb=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),rw=(e,t,o)=>{let i=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(En(i)){const m=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>m?m:c]}return Ut(i)&&o&&c>=i.data.length&&(i=new ca(i,e.getBody()).next()||i),Ut(i)&&!o&&c===0&&(i=new ca(i,e.getBody()).prev()||i),i},r4=(e,t)=>{const o=t?"firstChild":"lastChild",i=e[o];return yN(e)&&i?e.nodeName==="TR"&&i[o]||i:e},SS=(e,t,o,i)=>{var c;const m=e.create(o,i);return(c=t.parentNode)===null||c===void 0||c.insertBefore(m,t),m.appendChild(t),m},kS=(e,t,o,i,c)=>{const m=Fe.fromDom(t),h=Fe.fromDom(e.create(i,c)),C=o?Tm(m):$u(m);return ei(h,C),o?(Dr(m,h),Fa(h,m)):(it(m,h),Wr(h,m)),h.dom},B7=(e,t)=>t.links&&e.nodeName==="A",xN=(e,t,o)=>{const i=t.parentNode;let c;const m=e.dom,h=rl(e);Gf(o)&&i===m.getRoot()&&(!o.list_block||!_S(t,o.list_block))&&he(vo(t.childNodes),C=>{Op(e,h,C.nodeName.toLowerCase())?c?c.appendChild(C):(c=SS(m,C,h),m.setAttribs(c,Yx(e))):c=null}),!(eR(o)&&!_S(o.inline,t))&&m.remove(t,!0)},i4=(e,t,o)=>O(e)?{name:t,value:null}:{name:e,value:ph(t,o)},wN=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},jc=(e,t,o,i,c)=>{let m=!1;CS(o.styles,(h,C)=>{const{name:A,value:V}=i4(C,h,i),Z=l_(V,A);(o.remove_similar||Ue(V)||!En(c)||_S(p2(e,c,A),Z))&&e.setStyle(t,A,""),m=!0}),m&&wN(e,t)},a4=(e,t,o)=>{t==="removeformat"?he(e4(e.selection),i=>{he(X3,c=>e.dom.setStyle(i,c,"")),wN(e.dom,i)}):ry(e.formatter,t).each(i=>{he(e4(e.selection),c=>jc(e.dom,c,i,o,null))})},l4=(e,t,o,i,c)=>{const m=e.dom,h=oS(e),C=e.schema;if(ha(t)&&zv(C,t.inline)&&Of(C,i)&&i.parentElement===e.getBody())return xN(e,i,t),cd.removed();if(!t.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!bS(m,i,t)&&!B7(i,t))return cd.keep();const A=i,V=t.preserve_attributes;if(ha(t)&&t.remove==="all"&&le(V)){const Z=vt(m.getAttribs(A),q=>ae(V,q.name.toLowerCase()));if(m.removeAllAttribs(A),he(Z,q=>m.setAttrib(A,q.name,q.value)),Z.length>0)return cd.rename("span")}if(t.remove!=="all"){jc(m,A,t,o,c),CS(t.attributes,(q,Q)=>{const{name:ge,value:Se}=i4(Q,q,o);if(t.remove_similar||Ue(Se)||!En(c)||_S(m.getAttrib(c,ge),Se)){if(ge==="class"){const pe=m.getAttrib(A,ge);if(pe){let Oe="";if(he(pe.split(/\s+/),He=>{/mce\-\w+/.test(He)&&(Oe+=(Oe?" ":"")+He)}),Oe){m.setAttrib(A,ge,Oe);return}}}if(s4.test(ge)&&A.removeAttribute("data-mce-"+ge),ge==="style"&&ua(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ge),m.setStyle(A,"list-style-type","none");return}ge==="class"&&A.removeAttribute("className"),A.removeAttribute(ge)}}),CS(t.classes,q=>{q=ph(q,o),(!En(c)||m.hasClass(c,q))&&m.removeClass(A,q)});const Z=m.getAttribs(A);for(let q=0;q<Z.length;q++){const Q=Z[q].nodeName;if(!h.isAttributeInternal(Q))return cd.keep()}}return t.remove!=="none"?(xN(e,A,t),cd.removed()):cd.keep()},c4=(e,t,o,i,c)=>{let m;return t.parentNode&&he(v2(e.dom,t.parentNode).reverse(),h=>{if(!m&&En(h)&&h.id!=="_start"&&h.id!=="_end"){const C=fg(e,h,o,i,c);C&&C.split!==!1&&(m=h)}}),m},CN=(e,t,o,i)=>l4(e,t,o,i,i).fold(et(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),et(null)),iw=(e,t,o,i,c,m,h,C)=>{var A,V;let Z,q;const Q=e.dom;if(o){const ge=o.parentNode;for(let Se=i.parentNode;Se&&Se!==ge;Se=Se.parentNode){let pe=Q.clone(Se,!1);for(let Oe=0;Oe<t.length&&(pe=CN(e,t[Oe],C,pe),pe!==null);Oe++);pe&&(Z&&pe.appendChild(Z),q||(q=pe),Z=pe)}(!h.mixed||!Q.isBlock(o))&&(i=(A=Q.split(o,i))!==null&&A!==void 0?A:i),Z&&q&&((V=c.parentNode)===null||V===void 0||V.insertBefore(Z,c),q.appendChild(c),ha(h)&&wS(e,h,C,Z))}return i},Ah=(e,t,o,i,c)=>{const m=e.formatter.get(t),h=m[0],C=e.dom,A=e.selection,V=pe=>{const Oe=c4(e,pe,t,o,c);return iw(e,m,Oe,pe,pe,!0,h,o)},Z=pe=>xu(pe)&&En(pe)&&(pe.id==="_start"||pe.id==="_end"),q=pe=>be(m,Oe=>Xp(e,Oe,o,pe,pe)),Q=pe=>{const Oe=vo(pe.childNodes),Qe=q(pe)||be(m,Bt=>bS(C,pe,Bt)),Xe=pe.parentNode;if(!Qe&&ke(Xe)&&u_(h)&&q(Xe),h.deep&&Oe.length)for(let Bt=0;Bt<Oe.length;Bt++)Q(Oe[Bt]);he(["underline","line-through","overline"],Bt=>{En(pe)&&e.dom.getStyle(pe,"text-decoration")===Bt&&pe.parentNode&&lA(C,pe.parentNode)===Bt&&Xp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},void 0,pe)})},ge=pe=>{const Oe=C.get(pe?"_start":"_end");if(Oe){let He=Oe[pe?"firstChild":"lastChild"];return Z(He)&&(He=He[pe?"firstChild":"lastChild"]),Ut(He)&&He.data.length===0&&(He=pe?Oe.previousSibling||Oe.nextSibling:Oe.nextSibling||Oe.previousSibling),C.remove(Oe,!0),He}else return null},Se=pe=>{let Oe,He,Qe=Rp(C,pe,m,pe.collapsed);if(h.split){if(Qe=N2(Qe),Oe=rw(e,Qe,!0),He=rw(e,Qe),Oe!==He){if(Oe=r4(Oe,!0),He=r4(He,!1),Xb(C,Oe,He)){const dt=J.from(Oe.firstChild).getOr(Oe);V(kS(C,dt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(Xb(C,He,Oe)){const dt=J.from(He.lastChild).getOr(He);V(kS(C,dt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}Oe=SS(C,Oe,"span",{id:"_start","data-mce-type":"bookmark"}),He=SS(C,He,"span",{id:"_end","data-mce-type":"bookmark"});const Xe=C.createRng();Xe.setStartAfter(Oe),Xe.setEndBefore(He),w2(C,Xe,dt=>{he(dt,Bt=>{!xu(Bt)&&!xu(Bt.parentNode)&&V(Bt)})}),V(Oe),V(He),Oe=ge(!0),He=ge()}else Oe=He=V(Oe);Qe.startContainer=Oe.parentNode?Oe.parentNode:Oe,Qe.startOffset=C.nodeIndex(Oe),Qe.endContainer=He.parentNode?He.parentNode:He,Qe.endOffset=C.nodeIndex(He)+1}w2(C,Qe,Xe=>{he(Xe,Q)})};if(i){if(H0(i)){const pe=C.createRng();pe.setStartBefore(i),pe.setEndAfter(i),Se(pe)}else Se(i);cR(e,t,i,o);return}!A.isCollapsed()||!ha(h)||Kf(e).length?(rA(e,()=>z0(e,Se),pe=>ha(h)&&jp(e,t,o,pe)),e.nodeChanged()):Z3(e,t,o,c),a4(e,t,o),cR(e,t,i,o)},Yp=(e,t,o,i,c)=>{(i||e.selection.isEditable())&&Ah(e,t,o,i,c)},Xp=(e,t,o,i,c)=>l4(e,t,o,i,c).fold(fn,m=>(e.dom.rename(i,m),!0),_n),ES=Xt.each,u4=(e,t,o,i)=>{const c=m=>{if(au(m)&&En(m.parentNode)&&e.isEditable(m)){const h=lA(e,m.parentNode);e.getStyle(m,"color")&&h?e.setStyle(m,"text-decoration",h):e.getStyle(m,"text-decoration")===h&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Xt.walk(i,c,"childNodes"),c(i))},_N=(e,t,o,i)=>{if(t.styles&&t.styles.backgroundColor){const c=o4(e,"fontSize");sw(i,m=>c(m)&&e.isEditable(m),_u(e,"backgroundColor",ph(t.styles.backgroundColor,o)))}},L7=(e,t,o,i)=>{if(ha(t)&&(t.inline==="sub"||t.inline==="sup")){const c=o4(e,"fontSize");sw(i,h=>c(h)&&e.isEditable(h),_u(e,"fontSize",""));const m=vt(e.select(t.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},SN=(e,t,o,i)=>{ES(t,c=>{ha(c)&&ES(e.dom.select(c.inline,i),m=>{xS(m)&&Xp(e,c,o,m,c.exact?m:null)}),bN(e.dom,c,i)})},kN=(e,t,o,i,c)=>{const m=c.parentNode;fg(e,m,o,i)&&Xp(e,t,i,c)||t.merge_with_parents&&m&&e.dom.getParent(m,h=>fg(e,h,o,i)?(Xp(e,t,i,c),!0):!1)},aw=Xt.each,EN=(e,t,o,i)=>{if(D8(e)&&ha(t)&&o.parentNode){const c=n0(e.schema),m=Nv(Fe.fromDom(o),h=>yu(h.dom));return Wl(c,i)&&sc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},AN=(e,t,o,i)=>{if(aw(o.styles,(c,m)=>{e.setStyle(t,m,ph(c,i))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},F7=(e,t,o,i)=>{const c=e.formatter.get(t),m=c[0],h=!i&&e.selection.isCollapsed(),C=e.dom,A=e.selection,V=(Se,pe=m)=>{Le(pe.onformat)&&pe.onformat(Se,pe,o,i),AN(C,Se,pe,o),aw(pe.attributes,(Oe,He)=>{C.setAttrib(Se,He,ph(Oe,o))}),aw(pe.classes,Oe=>{const He=ph(Oe,o);C.hasClass(Se,He)||C.addClass(Se,He)})},Z=(Se,pe)=>{let Oe=!1;return aw(Se,He=>$c(He)?C.getContentEditable(pe)==="false"&&!He.ceFalseOverride||ke(He.collapsed)&&He.collapsed!==h?!0:C.is(pe,He.selector)&&!yu(pe)?(V(pe,He),Oe=!0,!1):!0:!1),Oe},q=Se=>{if(xe(Se)){const pe=C.create(Se);return V(pe),pe}else return null},Q=(Se,pe,Oe)=>{const He=[];let Qe=!0;const Xe=m.inline||m.block,dt=q(Xe),Bt=kt=>J5(m)&&fg(e,kt,t,o),Yt=(kt,bt,Nt)=>{const Cn=Q5(m)&&a_(e.schema,kt)&&Op(e,bt,Xe);return Nt&&Cn},pn=(kt,bt,Nt,Cn)=>{const Vn=kt.nodeName.toLowerCase(),Io=Op(e,Xe,Vn)&&Op(e,bt,Xe),Vo=!Oe&&Ut(kt)&&Vc(kt.data),Rs=yu(kt),Us=!ha(m)||!Se.isBlock(kt);return(Nt||Cn)&&Io&&!Vo&&!Rs&&Us};w2(Se,pe,kt=>{let bt;const Nt=Cn=>{let Vn=!1,Io=Qe,Vo=!1;const Rs=Cn.parentNode,Us=Rs.nodeName.toLowerCase(),ci=Se.getContentEditable(Cn);ke(ci)&&(Io=Qe,Qe=ci==="true",Vn=!0,Vo=aA(e,Cn));const kl=Qe&&!Vn;if(pr(Cn)&&!EN(e,m,Cn,Us)){bt=null,Gf(m)&&Se.remove(Cn);return}if(Bt(Cn)){bt=null;return}if(Yt(Cn,Us,kl)){const Ys=Se.rename(Cn,Xe);V(Ys),He.push(Ys),bt=null;return}if($c(m)){let Ys=Z(c,Cn);if(!Ys&&ke(Rs)&&u_(m)&&(Ys=Z(c,Rs)),!ha(m)||Ys){bt=null;return}}ke(dt)&&pn(Cn,Us,kl,Vo)?(bt||(bt=Se.clone(dt,!1),Rs.insertBefore(bt,Cn),He.push(bt)),Vo&&Vn&&(Qe=Io),bt.appendChild(Cn)):(bt=null,he(vo(Cn.childNodes),Nt),Vn&&(Qe=Io),bt=null)};he(kt,Nt)}),m.links===!0&&he(He,kt=>{const bt=Nt=>{Nt.nodeName==="A"&&V(Nt,m),he(vo(Nt.childNodes),bt)};bt(kt)}),he(He,kt=>{const bt=Vn=>{let Io=0;return he(Vn.childNodes,Vo=>{!sF(Vo)&&!xu(Vo)&&Io++}),Io},Nt=Vn=>cn(Vn.childNodes,i_).filter(Vo=>Se.getContentEditable(Vo)!=="false"&&bS(Se,Vo,m)).map(Vo=>{const Rs=Se.clone(Vo,!1);return V(Rs),Se.replace(Rs,Vn,!0),Se.remove(Vo,!0),Rs}).getOr(Vn),Cn=bt(kt);if((He.length>1||!Se.isBlock(kt))&&Cn===0){Se.remove(kt,!0);return}(ha(m)||Gf(m)&&m.wrapper)&&(!m.exact&&Cn===1&&(kt=Nt(kt)),SN(e,c,o,kt),kN(e,m,t,o,kt),_N(Se,m,o,kt),u4(Se,m,o,kt),L7(Se,m,o,kt),wS(e,m,o,kt))})},ge=H0(i)?i:A.getNode();if(C.getContentEditable(ge)==="false"&&!aA(e,ge)){i=ge,Z(c,i),lR(e,t,i,o);return}if(m){if(i)if(H0(i)){if(!Z(c,i)){const Se=C.createRng();Se.setStartBefore(i),Se.setEndAfter(i),Q(C,Rp(C,Se,c),!0)}}else Q(C,i,!0);else!h||!ha(m)||Kf(e).length?(A.setRng(aS(A.getRng())),rA(e,()=>{z0(e,(Se,pe)=>{const Oe=pe?Se:Rp(C,Se,c);Q(C,Oe,!1)})},_n),e.nodeChanged()):Eh(e,t,o),ry(e.formatter,t).each(Se=>{he(vN(e.selection),pe=>AN(C,pe,Se,o))});gN(t,e)}lR(e,t,i,o)},TN=(e,t,o,i)=>{(i||e.selection.isEditable())&&F7(e,t,o,i)},ql=e=>ao(e,"vars"),ON=(e,t)=>{e.set({}),t.on("NodeChange",o=>{f4(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const i=J.from(o.node).map(c=>H0(c)?c:c.startContainer).bind(c=>En(c)?J.some(c):J.from(c.parentElement)).getOrThunk(()=>iy(t));f4(t,i,e.get())})},iy=e=>e.selection.getStart(),DN=(e,t,o,i,c)=>wn(t,C=>{const A=e.formatter.matchNode(C,o,c??{},i);return!qe(A)},C=>L3(e,C,o)?!0:i?!1:ke(e.formatter.matchNode(C,o,c,!0))),d4=(e,t)=>{const o=t??iy(e);return vt(v2(e.dom,o),i=>En(i)&&!kf(i))},f4=(e,t,o)=>{const i=d4(e,t);rs(o,(c,m)=>{const h=C=>{const A=DN(e,i,m,C.similar,ql(C)?C.vars:void 0),V=A.isSome();if(C.state.get()!==V){C.state.set(V);const Z=A.getOr(t);ql(C)?C.callback(V,{node:Z,format:m,parents:i}):he(C.callbacks,q=>q(V,{node:Z,format:m,parents:i}))}};he([c.withSimilar,c.withoutSimilar],h),he(c.withVars,h)})},m4=(e,t,o,i,c,m)=>{const h=t.get();he(o.split(","),C=>{const A=Os(h,C).getOrThunk(()=>{const Z={withSimilar:{state:Ri(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ri(!1),similar:!1,callbacks:[]},withVars:[]};return h[C]=Z,Z}),V=()=>{const Z=d4(e);return DN(e,Z,C,c,m).isSome()};if(qe(m)){const Z=c?A.withSimilar:A.withoutSimilar;Z.callbacks.push(i),Z.callbacks.length===1&&Z.state.set(V())}else A.withVars.push({state:Ri(V()),similar:c,vars:m,callback:i})}),t.set(h)},RN=(e,t,o)=>{const i=e.get();he(t.split(","),c=>Os(i,c).each(m=>{i[c]={withSimilar:{...m.withSimilar,callbacks:vt(m.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:vt(m.withoutSimilar.callbacks,h=>h!==o)},withVars:vt(m.withVars,h=>h.callback!==o)}})),e.set(i)},V7=(e,t,o,i,c,m)=>(m4(e,t,o,i,c,m),{unbind:()=>RN(t,o,i)}),z7=(e,t,o,i)=>{const c=e.formatter.get(t);c&&(jp(e,t,o,i)&&(!("toggle"in c[0])||c[0].toggle)?Yp(e,t,o,i):TN(e,t,o,i))},IN=Xt.explode,AS=()=>{const e={};return{addFilter:(c,m)=>{he(IN(c),h=>{ao(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(m)})},getFilters:()=>Pu(e),removeFilter:(c,m)=>{he(IN(c),h=>{if(ao(e,h))if(ke(m)){const C=e[h],A=vt(C.callbacks,V=>V!==m);A.length>0?C.callbacks=A:delete e[h]}else delete e[h]})}}},H7=(e,t)=>{he(t,o=>{e.attr(o,null)})},$7=(e,t,o)=>{e.addNodeFilter("font",i=>{he(i,c=>{const m=t.parse(c.attr("style")),h=c.attr("color"),C=c.attr("face"),A=c.attr("size");h&&(m.color=h),C&&(m["font-family"]=C),A&&un(A).each(V=>{m["font-size"]=o[V-1]}),c.name="span",c.attr("style",t.serialize(m)),H7(c,["color","face","size"])})})},NN=(e,t,o)=>{e.addNodeFilter("strike",i=>{const c=t.type!=="html4";he(i,m=>{if(c)m.name="s";else{const h=o.parse(m.attr("style"));h["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(h))}})})},U7=(e,t,o)=>{var i;const c=kx();t.convert_fonts_to_spans&&$7(e,c,Xt.explode((i=t.font_size_legacy_values)!==null&&i!==void 0?i:"")),NN(e,o,c)},W7=(e,t,o)=>{t.inline_styles&&U7(e,t,o)},g4=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),TS=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},OS=e=>{const[t,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const m=c[2]===";base64",h=m?TS(i):decodeURIComponent(i);return J.some({type:c[1],data:h,base64Encoded:m})}else return J.none()},h4=(e,t,o=!0)=>{let i=t;if(o)try{i=atob(t)}catch{return J.none()}const c=new Uint8Array(i.length);for(let m=0;m<c.length;m++)c[m]=i.charCodeAt(m);return J.some(new Blob([c],{type:e}))},p4=e=>new Promise((t,o)=>{OS(e).bind(({type:i,data:c,base64Encoded:m})=>h4(i,c,m)).fold(()=>o("Invalid data URI"),t)}),Z7=e=>cr(e,"blob:")?g4(e):cr(e,"data:")?p4(e):Promise.reject("Unknown URI format"),PN=e=>new Promise((t,o)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let j7=0;const Jb=e=>"blobid"+j7++,MN=(e,t,o)=>OS(e).bind(({data:i,type:c,base64Encoded:m})=>{if(t&&!m)return J.none();{const h=m?i:btoa(i);return o(h,c)}}),lw=(e,t,o)=>{const i=e.create(Jb(),t,o);return e.add(i),i},BN=(e,t,o=!1)=>MN(t,o,(i,c)=>J.from(e.getByData(i,c)).orThunk(()=>h4(c,i).map(m=>lw(e,m,i)))),v4=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(cr(t,"blob:")){const i=e.getByUri(t);return ke(i)?Promise.resolve(i):Z7(t).then(c=>PN(c).then(m=>MN(m,!1,h=>J.some(lw(e,c,h))).getOrThunk(o)))}else return cr(t,"data:")?BN(e,t).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},LN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,FN=e=>J.from(e.match(LN)).bind(t=>Ar(t,1)).map(t=>cr(t,"www.")?t.substring(4):t),b4=(e,t)=>{J.from(e.attr("src")).bind(FN).forall(o=>!ae(t,o))&&e.attr("sandbox","")},ay=(e,t)=>cr(e,`${t}/`),K7=e=>qe(e)?"iframe":ay(e,"image")?"img":ay(e,"video")?"video":ay(e,"audio")?"audio":"iframe",G7=({type:e,src:t,width:o,height:i}={},c,m)=>{const h=K7(e),C=new Da(h,1);return C.attr(h==="audio"?{src:t}:{src:t,width:o,height:i}),(h==="audio"||h==="video")&&C.attr("controls",""),h==="iframe"&&c&&b4(C,m),C},y4=e=>ke(e.attr("data-mce-bogus")),VN=e=>e.attr("src")===Mo.transparentSrc||ke(e.attr("data-mce-placeholder")),q7=(e,t)=>{const{blob_cache:o}=t;if(o){const i=c=>{const m=c.attr("src");VN(c)||y4(c)||st(m)||BN(o,m,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>he(c,i))}},Y7=(e,t)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",A=>{let V=A.length;const Z=Q=>Q.split(" ").filter(Se=>Se.length>0).concat(["noopener"]).sort().join(" "),q=Q=>{const ge=Q?Xt.trim(Q):"";return/\b(noopener)\b/g.test(ge)?ge:Z(ge)};if(!t.allow_unsafe_link_target)for(;V--;){const Q=A[V];Q.name==="a"&&Q.attr("target")==="_blank"&&Q.attr("rel",q(Q.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let V=A.length,Z,q,Q,ge;for(;V--;)if(ge=A[V],ge.name==="a"&&ge.firstChild&&!ge.attr("href"))for(Q=ge.parent,Z=ge.lastChild;Z&&Q;)q=Z.prev,Q.insert(Z,ge),Z=q}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let V=A.length,Z,q;for(;V--;)if(Z=A[V],q=Z.parent,q&&(q.name==="ul"||q.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const Q=new Da("li",1);Q.attr("style","list-style-type: none"),Z.wrap(Q)}});const m=c.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",A=>{var V;let Z=A.length;for(;Z--;){const q=A[Z],Q=(V=q.attr("class"))!==null&&V!==void 0?V:"",ge=Xt.explode(Q," ");let Se="";for(let pe=0;pe<ge.length;pe++){const Oe=ge[pe];let He=!1,Qe=m["*"];Qe&&Qe[Oe]&&(He=!0),Qe=m[q.name],!He&&Qe&&Qe[Oe]&&(He=!0),He&&(Se&&(Se+=" "),Se+=Oe)}Se.length||(Se=null),q.attr("class",Se)}}),q7(e,t);const h=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,C=ea((i=t.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>he(A,V=>{V.replace(G7({type:V.attr("type"),src:V.name==="object"?V.attr("data"):V.attr("src"),width:V.attr("width"),height:V.attr("height")},h,C))})),h&&e.addNodeFilter("iframe",A=>he(A,V=>b4(V,C)))},{entries:zN,setPrototypeOf:HN,isFrozen:x4,getPrototypeOf:$N,getOwnPropertyDescriptor:X7}=Object;let{freeze:Kc,seal:br,create:J7}=Object,{apply:w4,construct:DS}=typeof Reflect<"u"&&Reflect;w4||(w4=function(t,o,i){return t.apply(o,i)}),Kc||(Kc=function(t){return t}),br||(br=function(t){return t}),DS||(DS=function(t,o){return new t(...o)});const C4=dc(Array.prototype.forEach),UN=dc(Array.prototype.pop),Jd=dc(Array.prototype.push),ly=dc(String.prototype.toLowerCase),RS=dc(String.prototype.toString),_4=dc(String.prototype.match),ud=dc(String.prototype.replace),S4=dc(String.prototype.indexOf),WN=dc(String.prototype.trim),uc=dc(RegExp.prototype.test),Jp=cw(TypeError);function dc(e){return function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return w4(e,t,i)}}function cw(e){return function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return DS(e,o)}}function os(e,t,o){var i;o=(i=o)!==null&&i!==void 0?i:ly,HN&&HN(e,null);let c=t.length;for(;c--;){let m=t[c];if(typeof m=="string"){const h=o(m);h!==m&&(x4(t)||(t[c]=h),m=h)}e[m]=!0}return e}function gg(e){const t=J7(null);for(const[o,i]of zN(e))t[o]=i;return t}function uw(e,t){for(;e!==null;){const i=X7(e,t);if(i){if(i.get)return dc(i.get);if(typeof i.value=="function")return dc(i.value)}e=$N(e)}function o(i){return console.warn("fallback value for",i),null}return o}const k4=Kc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E4=Kc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),IS=Kc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q7=Kc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A4=Kc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dw=Kc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZN=Kc(["#text"]),jN=Kc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),T4=Kc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KN=Kc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),NS=Kc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eV=br(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tV=br(/<%[\w\W]*|[\w\W]*%>/gm),nV=br(/\${[\w\W]*}/gm),oV=br(/^data-[\-\w.\u00B7-\uFFFF]/),sV=br(/^aria-[\-\w]+$/),GN=br(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qN=br(/^(?:\w+script|data):/i),YN=br(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),O4=br(/^html$/i);var D4=Object.freeze({__proto__:null,MUSTACHE_EXPR:eV,ERB_EXPR:tV,TMPLIT_EXPR:nV,DATA_ATTR:oV,ARIA_ATTR:sV,IS_ALLOWED_URI:GN,IS_SCRIPT_OR_DATA:qN,ATTR_WHITESPACE:YN,DOCTYPE_NAME:O4});const XN=()=>typeof window>"u"?null:window,JN=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const m="dompurify"+(i?"#"+i:"");try{return t.createPolicy(m,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function R4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XN();const t=Uo=>R4(Uo);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:h,Node:C,Element:A,NodeFilter:V,NamedNodeMap:Z=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:q,DOMParser:Q,trustedTypes:ge}=e,Se=A.prototype,pe=uw(Se,"cloneNode"),Oe=uw(Se,"nextSibling"),He=uw(Se,"childNodes"),Qe=uw(Se,"parentNode");if(typeof h=="function"){const Uo=c.createElement("template");Uo.content&&Uo.content.ownerDocument&&(c=Uo.content.ownerDocument)}let Xe,dt="";const{implementation:Bt,createNodeIterator:Yt,createDocumentFragment:pn,getElementsByTagName:kt}=c,{importNode:bt}=o;let Nt={};t.isSupported=typeof zN=="function"&&typeof Qe=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Cn,ERB_EXPR:Vn,TMPLIT_EXPR:Io,DATA_ATTR:Vo,ARIA_ATTR:Rs,IS_SCRIPT_OR_DATA:Us,ATTR_WHITESPACE:ci}=D4;let{IS_ALLOWED_URI:kl}=D4,Ys=null;const on=os({},[...k4,...E4,...IS,...A4,...ZN]);let Pn=null;const ys=os({},[...jN,...T4,...KN,...NS]);let ln=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Gn=null,Fo=null,gn=!0,No=!0,$o=!1,Ra=!0,Hs=!1,ba=!1,nm=!1,Lh=!1,gc=!1,gd=!1,om=!1,hd=!0,sm=!1;const Un="user-content-";let ls=!0,Xr=!1,bi={},Xi=null;const ll=os({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Li=null;const Fi=os({},["audio","video","img","source","image","track"]);let hc=null;const Cg=os({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_g="http://www.w3.org/1998/Math/MathML",Sg="http://www.w3.org/2000/svg",rm="http://www.w3.org/1999/xhtml";let Ty=rm,xk=!1,wk=null;const DH=os({},[_g,Sg,rm],RS);let m1;const OB=["application/xhtml+xml","text/html"],mK="text/html";let Xl,Zw=null;const gK=c.createElement("form"),RH=function(Ct){return Ct instanceof RegExp||Ct instanceof Function},av=function(Ct){if(!(Zw&&Zw===Ct)){if((!Ct||typeof Ct!="object")&&(Ct={}),Ct=gg(Ct),m1=OB.indexOf(Ct.PARSER_MEDIA_TYPE)===-1?m1=mK:m1=Ct.PARSER_MEDIA_TYPE,Xl=m1==="application/xhtml+xml"?RS:ly,Ys="ALLOWED_TAGS"in Ct?os({},Ct.ALLOWED_TAGS,Xl):on,Pn="ALLOWED_ATTR"in Ct?os({},Ct.ALLOWED_ATTR,Xl):ys,wk="ALLOWED_NAMESPACES"in Ct?os({},Ct.ALLOWED_NAMESPACES,RS):DH,hc="ADD_URI_SAFE_ATTR"in Ct?os(gg(Cg),Ct.ADD_URI_SAFE_ATTR,Xl):Cg,Li="ADD_DATA_URI_TAGS"in Ct?os(gg(Fi),Ct.ADD_DATA_URI_TAGS,Xl):Fi,Xi="FORBID_CONTENTS"in Ct?os({},Ct.FORBID_CONTENTS,Xl):ll,Gn="FORBID_TAGS"in Ct?os({},Ct.FORBID_TAGS,Xl):{},Fo="FORBID_ATTR"in Ct?os({},Ct.FORBID_ATTR,Xl):{},bi="USE_PROFILES"in Ct?Ct.USE_PROFILES:!1,gn=Ct.ALLOW_ARIA_ATTR!==!1,No=Ct.ALLOW_DATA_ATTR!==!1,$o=Ct.ALLOW_UNKNOWN_PROTOCOLS||!1,Ra=Ct.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hs=Ct.SAFE_FOR_TEMPLATES||!1,ba=Ct.WHOLE_DOCUMENT||!1,gc=Ct.RETURN_DOM||!1,gd=Ct.RETURN_DOM_FRAGMENT||!1,om=Ct.RETURN_TRUSTED_TYPE||!1,Lh=Ct.FORCE_BODY||!1,hd=Ct.SANITIZE_DOM!==!1,sm=Ct.SANITIZE_NAMED_PROPS||!1,ls=Ct.KEEP_CONTENT!==!1,Xr=Ct.IN_PLACE||!1,kl=Ct.ALLOWED_URI_REGEXP||GN,Ty=Ct.NAMESPACE||rm,ln=Ct.CUSTOM_ELEMENT_HANDLING||{},Ct.CUSTOM_ELEMENT_HANDLING&&RH(Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ln.tagNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&RH(Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ln.attributeNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&typeof Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ln.allowCustomizedBuiltInElements=Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hs&&(No=!1),gd&&(gc=!0),bi&&(Ys=os({},[...ZN]),Pn=[],bi.html===!0&&(os(Ys,k4),os(Pn,jN)),bi.svg===!0&&(os(Ys,E4),os(Pn,T4),os(Pn,NS)),bi.svgFilters===!0&&(os(Ys,IS),os(Pn,T4),os(Pn,NS)),bi.mathMl===!0&&(os(Ys,A4),os(Pn,KN),os(Pn,NS))),Ct.ADD_TAGS&&(Ys===on&&(Ys=gg(Ys)),os(Ys,Ct.ADD_TAGS,Xl)),Ct.ADD_ATTR&&(Pn===ys&&(Pn=gg(Pn)),os(Pn,Ct.ADD_ATTR,Xl)),Ct.ADD_URI_SAFE_ATTR&&os(hc,Ct.ADD_URI_SAFE_ATTR,Xl),Ct.FORBID_CONTENTS&&(Xi===ll&&(Xi=gg(Xi)),os(Xi,Ct.FORBID_CONTENTS,Xl)),ls&&(Ys["#text"]=!0),ba&&os(Ys,["html","head","body"]),Ys.table&&(os(Ys,["tbody"]),delete Gn.tbody),Ct.TRUSTED_TYPES_POLICY){if(typeof Ct.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ct.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xe=Ct.TRUSTED_TYPES_POLICY,dt=Xe.createHTML("")}else Xe===void 0&&(Xe=JN(ge,i)),Xe!==null&&typeof dt=="string"&&(dt=Xe.createHTML(""));Kc&&Kc(Ct),Zw=Ct}},TO=os({},["mi","mo","mn","ms","mtext"]),ht=os({},["foreignobject","desc","title","annotation-xml"]),yt=os({},["title","style","font","a","script"]),en=os({},E4);os(en,IS),os(en,Q7);const qt=os({},A4);os(qt,dw);const to=function(Ct){let In=Qe(Ct);(!In||!In.tagName)&&(In={namespaceURI:Ty,tagName:"template"});const go=ly(Ct.tagName),ki=ly(In.tagName);return wk[Ct.namespaceURI]?Ct.namespaceURI===Sg?In.namespaceURI===rm?go==="svg":In.namespaceURI===_g?go==="svg"&&(ki==="annotation-xml"||TO[ki]):!!en[go]:Ct.namespaceURI===_g?In.namespaceURI===rm?go==="math":In.namespaceURI===Sg?go==="math"&&ht[ki]:!!qt[go]:Ct.namespaceURI===rm?In.namespaceURI===Sg&&!ht[ki]||In.namespaceURI===_g&&!TO[ki]?!1:!qt[go]&&(yt[go]||!en[go]):!!(m1==="application/xhtml+xml"&&wk[Ct.namespaceURI]):!1},Qo=function(Ct){Jd(t.removed,{element:Ct});try{Ct.parentNode.removeChild(Ct)}catch{Ct.remove()}},Jr=function(Ct,In){try{Jd(t.removed,{attribute:In.getAttributeNode(Ct),from:In})}catch{Jd(t.removed,{attribute:null,from:In})}if(In.removeAttribute(Ct),Ct==="is"&&!Pn[Ct])if(gc||gd)try{Qo(In)}catch{}else try{In.setAttribute(Ct,"")}catch{}},kg=function(Ct){let In,go;if(Lh)Ct="<remove></remove>"+Ct;else{const Eg=_4(Ct,/^[\r\n\t ]+/);go=Eg&&Eg[0]}m1==="application/xhtml+xml"&&Ty===rm&&(Ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ct+"</body></html>");const ki=Xe?Xe.createHTML(Ct):Ct;if(Ty===rm)try{In=new Q().parseFromString(ki,m1)}catch{}if(!In||!In.documentElement){In=Bt.createDocument(Ty,"template",null);try{In.documentElement.innerHTML=xk?dt:ki}catch{}}const pc=In.body||In.documentElement;return Ct&&go&&pc.insertBefore(c.createTextNode(go),pc.childNodes[0]||null),Ty===rm?kt.call(In,ba?"html":"body")[0]:ba?In.documentElement:pc},DB=function(Ct){return Yt.call(Ct.ownerDocument||Ct,Ct,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,null,!1)},ace=function(Ct){return Ct instanceof q&&(typeof Ct.nodeName!="string"||typeof Ct.textContent!="string"||typeof Ct.removeChild!="function"||!(Ct.attributes instanceof Z)||typeof Ct.removeAttribute!="function"||typeof Ct.setAttribute!="function"||typeof Ct.namespaceURI!="string"||typeof Ct.insertBefore!="function"||typeof Ct.hasChildNodes!="function")},RB=function(Ct){return typeof C=="object"?Ct instanceof C:Ct&&typeof Ct=="object"&&typeof Ct.nodeType=="number"&&typeof Ct.nodeName=="string"},g1=function(Ct,In,go){Nt[Ct]&&C4(Nt[Ct],ki=>{ki.call(t,In,go,Zw)})},hK=function(Ct){let In;if(g1("beforeSanitizeElements",Ct,null),ace(Ct))return Qo(Ct),!0;const go=Xl(Ct.nodeName);if(g1("uponSanitizeElement",Ct,{tagName:go,allowedTags:Ys}),Ct.hasChildNodes()&&!RB(Ct.firstElementChild)&&(!RB(Ct.content)||!RB(Ct.content.firstElementChild))&&uc(/<[/\w]/g,Ct.innerHTML)&&uc(/<[/\w]/g,Ct.textContent))return Qo(Ct),!0;if(!Ys[go]||Gn[go]){if(!Gn[go]&&vK(go)&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go)))return!1;if(ls&&!Xi[go]){const ki=Qe(Ct)||Ct.parentNode,pc=He(Ct)||Ct.childNodes;if(pc&&ki){const Eg=pc.length;for(let ja=Eg-1;ja>=0;--ja)ki.insertBefore(pe(pc[ja],!0),Oe(Ct))}}return Qo(Ct),!0}return Ct instanceof A&&!to(Ct)||(go==="noscript"||go==="noembed"||go==="noframes")&&uc(/<\/no(script|embed|frames)/i,Ct.innerHTML)?(Qo(Ct),!0):(Hs&&Ct.nodeType===3&&(In=Ct.textContent,In=ud(In,Cn," "),In=ud(In,Vn," "),In=ud(In,Io," "),Ct.textContent!==In&&(Jd(t.removed,{element:Ct.cloneNode()}),Ct.textContent=In)),g1("afterSanitizeElements",Ct,null),!1)},pK=function(Ct,In,go){if(hd&&(In==="id"||In==="name")&&(go in c||go in gK))return!1;if(!(No&&!Fo[In]&&uc(Vo,In))){if(!(gn&&uc(Rs,In))){if(!Pn[In]||Fo[In]){if(!(vK(Ct)&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,Ct)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(Ct))&&(ln.attributeNameCheck instanceof RegExp&&uc(ln.attributeNameCheck,In)||ln.attributeNameCheck instanceof Function&&ln.attributeNameCheck(In))||In==="is"&&ln.allowCustomizedBuiltInElements&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go))))return!1}else if(!hc[In]){if(!uc(kl,ud(go,ci,""))){if(!((In==="src"||In==="xlink:href"||In==="href")&&Ct!=="script"&&S4(go,"data:")===0&&Li[Ct])){if(!($o&&!uc(Us,ud(go,ci,"")))){if(go)return!1}}}}}}return!0},vK=function(Ct){return Ct.indexOf("-")>0},bK=function(Ct){let In,go,ki,pc;g1("beforeSanitizeAttributes",Ct,null);const{attributes:Eg}=Ct;if(!Eg)return;const ja={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pn};for(pc=Eg.length;pc--;){In=Eg[pc];const{name:Ag,namespaceURI:IH}=In;go=Ag==="value"?In.value:WN(In.value);const cce=go;if(ki=Xl(Ag),ja.attrName=ki,ja.attrValue=go,ja.keepAttr=!0,ja.forceKeepAttr=void 0,g1("uponSanitizeAttribute",Ct,ja),go=ja.attrValue,ja.forceKeepAttr)continue;if(!ja.keepAttr){Jr(Ag,Ct);continue}if(!Ra&&uc(/\/>/i,go)){Jr(Ag,Ct);continue}Hs&&(go=ud(go,Cn," "),go=ud(go,Vn," "),go=ud(go,Io," "));const yK=Xl(Ct.nodeName);if(!pK(yK,ki,go)){Jr(Ag,Ct);continue}if(sm&&(ki==="id"||ki==="name")&&(Jr(Ag,Ct),go=Un+go),Xe&&typeof ge=="object"&&typeof ge.getAttributeType=="function"&&!IH)switch(ge.getAttributeType(yK,ki)){case"TrustedHTML":{go=Xe.createHTML(go);break}case"TrustedScriptURL":{go=Xe.createScriptURL(go);break}}if(go!==cce)try{IH?Ct.setAttributeNS(IH,Ag,go):Ct.setAttribute(Ag,go)}catch{Jr(Ag,Ct)}}g1("afterSanitizeAttributes",Ct,null)},lce=function Uo(Ct){let In;const go=DB(Ct);for(g1("beforeSanitizeShadowDOM",Ct,null);In=go.nextNode();)g1("uponSanitizeShadowNode",In,null),!hK(In)&&(In.content instanceof m&&Uo(In.content),bK(In));g1("afterSanitizeShadowDOM",Ct,null)};return t.sanitize=function(Uo){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},In,go,ki,pc;if(xk=!Uo,xk&&(Uo="<!-->"),typeof Uo!="string"&&!RB(Uo))if(typeof Uo.toString=="function"){if(Uo=Uo.toString(),typeof Uo!="string")throw Jp("dirty is not a string, aborting")}else throw Jp("toString is not a function");if(!t.isSupported)return Uo;if(nm||av(Ct),t.removed=[],typeof Uo=="string"&&(Xr=!1),Xr){if(Uo.nodeName){const Ag=Xl(Uo.nodeName);if(!Ys[Ag]||Gn[Ag])throw Jp("root node is forbidden and cannot be sanitized in-place")}}else if(Uo instanceof C)In=kg("<!---->"),go=In.ownerDocument.importNode(Uo,!0),go.nodeType===1&&go.nodeName==="BODY"||go.nodeName==="HTML"?In=go:In.appendChild(go);else{if(!gc&&!Hs&&!ba&&Uo.indexOf("<")===-1)return Xe&&om?Xe.createHTML(Uo):Uo;if(In=kg(Uo),!In)return gc?null:om?dt:""}In&&Lh&&Qo(In.firstChild);const Eg=DB(Xr?Uo:In);for(;ki=Eg.nextNode();)hK(ki)||(ki.content instanceof m&&lce(ki.content),bK(ki));if(Xr)return Uo;if(gc){if(gd)for(pc=pn.call(In.ownerDocument);In.firstChild;)pc.appendChild(In.firstChild);else pc=In;return(Pn.shadowroot||Pn.shadowrootmode)&&(pc=bt.call(o,pc,!0)),pc}let ja=ba?In.outerHTML:In.innerHTML;return ba&&Ys["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&uc(O4,In.ownerDocument.doctype.name)&&(ja="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+ja),Hs&&(ja=ud(ja,Cn," "),ja=ud(ja,Vn," "),ja=ud(ja,Io," ")),Xe&&om?Xe.createHTML(ja):ja},t.setConfig=function(Uo){av(Uo),nm=!0},t.clearConfig=function(){Zw=null,nm=!1},t.isValidAttribute=function(Uo,Ct,In){Zw||av({});const go=Xl(Uo),ki=Xl(Ct);return pK(go,ki,In)},t.addHook=function(Uo,Ct){typeof Ct=="function"&&(Nt[Uo]=Nt[Uo]||[],Jd(Nt[Uo],Ct))},t.removeHook=function(Uo){if(Nt[Uo])return UN(Nt[Uo])},t.removeHooks=function(Uo){Nt[Uo]&&(Nt[Uo]=[])},t.removeAllHooks=function(){Nt={}},t}var I4=R4();const QN=Xt.each,eP=Xt.trim,rV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iV={ftp:21,http:80,https:443,mailto:25},tP=["img","video"],nP=(e,t)=>ke(e)?!e:ke(t)?!ae(tP,t):!0,aV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},N4=(e,t,o)=>{const i=aV(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?nP(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class dd{static parseDataUri(t){let o;const i=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(t,o,i={}){if(i.allow_script_urls)return!0;{const c=Yg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!N4(i,c,o)}}static getDocumentBaseUrl(t){var o;let i;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?i=(o=t.href)!==null&&o!==void 0?o:"":i=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(t,o={}){this.path="",this.directory="",t=eP(t),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=i?i.path:new dd(document.location.href).directory;if((i==null?void 0:i.protocol)==="")t="//mce_host"+c.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);h&&QN(rV,(C,A)=>{let V=h[A];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[C]=V}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),m&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new dd(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const i=new dd(t,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?iV[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let i=0,c="",m,h;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(C.length>=A.length){for(m=0,h=C.length;m<h;m++)if(m>=A.length||C[m]!==A[m]){i=m+1;break}}if(C.length<A.length){for(m=0,h=A.length;m<h;m++)if(m>=C.length||C[m]!==A[m]){i=m+1;break}}if(i===1)return o;for(m=0,h=C.length-(i-1);m<h;m++)c+="../";for(m=i-1,h=A.length;m<h;m++)m!==i-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(t,o){let i=0;const c=/\/$/.test(o)?"/":"",m=t.split("/"),h=o.split("/"),C=[];QN(m,q=>{q&&C.push(q)});const A=[];for(let q=h.length-1;q>=0;q--)if(!(h[q].length===0||h[q]===".")){if(h[q]===".."){i++;continue}if(i>0){i--;continue}A.push(h[q])}const V=C.length-i;let Z;return V<=0?Z=Ho(A).join("/"):Z=C.slice(0,V).join("/")+"/"+Ho(A).join("/"),Z.indexOf("/")!==0&&(Z="/"+Z),c&&Z.lastIndexOf("/")!==Z.length-1&&(Z+=c),Z}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const lV=Xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),P4="data-mce-type";let oP=0;const sP=(e,t,o,i,c)=>{var m,h,C,A;const V=t.validate,Z=o.getSpecialElements();e.nodeType===hf&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const q=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){ke(c)&&(c.allowedTags[q]=!0);return}if(e.nodeType!==gl||q==="body")return;const Q=Fe.fromDom(e),ge=Td(Q,P4),Se=ka(Q,"data-mce-bogus");if(!ge&&xe(Se)){Se==="all"?Ds(Q):Va(Q);return}const pe=o.getElementRule(q);if(V&&!pe){ao(Z,q)?Ds(Q):Va(Q);return}else ke(c)&&(c.allowedTags[q]=!0);if(V&&pe&&!ge){if(he((C=pe.attributesForced)!==null&&C!==void 0?C:[],Oe=>{yi(Q,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),he((A=pe.attributesDefault)!==null&&A!==void 0?A:[],Oe=>{Td(Q,Oe.name)||yi(Q,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),pe.attributesRequired&&!be(pe.attributesRequired,Oe=>Td(Q,Oe))){Va(Q);return}if(pe.removeEmptyAttrs&&ii(Q)){Va(Q);return}pe.outputName&&pe.outputName!==q&&Bx(Q,pe.outputName)}},cV=(e,t,o,i,c)=>{const m=e.tagName.toLowerCase(),{attrName:h,attrValue:C}=c;c.keepAttr=fw(t,o,i,m,h,C),c.keepAttr?(c.allowedAttributes[h]=!0,B4(h,o)&&(c.attrValue=h),t.allow_svg_data_urls&&cr(C,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):M4(e,h)&&(c.forceKeepAttr=!0)},fw=(e,t,o,i,c,m)=>o!=="html"&&!Bm(i)?!0:!(c in lV&&N4(e,m,i))&&(!e.validate||t.isValid(i,c)||cr(c,"data-")||cr(c,"aria-")),M4=(e,t)=>e.hasAttribute(P4)&&(t==="id"||t==="class"||t==="style"),B4=(e,t)=>e in t.getBoolAttrs(),rP=(e,t,o,i)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const h=c[m],C=h.name,A=h.value;!fw(t,o,i,e.tagName.toLowerCase(),C,A)&&!M4(e,C)?e.removeAttribute(C):B4(C,o)&&e.setAttribute(C,C)}},uV=(e,t,o)=>{const i=I4();return i.addHook("uponSanitizeElement",(c,m)=>{sP(c,e,t,o.track(c),m)}),i.addHook("uponSanitizeAttribute",(c,m)=>{cV(c,e,t,o.current(),m)}),i},dV=(e,t)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=t,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},iP=e=>{const t=wC(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};I4().sanitize(e,i)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};I4().sanitize(e,o)}else throw new Error("Not a namespace element")},fV=(e,t)=>{const o=lE();if(e.sanitize){const i=uV(e,t,o);return{sanitizeHtmlElement:(m,h)=>{i.sanitize(m,dV(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:iP}}else return{sanitizeHtmlElement:(m,h)=>{const C=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const V=o.track(A);sP(A,e,t,V),En(A)&&rP(A,e,t,V)}o.reset()},sanitizeNamespaceElement:ct}},PS=Xt.makeMap,L4=Xt.extend,aP=(e,t,o,i)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",h=t.childNodes;for(let C=0,A=h.length;C<A;C++){const V=h[C],Z=new Da(V.nodeName.toLowerCase(),V.nodeType);if(En(V)){const q=V.attributes;for(let Q=0,ge=q.length;Q<ge;Q++){const Se=q[Q];Z.attr(Se.name,Se.value)}Bm(Z.name)&&(i(V),Z.value=V.innerHTML)}else Ut(V)?(Z.value=V.data,m&&(Z.raw=!0)):(ko(V)||ix(V)||Ef(V))&&(Z.value=V.data);Bm(Z.name)||aP(Z,V,o,i),e.append(Z)}},pa=(e,t,o)=>{const i=[];for(let c=e,m=c;c;m=c,c=c.walk()){const h=c;he(t,C=>C(h)),st(h.parent)&&h!==e?c=m:i.push(h)}for(let c=i.length-1;c>=0;c--){const m=i[c];he(o,h=>h(m))}},hg=(e,t,o,i)=>{const c=o.validate,m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=L4(PS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=n0(t),V=/[ \t\r\n]+/g,Z=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/,Q=Qe=>{let Xe=Qe.parent;for(;ke(Xe);){if(Xe.name in h)return!0;Xe=Xe.parent}return!1},ge=Qe=>{let Xe=Qe;for(;ke(Xe);){if(Xe.name in A)return oy(t,m,h,Xe);Xe=Xe.parent}return!1},Se=Qe=>Qe.name in C||fp(t,Qe)||Bm(Qe.name)&&Qe.parent===e,pe=(Qe,Xe)=>{const dt=Xe?Qe.prev:Qe.next;return ke(dt)||st(Qe.parent)?!1:Se(Qe.parent)&&(Qe.parent!==e||i.isRootContent===!0)};return[Qe=>{var Xe;if(Qe.type===3&&!Q(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";dt=dt.replace(V," "),(KI(Qe.prev,Se)||pe(Qe,!0))&&(dt=dt.replace(Z,"")),dt.length===0||dt===" "&&Qe.prev&&Qe.prev.type===hf&&Qe.next&&Qe.next.type===hf?Qe.remove():Qe.value=dt}},Qe=>{var Xe;if(Qe.type===1){const dt=t.getElementRule(Qe.name);if(c&&dt){const Bt=oy(t,m,h,Qe);dt.paddInEmptyBlock&&Bt&&ge(Qe)?rS(o,i,Se,Qe):dt.removeEmpty&&Bt?Se(Qe)?Qe.remove():Qe.unwrap():dt.paddEmpty&&(Bt||iS(Qe))&&rS(o,i,Se,Qe)}}else if(Qe.type===3&&!Q(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";(Qe.next&&Se(Qe.next)||pe(Qe,!1))&&(dt=dt.replace(q,"")),dt.length===0?Qe.remove():Qe.value=dt}}]},mV=(e,t)=>{var o;const i=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},cy=(e={},t=Mc())=>{const o=AS(),i=AS(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,h=fV(c,t),C=(Xe,dt,Bt="html")=>{const Yt=Bt==="xhtml"?"application/xhtml+xml":"text/html",pn=ao(t.getSpecialElements(),dt.toLowerCase()),kt=pn?`<${dt}>${Xe}</${dt}>`:Xe,bt=()=>Bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${kt}</body></html>`:/^[\s]*<head/i.test(Xe)||/^[\s]*<html/i.test(Xe)||/^[\s]*<!DOCTYPE/i.test(Xe)?`<html>${kt}</html>`:`<body>${kt}</body>`,Nt=m.parseFromString(bt(),Yt).body;return h.sanitizeHtmlElement(Nt,Yt),pn?Nt.firstChild:Nt},A=o.addFilter,V=o.getFilters,Z=o.removeFilter,q=i.addFilter,Q=i.getFilters,ge=i.removeFilter,Se=(Xe,dt)=>{ew(t,Xe)&&dt.push(Xe)},pe=(Xe,dt)=>{const Bt=xe(dt.attr(P4)),Yt=dt.type===1&&!ao(Xe,dt.name)&&!fp(t,dt)&&!Bm(dt.name);return dt.type===3||Yt&&!Bt},Oe=(Xe,dt)=>{const Bt=L4(PS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Yt=/^[ \t\r\n]+/,pn=/[ \t\r\n]+$/;let kt=Xe.firstChild,bt=null;const Nt=Cn=>{var Vn,Io;Cn&&(kt=Cn.firstChild,kt&&kt.type===3&&(kt.value=(Vn=kt.value)===null||Vn===void 0?void 0:Vn.replace(Yt,"")),kt=Cn.lastChild,kt&&kt.type===3&&(kt.value=(Io=kt.value)===null||Io===void 0?void 0:Io.replace(pn,"")))};if(t.isValidChild(Xe.name,dt.toLowerCase())){for(;kt;){const Cn=kt.next;pe(Bt,kt)?(bt||(bt=new Da(dt,1),bt.attr(c.forced_root_block_attrs),Xe.insert(bt,kt)),bt.append(kt)):(Nt(bt),bt=null),kt=Cn}Nt(bt)}},Qe={schema:t,addAttributeFilter:q,getAttributeFilters:Q,removeAttributeFilter:ge,addNodeFilter:A,getNodeFilters:V,removeNodeFilter:Z,parse:(Xe,dt={})=>{var Bt;const Yt=c.validate,pn=(Bt=dt.context)!==null&&Bt!==void 0?Bt:c.root_name,kt=C(Xe,pn,dt.format);Kr(t,kt);const bt=new Da(pn,11);aP(bt,kt,t.getSpecialElements(),h.sanitizeNamespaceElement),kt.innerHTML="";const[Nt,Cn]=hg(bt,t,c,dt),Vn=[],Io=Yt?ci=>Se(ci,Vn):ct,Vo={nodes:{},attributes:{}},Rs=ci=>k3(V(),Q(),ci,Vo);if(pa(bt,[Nt,Rs],[Cn,Io]),Vn.reverse(),Yt&&Vn.length>0)if(dt.context){const{pass:ci,fail:kl}=zt(Vn,Ys=>Ys.parent===bt);Cu(kl,t,bt,Rs),dt.invalid=ci.length>0}else Cu(Vn,t,bt,Rs);const Us=mV(c,dt);return Us&&(bt.name==="body"||dt.isRootContent)&&Oe(bt,Us),dt.invalid||E3(Vo,dt),bt}};return Y7(Qe,c),W7(Qe,c,t),Qe},gV=e=>qb(e)?wh({validate:!1}).serialize(e):e,F4=(e,t,o)=>{const i=gV(e),c=t(i);if(c.isDefaultPrevented())return c;if(qb(e))if(c.content!==i){const m=cy({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},Qb=e=>({sanitize:a5(e),sandbox_iframes:zE(e),sandbox_iframes_exclusions:KC(e)}),lP=(e,t)=>{if(t.no_events)return Xn.value(t);{const o=qf(e,t);return o.isDefaultPrevented()?Xn.error(uR(e,{content:"",...o}).content):Xn.value(o)}},Qd=(e,t,o)=>o.no_events?t:F4(t,c=>uR(e,{...o,content:c}),Qb(e)).content,V4=(e,t)=>{if(t.no_events)return Xn.value(t);{const o=F4(t.content,i=>dF(e,{...t,content:i}),Qb(e));return o.isDefaultPrevented()?(lc(e,o),Xn.error(void 0)):Xn.value(o)}},z4=(e,t,o)=>{o.no_events||lc(e,{...o,content:t})},MS=(e,t,o)=>({element:e,width:t,rows:o}),H4=(e,t)=>({element:e,cells:t}),hV=(e,t)=>({x:e,y:t}),BS=(e,t)=>Qc(e,t).bind(un).getOr(1),pg=(e,t,o,i,c)=>{const m=BS(c,"rowspan"),h=BS(c,"colspan"),C=e.rows;for(let A=o;A<o+m;A++){C[A]||(C[A]=H4(Zm(i),[]));for(let V=t;V<t+h;V++){const Z=C[A].cells;Z[V]=A===o&&V===t?c:qr(c)}}},cP=(e,t,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[t]},uP=(e,t,o)=>{for(;cP(e,t,o);)t++;return t},mw=e=>Vt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),LS=(e,t)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let m=0;m<c.length;m++)if(Yo(c[m],t))return J.some(hV(m,i))}return J.none()},$4=(e,t,o,i,c)=>{const m=[],h=e.rows;for(let C=o;C<=c;C++){const A=h[C].cells,V=t<i?A.slice(t,i+1):A.slice(i,t+1);m.push(H4(h[C].element,V))}return m},dP=(e,t,o)=>{const i=t.x,c=t.y,m=o.x,h=o.y,C=c<h?$4(e,i,c,m,h):$4(e,i,h,m,c);return MS(e.element,mw(C),C)},fP=(e,t)=>{const o=qr(e.element),i=Fe.fromTag("tbody");return ei(i,t),Wr(o,i),o},pV=e=>Be(e.rows,t=>{const o=Be(t.cells,c=>{const m=Zm(c);return Do(m,"colspan"),Do(m,"rowspan"),m}),i=qr(t.element);return ei(i,o),i}),vV=e=>{const t=MS(qr(e),0,[]);return he(hi(e,"tr"),(o,i)=>{he(hi(o,"td,th"),(c,m)=>{pg(t,uP(t,m,i),i,o,c)})}),MS(t.element,mw(t.rows),t.rows)},bV=e=>fP(e,pV(e)),mP=(e,t,o)=>LS(e,t).bind(i=>LS(e,o).map(c=>dP(e,i,c))),gP=e=>cn(e,t=>qo(t)==="ul"||qo(t)==="ol"),yV=(e,t)=>cn(e,o=>qo(o)==="li"&&g2(o,t)).fold(et([]),o=>gP(e).map(i=>{const c=Fe.fromTag(qo(i)),m=Cc($g(i),(h,C)=>cr(C,"list-style"));return jo(c,m),[Fe.fromTag("li"),c]}).getOr([])),U4=(e,t)=>{const o=Vt(t,(i,c)=>(Wr(c,i),c),e);return t.length>0?Uc([o]):o},hP=e=>Km(e)?aa(e).filter(lb).fold(et([]),t=>[e,t]):lb(e)?[e]:[],xV=(e,t,o)=>{const i=Fe.fromDom(t.commonAncestorContainer),c=Zc(i,e),m=vt(c,A=>o.isWrapper(qo(A))),h=yV(c,t),C=m.concat(h.length?h:hP(i));return Be(C,qr)},W4=()=>Uc([]),wV=(e,t,o)=>U4(Fe.fromDom(t.cloneContents()),xV(e,t,o)),CV=(e,t)=>su(t,"table",tt(Yo,e)),_l=(e,t)=>CV(e,t[0]).bind(o=>{const i=t[0],c=t[t.length-1],m=vV(o);return mP(m,i,c).map(h=>Uc([bV(h)]))}).getOrThunk(W4),_V=(e,t,o)=>t.length>0&&t[0].collapsed?W4():wV(e,t[0],o),SV=(e,t,o)=>{const i=Z5(t,e);return i.length>0?_l(e,i):_V(e,t,o)},FS=(e,t)=>t>=0&&t<e.length&&Rb(e.charAt(t)),pP=e=>xl(e.innerText),VS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),kV=e=>J.from(e.selection.getRng()).map(t=>{var o;const i=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=VS(i),h=Fe.fromDom(t.cloneContents());QR(h),eI(h);const C=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),A=pP(C),V=xl((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),FS(V,0)||FS(V,V.length-1)){const Z=i.getOr(c),q=pP(Z),Q=q.indexOf(A);if(Q===-1)return A;{const ge=FS(q,Q-1),Se=FS(q,Q+A.length);return(ge?" ":"")+A+(Se?" ":"")}}else return A}).getOr(""),Z4=(e,t)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),m=N_(e,vr(c)),h=t.contextual?SV(Fe.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,t)},j4=(e,t)=>{if(t.format==="text")return kV(e);{const o=Z4(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},EV=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),AV=(e,t,o={})=>{const i=EV(o,t);return lP(e,i).fold(pt,c=>{const m=j4(e,c);return Qd(e,m,c)})},fd=0,K4=1,vP=2,G4=(e,t)=>{const o=e.length+t.length+2,i=new Array(o),c=new Array(o),m=(Z,q,Q)=>({start:Z,end:q,diag:Q}),h=(Z,q,Q,ge,Se)=>{const pe=A(Z,q,Q,ge);if(pe===null||pe.start===q&&pe.diag===q-ge||pe.end===Z&&pe.diag===Z-Q){let Oe=Z,He=Q;for(;Oe<q||He<ge;)Oe<q&&He<ge&&e[Oe]===t[He]?(Se.push([fd,e[Oe]]),++Oe,++He):q-Z>ge-Q?(Se.push([vP,e[Oe]]),++Oe):(Se.push([K4,t[He]]),++He)}else{h(Z,pe.start,Q,pe.start-pe.diag,Se);for(let Oe=pe.start;Oe<pe.end;++Oe)Se.push([fd,e[Oe]]);h(pe.end,q,pe.end-pe.diag,ge,Se)}},C=(Z,q,Q,ge)=>{let Se=Z;for(;Se-q<ge&&Se<Q&&e[Se]===t[Se-q];)++Se;return m(Z,Se,q)},A=(Z,q,Q,ge)=>{const Se=q-Z,pe=ge-Q;if(Se===0||pe===0)return null;const Oe=Se-pe,He=pe+Se,Qe=(He%2===0?He:He+1)/2;i[1+Qe]=Z,c[1+Qe]=q+1;let Xe,dt,Bt,Yt,pn;for(Xe=0;Xe<=Qe;++Xe){for(dt=-Xe;dt<=Xe;dt+=2){for(Bt=dt+Qe,dt===-Xe||dt!==Xe&&i[Bt-1]<i[Bt+1]?i[Bt]=i[Bt+1]:i[Bt]=i[Bt-1]+1,Yt=i[Bt],pn=Yt-Z+Q-dt;Yt<q&&pn<ge&&e[Yt]===t[pn];)i[Bt]=++Yt,++pn;if(Oe%2!==0&&Oe-Xe<=dt&&dt<=Oe+Xe&&c[Bt-Oe]<=i[Bt])return C(c[Bt-Oe],dt+Z-Q,q,ge)}for(dt=Oe-Xe;dt<=Oe+Xe;dt+=2){for(Bt=dt+Qe-Oe,dt===Oe-Xe||dt!==Oe+Xe&&c[Bt+1]<=c[Bt-1]?c[Bt]=c[Bt+1]-1:c[Bt]=c[Bt-1],Yt=c[Bt]-1,pn=Yt-Z+Q-dt;Yt>=Z&&pn>=Q&&e[Yt]===t[pn];)c[Bt]=Yt--,pn--;if(Oe%2===0&&-Xe<=dt&&dt<=Xe&&c[Bt]<=i[Bt+Oe])return C(c[Bt],dt+Z-Q,q,ge)}}return null},V=[];return h(0,e.length,0,t.length,V),V},q4=e=>En(e)?e.outerHTML:Ut(e)?Yg.encodeRaw(e.data,!1):ko(e)?"<!--"+e.data+"-->":"",zS=e=>{let t;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)i.appendChild(t);return i},bP=(e,t,o)=>{const i=zS(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},yP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},xP=(e,t)=>{let o=0;he(e,i=>{i[0]===fd?o++:i[0]===K4?(bP(t,i[1],o),o++):i[0]===vP&&yP(t,o)})},TV=(e,t)=>vt(Be(vo(e.childNodes),$t(xl,q4)),o=>o.length>0),OV=(e,t)=>{const o=Be(vo(t.childNodes),q4);return xP(G4(o,e),t),t},Y4=Dl(()=>document.implementation.createHTMLDocument("undo")),DV=e=>e.querySelector("iframe")!==null,RV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),HS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),uy=e=>{const t=e.serializer.getTempAttrs(),o=FA(e.getBody(),t);return DV(o)?RV(TV(o)):HS(xl(o.innerHTML))},gw=(e,t,o)=>{const i=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?OV(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:ke(i)&&L5(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},$S=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Th=e=>{const t=Fe.fromTag("body",Y4());return Rm(t,$S(e)),he(hi(t,"*[data-mce-bogus]"),Va),Nd(t)},IV=(e,t)=>$S(e)===$S(t),NV=(e,t)=>Th(e)===Th(t),dy=(e,t)=>!e||!t?!1:IV(e,t)?!0:NV(e,t),US=e=>e.get()===0,hw=(e,t,o)=>{US(o)&&(e.typing=t)},X4=(e,t)=>{e.typing&&(hw(e,!1,t),e.add())},PV=e=>{e.typing&&(e.typing=!1,e.add())},MV=(e,t,o)=>{US(t)&&o.set(yn(e.selection))},J4=(e,t,o,i,c,m,h)=>{const C=uy(e),A=Xt.extend(m||{},C);if(!US(i)||e.removed)return null;const V=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:V,originalEvent:h}).isDefaultPrevented()||V&&dy(V,A))return null;t.data[o.get()]&&c.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const Z=e5(e);if(Z&&t.data.length>Z){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}A.bookmark=yn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const q={level:A,lastLevel:V,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",q),e.dispatch("change",q)):e.dispatch("AddUndo",q),A},Q4=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},eT=(e,t,o,i,c)=>{if(t.transact(i)){const m=t.data[o.get()].bookmark,h=t.data[o.get()-1];gw(e,h,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=m)}},wP=(e,t,o)=>{let i;return t.get()<o.length-1&&(t.set(t.get()+1),i=o[t.get()],gw(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},WS=(e,t,o,i)=>{let c;return t.typing&&(t.add(),t.typing=!1,hw(t,!1,o)),i.get()>0&&(i.set(i.get()-1),c=t.data[i.get()],gw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},CP=e=>{e.clear(),e.add()},_P=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!dy(uy(e),t.data[0]),BV=(e,t)=>t.get()<e.data.length-1&&!e.typing,LV=(e,t,o)=>(X4(e,t),e.beforeChange(),e.ignore(o),e.add()),tT=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},SP=(e,t)=>{const o=e.dom,i=ke(t)?t:e.getBody();he(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const m=ZC(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const C=o.getAttrib(c,"name")||c.id,A=P0(e);C&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},nT=e=>({init:{bindEvents:ct},undoManager:{beforeChange:(t,o)=>MV(e,t,o),add:(t,o,i,c,m,h)=>J4(e,t,o,i,c,m,h),undo:(t,o,i)=>WS(e,t,o,i),redo:(t,o)=>wP(e,t,o),clear:(t,o)=>Q4(e,t,o),reset:t=>CP(t),hasUndo:(t,o)=>_P(e,t,o),hasRedo:(t,o)=>BV(t,o),transact:(t,o,i)=>LV(t,o,i),ignore:(t,o)=>tT(t,o),extra:(t,o,i,c)=>eT(e,t,o,i,c)},formatter:{match:(t,o,i,c)=>jp(e,t,o,i,c),matchAll:(t,o)=>aN(e,t,o),matchNode:(t,o,i,c)=>fg(e,t,o,i,c),canApply:t=>cN(e,t),closest:t=>lN(e,t),apply:(t,o,i)=>TN(e,t,o,i),remove:(t,o,i,c)=>Yp(e,t,o,i,c),toggle:(t,o,i)=>z7(e,t,o,i),formatChanged:(t,o,i,c,m)=>V7(e,t,o,i,c,m)},editor:{getContent:t=>oI(e,t),setContent:(t,o)=>R7(e,t,o),insertContent:(t,o)=>hS(e,t,o),addVisual:t=>SP(e,t)},selection:{getContent:(t,o)=>AV(e,t,o)},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:()=>J.none()}}),FV=e=>{const t=V=>ee(V)?V:{},{init:o,undoManager:i,formatter:c,editor:m,selection:h,autocompleter:C,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(V,Z,q)=>i.transact(q),ignore:(V,Z)=>i.ignore(Z),extra:(V,Z,q,Q)=>i.extra(q,Q)},formatter:{match:(V,Z,q,Q)=>c.match(V,t(Z),Q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:V=>c.canApply(V),closest:V=>c.closest(V),apply:(V,Z,q)=>c.apply(V,t(Z)),remove:(V,Z,q,Q)=>c.remove(V,t(Z)),toggle:(V,Z,q)=>c.toggle(V,t(Z)),formatChanged:(V,Z,q,Q,ge)=>c.formatChanged(Z,q,Q,ge)},editor:{getContent:V=>m.getContent(V),setContent:(V,Z)=>({content:m.setContent(V,Z),html:""}),insertContent:(V,Z)=>(m.insertContent(V),""),addVisual:m.addVisual},selection:{getContent:(V,Z)=>h.getContent(Z)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},VV=()=>{const e=et(null),t=et("");return{init:{bindEvents:ct},undoManager:{beforeChange:ct,add:e,undo:e,redo:e,clear:ct,reset:ct,hasUndo:fn,hasRedo:fn,transact:e,ignore:ct,extra:ct},formatter:{match:fn,matchAll:et([]),matchNode:et(void 0),canApply:fn,closest:t,apply:ct,remove:ct,toggle:ct,formatChanged:et({unbind:ct})},editor:{getContent:t,setContent:et({content:"",html:""}),insertContent:et(""),addVisual:ct},selection:{getContent:t},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:et(J.none())}}},vg=e=>ao(e.plugins,"rtc"),kP=e=>Os(e.plugins,"rtc").bind(t=>J.from(t.setup)),EP=e=>{const t=e;return kP(e).fold(()=>(t.rtcInstance=nT(e),J.none()),o=>(t.rtcInstance=VV(),J.some(()=>o().then(i=>(t.rtcInstance=FV(i),i.rtc.isRemote)))))},oT=e=>e.rtcInstance?e.rtcInstance:nT(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},fy=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},zV=(e,t,o,i,c,m,h)=>va(e).undoManager.add(t,o,i,c,m,h),HV=(e,t,o,i)=>va(e).undoManager.undo(t,o,i),AP=(e,t,o)=>va(e).undoManager.redo(t,o),TP=(e,t,o)=>{va(e).undoManager.clear(t,o)},ZS=(e,t)=>{va(e).undoManager.reset(t)},$V=(e,t,o)=>va(e).undoManager.hasUndo(t,o),UV=(e,t,o)=>va(e).undoManager.hasRedo(t,o),WV=(e,t,o,i)=>va(e).undoManager.transact(t,o,i),ZV=(e,t,o)=>{va(e).undoManager.ignore(t,o)},jV=(e,t,o,i,c)=>{va(e).undoManager.extra(t,o,i,c)},KV=(e,t,o,i,c)=>va(e).formatter.match(t,o,i,c),GV=(e,t,o)=>va(e).formatter.matchAll(t,o),qV=(e,t,o,i,c)=>va(e).formatter.matchNode(t,o,i,c),YV=(e,t)=>va(e).formatter.canApply(t),XV=(e,t)=>va(e).formatter.closest(t),er=(e,t,o,i)=>{va(e).formatter.apply(t,o,i)},OP=(e,t,o,i,c)=>{va(e).formatter.remove(t,o,i,c)},sT=(e,t,o,i)=>{va(e).formatter.toggle(t,o,i)},DP=(e,t,o,i,c,m)=>va(e).formatter.formatChanged(t,o,i,c,m),RP=(e,t)=>oT(e).editor.getContent(t),rT=(e,t,o)=>oT(e).editor.setContent(t,o),JV=(e,t,o)=>oT(e).editor.insertContent(t,o),QV=(e,t,o)=>va(e).selection.getContent(t,o),IP=(e,t)=>va(e).editor.addVisual(t),NP=e=>va(e).init.bindEvents(),ez=(e,t={})=>{const o=t.format?t.format:"html";return QV(e,o,t)},e1=e=>e.dom.length===0?(Ds(e),J.none()):J.some(e),tz=(e,t)=>e.filter(o=>Zs.isBookmarkNode(o.dom)).bind(t?Wn:xi),my=(e,t,o,i,c)=>{const m=e.dom,h=t.dom,C=i?m.length:h.length;i?(K2(m,h,c,!1,!i),o.setStart(h,C)):(K2(h,m,c,!1,!i),o.setEnd(h,C))},pw=(e,t,o)=>{aa(e).each(i=>{const c=e.dom;t&&Q0(i,xt(c,0),o)?U_(c,0,o):!t&&Zb(i,xt(c,c.length),o)&&Vr(c,c.length,o)})},t1=(e,t,o,i,c)=>{e.bind(m=>((i?Vr:U_)(m.dom,i?m.dom.length:0,c),t.filter(ur).map(C=>my(m,C,o,i,c)))).orThunk(()=>tz(t,i).or(t).filter(ur).map(h=>pw(h,i,c)))},iT=(e,t,o)=>{const i=J.from(t.firstChild).map(Fe.fromDom),c=J.from(t.lastChild).map(Fe.fromDom);e.deleteContents(),e.insertNode(t);const m=i.bind(xi).filter(ur).bind(e1),h=c.bind(Wn).filter(ur).bind(e1);t1(m,i,e,!0,o),t1(h,c,e,!1,o),e.collapse(!1)},PP=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),MP=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return wh({validate:!1},e.schema).serialize(m)}else return t.content},aT=(e,t,o={})=>{const i=PP(o,t);V4(e,i).each(c=>{const m=MP(e,c),h=e.selection.getRng();iT(h,h.createContextualFragment(m),e.schema),e.selection.setRng(h),od(e,h),z4(e,m,c)})},lT=(e,t,o)=>{if(ao(e,t)){const i=vt(e[t],c=>c!==o);i.length===0?delete e[t]:e[t]=i}};var BP=(e,t)=>{let o,i;const c=(C,A)=>cn(A,V=>e.is(V,C)),m=C=>e.getParents(C,void 0,e.getRoot()),h=()=>{o={},i={},t.on("NodeChange",C=>{const A=C.element,V=m(A),Z={};rs(o,(q,Q)=>{c(Q,V).each(ge=>{i[Q]||(he(q,Se=>{Se(!0,{node:ge,selector:Q,parents:V})}),i[Q]=q),Z[Q]=q})}),rs(i,(q,Q)=>{Z[Q]||(delete i[Q],he(q,ge=>{ge(!1,{node:A,selector:Q,parents:V})}))})})};return{selectorChangedWithUnbind:(C,A)=>(o||h(),o[C]||(o[C]=[]),o[C].push(A),c(C,m(t.selection.getStart())).each(()=>{i[C]=o[C]}),{unbind:()=>{lT(o,C,A),lT(i,C,A)}})}};const cT=e=>!!(e&&e.ownerDocument)&&ia(Fe.fromDom(e.ownerDocument),Fe.fromDom(e)),uT=e=>e?cT(e.startContainer)&&cT(e.endContainer):!1,dT=(e,t,o,i)=>{let c,m;const{selectorChangedWithUnbind:h}=BP(e,i),C=(on,Pn)=>{const ys=e.createRng();ke(on)&&ke(Pn)?(ys.setStart(on,Pn),ys.setEnd(on,Pn),dt(ys),He(!1)):(h2(e,ys,i.getBody(),!0),dt(ys))},A=on=>ez(i,on),V=(on,Pn)=>aT(i,on,Pn),Z=on=>jR(i.getBody(),Xe(),on),q=on=>KR(i.getBody(),Xe(),on),Q=(on,Pn)=>kl.getBookmark(on,Pn),ge=on=>kl.moveToBookmark(on),Se=(on,Pn)=>(z2(e,on,Pn).each(dt),on),pe=()=>{const on=Xe(),Pn=Qe();return!on||on.item?!1:on.compareEndPoints?on.compareEndPoints("StartToEnd",on)===0:!Pn||on.collapsed},Oe=()=>{const on=Xe(),Pn=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Pn.length>0?Oo(Pn,ys=>e.isEditable(ys.parentElement)):WR(e,on)},He=on=>{const Pn=Xe();Pn.collapse(!!on),dt(Pn)},Qe=()=>t.getSelection?t.getSelection():t.document.selection,Xe=()=>{let on;const Pn=(ln,Gn,Fo)=>{try{return Gn.compareBoundaryPoints(ln,Fo)}catch{return-1}},ys=t.document;if(ke(i.bookmark)&&!j0(i)){const ln=RA(i);if(ln.isSome())return ln.map(Gn=>N_(i,[Gn])[0]).getOr(ys.createRange())}try{const ln=Qe();ln&&!_f(ln.anchorNode)&&(ln.rangeCount>0?on=ln.getRangeAt(0):on=ys.createRange(),on=N_(i,[on])[0])}catch{}if(on||(on=ys.createRange()),Rn(on.startContainer)&&on.collapsed){const ln=e.getRoot();on.setStart(ln,0),on.setEnd(ln,0)}return c&&m&&(Pn(on.START_TO_START,on,c)===0&&Pn(on.END_TO_END,on,c)===0?on=m:(c=null,m=null)),on},dt=(on,Pn)=>{if(!uT(on))return;const ys=Qe();if(on=i.dispatch("SetSelectionRange",{range:on,forward:Pn}).range,ys){m=on;try{ys.removeAllRanges(),ys.addRange(on)}catch{}Pn===!1&&ys.extend&&(ys.collapse(on.endContainer,on.endOffset),ys.extend(on.startContainer,on.startOffset)),c=ys.rangeCount>0?ys.getRangeAt(0):null}if(!on.collapsed&&on.startContainer===on.endContainer&&(ys!=null&&ys.setBaseAndExtent)&&on.endOffset-on.startOffset<2&&on.startContainer.hasChildNodes()){const Gn=on.startContainer.childNodes[on.startOffset];Gn&&Gn.nodeName==="IMG"&&(ys.setBaseAndExtent(on.startContainer,on.startOffset,on.endContainer,on.endOffset),(ys.anchorNode!==on.startContainer||ys.focusNode!==on.endContainer)&&ys.setBaseAndExtent(Gn,0,Gn,1))}i.dispatch("AfterSetSelectionRange",{range:on,forward:Pn})},Bt=on=>(V(e.getOuterHTML(on)),on),Yt=()=>ZF(i.getBody(),Xe()),pn=(on,Pn)=>BA(e,Xe(),on,Pn),kt=()=>{const on=Qe(),Pn=on==null?void 0:on.anchorNode,ys=on==null?void 0:on.focusNode;if(!on||!Pn||!ys||_f(Pn)||_f(ys))return!0;const ln=e.createRng(),Gn=e.createRng();try{ln.setStart(Pn,on.anchorOffset),ln.collapse(!0),Gn.setStart(ys,on.focusOffset),Gn.collapse(!0)}catch{return!0}return ln.compareBoundaryPoints(ln.START_TO_START,Gn)<=0},ci={dom:e,win:t,serializer:o,editor:i,expand:(on={type:"word"})=>dt(Bp(e).expand(Xe(),on)),collapse:He,setCursorLocation:C,getContent:A,setContent:V,getBookmark:Q,moveToBookmark:ge,select:Se,isCollapsed:pe,isEditable:Oe,isForward:kt,setNode:Bt,getNode:Yt,getSel:Qe,setRng:dt,getRng:Xe,getStart:Z,getEnd:q,getSelectedBlocks:pn,normalize:()=>{const on=Xe(),Pn=Qe();if(!d2(Pn)&&V0(i)){const ys=rg(e,on);return ys.each(ln=>{dt(ln,kt())}),ys.getOr(on)}return on},selectorChanged:(on,Pn)=>(h(on,Pn),ci),selectorChangedWithUnbind:h,getScrollContainer:()=>{let on,Pn=e.getRoot();for(;Pn&&Pn.nodeName!=="BODY";){if(Pn.scrollHeight>Pn.clientHeight){on=Pn;break}Pn=Pn.parentNode}return on},scrollIntoView:(on,Pn)=>{ke(on)?AA(i,on,Pn):od(i,Xe(),Pn)},placeCaretAt:(on,Pn)=>dt(yR(on,Pn,i.getDoc())),getBoundingClientRect:()=>{const on=Xe();return on.collapsed?xt.fromRangeStart(on).getClientRects()[0]:on.getBoundingClientRect()},destroy:()=>{t=c=m=null,Ys.destroy()}},kl=Zs(ci),Ys=zs(ci,i);return ci.bookmarkManager=kl,ci.controlSelection=Ys,ci},LP=(e,t,o)=>{t.addNodeFilter("br",(i,c,m)=>{const h=Xt.extend({},o.getBlockElements()),C=o.getNonEmptyElements(),A=o.getWhitespaceElements();h.body=1;const V=Z=>Z.name in h||fp(o,Z);for(let Z=0,q=i.length;Z<q;Z++){let Q=i[Z],ge=Q.parent;if(ge&&V(ge)&&Q===ge.lastChild){let Se=Q.prev;for(;Se;){const pe=Se.name;if(pe!=="span"||Se.attr("data-mce-type")!=="bookmark"){pe==="br"&&(Q=null);break}Se=Se.prev}if(Q&&(Q.remove(),oy(o,C,A,ge))){const pe=o.getElementRule(ge.name);pe&&(pe.removeEmpty?ge.remove():pe.paddEmpty&&rS(e,m,V,ge))}}else{let Se=Q;for(;ge&&ge.firstChild===Se&&ge.lastChild===Se&&(Se=ge,!h[ge.name]);)ge=ge.parent;if(Se===ge){const pe=new Da("#text",3);pe.value=Di,Q.replace(pe)}}}})},fT=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const m="data-mce-"+c,h=t.url_converter,C=t.url_converter_scope;let A=i.length;for(;A--;){const V=i[A];let Z=V.attr(m);Z!==void 0?(V.attr(c,Z.length>0?Z:null),V.attr(m,null)):(Z=V.attr(c),c==="style"?Z=o.serializeStyle(o.parseStyle(Z),V.name):h&&(Z=h.call(C,Z,c,V.name)),V.attr(c,Z.length>0?Z:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const m=i[c];let h=m.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,m)=>{let h=i.length;for(;h--;){const C=i[h];C.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(J.from(C.firstChild).exists(V=>{var Z;return!Vc((Z=V.value)!==null&&Z!==void 0?Z:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var m;const h=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=i.length;for(;C--;){const A=i[C],V=A.firstChild,Z=(m=V==null?void 0:V.value)!==null&&m!==void 0?m:"";if(c==="script"){const q=A.attr("type");q&&A.attr("type",q==="mce-no/type"?null:q.replace(/^mce\-/,"")),t.element_format==="xhtml"&&V&&Z.length>0&&(V.value=`// <![CDATA[
`+h(Z)+`
// ]]>`)}else t.element_format==="xhtml"&&V&&Z.length>0&&(V.value=`<!--
`+h(Z)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const m=i[c],h=m.value;t.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{he(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.remove_trailing_brs&&LP(t,e,e.schema)},nz=e=>{const t=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(t(o)){const i=o.prev;t(i)&&(o.remove(),i.remove())}},FP=(e,t,o)=>{let i;const c=e.dom;let m=t.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const C=h.createHTMLDocument("");Xt.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{C.body.appendChild(C.importNode(A,!0))}),m.nodeName!=="BODY"?m=C.body.firstChild:m=C.body,i=c.doc,c.doc=C}return C2(e,{...o,node:m}),i&&(c.doc=i),m},VP=(e,t)=>ke(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,zP=(e,t,o)=>VP(e,o)?FP(e,t,o):t,oz=(e,t,o)=>{Xt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.push(o))},sz=(e,t,o)=>!t.no_events&&e?_2(e,{...t,content:o}).content:o,jS=(e,t,o)=>{const i=xl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||cb(Fe.fromDom(t))?i:Xt.trim(i)},HP=(e,t,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,i);return nz(c),c},$P=(e,t,o)=>wh(e,t).serialize(o),UP=(e,t,o,i,c)=>{const m=$P(t,o,i);return sz(e,c,m)},rz=(e,t)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:Gs.DOM,m=t&&t.schema?t.schema:Mc(i),h=cy(i,m);fT(h,i,c);const C=(A,V={})=>{const Z={format:"html",...V},q=zP(t,A,Z),Q=jS(c,q,Z),ge=HP(h,Q,Z);return Z.format==="tree"?ge:UP(t,i,m,ge,Z)};return{schema:m,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:C,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:tt(oz,h,o),getTempAttrs:et(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},WP=(e,t)=>{const o=rz(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},iz="html",az=(e,t)=>({...e,format:t,get:!0,getInner:!0}),ZP=(e,t={})=>{const o=t.format?t.format:iz,i=az(t,o);return lP(e,i).fold(pt,c=>{const m=RP(e,c);return Qd(e,m,c)})},jP="html",KP=(e,t)=>({format:jP,...e,set:!0,content:t}),mT=(e,t,o={})=>{const i=KP(o,t);return V4(e,i).map(c=>{const m=rT(e,c.content,c);return z4(e,m.html,c),m.content}).getOr(t)},lz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cz=[],uz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),vw=[],gT=(e,t)=>{const o=vt(t,i=>ao(e,i));return fs(o)},dz=e=>{const t=gT(e,lz),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),fs(t)},GP=e=>gT(e,cz),hT=(e,t)=>{const o=Xt.makeMap(e.plugins," "),c=vt(t,m=>ao(o,m));return fs(c)},pT=e=>hT(e,uz),qP=e=>hT(e,vw.map(t=>t.name)),YP=(e,t)=>{const o=dz(e),i=pT(t),c=i.length>0,m=o.length>0,h=t.theme==="mobile";if(c||m||h){const C=`
- `,A=h?`

Themes:${C}mobile`:"",V=c?`

Plugins:${C}${i.join(C)}`:"",Z=m?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+V+Z)}},XP=e=>cn(vw,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),fz=(e,t)=>{const o=GP(e),i=qP(t),c=i.length>0,m=o.length>0;if(c||m){const h=`
- `,C=c?`

Plugins:${h}${i.map(XP).join(h)}`:"",A=m?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},mz=(e,t)=>{YP(e,t),fz(e,t)},Qp=Gs.DOM,gz=e=>{Qp.setStyle(e.id,"display",e.orgDisplay)},bw=e=>J.from(e).each(t=>t.destroy()),KS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const i=o.dom;t.selection=o.win=o.dom=i.doc=null}},JP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Qp.unbind(t,"submit reset",e.formEventDelegate))},QP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&ke(c==null?void 0:c.nextSibling)&&Qp.remove(c.nextSibling),S2(e),e.editorManager.remove(e),!e.inline&&i&&gz(e),k2(e),Qp.remove(e.getContainer()),bw(t),bw(o),e.destroy()}},hz=(e,t)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),bw(o),bw(i)),JP(e),KS(e),e.destroyed=!0}},yw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>ao(e,c)}})(),ev=ol.ModelManager,xw=(e,t)=>t.dom[e],vT=(e,t)=>parseInt(Ur(t,e),10),bT=tt(xw,"clientWidth"),e6=tt(xw,"clientHeight"),pz=tt(vT,"margin-top"),t6=tt(vT,"margin-left"),vz=e=>e.dom.getBoundingClientRect(),n6=(e,t,o)=>{const i=bT(e),c=e6(e);return t>=0&&o>=0&&t<=i&&o<=c},o6=(e,t,o,i)=>{const c=vz(t),m=e?c.left+t.dom.clientLeft+t6(t):0,h=e?c.top+t.dom.clientTop+pz(t):0,C=o-m,A=i-h;return{x:C,y:A}},bz=(e,t,o)=>{const i=Fe.fromDom(e.getBody()),c=e.inline?i:zu(i),m=o6(e.inline,c,t,o);return n6(c,m.x,m.y)},s6=e=>J.from(e).map(Fe.fromDom),yT=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return s6(t).map(Ba).getOr(!1)};var r6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const xT=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():r6()},i=()=>J.from(t[0]),c=(Q,ge)=>Q.type===ge.type&&Q.text===ge.text&&!Q.progressBar&&!Q.timeout&&!ge.progressBar&&!ge.timeout,m=()=>{i().each(Q=>{Q.reposition()})},h=Q=>{t.push(Q)},C=Q=>{An(t,ge=>ge===Q).each(ge=>{t.splice(ge,1)})},A=(Q,ge=!0)=>e.removed||!yT(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:Q}),cn(t,Se=>c(o().getArgs(Se),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const Se=o().open(Q,()=>{C(Se)},()=>Vb(e));return h(Se),m(),e.dispatch("OpenNotification",{notification:{...Se}}),Se})),V=()=>{i().each(Q=>{o().close(Q),C(Q),m()})},Z=et(t);return(Q=>{Q.on("SkinLoaded",()=>{const ge=E8(Q);ge&&A({text:ge,type:"warning",timeout:0},!1),m()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),Q.on("remove",()=>{he(t.slice(),ge=>{o().close(ge)})}),Q.addShortcut("alt+F12","Focus to notification",()=>i().map(ge=>Fe.fromDom(ge.getEl())).each(ge=>TA(ge)))})(e),{open:A,close:V,getNotifications:Z}},n1=ol.PluginManager,tv=ol.ThemeManager;var yz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const i6=e=>{let t=[];const o=()=>{const pe=e.theme;return pe&&pe.getWindowManagerImpl?pe.getWindowManagerImpl():yz()},i=(pe,Oe)=>(...He)=>Oe?Oe.apply(pe,He):void 0,c=pe=>{e.dispatch("OpenWindow",{dialog:pe})},m=pe=>{e.dispatch("CloseWindow",{dialog:pe})},h=pe=>{t.push(pe),c(pe)},C=pe=>{m(pe),t=vt(t,Oe=>Oe!==pe),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),V=pe=>{e.editorManager.setActive(e),Z0(e),e.ui.show();const Oe=pe();return h(Oe),Oe},Z=(pe,Oe)=>V(()=>o().open(pe,Oe,C)),q=pe=>V(()=>o().openUrl(pe,C)),Q=(pe,Oe,He)=>{const Qe=o();Qe.alert(pe,i(He||Qe,Oe))},ge=(pe,Oe,He)=>{const Qe=o();Qe.confirm(pe,i(He||Qe,Oe))},Se=()=>{A().each(pe=>{o().close(pe),C(pe)})};return e.on("remove",()=>{he(t,pe=>{o().close(pe)})}),{open:Z,openUrl:q,alert:Q,confirm:ge,close:Se}},GS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},qS=(e,t)=>{e._skinLoaded?GS(e,t):e.on("SkinLoaded",()=>{GS(e,t)})},a6=(e,t)=>{qS(e,Bc.translate(["Failed to upload image: {0}",t]))},gy=(e,t,o)=>{mA(e,t,{message:o}),console.error(o)},o1=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,wT=(e,t,o)=>{gy(e,"PluginLoadError",o1("plugin",t,o))},CT=(e,t,o)=>{gy(e,"IconsLoadError",o1("icons",t,o))},xz=(e,t,o)=>{gy(e,"LanguageLoadError",o1("language",t,o))},l6=(e,t,o)=>{gy(e,"ThemeLoadError",o1("theme",t,o))},wz=(e,t,o)=>{gy(e,"ModelLoadError",o1("model",t,o))},Cz=(e,t,o)=>{const i=Bc.translate(["Failed to initialize plugin: {0}",t]);mA(e,"PluginLoadError",{message:i}),ww(i,o),qS(e,i)},ww=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},_T=e=>/^[a-z0-9\-]+$/i.test(e),ST=e=>"content/"+e+"/content.css",YS=e=>tinymce.Resource.has(ST(e)),_z=e=>c6(e,Bl(e)),Sz=e=>c6(e,jD(e)),c6=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Be(t,m=>YS(m)?m:_T(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},u6=e=>{e.contentCSS=e.contentCSS.concat(_z(e),Sz(e))},d6=e=>e?vo(e.getElementsByTagName("img")):[],kz=(e,t)=>{const o={};return{findAll:(c,m=_n)=>{const h=vt(d6(c),A=>{const V=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!V||V===Mo.transparentSrc?!1:cr(V,"blob:")?!e.isUploaded(V)&&m(A):cr(V,"data:")?m(A):!1}),C=Be(h,A=>{const V=A.src;if(ao(o,V))return o[V].then(Z=>xe(Z)?Z:{image:A,blobInfo:Z.blobInfo});{const Z=v4(t,V).then(q=>(delete o[V],{image:A,blobInfo:q})).catch(q=>(delete o[V],q));return o[V]=Z,Z}});return Promise.all(C)}}},kT=()=>{let o={};const i=(Q,ge)=>({status:Q,resultUri:ge}),c=Q=>Q in o;return{hasBlobUri:c,getResultUri:Q=>{const ge=o[Q];return ge?ge.resultUri:null},isPending:Q=>c(Q)?o[Q].status===1:!1,isUploaded:Q=>c(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=i(1,null)},markUploaded:(Q,ge)=>{o[Q]=i(2,ge)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let Cw=0;const f6=()=>{const e=()=>Math.round(yl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Ez=e=>e+Cw+++f6(),m6=()=>{let e=[];const t=q=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[q.toLowerCase()]||"dat",o=(q,Q,ge,Se,pe)=>{if(xe(q))return i({id:q,name:Se,filename:pe,blob:Q,base64:ge});if(ee(q))return i(q);throw new Error("Unknown input type")},i=q=>{if(!q.blob||!q.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=q.id||Ez("blobid"),ge=q.name||Q,Se=q.blob;return{id:et(Q),name:et(ge),filename:et(q.filename||ge+"."+t(Se.type)),blob:et(Se),base64:et(q.base64),blobUri:et(q.blobUri||URL.createObjectURL(Se)),uri:et(q.uri)}},c=q=>{h(q.id())||e.push(q)},m=q=>cn(e,q).getOrUndefined(),h=q=>m(Q=>Q.id()===q);return{create:o,add:c,get:h,getByUri:q=>m(Q=>Q.blobUri()===q),getByData:(q,Q)=>m(ge=>ge.base64()===q&&ge.blob().type===Q),findFirst:m,removeByUri:q=>{e=vt(e,Q=>Q.blobUri()===q?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{he(e,q=>{URL.revokeObjectURL(q.blobUri())}),e=[]}}},g6=(e,t)=>{const o={},i=(pe,Oe)=>pe?pe.replace(/\/$/,"")+"/"+Oe.replace(/^\//,""):Oe,c=(pe,Oe)=>new Promise((He,Qe)=>{const Xe=new XMLHttpRequest;Xe.open("POST",t.url),Xe.withCredentials=t.credentials,Xe.upload.onprogress=Bt=>{Oe(Bt.loaded/Bt.total*100)},Xe.onerror=()=>{Qe("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=()=>{if(Xe.status<200||Xe.status>=300){Qe("HTTP Error: "+Xe.status);return}const Bt=JSON.parse(Xe.responseText);if(!Bt||!xe(Bt.location)){Qe("Invalid JSON: "+Xe.responseText);return}He(i(t.basePath,Bt.location))};const dt=new FormData;dt.append("file",pe.blob(),pe.filename()),Xe.send(dt)}),m=Le(t.handler)?t.handler:c,h=()=>new Promise(pe=>{pe([])}),C=(pe,Oe)=>({url:Oe,blobInfo:pe,status:!0}),A=(pe,Oe)=>({url:"",blobInfo:pe,status:!1,error:Oe}),V=(pe,Oe)=>{Xt.each(o[pe],He=>{He(Oe)}),delete o[pe]},Z=(pe,Oe,He)=>(e.markPending(pe.blobUri()),new Promise(Qe=>{let Xe,dt;try{const Bt=()=>{Xe&&(Xe.close(),dt=ct)},Yt=kt=>{Bt(),e.markUploaded(pe.blobUri(),kt),V(pe.blobUri(),C(pe,kt)),Qe(C(pe,kt))},pn=kt=>{Bt(),e.removeFailed(pe.blobUri()),V(pe.blobUri(),A(pe,kt)),Qe(A(pe,kt))};dt=kt=>{kt<0||kt>100||J.from(Xe).orThunk(()=>J.from(He).map(oo)).each(bt=>{Xe=bt,bt.progressBar.value(kt)})},Oe(pe,dt).then(Yt,kt=>{pn(xe(kt)?{message:kt}:kt)})}catch(Bt){Qe(A(pe,Bt))}})),q=pe=>pe===c,Q=pe=>{const Oe=pe.blobUri();return new Promise(He=>{o[Oe]=o[Oe]||[],o[Oe].push(He)})},ge=(pe,Oe)=>(pe=Xt.grep(pe,He=>!e.isUploaded(He.blobUri())),Promise.all(Xt.map(pe,He=>e.isPending(He.blobUri())?Q(He):Z(He,m,Oe))));return{upload:(pe,Oe)=>!t.url&&q(m)?h():ge(pe,Oe)}},h6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),p6=(e,t)=>g6(t,{url:OE(e),basePath:UD(e),credentials:DE(e),handler:_8(e)}),Az=e=>{const t=kT(),o=p6(e,t);return{upload:(i,c=!0)=>o.upload(i,c?h6(e):void 0)}},Tz=(e,t)=>e.dom.isEmpty(t.dom)&&ke(e.schema.getTextBlockElements()[qo(t)]),v6=e=>t=>{Tz(e,t)&&Wr(t,Fe.fromHtml('<br data-mce-bogus="1" />'))},ET=e=>{const t=m6();let o,i;const c=kT(),m=[],h=Xe=>dt=>e.selection?Xe(dt):[],C=Xe=>Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Xe,dt,Bt)=>{let Yt=0;do Yt=Xe.indexOf(dt,Yt),Yt!==-1&&(Xe=Xe.substring(0,Yt)+Bt+Xe.substr(Yt+dt.length),Yt+=Bt.length-dt.length+1);while(Yt!==-1);return Xe},V=(Xe,dt,Bt)=>{const Yt=`src="${Bt}"${Bt===Mo.transparentSrc?' data-mce-placeholder="1"':""}`;return Xe=A(Xe,`src="${dt}"`,Yt),Xe=A(Xe,'data-mce-src="'+dt+'"','data-mce-src="'+Bt+'"'),Xe},Z=(Xe,dt)=>{he(e.undoManager.data,Bt=>{Bt.type==="fragmented"?Bt.fragments=Be(Bt.fragments,Yt=>V(Yt,Xe,dt)):Bt.content=V(Bt.content,Xe,dt)})},q=(Xe,dt)=>{const Bt=e.convertURL(dt,"src");Z(Xe.src,dt),Pa(Fe.fromDom(Xe),{src:gh(e)?C(dt):dt,"data-mce-src":Bt})},Q=()=>(o||(o=p6(e,c)),Oe().then(h(Xe=>{const dt=Be(Xe,Bt=>Bt.blobInfo);return o.upload(dt,h6(e)).then(h(Bt=>{const Yt=[];let pn=!1;const kt=Be(Bt,(bt,Nt)=>{const{blobInfo:Cn,image:Vn}=Xe[Nt];let Io=!1;return bt.status&&HD(e)?(bt.url&&!Ns(Vn.src,bt.url)&&(pn=!0),t.removeByUri(Vn.src),vg(e)||q(Vn,bt.url)):bt.error&&(bt.error.remove&&(Z(Vn.src,Mo.transparentSrc),Yt.push(Vn),Io=!0),a6(e,bt.error.message)),{element:Vn,status:bt.status,uploadUri:bt.url,blobInfo:Cn,removed:Io}});return Yt.length>0&&!vg(e)?e.undoManager.transact(()=>{he(iu(Yt),bt=>{const Nt=aa(bt);Ds(bt),Nt.each(v6(e)),t.removeByUri(bt.dom.src)})}):pn&&e.undoManager.dispatchChange(),kt}))}))),ge=()=>qs(e)?Q():Promise.resolve([]),Se=Xe=>Oo(m,dt=>dt(Xe)),pe=Xe=>{m.push(Xe)},Oe=()=>(i||(i=kz(c,t)),i.findAll(e.getBody(),Se).then(h(Xe=>{const dt=vt(Xe,Bt=>xe(Bt)?(qS(e,Bt),!1):Bt.uriType!=="blob");return vg(e)||he(dt,Bt=>{Z(Bt.image.src,Bt.blobInfo.blobUri()),Bt.image.src=Bt.blobInfo.blobUri(),Bt.image.removeAttribute("data-mce-src")}),dt}))),He=()=>{t.destroy(),c.destroy(),i=o=null},Qe=Xe=>Xe.replace(/src="(blob:[^"]+)"/g,(dt,Bt)=>{const Yt=c.getResultUri(Bt);if(Yt)return'src="'+Yt+'"';let pn=t.getByUri(Bt);return pn||(pn=Vt(e.editorManager.get(),(kt,bt)=>kt||bt.editorUpload&&bt.editorUpload.blobCache.getByUri(Bt),void 0)),pn?'src="data:'+pn.blob().type+";base64,"+pn.base64()+'"':dt});return e.on("SetContent",()=>{qs(e)?ge():Oe()}),e.on("RawSaveContent",Xe=>{Xe.content=Qe(Xe.content)}),e.on("GetContent",Xe=>{Xe.source_view||Xe.format==="raw"||Xe.format==="tree"||(Xe.content=Qe(Xe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Xe=>{he(Xe,dt=>{const Bt=dt.attr("src");if(!Bt||t.getByUri(Bt))return;const Yt=c.getResultUri(Bt);Yt&&dt.attr("src",Yt)})})}),{blobCache:t,addFilter:pe,uploadImages:Q,uploadImagesAuto:ge,scanForImages:Oe,destroy:He}},b6=e=>{const t=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,m]:[c,h,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,h)=>En(c)&&c.hasAttribute("href"),onformat:(c,m,h)=>{Xt.each(h,(C,A)=>{t.setAttrib(c,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},AT={remove_similar:!0,inherit:!1},s1={selector:"td,th",...AT},y6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...s1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...s1},tablecellbordercolor:{styles:{borderColor:"%value"},...s1},tablecellclass:{classes:["%value"],...s1},tableclass:{selector:"table",classes:["%value"],...AT},tablecellborderstyle:{styles:{borderStyle:"%value"},...s1},tablecellborderwidth:{styles:{borderWidth:"%value"},...s1}},Oz=et(y6),TT=e=>{const t={},o=h=>ke(h)?t[h]:t,i=h=>ao(t,h),c=(h,C)=>{h&&(xe(h)?(le(C)||(C=[C]),he(C,A=>{qe(A.deep)&&(A.deep=!$c(A)),qe(A.split)&&(A.split=!$c(A)||ha(A)),qe(A.remove)&&$c(A)&&!ha(A)&&(A.remove="none"),$c(A)&&ha(A)&&(A.mixed=!0,A.block_expand=!0),xe(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[h]=C):rs(h,(A,V)=>{c(V,A)}))},m=h=>(h&&t[h]&&delete t[h],t);return c(b6(e)),c(Oz()),c(T8(e)),{get:o,has:i,register:c,unregister:m}},r1=Xt.each,fc=Gs.DOM,Qf=e=>ke(e)&&ee(e),_w=(e,t)=>{const o=t&&t.schema||Mc({}),i=(A,V)=>{V.classes.length>0&&fc.addClass(A,V.classes.join(" ")),fc.setAttribs(A,V.attrs)},c=A=>{const V=xe(A)?{name:A,classes:[],attrs:{}}:A,Z=fc.create(V.name);return i(Z,V),Z},m=(A,V)=>{const Z=o.getElementRule(A.nodeName.toLowerCase()),q=Z==null?void 0:Z.parentsRequired;return q&&q.length?V&&ae(q,V)?V:q[0]:!1},h=(A,V,Z)=>{let q;const Q=V[0],ge=Qf(Q)?Q.name:void 0,Se=m(A,ge);if(Se)ge===Se?(q=Q,V=V.slice(1)):q=Se;else if(Q)q=Q,V=V.slice(1);else if(!Z)return A;const pe=q?c(q):fc.create("div");pe.appendChild(A),Z&&Xt.each(Z,He=>{const Qe=c(He);pe.insertBefore(Qe,A)});const Oe=Qf(q)?q.siblings:void 0;return h(pe,V,Oe)},C=fc.create("div");if(e.length>0){const A=e[0],V=c(A),Z=Qf(A)?A.siblings:void 0;C.appendChild(h(V,e.slice(1),Z))}return C},hy=e=>{e=Xt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,m,h,C)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":Xt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(h==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},x6=e=>xe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Xt.map(t.split(/(?:~\+|~|\+)/),hy),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],w6=(e,t)=>{let o="",i=O8(e);if(i==="")return"";const c=Q=>xe(Q)?Q.replace(/%(\w+)/g,""):"",m=(Q,ge)=>fc.getStyle(ge??e.getBody(),Q,!0);if(xe(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";i=Q||i}let h=t.block||t.inline||"span",C;const A=x6(t.selector);A.length>0?(A[0].name||(A[0].name=h),h=t.selector,C=_w(A,e)):C=_w([h],e);const V=fc.select(h,C)[0]||C.firstChild;r1(t.styles,(Q,ge)=>{const Se=c(Q);Se&&fc.setStyle(V,ge,Se)}),r1(t.attributes,(Q,ge)=>{const Se=c(Q);Se&&fc.setAttrib(V,ge,Se)}),r1(t.classes,Q=>{const ge=c(Q);fc.hasClass(V,ge)||fc.addClass(V,ge)}),e.dispatch("PreviewFormats"),fc.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const Z=m("fontSize"),q=/px$/.test(Z)?parseInt(Z,10):0;return r1(i.split(" "),Q=>{let ge=m(Q,V);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=m(Q),qv(ge).toLowerCase()==="#ffffff"))&&!(Q==="color"&&qv(ge).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ge)){if(q===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*q+"px"}Q==="border"&&ge&&(o+="padding:0 2px;"),o+=Q+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),fc.remove(C),o},OT=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Sw=e=>{const t=TT(e),o=Ri({});return OT(e),fN(e),vg(e)||ON(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(i,c,m)=>{er(e,i,c,m)},remove:(i,c,m,h)=>{OP(e,i,c,m,h)},toggle:(i,c,m)=>{sT(e,i,c,m)},match:(i,c,m,h)=>KV(e,i,c,m,h),closest:i=>XV(e,i),matchAll:(i,c)=>GV(e,i,c),matchNode:(i,c,m,h)=>qV(e,i,c,m,h),canApply:i=>YV(e,i),formatChanged:(i,c,m,h)=>DP(e,o,i,c,m,h),getCssText:tt(w6,e)}},Oh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},i1=(e,t,o)=>{const i=Ri(!1),c=A=>{hw(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const V=A.command;Oh(V)||(X4(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const V=A.command;Oh(V)||c(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const V=A.keyCode;if(A.isDefaultPrevented())return;const Z=Mo.os.isMacOS()&&A.key==="Meta";(V>=33&&V<=36||V>=37&&V<=40||V===45||A.ctrlKey||Z)&&(c(),e.nodeChanged()),(V===46||V===8)&&e.nodeChanged(),i.get()&&t.typing&&!dy(uy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const V=A.keyCode;if(A.isDefaultPrevented())return;if(V>=33&&V<=36||V>=37&&V<=40||V===45){t.typing&&c(A);return}const Z=A.ctrlKey&&!A.altKey||A.metaKey;if((V<16||V>20)&&V!==224&&V!==91&&!t.typing&&!Z){t.beforeChange(),hw(t,!0,o),t.add({},A),i.set(!0);return}(Mo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",h=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||h(A)||C(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},C6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},_6=e=>{const t=Ii(),o=Ri(0),i=Ri(0),c={data:[],typing:!1,beforeChange:()=>{fy(e,o,t)},add:(m,h)=>zV(e,c,i,o,t,m,h),dispatchChange:()=>{e.setDirty(!0);const m=uy(e);m.bookmark=yn(e.selection),e.dispatch("change",{level:m,lastLevel:Ar(c.data,i.get()).getOrUndefined()})},undo:()=>HV(e,c,o,i),redo:()=>AP(e,i,c.data),clear:()=>{TP(e,c,i)},reset:()=>{ZS(e,c)},hasUndo:()=>$V(e,c,i),hasRedo:()=>UV(e,c,i),transact:m=>WV(e,c,o,m),ignore:m=>{ZV(e,o,m)},extra:(m,h)=>{jV(e,c,i,m,h)}};return vg(e)||i1(e,c,o),C6(e),c},S6=[9,27,dn.HOME,dn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dn.DOWN,dn.UP,dn.LEFT,dn.RIGHT].concat(Mo.browser.isFirefox()?[224]:[]),k6="data-mce-placeholder",E6=e=>e.type==="keydown"||e.type==="keyup",A6=e=>{const t=e.keyCode;return t===dn.BACKSPACE||t===dn.DELETE},DT=e=>{if(E6(e)){const t=e.keyCode;return!A6(e)&&(dn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ae(S6,t))}else return!1},T6=e=>E6(e)&&!(A6(e)||e.type==="keyup"&&e.keyCode===229),Dz=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const i=t.firstElementChild;return i?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},O6=e=>{var t;const o=e.dom,i=rl(e),c=(t=IE(e))!==null&&t!==void 0?t:"",m=(h,C)=>{if(DT(h))return;const A=e.getBody(),V=T6(h)?!1:Dz(o,A,i);(o.getAttrib(A,k6)!==""!==V||C)&&(o.setAttrib(A,k6,V?c:null),aR(e,V),e.on(V?"keydown":"keyup",m),e.off(V?"keyup":"keydown",m))};Je(c)&&e.on("init",h=>{m(h,!0),e.on("change SetContent ExecCommand",m),e.on("paste",C=>Wc.setEditorTimeout(e,()=>m(C)))})},Rz=(e,t)=>({block:e,position:t}),RT=(e,t)=>({from:e,to:t}),IT=(e,t)=>{const o=Fe.fromDom(e),i=Fe.fromDom(t.container());return Y2(o,i).map(c=>Rz(c,t))},D6=e=>!(ia(e.to.block,e.from.block)||ia(e.from.block,e.to.block)),NT=e=>!Yo(e.from.block,e.to.block),PT=(e,t)=>gi(t,c=>Lc(c)||Rc(c.dom),c=>Yo(c,e)).filter($r).getOr(e),MT=(e,t)=>{const o=Fe.fromDom(e);return Yo(PT(o,t.from.block),PT(o,t.to.block))},Iz=e=>fo(e.from.block.dom)===!1&&fo(e.to.block.dom)===!1,R6=e=>{const t=o=>ab(o)||ji(o.dom)||Km(o);return t(e.from.block)&&t(e.to.block)},Nz=(e,t,o,i)=>pr(i.position.getNode())&&!jr(e,i.block)?B0(!1,i.block.dom).bind(c=>c.isEqual(i.position)?bu(o,t,c).bind(m=>IT(t,m)):J.some(i)).getOr(i):i,I6=(e,t,o,i)=>{const c=IT(t,xt.fromRangeStart(i)),m=c.bind(h=>bu(o,t,h.position).bind(C=>IT(t,C).map(A=>Nz(e,t,o,A))));return sa(c,m,RT).filter(h=>NT(h)&&MT(t,h)&&Iz(h)&&R6(h)&&D6(h))},N6=(e,t,o,i)=>i.collapsed?I6(e,t,o,i):J.none(),Pz=(e,t)=>{const o=la(e);return An(o,i=>t.isBlock(qo(i))).fold(et(o),i=>o.slice(0,i))},P6=(e,t)=>{const o=Pz(e,t);return he(o,Ds),o},M6=(e,t,o)=>{const i=Zc(o,t);return cn(i.reverse(),c=>jr(e,c)).each(Ds)},Mz=(e,t)=>vt($u(t),o=>!jr(e,o)).length===0,Bz=(e,t,o,i,c)=>{if(jr(i,o))return Fc(o),Jn(o.dom);Mz(i,c)&&jr(i,t)&&Dr(c,Fe.fromTag("br"));const m=Hc(o.dom,xt.before(c.dom));return he(P6(t,i),h=>{Dr(c,h)}),M6(i,e,t),m},a1=(e,t)=>e.isInline(qo(t)),B6=(e,t,o,i)=>{if(jr(i,o)){if(jr(i,t)){const h=Ft((C=>{const A=(V,Z)=>Ml(V).fold(()=>Z,q=>a1(i,q)?A(q,Z.concat(qr(q))):Z);return A(C,[])})(o),(C,A)=>(Zl(C,A),A),$d());Qs(t),Wr(t,h)}return Ds(o),Jn(t.dom)}const c=ed(o.dom);return he(P6(t,i),m=>{Wr(o,m)}),M6(i,e,t),c},L6=(e,t)=>{const o=Zc(t,e);return J.from(o[o.length-1])},F6=(e,t)=>ia(t,e)?L6(t,e):J.none(),V6=(e,t)=>{B0(e,t.dom).bind(o=>J.from(o.getNode())).map(Fe.fromDom).filter(Ju).each(Ds)},z6=(e,t,o,i)=>(V6(!0,t),V6(!1,o),F6(t,o).fold(tt(B6,e,t,o,i),tt(Bz,e,t,o,i))),Dh=(e,t,o,i,c)=>t?z6(e,i,o,c):z6(e,o,i,c),XS=(e,t)=>{const o=Fe.fromDom(e.getBody());return N6(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{Dh(o,t,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},JS=(e,t,o)=>{const i=t.getRng();return sa(Y2(e,Fe.fromDom(i.startContainer)),Y2(e,Fe.fromDom(i.endContainer)),(c,m)=>Yo(c,m)?J.none():J.some(()=>{i.deleteContents(),Dh(e,!0,c,m,o).each(h=>{t.setRng(h.toRange())})})).getOr(J.none())},H6=(e,t)=>{const o=Fe.fromDom(t),i=tt(Yo,e);return Qa(o,Lc,i).isSome()},$6=(e,t)=>H6(e,t.startContainer)||H6(e,t.endContainer),Lz=(e,t)=>{const o=Hc(e.dom,xt.fromRangeStart(t)).isNone(),i=Gl(e.dom,xt.fromRangeEnd(t)).isNone();return!$6(e,t)&&o&&i},Fz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),BT=e=>{const t=Fe.fromDom(e.getBody()),o=e.selection.getRng();return Lz(t,o)?Fz(e):JS(t,e.selection,e.schema)},LT=(e,t)=>e.selection.isCollapsed()?J.none():BT(e),Mr=(e,t,o,i,c)=>J.from(t._selectionOverrides.showCaret(e,o,i,c)),Vz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},kw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(Vz(t)),FT=(e,t,o)=>{const i=qE(1,e.getBody(),t),c=xt.fromRangeStart(i),m=c.getNode();if(o2(m))return Mr(1,e,m,!c.isAtEnd(),!1);const h=c.getNode(!0);if(o2(h))return Mr(1,e,h,!1,!1);const C=ld(e.dom.getRoot(),c.getNode());return o2(C)?Mr(1,e,C,!1,o):J.none()},QS=(e,t,o)=>t.collapsed?FT(e,t,o).getOr(t):t,VT=e=>Mi(e)||$b(e),zz=e=>Xf(e)||Y0(e),Hz=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},U6=(e,t,o,i,c,m)=>{Mr(i,e,m.getNode(!c),c,!0).each(h=>{if(t.collapsed){const C=t.cloneRange();c?C.setEnd(h.startContainer,h.startOffset):C.setStart(h.endContainer,h.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(h)}),Hz(e.dom,o)},$z=(e,t)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return J.none();const i=t?$a.Forwards:$a.Backwards,c=Kn(e.getBody()),m=tt(YE,t?c.next:c.prev),h=t?VT:zz,C=l2(i,e.getBody(),o),A=m(C),V=A&&ad(t,A);if(!V||!t_(C,V))return J.none();if(h(V))return J.some(()=>U6(e,o,C.getNode(),i,t,V));const Z=m(V);return Z&&h(Z)&&t_(V,Z)?J.some(()=>U6(e,o,C.getNode(),i,t,Z)):J.none()},zT=(e,t)=>$z(e,t),HT=(e,t)=>{const o=e.getBody();return t?Jn(o).filter(Mi):ed(o).filter(Xf)},$T=e=>{const t=e.selection.getRng();return!t.collapsed&&(HT(e,!0).exists(o=>o.isEqual(xt.fromRangeStart(t)))||HT(e,!1).exists(o=>o.isEqual(xt.fromRangeEnd(t))))},py=e=>ke(e)&&(Lc(Fe.fromDom(e))||Km(Fe.fromDom(e))),qi=Ko.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Uz=(e,t)=>{const o=t.getNode(!e),i=e?"after":"before";return En(o)&&o.getAttribute("data-mce-caret")===i},Wz=(e,t,o,i,c)=>{const m=h=>c.isInline(h.nodeName.toLowerCase())&&!tg(o,i,e);return k5(!t,o).fold(()=>k5(t,i).fold(fn,m),m)},W6=(e,t,o,i,c)=>{const m=c.getNode(!o);return Y2(Fe.fromDom(t),Fe.fromDom(i.getNode())).map(h=>jr(e,h)?qi.remove(h.dom):qi.moveToElement(m)).orThunk(()=>J.some(qi.moveToElement(m)))},Z6=(e,t,o,i)=>bu(t,e,o).bind(c=>py(c.getNode())||Wz(e,t,o,c,i)?J.none():t&&fo(c.getNode())||!t&&fo(c.getNode(!0))?W6(i,e,t,o,c):t&&Xf(o)||!t&&Mi(o)?J.some(qi.moveToPosition(c)):J.none()),Zz=(e,t)=>st(t)?J.none():e&&fo(t.nextSibling)?J.some(qi.moveToElement(t.nextSibling)):!e&&fo(t.previousSibling)?J.some(qi.moveToElement(t.previousSibling)):J.none(),jz=(e,t,o)=>o.fold(i=>J.some(qi.remove(i)),i=>J.some(qi.moveToElement(i)),i=>tg(t,i,e)?J.none():J.some(qi.moveToPosition(i))),Kz=(e,t,o,i)=>Uz(t,o)?Zz(t,o.getNode(!t)).orThunk(()=>Z6(e,t,o,i)):Z6(e,t,o,i).bind(c=>jz(e,o,c)),Gz=(e,t,o,i)=>{const c=qE(t?1:-1,e,o),m=xt.fromRangeStart(c),h=Fe.fromDom(e);return!t&&Xf(m)?J.some(qi.remove(m.getNode(!0))):t&&Mi(m)?J.some(qi.remove(m.getNode())):!t&&Mi(m)&&Wb(h,m,i)?H_(h,m,i).map(C=>qi.remove(C.getNode())):t&&Xf(m)&&Z2(h,m,i)?gI(h,m,i).map(C=>qi.remove(C.getNode())):Kz(e,t,m,i)},qz=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Cl(e,t,Fe.fromDom(o)),!0),Yz=(e,t)=>o=>{const i=t?xt.before(o):xt.after(o);return e.selection.setRng(i.toRange()),!0},Xz=e=>t=>(e.selection.setRng(t.toRange()),!0),j6=(e,t)=>J.from(ld(e.getBody(),t)),Jz=(e,t)=>{const o=e.selection.getNode();return j6(e,o).filter(fo).fold(()=>Gz(e.getBody(),t,e.selection.getRng(),e.schema).map(i=>()=>i.fold(qz(e,t),Yz(e,t),Xz(e))),()=>J.some(ct))},Qz=e=>{he(hi(e,".mce-offscreen-selection"),Ds)},e9=(e,t)=>{const o=e.selection.getNode();return fo(o)&&!lp(o)?j6(e,o.parentNode).filter(fo).fold(()=>J.some(()=>{Qz(Fe.fromDom(e.getBody())),Cl(e,t,Fe.fromDom(e.selection.getNode())),j_(e)}),()=>J.some(ct)):$T(e)?J.some(()=>{K_(e,e.selection.getRng(),Fe.fromDom(e.getBody()))}):J.none()},K6=e=>{const t=e.dom,o=e.selection,i=ld(e.getBody(),o.getNode());if(Rc(i)&&t.isBlock(i)&&t.isEmpty(i)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(c),o.setRng(xt.before(c).toRange())}return!0},UT=(e,t)=>e.selection.isCollapsed()?Jz(e,t):e9(e,t),G6=e=>e.hasOwnProperty("text"),q6=e=>e.hasOwnProperty("marker"),Y6=(e,t)=>{const o=(m,h)=>{if(Ut(m))return{text:m,offset:h};{const C=t(),A=m.childNodes;return h<A.length?(m.insertBefore(C,A[h]),{marker:C,before:!0}):(m.appendChild(C),{marker:C,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},X6=e=>{var t,o;const{start:i,end:c}=e,m=new window.Range;return G6(i)?m.setStart(i.text,i.offset):q6(i)&&(i.before?m.setStartBefore(i.marker):m.setStartAfter(i.marker),(t=i.marker.parentNode)===null||t===void 0||t.removeChild(i.marker)),G6(c)?m.setEnd(c.text,c.offset):q6(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},WT=(e,t)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),m=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===h.firstChild&&m===h.lastChild&&!i.isEmpty(h)){const A=c.cloneNode(!1),V=()=>{if(t?m3(e):Z_(e),h.firstChild!==c){const Z=Y6(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(q=>A.appendChild(q)),h.appendChild(A),e.selection.setRng(X6(Z))}};return J.some(V)}return J.none()},t9=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return bu(t,e.getBody(),o).filter(i=>t?lI(i):cI(i)).bind(i=>QC(t?0:-1,i)).map(i=>()=>e.selection.select(i))},ZT=(e,t)=>e.selection.isCollapsed()?t9(e,t):J.none(),vy=Ut,J6=e=>vy(e)&&e.data[0]===Ci,Q6=e=>vy(e)&&e.data[e.data.length-1]===Ci,eM=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Ci)},n9=e=>{var t;if(vy(e.previousSibling))return Q6(e.previousSibling)||e.previousSibling.appendData(Ci),e.previousSibling;if(vy(e))return J6(e)||e.insertData(0,Ci),e;{const o=eM(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},o9=e=>{var t,o;if(vy(e.nextSibling))return J6(e.nextSibling)||e.nextSibling.insertData(0,Ci),e.nextSibling;if(vy(e))return Q6(e)||e.appendData(Ci),e;{const i=eM(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},ek=(e,t)=>e?n9(t):o9(t),tM=tt(ek,!0),s9=tt(ek,!1),nM=(e,t)=>Ut(e.container())?ek(t,e.container()):ek(t,e.getNode()),oM=(e,t)=>{const o=t.get();return o&&e.container()===o&&Gm(o)},jT=(e,t)=>t.fold(o=>{Ep(e.get());const i=tM(o);return e.set(i),J.some(xt(i,i.length-1))},o=>Jn(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,1)}else{Ep(e.get());const c=nM(i,!0);return e.set(c),xt(c,1)}}),o=>ed(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,c.length-1)}else{Ep(e.get());const c=nM(i,!1);return e.set(c),xt(c,c.length-1)}}),o=>{Ep(e.get());const i=s9(o);return e.set(i),J.some(xt(i,1))}),sM=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,t);if(i.isSome())return i}return J.none()},Yl=Ko.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),rM=(e,t)=>{const o=Ap(t,e);return o||e},r9=(e,t,o)=>{const i=NI(o),c=rM(t,i.container());return Hp(e,c,i).fold(()=>Gl(c,i).bind(tt(Hp,e,c)).map(m=>Yl.before(m)),J.none)},iM=(e,t)=>Tp(e,t)===null,aM=(e,t,o)=>Hp(e,t,o).filter(tt(iM,t)),i9=(e,t,o)=>{const i=ty(o);return aM(e,t,i).bind(c=>Hc(c,i).isNone()?J.some(Yl.start(c)):J.none())},a9=(e,t,o)=>{const i=NI(o);return aM(e,t,i).bind(c=>Gl(c,i).isNone()?J.some(Yl.end(c)):J.none())},l9=(e,t,o)=>{const i=ty(o),c=rM(t,i.container());return Hp(e,c,i).fold(()=>Hc(c,i).bind(tt(Hp,e,c)).map(m=>Yl.after(m)),J.none)},lM=e=>!G2(KT(e)),bg=(e,t,o)=>sM([r9,i9,a9,l9],[e,t,o]).filter(lM),KT=e=>e.fold(pt,pt,pt,pt),cM=e=>e.fold(et("before"),et("start"),et("end"),et("after")),Ew=e=>e.fold(Yl.before,Yl.before,Yl.after,Yl.after),tk=e=>e.fold(Yl.start,Yl.start,Yl.end,Yl.end),c9=(e,t)=>cM(e)===cM(t)&&KT(e)===KT(t),uM=(e,t,o,i,c,m)=>sa(Hp(t,o,i),Hp(t,o,c),(h,C)=>h!==C&&II(o,h,C)?Yl.after(e?h:C):m).getOr(m),u9=(e,t)=>e.fold(_n,o=>!c9(o,t)),d9=(e,t,o,i,c)=>{const m=ad(e,c);return bu(e,o,m).map(tt(ad,e)).fold(()=>i.map(Ew),A=>bg(t,o,A).map(tt(uM,e,t,o,m,A)).filter(tt(u9,i))).filter(lM)},f9=(e,t)=>e?t.fold($t(J.some,Yl.start),J.none,$t(J.some,Yl.after),J.none):t.fold(J.none,$t(J.some,Yl.before),J.none,$t(J.some,Yl.end)),m9=(e,t,o,i)=>{const c=ad(e,i),m=bg(t,o,c);return bg(t,o,c).bind(tt(f9,e)).orThunk(()=>d9(e,t,o,m,i))},g9=e=>Le(e.selection.getSel().modify),dM=(e,t,o)=>{const i=e?1:-1;return t.setRng(xt(o.container(),o.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},GT=(e,t)=>{const o=t.selection.getRng(),i=e?xt.fromRangeEnd(o):xt.fromRangeStart(o);return g9(t)?e&&ub(i)?dM(!0,t.selection,i):!e&&y0(i)?dM(!1,t.selection,i):!1:!1};var ef;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ef||(ef={}));const nk=(e,t)=>e===$a.Backwards?Ho(t):t,fM=(e,t,o)=>e===$a.Forwards?t.next(o):t.prev(o),h9=(e,t,o,i)=>pr(i.getNode(t===$a.Forwards))?ef.Br:tg(o,i)===!1?ef.Block:ef.Wrap,mM=(e,t,o,i)=>{const c=Kn(o);let m=i;const h=[];for(;m;){const C=fM(t,c,m);if(!C)break;if(pr(C.getNode(!1)))return t===$a.Forwards?{positions:nk(t,h).concat([C]),breakType:ef.Br,breakAt:J.some(C)}:{positions:nk(t,h),breakType:ef.Br,breakAt:J.some(C)};if(!C.isVisible()){m=C;continue}if(e(m,C)){const A=h9(o,t,m,C);return{positions:nk(t,h),breakType:A,breakAt:J.some(C)}}h.push(C),m=C}return{positions:nk(t,h),breakType:ef.Eol,breakAt:J.none()}},gM=(e,t,o,i)=>t(o,i).breakAt.map(c=>{const m=t(o,c).positions;return e===$a.Backwards?m.concat(c):[c].concat(m)}).getOr([]),qT=(e,t)=>Vt(e,(o,i)=>o.fold(()=>J.some(i),c=>sa(hn(c.getClientRects()),hn(i.getClientRects()),(m,h)=>{const C=Math.abs(t-m.left);return Math.abs(t-h.left)<=C?i:c}).or(o)),J.none()),ok=(e,t)=>hn(t.getClientRects()).bind(o=>qT(e,o.left)),Aw=tt(mM,xt.isAbove,-1),Tw=tt(mM,xt.isBelow,1),hM=tt(gM,-1,Aw),sk=tt(gM,1,Tw),pM=(e,t)=>Aw(e,t).breakAt.isNone(),vM=(e,t)=>Tw(e,t).breakAt.isNone(),p9=e=>Jn(e).map(t=>[t].concat(Tw(e,t).positions)).getOr([]),bM=e=>ed(e).map(t=>Aw(e,t).positions.concat(t)).getOr([]),l1=(e,t)=>ok(hM(e,t),t),v9=(e,t)=>ok(sk(e,t),t),b9=fo,yM=(e,t)=>Math.abs(e.left-t),mc=(e,t)=>Math.abs(e.right-t),xM=e=>Wl(e,"node"),wM=(e,t)=>dl(e,(o,i)=>{const c=Math.min(yM(o,t),mc(o,t)),m=Math.min(yM(i,t),mc(i,t));return m===c&&xM(i)&&b9(i.node)||m<c?i:o}),y9=e=>{const t=o=>Be(o,i=>{const c=Bf(i);return c.node=e,c});if(En(e))return t(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},CM=e=>wo(e,y9);var Ow;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Ow||(Ow={}));const x9=(e,t,o,i)=>{let c=i;for(;c=r2(c,e,pb,t);)if(o(c))return},YT=(e,t,o,i,c,m)=>{let h=0;const C=[],A=q=>{let Q=CM([q]);e===-1&&(Q=Q.reverse());for(let ge=0;ge<Q.length;ge++){const Se=Q[ge];if(!o(Se,V)){if(C.length>0&&t(Se,Ca(C))&&h++,Se.line=h,c(Se))return!0;C.push(Se)}}return!1},V=Ca(m.getClientRects());if(!V)return C;const Z=m.getNode();return Z&&(A(Z),x9(e,i,A,Z)),C},w9=(e,t)=>t.line>e,C9=(e,t)=>t.line===e,_9=tt(YT,Ow.Up,Vf,dh),S9=tt(YT,Ow.Down,dh,Vf),_M=e=>Ca(e.getClientRects()),by=(e,t,o,i)=>{const c=Kn(t);let m,h,C,A;const V=[];let Z=0;e===1?(m=c.next,h=dh,C=Vf,A=xt.after(i)):(m=c.prev,h=Vf,C=dh,A=xt.before(i));const q=_M(A);do{if(!A.isVisible())continue;const Q=_M(A);if(C(Q,q))continue;V.length>0&&h(Q,Ca(V))&&Z++;const ge=Bf(Q);if(ge.position=A,ge.line=Z,o(ge))return V;V.push(ge)}while(A=m(A));return V},XT=e=>t=>w9(e,t),yy=e=>t=>C9(e,t),em=(e,t)=>{e.selection.setRng(t),od(e,e.selection.getRng())},rk=(e,t,o)=>J.some(QS(e,t,o)),JT=(e,t,o,i,c,m)=>{const h=t===$a.Forwards,C=Kn(e.getBody()),A=tt(YE,h?C.next:C.prev),V=h?i:c;if(!o.collapsed){const Se=wp(o);if(m(Se))return Mr(t,e,Se,t===$a.Backwards,!1);if($T(e)){const pe=o.cloneRange();return pe.collapse(t===$a.Backwards),J.from(pe)}}const Z=l2(t,e.getBody(),o);if(V(Z))return kw(e,Z.getNode(!h));let q=A(Z);const Q=uh(o);if(q)q=ad(h,q);else return Q?J.some(o):J.none();if(V(q))return Mr(t,e,q.getNode(!h),h,!1);const ge=A(q);return ge&&V(ge)&&t_(q,ge)?Mr(t,e,ge.getNode(!h),h,!1):Q?rk(e,q.toRange(),!1):J.none()},SM=(e,t,o,i,c,m)=>{const h=l2(t,e.getBody(),o),C=Ca(h.getClientRects()),A=t===Ow.Down,V=e.getBody();if(!C)return J.none();if($T(e)){const Oe=A?xt.fromRangeEnd(o):xt.fromRangeStart(o);return(A?v9:l1)(V,Oe).orThunk(()=>J.from(Oe)).map(Qe=>Qe.toRange())}const q=(A?S9:_9)(V,XT(1),h),Q=vt(q,yy(1)),ge=C.left,Se=wM(Q,ge);if(Se&&m(Se.node)){const Oe=Math.abs(ge-Se.left),He=Math.abs(ge-Se.right);return Mr(t,e,Se.node,Oe<He,!1)}let pe;if(i(h)?pe=h.getNode():c(h)?pe=h.getNode(!0):pe=wp(o),pe){const Oe=by(t,V,XT(1),pe);let He=wM(vt(Oe,yy(1)),ge);if(He||(He=Ca(vt(Oe,yy(0))),He))return rk(e,He.position.toRange(),!1)}return Q.length===0?ik(e,A).filter(A?c:i).map(Oe=>QS(e,Oe.toRange(),!1)):J.none()},ik=(e,t)=>{const o=e.selection.getRng(),i=t?xt.fromRangeEnd(o):xt.fromRangeStart(o),c=Y8(i.container(),e.getBody());if(t){const m=Tw(c,i);return Eo(m.positions)}else{const m=Aw(c,i);return hn(m.positions)}},kM=(e,t,o)=>ik(e,t).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),Dw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},QT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},eO=(e,t,o)=>jT(t,o).map(i=>(Dw(e,i),o)),EM=(e,t,o)=>{const i=xt.fromRangeStart(e);if(e.collapsed)return i;{const c=xt.fromRangeEnd(e);return o?Hc(t,c).getOr(c):Gl(t,i).getOr(i)}},AM=(e,t,o)=>{const i=e.getBody(),c=EM(e.selection.getRng(),i,o),m=tt(jb,e);return m9(o,m,i,c).bind(C=>eO(e,t,C))},TM=(e,t,o)=>{const i=Be(hi(Fe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=vt(i,e),m=vt(o,e);he(cs(c,m),tt(QT,!1)),he(cs(m,c),tt(QT,!0))},tO=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=xt.fromRangeStart(e.selection.getRng());xt.isTextPosition(i)&&!d3(i)&&(Dw(e,K8(o,i)),t.set(null))}},OM=(e,t,o,i)=>{if(t.selection.isCollapsed()){const c=vt(i,e);he(c,m=>{const h=xt.fromRangeStart(t.selection.getRng());bg(e,t.getBody(),h).bind(C=>eO(t,o,C))})}},nO=(e,t,o)=>N0(e)?AM(e,t,o).isSome():!1,oO=(e,t,o)=>N0(t)?GT(e,t):!1,DM=e=>{const t=Ri(null),o=tt(jb,e);return e.on("NodeChange",i=>{N0(e)&&(TM(o,e.dom,i.parents),tO(e,t),OM(o,e,t,i.parents))}),t},RM=tt(oO,!0),IM=tt(oO,!1),Rw=(e,t,o)=>{if(N0(e)){const i=ik(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?xt.fromRangeEnd(c):xt.fromRangeStart(c)});return bg(tt(jb,e),e.getBody(),i).exists(c=>{const m=Ew(c);return jT(o,m).exists(h=>(Dw(e,h),!0))})}else return!1},sO=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},rO=e=>sa(Jn(e),ed(e),(t,o)=>{const i=ad(!0,t),c=ad(!1,o);return Gl(e,i).forall(m=>m.isEqual(c))}).getOr(!0),Iw=(e,t)=>o=>jT(t,o).map(i=>()=>Dw(e,i)),iO=(e,t,o,i)=>{const c=e.getBody(),m=tt(jb,e);e.undoManager.ignore(()=>{e.selection.setRng(sO(o,i)),Z_(e),bg(m,c,xt.fromRangeStart(e.selection.getRng())).map(tk).bind(Iw(e,t)).each(Fn)}),e.nodeChanged()},NM=(e,t)=>{const o=Ap(t,e);return o||e},PM=(e,t,o,i)=>{const c=NM(e.getBody(),i.container()),m=tt(jb,e),h=bg(m,c,i);return h.bind(A=>o?A.fold(et(J.some(tk(A))),J.none,et(J.some(Ew(A))),J.none):A.fold(J.none,et(J.some(Ew(A))),J.none,et(J.some(tk(A))))).map(Iw(e,t)).getOrThunk(()=>{const A=Ob(o,c,i),V=A.bind(Z=>bg(m,c,Z));return sa(h,V,()=>Hp(m,c,i).bind(Z=>rO(Z)?J.some(()=>{Cl(e,o,Fe.fromDom(Z))}):J.none())).getOrThunk(()=>V.bind(()=>A.map(Z=>()=>{o?iO(e,t,i,Z):iO(e,t,Z,i)})))})},Nw=(e,t,o)=>{if(e.selection.isCollapsed()&&N0(e)){const i=xt.fromRangeStart(e.selection.getRng());return PM(e,t,o,i)}return J.none()},MM=e=>Id(e)>1,aO=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=Fe.fromDom(e.selection.getStart()),c=Zc(i,o);return An(c,t).fold(et(c),m=>c.slice(0,m))},BM=e=>Id(e)===1,k9=e=>aO(e,t=>e.schema.isBlock(qo(t))||MM(t)),LM=e=>aO(e,t=>e.schema.isBlock(qo(t))),lO=(e,t)=>{const o=tt(sy,e);return wo(t,i=>o(i)?[i.dom]:[])},Pw=e=>{const t=LM(e);return lO(e,t)},FM=(e,t,o,i)=>{const c=lO(t,i);if(c.length===0)Cl(t,e,o);else{const m=q3(o.dom,c);t.selection.setRng(m.toRange())}},VM=(e,t)=>{const o=vt(k9(e),BM);return Eo(o).bind(i=>{const c=xt.fromRangeStart(e.selection.getRng());return BI(t,c,i.dom)&&!d_(i)?J.some(()=>FM(t,e,i,o)):J.none()})},cO=(e,t)=>{const o=t.parentElement;return pr(t)&&!Ue(o)&&e.dom.isEmpty(o)},E9=e=>d_(Fe.fromDom(e)),uO=(e,t)=>{const o=e.selection.getStart(),i=cO(e,o)||E9(o)?q3(o,t):P7(e.selection.getRng(),t);e.selection.setRng(i.toRange())},A9=(e,t)=>{const o=cs(t,Pw(e));o.length>0&&uO(e,o)},dO=e=>Ut(e.startContainer),zM=e=>e.startOffset===0&&dO(e),T9=(e,t)=>{const o=t.startContainer.parentElement;return!Ue(o)&&sy(e,Fe.fromDom(o))},O9=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ue(t)&&!Ue(o)&&t.isEqualNode(o)},s=e=>{const t=e.endContainer;return e.endOffset===(Ut(t)?t.length:t.childNodes.length)},a=e=>O9(e)&&s(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>a(e)||u(e),p=e=>{const t=e.selection.getRng();return zM(t)&&T9(e,t)&&f(t)},b=e=>{if(p(e)){const t=Pw(e);return J.some(()=>{Z_(e),A9(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?VM(e,t):b(e),k=(e,t)=>bC(e,o=>yu(o.dom),o=>t.isBlock(qo(o))),E=e=>k(Fe.fromDom(e.selection.getStart()),e.schema),D=e=>{const t=e.selection.getRng();return t.collapsed&&(dO(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},F=e=>(D(e)&&uO(e,[]),!0),P=(e,t,o)=>ke(o)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),Cl(e,t,Fe.fromDom(o))}):J.none(),z=(e,t)=>{const o=t?$b:Y0,i=t?$a.Forwards:$a.Backwards,c=l2(i,e.getBody(),e.selection.getRng());return o(c)?P(e,t,c.getNode(!t)):J.from(ad(t,c)).filter(m=>o(m)&&t_(c,m)).bind(m=>P(e,t,m.getNode(!t)))},G=(e,t)=>{const o=e.selection.getNode();return St(o)?P(e,t,o):J.none()},X=(e,t)=>e.selection.isCollapsed()?z(e,t):G(e,t),ue=e=>gi(e,t=>Rc(t.dom)||fo(t.dom)).exists(t=>Rc(t.dom)),me=e=>un(e??"").getOr(0),we=(e,t)=>{const o=e||ib(t)?"margin":"padding",i=Ur(t,"direction")==="rtl"?"-right":"-left";return o+i},fe=(e,t,o,i,c,m)=>{const h=we(o,Fe.fromDom(m)),C=me(e.getStyle(m,h));if(t==="outdent"){const A=Math.max(0,C-i);e.setStyle(m,h,A?A+c:"")}else{const A=C+i+c;e.setStyle(m,h,A)}},de=(e,t)=>Oo(t,o=>{const i=we(ZD(e),o),c=Lr(o,i).map(me).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),ve=e=>{const t=ze(e);return!e.mode.isReadOnly()&&(t.length>1||de(e,t))},Ce=e=>lb(e)||Km(e),Ee=e=>aa(e).exists(Ce),ze=e=>vt(iu(e.selection.getSelectedBlocks()),t=>!Ce(t)&&!Ee(t)&&ue(t)),ot=(e,t)=>{var o,i;const{dom:c}=e,m=vu(e),h=(i=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",C=me(m),A=ZD(e);he(ze(e),V=>{fe(c,t,A,C,h,V.dom)})},Et=e=>ot(e,"indent"),_t=e=>ot(e,"outdent"),wt=e=>{if(e.selection.isCollapsed()&&ve(e)){const t=e.dom,o=e.selection.getRng(),i=xt.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&z_(Fe.fromDom(c),i,e.schema))return J.some(()=>_t(e))}return J.none()},Ht=(e,t,o)=>or([wt,UT,zT,(i,c)=>Nw(i,t,c),XS,Sh,ZT,X,LT,w,WT],i=>i(e,o)).filter(i=>e.selection.isEditable()),mn=(e,t)=>{Ht(e,t,!1).fold(()=>{e.selection.isEditable()&&(Z_(e),j_(e))},Fn)},kn=(e,t)=>{Ht(e,t,!0).fold(()=>{e.selection.isEditable()&&m3(e)},Fn)},Hn=(e,t)=>{e.addCommand("delete",()=>{mn(e,t)}),e.addCommand("forwardDelete",()=>{kn(e,t)})},io=5,Lo=400,tr=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),mr=(e,t)=>{const o=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return o>io||i>io},So=e=>{const t=Ii(),o=Ri(!1),i=vp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Lo);e.on("touchstart",c=>{tr(c).each(m=>{i.cancel();const h={x:m.clientX,y:m.clientY,target:c.target};i.throttle(c),o.set(!1),t.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),tr(c).each(m=>{t.on(h=>{mr(m,h)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Jo=(e,t)=>ao(e,t.nodeName),jn=(e,t)=>Ut(t)?!0:En(t)?!Jo(e.getBlockElements(),t)&&!xu(t)&&!Of(e,t)&&!Ni(t):!1,gr=(e,t,o)=>be(cc(Fe.fromDom(o),Fe.fromDom(t)),i=>Jo(e,i.dom)),Ls=(e,t)=>{if(Ut(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Jo(e,t.nextSibling)||Ni(t.nextSibling)}return!1},Wa=e=>e.dom.create(rl(e),Yx(e)),Za=e=>{const t=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),m=o.getStart(),h=e.getBody();let C,A,V=null;const Z=rl(e);if(!m||!En(m))return;const q=h.nodeName.toLowerCase();if(!i.isValidChild(q,Z.toLowerCase())||gr(c,h,m))return;if(h.firstChild===h.lastChild&&pr(h.firstChild)){C=Wa(e),C.appendChild($d().dom),h.replaceChild(C,h.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let Q=h.firstChild;for(;Q;)if(En(Q)&&rc(i,Q),jn(i,Q)){if(Ls(c,Q)){A=Q,Q=Q.nextSibling,t.remove(A);continue}if(!C){if(!V&&e.hasFocus()&&(V=Y6(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}C=Wa(e),h.insertBefore(C,Q)}A=Q,Q=Q.nextSibling,C.appendChild(A)}else C=null,Q=Q.nextSibling;V&&(e.selection.setRng(X6(V)),e.nodeChanged())},Yi=(e,t,o)=>{const i=Fe.fromDom(Wa(e)),c=$d();Wr(i,c),o(t,i);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},Bi=e=>{e.on("NodeChange",()=>Za(e))},Rh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,xy=(e,t,o)=>function(i){const c=arguments,m=c[c.length-2],h=m>0?t.charAt(m-1):"";if(h==='"')return i;if(h===">"){const C=t.lastIndexOf("<",m);if(C!==-1&&t.substring(C,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},nv=(e,t,o)=>{let i=t.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(t[i],xy(e,c,kb(e)));o.content=c}},Ih=(e,t)=>Oo(e,o=>{const i=t.match(o);return i!==null&&i[0].length===t.length}),Mw=e=>{const t="contenteditable",o=" "+Xt.trim(z8(e))+" ",i=" "+Xt.trim(kb(e))+" ",c=Rh(o),m=Rh(i),h=r5(e);h.length>0&&e.on("BeforeSetContent",C=>{nv(e,h,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const V=C[A];c(V)?V.attr(t,"true"):m(V)&&V.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const V=C[A];if(!c(V)&&!m(V))continue;const Z=V.attr("data-mce-content");h.length>0&&Z?Ih(h,Z)?(V.name="#text",V.type=3,V.raw=!0,V.value=Z):V.remove():V.attr(t,null)}})},ov=e=>Ot(Fe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),yg=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ch(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},c1=(e,t)=>{const o=ov(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),yg(e,o);return}v0(o)&&(yg(e,o),e.undoManager.add())}},u1=e=>{e.on("keyup compositionstart",tt(c1,e))},wy=fo,ak=(e,t,o)=>JT(t,e,o,Mi,Xf,wy),Bw=(e,t,o)=>SM(t,e,o,m=>Mi(m)||uI(m),m=>Xf(m)||X0(m),wy),sv=e=>{const t=e.dom.create(rl(e));return t.innerHTML='<br data-mce-bogus="1">',t},xg=(e,t,o)=>{const i=Kn(e.getBody()),c=tt(YE,t===1?i.next:i.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(xt.fromRangeStart(o))){const C=Fe.fromDom(sv(e));t===1?it(Fe.fromDom(m),C):Dr(Fe.fromDom(m),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Nh=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return ak(o,e,i).orThunk(()=>(xg(e,o,i),J.none()))},Lw=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return Bw(o,e,i).orThunk(()=>(xg(e,o,i),J.none()))},Fw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return G2(o)?!t:t},gs=(e,t)=>Nh(e,Fw(e.selection,t)).exists(o=>(em(e,o),!0)),wg=(e,t)=>Lw(e,t).exists(o=>(em(e,o),!0)),tf=(e,t)=>kM(e,t,t?Xf:Mi),d1=(e,t)=>HT(e,!t).map(o=>{const i=o.toRange(),c=e.selection.getRng();return t?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(em(e,o),!0)),lk=e=>ae(["figcaption"],qo(e)),Ph=(e,t,o)=>{const i=tt(Yo,t);return gi(Fe.fromDom(e.container()),c=>o.isBlock(qo(c)),i).filter(lk)},Cy=(e,t,o)=>t?vM(e.dom,o):pM(e.dom,o),fO=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=xt.fromRangeStart(e.selection.getRng());return Ph(i,o,e.schema).exists(()=>{if(Cy(o,t,i)){const m=Yi(e,o,t?Wr:Fa);return e.selection.setRng(m),!0}else return!1})},ck=(e,t)=>e.selection.isCollapsed()?fO(e,t):!1,D9=(e,t,o)=>{const i=e.selection.getRng(),c=xt.fromRangeStart(i);return e.getBody().firstChild===t&&pM(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},_y=(e,t)=>{const o=e.selection.getRng(),i=xt.fromRangeStart(o);return e.getBody().lastChild===t&&vM(t,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},R9=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>_y(e,o)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>J.from(e.dom.getParent(o,"details")).map(i=>D9(e,i,o))).getOr(!1),Sl=(e,t)=>R9(e,t),f1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},I9=e=>Be(e,t=>({...f1,...t})),HM=e=>Be(e,t=>({...f1,...t})),uk=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,$M=(e,t)=>wo(I9(e),o=>uk(o,t)?[o]:[]),UM=(e,t)=>wo(HM(e),o=>uk(o,t)?[o]:[]),uo=(e,...t)=>()=>e.apply(null,t),rv=(e,t)=>cn($M(e,t),o=>o.action()),dk=(e,t)=>or(UM(e,t),o=>o.action()),iv=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return JT(e,o,i,$b,Y0,St).exists(c=>(em(e,c),!0))},Sy=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return SM(e,o,i,$b,Y0,St).exists(c=>(em(e,c),!0))},mO=(e,t)=>kM(e,t,t?Y0:$b),gO=Ko.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),md={...gO,none:e=>gO.none(e)},WM=(e,t)=>pO(e,t,_n),pO=(e,t,o)=>wo(la(e),i=>Ps(i,t)?o(i)?[i]:[]:pO(i,t,o)),ZM=(e,t,o=fn)=>{if(o(t))return J.none();if(ae(e,qo(t)))return J.some(t);const i=c=>Ps(c,"table")||o(c);return su(t,e.join(","),i)},jM=(e,t)=>ZM(["td","th"],e,t),N9=e=>WM(e,"th,td"),ft=(e,t)=>Zi(e,"table",t),$n=(e,t,o,i,c=_n)=>{const m=i===1;if(!m&&o<=0)return md.first(e[0]);if(m&&o>=e.length-1)return md.last(e[e.length-1]);{const h=o+i,C=e[h];return c(C)?md.middle(t,C):$n(e,t,h,i,c)}},mo=(e,t)=>ft(e,t).bind(o=>{const i=N9(o);return An(i,m=>Yo(e,m)).map(m=>({index:m,all:i}))}),nr=(e,t,o)=>mo(e,o).fold(()=>md.none(e),c=>$n(c.all,e,c.index,1,t)),Yr=(e,t,o)=>mo(e,o).fold(()=>md.none(),c=>$n(c.all,e,c.index,-1,t)),li=e=>NC(e).filter(t=>t.trim().length!==0||t.indexOf(Di)>-1).isSome(),si=e=>Na(e)&&ka(e,"contenteditable")==="false",Si=["img","br"],ky=e=>li(e)||ae(Si,qo(e))||si(e),P9=e=>Wi(e,ky),KM=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),CW=(e,t)=>wo(t,o=>{const i=KM(Bf(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),wee=(e,t,o)=>Vt(e,(i,c)=>i.fold(()=>J.some(c),m=>{const h=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),C=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return J.some(C<h?c:m)}),J.none()),_W=(e,t,o,i,c)=>{const m=hi(Fe.fromDom(o),"td,th,caption").map(C=>C.dom),h=vt(CW(e,m),C=>t(C,c));return wee(h,i,c).map(C=>C.cell)},Cee=e=>e.bottom,_ee=e=>e.top,See=(e,t)=>e.y<t,kee=(e,t)=>e.y>t,Eee=tt(_W,Cee,See),Aee=tt(_W,_ee,kee),Tee=(e,t)=>hn(t.getClientRects()).bind(o=>Eee(e,o.left,o.top)).bind(o=>ok(bM(o),t)),Oee=(e,t)=>Eo(t.getClientRects()).bind(o=>Aee(e,o.left,o.top)).bind(o=>ok(p9(o),t)),Dee=(e,t,o)=>o.breakAt.exists(i=>e(t,i).breakAt.isSome()),Ree=e=>e.breakType===ef.Wrap&&e.positions.length===0,Iee=e=>e.breakType===ef.Br&&e.positions.length===1,SW=(e,t,o)=>{const i=e(t,o);return Ree(i)||!pr(o.getNode())&&Iee(i)?!Dee(e,t,i):i.breakAt.isNone()},Nee=tt(SW,Aw),Pee=tt(SW,Tw),Mee=(e,t,o)=>{const i=xt.fromRangeStart(t);return B0(!e,o).exists(c=>c.isEqual(i))},Bee=(e,t,o,i)=>{const c=e.selection.getRng(),m=t?1:-1;return ZE()&&Mee(t,c,o)?(Mr(m,e,o,!t,!1).each(h=>{em(e,h)}),!0):!1},Lee=(e,t,o)=>Tee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>qT(hM(e,xt.before(t)),i.left))).getOr(xt.before(t)),Fee=(e,t,o)=>Oee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>qT(sk(e,xt.after(t)),i.left))).getOr(xt.after(t)),kW=(e,t)=>{const o=t.getNode(e);return lu(o)?J.some(o):J.none()},Vee=(e,t,o)=>{t.undoManager.transact(()=>{const i=e?it:Dr,c=Yi(t,Fe.fromDom(o),i);em(t,c)})},EW=(e,t,o)=>{const i=kW(!!t,o),c=t===!1;i.fold(()=>em(e,o.toRange()),m=>B0(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>em(e,o.toRange()),h=>Vee(t,e,m)))},zee=(e,t,o,i)=>{const c=e.selection.getRng(),m=xt.fromRangeStart(c),h=e.getBody();if(!t&&Nee(i,m)){const C=Lee(h,o,m);return EW(e,t,C),!0}else if(t&&Pee(i,m)){const C=Fee(h,o,m);return EW(e,t,C),!0}else return!1},AW=(e,t,o)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>J.from(e.dom.getParent(i,"table")).map(c=>o(e,t,c,i))).getOr(!1),TW=(e,t)=>AW(e,t,Bee),M9=(e,t)=>AW(e,t,zee),Hee=e=>{const t=Mp.exact(e,0,e,0);return EF(t)},OW=(e,t,o)=>o.fold(J.none,J.none,(i,c)=>P9(c).map(m=>Hee(m)),i=>(e.execCommand("mceTableInsertRowAfter"),DW(e,t,i))),DW=(e,t,o)=>OW(e,t,nr(o,_r)),$ee=(e,t,o)=>OW(e,t,Yr(o,_r)),RW=(e,t)=>{const o=["table","li","dl"],i=Fe.fromDom(e.getBody()),c=C=>{const A=qo(C);return Yo(C,i)||ae(o,A)},m=e.selection.getRng(),h=Fe.fromDom(t?m.endContainer:m.startContainer);return jM(h,c).map(C=>(ft(C,c).each(Z=>{e.model.table.clearSelectedCells(Z.dom)}),e.selection.collapse(!t),(t?DW:$ee)(e,c,C).each(Z=>{e.selection.setRng(Z)}),!0)).getOr(!1)},Uee=(e,t,o)=>{const i=Mo.os.isMacOS()||Mo.os.isiOS();rv([{keyCode:dn.RIGHT,action:uo(gs,e,!0)},{keyCode:dn.LEFT,action:uo(gs,e,!1)},{keyCode:dn.UP,action:uo(wg,e,!1)},{keyCode:dn.DOWN,action:uo(wg,e,!0)},...i?[{keyCode:dn.UP,action:uo(d1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:dn.DOWN,action:uo(d1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:dn.RIGHT,action:uo(TW,e,!0)},{keyCode:dn.LEFT,action:uo(TW,e,!1)},{keyCode:dn.UP,action:uo(M9,e,!1)},{keyCode:dn.DOWN,action:uo(M9,e,!0)},{keyCode:dn.UP,action:uo(M9,e,!1)},{keyCode:dn.UP,action:uo(Sl,e,!1)},{keyCode:dn.DOWN,action:uo(Sl,e,!0)},{keyCode:dn.RIGHT,action:uo(iv,e,!0)},{keyCode:dn.LEFT,action:uo(iv,e,!1)},{keyCode:dn.UP,action:uo(Sy,e,!1)},{keyCode:dn.DOWN,action:uo(Sy,e,!0)},{keyCode:dn.RIGHT,action:uo(nO,e,t,!0)},{keyCode:dn.LEFT,action:uo(nO,e,t,!1)},{keyCode:dn.RIGHT,ctrlKey:!i,altKey:i,action:uo(RM,e,t)},{keyCode:dn.LEFT,ctrlKey:!i,altKey:i,action:uo(IM,e,t)},{keyCode:dn.UP,action:uo(ck,e,!1)},{keyCode:dn.DOWN,action:uo(ck,e,!0)}],o).each(c=>{o.preventDefault()})},Wee=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Uee(e,t,o)})},Mh=(e,t)=>({container:e,offset:t}),GM=Gs.DOM,qM=e=>t=>e===t?-1:0,Zee=e=>t=>e.isBlock(t)||ae(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",B9=(e,t,o)=>{if(Ut(e)&&t>=0)return J.some(Mh(e,t));{const i=zd(GM);return J.from(i.backwards(e,t,qM(e),o)).map(c=>Mh(c.container,c.container.data.length))}},jee=(e,t,o)=>{if(Ut(e)&&t>=e.length)return J.some(Mh(e,t));{const i=zd(GM);return J.from(i.forwards(e,t,qM(e),o)).map(c=>Mh(c.container,0))}},L9=(e,t,o)=>{if(!Ut(e))return J.none();const i=e.data;if(t>=0&&t<=i.length)return J.some(Mh(e,t));{const c=zd(GM);return J.from(c.backwards(e,t,qM(e),o)).bind(m=>{const h=m.container.data;return L9(m.container,t+h.length,o)})}},IW=(e,t,o)=>{if(!Ut(e))return J.none();const i=e.data;if(t<=i.length)return J.some(Mh(e,t));{const c=zd(GM);return J.from(c.forwards(e,t,qM(e),o)).bind(m=>IW(m.container,t-i.length,o))}},F9=(e,t,o,i,c)=>{const m=zd(e,Zee(e));return J.from(m.backwards(t,o,i,c))},Kee=e=>e.collapsed&&Ut(e.startContainer),Gee=e=>xl(e.toString().replace(/\u00A0/g," ")),NW=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,qee=(e,t)=>e.substring(t.length),Yee=(e,t,o,i=!1)=>{let c;const m=o.charAt(0);for(c=t-1;c>=0;c--){const h=e.charAt(c);if(!i&&NW(h))return J.none();if(m===h&&Ns(e,o,c,t))break}return J.some(c)},V9=(e,t,o,i=!1)=>{if(!Kee(t))return J.none();const c={text:"",offset:0},m=(C,A,V)=>(c.text=V+c.text,c.offset+=A,Yee(c.text,c.offset,o,i).getOr(A)),h=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return F9(e,t.startContainer,t.startOffset,m,h).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const V=Gee(A);return V.lastIndexOf(o)!==0?J.none():J.some({text:qee(V,o),range:A,trigger:o})})},Xee=e=>e.nodeType===Fg,Jee=e=>e.nodeType===gl,PW=e=>{if(Xee(e))return Mh(e,e.data.length);{const t=e.childNodes;return t.length>0?PW(t[t.length-1]):Mh(e,t.length)}},MW=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?MW(o[t],0):o.length>0&&Jee(e)&&o.length===t?PW(o[o.length-1]):Mh(e,t)},Qee=(e,t)=>{var o;const i=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return F9(e,t.container,t.offset,(c,m)=>m===0?-1:m,i).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!NW(m)}).isSome()},ete=e=>t=>{const o=MW(t.startContainer,t.startOffset);return!Qee(e,o)},tte=(e,t,o)=>or(o.triggers,i=>V9(e,t,i)),nte=(e,t)=>{const o=t(),i=e.selection.getRng();return tte(e.dom,i,o).bind(c=>BW(e,t,c))},BW=(e,t,o,i={})=>{var c;const m=t(),C=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=vt(m.lookupByTrigger(o.trigger),Z=>o.text.length>=Z.minChars&&Z.matches.getOrThunk(()=>ete(e.dom))(o.range,C,o.text));if(A.length===0)return J.none();const V=Promise.all(Be(A,Z=>Z.fetch(o.text,Z.maxResults,i).then(Q=>({matchText:o.text,items:Q,columns:Z.columns,onAction:Z.onAction,highlightOn:Z.highlightOn}))));return J.some({lookupData:V,context:o})};var Bh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bh||(Bh={}));const z9=(e,t,o)=>e.stype===Bh.Error?t(e.serror):o(e.svalue),ote=e=>{const t=[],o=[];return he(e,i=>{z9(i,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},ste=(e,t)=>e.stype===Bh.Error?{stype:Bh.Error,serror:t(e.serror)}:e,rte=(e,t)=>e.stype===Bh.Value?{stype:Bh.Value,svalue:t(e.svalue)}:e,ite=(e,t)=>e.stype===Bh.Value?t(e.svalue):e,ate=(e,t)=>e.stype===Bh.Error?t(e.serror):e,LW=e=>({stype:Bh.Value,svalue:e}),FW=e=>({stype:Bh.Error,serror:e}),Ll={fromResult:e=>e.fold(FW,LW),toResult:e=>z9(e,Xn.error,Xn.value),svalue:LW,partition:ote,serror:FW,bind:ite,bindError:ate,map:rte,mapError:ste,fold:z9},H9=e=>ee(e)&&Kt(e).length>100?" removed due to size":JSON.stringify(e,null,2),lte=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:et("... (only showing first ten failures)")}]):e;return Be(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},YM=(e,t)=>Ll.serror([{path:e,getErrorInfo:t}]),cte=(e,t,o)=>YM(e,()=>'Could not find valid *required* value for "'+t+'" in '+H9(o)),ute=(e,t)=>YM(e,()=>'Choice schema did not contain choice key: "'+t+'"'),dte=(e,t,o)=>YM(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+H9(t)),fte=(e,t)=>YM(e,et(t)),mte=(e,t,o,i)=>Os(o,i).fold(()=>dte(e,o,i),m=>m.extract(e.concat(["branch: "+i]),t)),gte=(e,t)=>({extract:(c,m)=>Os(m,e).fold(()=>ute(c,e),C=>mte(c,m,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Kt(t)}),hte=(e,t)=>t,pte=(e,t)=>_e(e)&&_e(t)?XM(e,t):t,VW=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<t.length;i++){const c=t[i];for(const m in c)ao(c,m)&&(o[m]=e(o[m],c[m]))}return o},XM=VW(pte),zW=VW(hte),HW=()=>({tag:"required",process:{}}),vte=e=>({tag:"defaultedThunk",process:e}),$W=e=>vte(et(e)),bte=()=>({tag:"option",process:{}}),yte=(e,t)=>e.length>0?Ll.svalue(XM(t,zW.apply(void 0,e))):Ll.svalue(t),UW=e=>$t(Ll.serror,On)(e),xte={consolidateObj:(e,t)=>{const o=Ll.partition(e);return o.errors.length>0?UW(o.errors):yte(o.values,t)},consolidateArr:e=>{const t=Ll.partition(e);return t.errors.length>0?UW(t.errors):Ll.svalue(t.values)}},wte=(e,t,o,i)=>({tag:"field",key:e,newKey:t,presence:o,prop:i}),Cte=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),WW=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},$9=e=>{const t=(i,c)=>Ll.bindError(e(c),m=>fte(i,m)),o=et("val");return{extract:t,toString:o}},_te=$9(Ll.svalue),Ste=(e,t,o,i)=>Os(t,o).fold(()=>cte(e,o,t),i),ZW=(e,t,o,i)=>{const c=Os(e,t).getOrThunk(()=>o(e));return i(c)},kte=(e,t,o)=>o(Os(e,t)),Ete=(e,t,o,i)=>{const c=Os(e,t).map(m=>m===!0?o(e):m);return i(c)},Ate=(e,t,o,i,c)=>{const m=C=>c.extract(t.concat([i]),C),h=C=>C.fold(()=>Ll.svalue(J.none()),A=>{const V=c.extract(t.concat([i]),A);return Ll.map(V,J.some)});switch(e.tag){case"required":return Ste(t,o,i,m);case"defaultedThunk":return ZW(o,i,e.process,m);case"option":return kte(o,i,h);case"defaultedOptionThunk":return Ete(o,i,e.process,h);case"mergeWithThunk":return ZW(o,i,et({}),C=>{const A=XM(e.process(o),C);return m(A)})}},Tte=(e,t,o)=>{const i={},c=[];for(const m of o)WW(m,(h,C,A,V)=>{const Z=Ate(A,e,t,h,V);Ll.fold(Z,q=>{c.push(...q)},q=>{i[C]=q})},(h,C)=>{i[h]=C(t)});return c.length>0?Ll.serror(c):Ll.svalue(i)},U9=e=>({extract:(i,c)=>Tte(i,c,e),toString:()=>`obj{
`+Be(e,c=>WW(c,(m,h,C,A)=>m+" -> "+A.toString(),(m,h)=>"state("+m+")")).join(`
`)+"}"}),jW=e=>({extract:(i,c)=>{const m=Be(c,(h,C)=>e.extract(i.concat(["["+C+"]"]),h));return xte.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Ote=e=>$9(t=>e(t).fold(Ll.serror,Ll.svalue)),Dte=(e,t,o)=>{const i=t.extract([e],o);return Ll.mapError(i,c=>({input:o,errors:c}))},Rte=(e,t,o)=>Ll.toResult(Dte(e,t,o)),Ite=e=>`Errors: 
`+lte(e.errors).join(`
`)+`

Input object: `+H9(e.input),KW=(e,t)=>gte(e,Ul(t,U9)),Nte=et(_te),JM=(e,t)=>$9(o=>{const i=typeof o;return e(o)?Ll.svalue(o):Ll.serror(`Expected type: ${t} but got: ${i}`)}),Pte=JM(O,"number"),QM=JM(xe,"string"),Mte=JM(We,"boolean"),W9=JM(Le,"function"),vO=wte,GW=Cte,Bte=e=>Ote(t=>ae(e,t)?Xn.value(t):Xn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),qW=(e,t)=>vO(e,e,HW(),t),YW=e=>qW(e,QM),XW=e=>qW(e,W9),Lte=(e,t)=>vO(e,e,HW(),jW(t)),Z9=(e,t)=>vO(e,e,bte(),t),eB=e=>Z9(e,QM),Fte=e=>Z9(e,W9),Vte=(e,t)=>vO(e,e,$W(t),Nte()),fk=(e,t,o)=>vO(e,e,$W(t),o),JW=(e,t)=>fk(e,t,Pte),zte=(e,t)=>fk(e,t,QM),QW=(e,t,o)=>fk(e,t,Bte(o)),j9=(e,t)=>fk(e,t,Mte),K9=(e,t)=>fk(e,t,W9),Hte=(e,t,o)=>fk(e,t,jW(o)),$te=YW("type"),Ute=XW("fetch"),G9=XW("onAction"),Wte=K9("onSetup",()=>ct),Zte=eB("text"),jte=eB("icon"),Kte=eB("tooltip"),Gte=eB("label"),qte=j9("active",!1),Yte=j9("enabled",!0),eZ=j9("primary",!1),Xte=e=>Vte("columns",e),bO=e=>zte("type",e),Jte=U9([$te,YW("trigger"),JW("minChars",1),Xte(1),JW("maxResults",10),Fte("matches"),Ute,G9,Hte("highlightOn",[],QM)]),Qte=e=>Rte("Autocompleter",Jte,e),q9=[Yte,Kte,jte,Zte,Wte],tZ=[qte].concat(q9),ene=[K9("predicate",fn),QW("scope","node",["node","editor"]),QW("position","selection",["node","selection","line"])],tne=q9.concat([bO("contextformbutton"),eZ,G9,GW("original",pt)]),nne=tZ.concat([bO("contextformbutton"),eZ,G9,GW("original",pt)]),one=q9.concat([bO("contextformbutton")]),sne=tZ.concat([bO("contextformtogglebutton")]),rne=KW("type",{contextformbutton:tne,contextformtogglebutton:nne});U9([bO("contextform"),K9("initValue",et("")),Gte,Lte("commands",rne),Z9("launch",KW("type",{contextformbutton:one,contextformtogglebutton:sne}))].concat(ene));const ine=e=>{const t=e.ui.registry.getAll().popups,o=Ul(t,h=>Qte(h).fold(C=>{throw new Error(Ite(C))},pt)),i=Mu(ul(o,h=>h.trigger)),c=Pu(o);return{dataset:o,triggers:i,lookupByTrigger:h=>vt(c,C=>C.trigger===h)}},ane=(e,t)=>{const o=vp(t.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},lne=e=>{const t=Ii(),o=Ri(!1),i=t.isSet,c=()=>{i()&&(fF(e),o.set(!1),t.clear())},m=q=>{i()||t.set({trigger:q.trigger,matchLength:q.text.length})},h=Dl(()=>ine(e)),C=q=>t.get().map(Q=>V9(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ge=>BW(e,h,ge,q))).getOrThunk(()=>nte(e,h)),A=q=>{C(q).fold(c,Q=>{m(Q.context),Q.lookupData.then(ge=>{t.get().map(Se=>{const pe=Q.context;Se.trigger===pe.trigger&&(t.set({...Se,matchLength:pe.text.length}),o.get()?(pA(e,{range:pe.range}),hA(e,{lookupData:ge})):(o.set(!0),pA(e,{range:pe.range}),gA(e,{lookupData:ge})))})})})},V=(q,Q)=>{const ge=q.compareBoundaryPoints(window.Range.START_TO_START,Q),Se=q.compareBoundaryPoints(window.Range.END_TO_END,Q);return ge>=0&&Se<=0},Z=()=>t.get().bind(({trigger:q})=>{const Q=e.selection.getRng();return V9(e.dom,Q,q,o.get()).filter(({range:ge})=>V(Q,ge)).map(({range:ge})=>ge)});e.addCommand("mceAutocompleterReload",(q,Q)=>{const ge=ee(Q)?Q.fetchOptions:{};A(ge)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{Z().each(q=>{pA(e,{range:q})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>Z().isSome()),ane(e,{cancelIfNecessary:c,load:A})},cne=na().browser.isSafari(),nZ=e=>Fc(Fe.fromDom(e)),oZ=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},tB=(e,t)=>J.from(e.getParent(t.container(),"details")),sZ=(e,t)=>tB(e,t).isSome(),une=(e,t)=>{const o=J.from(e.getParent(t.startContainer,"details")),i=J.from(e.getParent(t.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(m=>J.from(e.select("summary",m)[0]));return J.some({startSummary:c,startDetails:o,endDetails:i})}else return J.none()},dne=(e,t)=>Jn(t).exists(o=>o.isEqual(e)),fne=(e,t)=>ed(t).exists(o=>pr(o.getNode())&&Hc(t,o).exists(i=>i.isEqual(e))||o.isEqual(e)),mne=(e,t)=>t.startSummary.exists(o=>dne(e,o)),gne=(e,t)=>t.startSummary.exists(o=>fne(e,o)),hne=(e,t)=>t.startDetails.exists(o=>Hc(o,e).forall(i=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),pne=(e,t,o)=>o.startDetails.exists(i=>Gl(e,t).forall(c=>!i.contains(c.container()))),rZ=(e,t)=>{const o=t.getNode();qe(o)||e.selection.setCursorLocation(o,t.offset())},iZ=(e,t,o)=>{const i=e.dom.getParent(t.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Jn(c):ed(c)).each(h=>rZ(e,h))}else rZ(e,t)},vne=(e,t)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=t.startSummary.exists(o),m=t.startSummary.exists(i),h=t.startDetails.forall(A=>t.endDetails.forall(V=>A!==V));return(c||m)&&!(c&&m)||h},aZ=(e,t,o)=>{const{dom:i,selection:c}=e,m=e.getBody();if(o==="character"){const h=xt.fromRangeStart(c.getRng()),C=i.getParent(h.container(),i.isBlock),A=tB(i,h),V=C&&i.isEmpty(C),Z=Ue(C==null?void 0:C.previousSibling),q=Ue(C==null?void 0:C.nextSibling);return V&&(t?q:Z)&&Ob(!t,m,h).exists(Se=>sZ(i,Se)&&!mf(A,tB(i,Se)))?!0:Ob(t,m,h).fold(fn,Q=>{const ge=tB(i,Q);if(sZ(i,Q)&&!mf(A,ge)){if(t||iZ(e,Q,!1),C&&V){if(t&&Z)return!0;if(!t&&q)return!0;iZ(e,Q,t),e.dom.remove(C)}return!0}else return!1})}else return!1},bne=(e,t,o,i)=>{const m=e.selection.getRng(),h=xt.fromRangeStart(m),C=e.getBody();return i==="selection"?vne(m,t):o?gne(h,t)||pne(C,h,t):mne(h,t)||hne(h,t)},yne=(e,t,o)=>une(e.dom,e.selection.getRng()).fold(()=>aZ(e,t,o),i=>bne(e,i,t,o)||aZ(e,t,o)),xne=(e,t,o)=>{const i=e.selection,c=i.getNode(),m=i.getRng(),h=xt.fromRangeStart(m);return up(c)?(o==="selection"&&oZ(m,c)||BI(t,h,c)?nZ(c):e.undoManager.transact(()=>{const C=i.getSel();let{anchorNode:A,anchorOffset:V,focusNode:Z,focusOffset:q}=C??{};const Q=()=>{ke(A)&&ke(V)&&ke(Z)&&ke(q)&&(C==null||C.setBaseAndExtent(A,V,Z,q))},ge=()=>{A=C==null?void 0:C.anchorNode,V=C==null?void 0:C.anchorOffset,Z=C==null?void 0:C.focusNode,q=C==null?void 0:C.focusOffset},Se=(Oe,He)=>{he(Oe.childNodes,Qe=>{H0(Qe)&&He.appendChild(Qe)})},pe=e.dom.create("span",{"data-mce-bogus":"1"});Se(c,pe),c.appendChild(pe),Q(),(o==="word"||o==="line")&&(C==null||C.modify("extend",t?"right":"left",o)),!i.isCollapsed()&&oZ(i.getRng(),pe)?nZ(c):(e.execCommand(t?"ForwardDelete":"Delete"),ge(),Se(pe,c),Q()),e.dom.remove(pe)}),!0):!1},Vw=(e,t,o)=>yne(e,t,o)||cne&&xne(e,t,o)?J.some(ct):J.none(),lZ=e=>(t,o,i={})=>{const c=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:ct,inputType:o},h=zm(new InputEvent(e));return t.dispatch(e,{...h,...m,...i})},yO=lZ("input"),nB=lZ("beforeinput"),cZ=na(),uZ=cZ.os,dZ=uZ.isMacOS()||uZ.isiOS(),wne=cZ.browser.isFirefox(),Cne=(e,t,o)=>{const i=o.keyCode===dn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",h=C=>c?C?"word":"line":"selection";dk([{keyCode:dn.BACKSPACE,action:uo(wt,e)},{keyCode:dn.BACKSPACE,action:uo(UT,e,!1)},{keyCode:dn.DELETE,action:uo(UT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(zT,e,!1)},{keyCode:dn.DELETE,action:uo(zT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Nw,e,t,!1)},{keyCode:dn.DELETE,action:uo(Nw,e,t,!0)},{keyCode:dn.BACKSPACE,action:uo(Sh,e,!1)},{keyCode:dn.DELETE,action:uo(Sh,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Vw,e,!1,m)},{keyCode:dn.DELETE,action:uo(Vw,e,!0,m)},...dZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(Vw,e,!1,h(!0))},{keyCode:dn.DELETE,altKey:!0,action:uo(Vw,e,!0,h(!0))},{keyCode:dn.BACKSPACE,metaKey:!0,action:uo(Vw,e,!1,h(!1))}]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(Vw,e,!1,h(!0))},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(Vw,e,!0,h(!0))}],{keyCode:dn.BACKSPACE,action:uo(ZT,e,!1)},{keyCode:dn.DELETE,action:uo(ZT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(X,e,!1)},{keyCode:dn.DELETE,action:uo(X,e,!0)},{keyCode:dn.BACKSPACE,action:uo(LT,e,!1)},{keyCode:dn.DELETE,action:uo(LT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(XS,e,!1)},{keyCode:dn.DELETE,action:uo(XS,e,!0)},{keyCode:dn.BACKSPACE,action:uo(w,e,!1)},{keyCode:dn.DELETE,action:uo(w,e,!0)},{keyCode:dn.BACKSPACE,action:uo(WT,e,!1)},{keyCode:dn.DELETE,action:uo(WT,e,!0)}],o).filter(C=>e.selection.isEditable()).each(C=>{o.preventDefault(),nB(e,i).isDefaultPrevented()||(C(),yO(e,i))})},_ne=(e,t,o)=>rv([{keyCode:dn.BACKSPACE,action:uo(K6,e)},{keyCode:dn.DELETE,action:uo(K6,e)},...dZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(F,e)},{keyCode:dn.DELETE,altKey:!0,action:uo(F,e)},...o?[{keyCode:wne?224:91,action:uo(F,e)}]:[]]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(F,e)},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(F,e)}]],t),Sne=(e,t)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===dn.BACKSPACE,i.isDefaultPrevented()||Cne(e,t,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||_ne(e,i,o),o=!1})},kne=e=>{for(;e;){if(En(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},mk=(e,t)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=kne(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(Di),t.firstChild)}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new ca(t,t);let h=t,C;for(;C=m.current();){if(Ut(C)){c.setStart(C,0),c.setEnd(C,0);break}if(i[C.nodeName.toLowerCase()]){c.setStartBefore(C),c.setEndBefore(C);break}h=C,C=m.next()}C||(c.setStart(h,0),c.setEnd(h,0))}else pr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),od(e,c)},xO=(e,t)=>{const o=e.getRoot();let i,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},Y9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Ene=e=>Y9(e).fold(et(""),t=>t.nodeName.toUpperCase()),Ane=e=>Y9(e).filter(t=>Km(Fe.fromDom(t))).isSome(),X9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Tne=(e,t,o)=>{const i=e.dom;J.from(o.style).map(i.parseStyle).each(A=>{const Z={...$g(Fe.fromDom(t)),...A};i.setStyles(t,Z)});const c=J.from(o.class).map(A=>A.split(/\s+/)),m=J.from(t.className).map(A=>vt(A.split(/\s+/),V=>V!==""));sa(c,m,(A,V)=>{const Z=vt(V,Q=>!ae(A,Q)),q=[...A,...Z];i.setAttrib(t,"class",q.join(" "))});const h=["style","class"],C=Cc(o,(A,V)=>!ae(h,V));i.setAttribs(t,C)},wO=(e,t)=>{if(rl(e).toLowerCase()===t.tagName.toLowerCase()){const i=Yx(e);Tne(e,t,i)}},fZ=(e,t,o,i,c=!0,m,h)=>{const C=e.dom,A=e.schema,V=rl(e),Z=o?o.nodeName.toUpperCase():"";let q=t;const Q=A.getTextInlineElements();let ge;m||Z==="TABLE"||Z==="HR"?ge=C.create(m||V,h||{}):ge=o.cloneNode(!1);let Se=ge;if(!c)C.setAttrib(ge,"style",null),C.setAttrib(ge,"class",null);else do if(Q[q.nodeName]){if(yu(q)||xu(q))continue;const pe=q.cloneNode(!1);C.setAttrib(pe,"id",""),ge.hasChildNodes()?(pe.appendChild(ge.firstChild),ge.appendChild(pe)):(Se=pe,ge.appendChild(pe))}while((q=q.parentNode)&&q!==i);return wO(e,ge),X9(Se),ge},One=(e,t)=>e.dom.getParent(t,cp),Dne=(e,t,o)=>{let i=t;for(;i&&i!==e&&Ue(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return cp(c);i=c}return!1},Rne=(e,t,o)=>!t&&o.nodeName.toLowerCase()===rl(e)&&e.dom.isEmpty(o)&&Dne(e.getBody(),o,i=>ao(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),Ine=(e,t,o)=>{var i,c,m;const h=t(rl(e)),C=One(e,o);C&&(e.dom.insertAfter(h,C),mk(e,h),((m=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Nne=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Pne=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},mZ=(e,t)=>{const o=e==null?void 0:e.parentNode;return ke(o)&&o.nodeName===t},gZ=e=>ke(e)&&/^(OL|UL|LI)$/.test(e.nodeName),J9=e=>ke(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Mne=e=>gZ(e)&&gZ(e.parentNode),oB=e=>{const t=e.parentNode;return J9(t)?t:e},sB=(e,t,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!En(i);)i=i[o?"nextSibling":"previousSibling"];return i===t},hZ=e=>Vt(ul($g(Fe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Bne=(e,t,o,i,c)=>{const m=e.dom,h=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Mne(o)&&(c="LI");const A=J9(i)?hZ(i):void 0;let V=J9(i)&&A?t(c,{style:hZ(i)}):t(c);if(sB(o,i,!0)&&sB(o,i,!1))if(mZ(o,"LI")){const Z=oB(o);m.insertAfter(V,Z),Pne(o)?m.remove(Z):m.remove(o)}else m.replace(V,o);else if(sB(o,i,!0))mZ(o,"LI")?(m.insertAfter(V,oB(o)),V.appendChild(m.doc.createTextNode(" ")),V.appendChild(o)):C.insertBefore(V,o),m.remove(i);else if(sB(o,i,!1))m.insertAfter(V,oB(o)),m.remove(i);else{o=oB(o);const Z=h.cloneRange();Z.setStartAfter(i),Z.setEndAfter(o);const q=Z.extractContents();if(c==="LI"&&Nne(q,"LI")){const Q=vt(Be(V.children,Fe.fromDom),Ye(vf("br")));V=q.firstChild,m.insertAfter(q,o),he(Q,ge=>Fa(Fe.fromDom(V),ge)),A&&V.setAttribute("style",A)}else m.insertAfter(q,o),m.insertAfter(V,o);m.remove(i)}mk(e,V)},Lne=e=>{he(Nm(Fe.fromDom(e),ur),t=>{const o=t.dom;o.nodeValue=xl(o.data)})},Fne=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Vne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Q9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,eH=(e,t)=>ke(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",zne=(e,t,o)=>{var i;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;En(m)&&!t[m.nodeName.toLowerCase()]&&c.push(m)}let h=c.length;for(;h--;)m=c[h],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((i=m.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||Vne(e,m))&&e.remove(m)},tH=(e,t,o)=>Ut(t)?e?o===1&&t.data.charAt(o-1)===Ci?0:o:o===t.data.length-1&&t.data.charAt(o)===Ci?t.data.length:o:o,Hne=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,tH(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,tH(!1,e.endContainer,e.endOffset)),t},$ne=e=>{let t=e;do Ut(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Une=(e,t,o,i,c)=>{var m,h;const C=e.dom,A=(m=xO(C,i))!==null&&m!==void 0?m:C.getRoot();let V=C.getParent(i,C.isBlock);if(!V||!eH(C,V)){if(V=V||A,!V.hasChildNodes()){const ge=C.create(t);return wO(e,ge),V.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let Z=i;for(;Z&&Z.parentNode!==V;)Z=Z.parentNode;let q;for(;Z&&!C.isBlock(Z);)q=Z,Z=Z.previousSibling;const Q=(h=q==null?void 0:q.parentElement)===null||h===void 0?void 0:h.nodeName;if(q&&Q&&e.schema.isValidChild(Q,t.toLowerCase())){const ge=q.parentNode,Se=C.create(t);for(wO(e,Se),ge.insertBefore(Se,q),Z=q;Z&&!C.isBlock(Z);){const pe=Z.nextSibling;Se.appendChild(Z),Z=pe}o.setStart(i,c),o.setEnd(i,c)}}return i},Wne=(e,t)=>{t.normalize();const o=t.lastChild;(!o||En(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},Zne=(e,t)=>{const o=AE(e);return st(t)?!1:xe(o)?ae(Xt.explode(o),t.nodeName.toLowerCase()):o},pZ={insert:(e,t)=>{let o,i,c,m,h=!1;const C=e.dom,A=e.schema,V=A.getNonEmptyElements(),Z=e.selection.getRng(),q=rl(e),Q=Fe.fromDom(Z.startContainer),ge=Uu(Q,Z.startOffset),Se=ge.exists(Nt=>Na(Nt)&&!_r(Nt)),pe=Z.collapsed&&Se,Oe=(Nt,Cn)=>fZ(e,o,Yt,Bt,EE(e),Nt,Cn),He=Nt=>{const Cn=tH(Nt,o,i);if(Ut(o)&&(Nt?Cn>0:Cn<o.data.length))return!1;if((o.parentNode===Yt||o===Yt)&&h&&!Nt||Nt&&En(o)&&o===Yt.firstChild)return!0;if(Q9(o,"TABLE")||Q9(o,"HR"))return h&&!Nt||!h&&Nt;const Vn=new ca(o,Yt);Ut(o)&&(Nt&&Cn===0?Vn.prev():!Nt&&Cn===o.data.length&&Vn.next());let Io;for(;Io=Vn.current();){if(En(Io)){if(!Io.getAttribute("data-mce-bogus")){const Vo=Io.nodeName.toLowerCase();if(V[Vo]&&Vo!=="br")return!1}}else if(Ut(Io)&&!oc(Io.data))return!1;Nt?Vn.prev():Vn.next()}return!0},Qe=()=>{let Nt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&pn!=="HGROUP"?Nt=Oe(q):Nt=Oe(),Zne(e,m)&&eH(C,m)&&C.isEmpty(Yt,void 0,{includeZwsp:!0})?Nt=C.split(m,Yt):C.insertAfter(Nt,Yt),mk(e,Nt),Nt};rg(C,Z).each(Nt=>{Z.setStart(Nt.startContainer,Nt.startOffset),Z.setEnd(Nt.endContainer,Nt.endOffset)}),o=Z.startContainer,i=Z.startOffset;const Xe=!!(t&&t.shiftKey),dt=!!(t&&t.ctrlKey);En(o)&&o.hasChildNodes()&&!pe&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Ut(o)?i=o.data.length:i=0);const Bt=xO(C,o);if(!Bt||Fne(e,o))return;Xe||(o=Une(e,q,Z,o,i));let Yt=C.getParent(o,C.isBlock)||C.getRoot();m=ke(Yt==null?void 0:Yt.parentNode)?C.getParent(Yt.parentNode,C.isBlock):null,c=Yt?Yt.nodeName.toUpperCase():"";const pn=m?m.nodeName.toUpperCase():"";if(pn==="LI"&&!dt){const Nt=m;Yt=Nt,m=Nt.parentNode,c=pn}if(En(m)&&Rne(e,Xe,Yt))return Ine(e,Oe,Yt);if(/^(LI|DT|DD)$/.test(c)&&En(m)&&C.isEmpty(Yt)){Bne(e,Oe,m,Yt,q);return}if(!pe&&(Yt===e.getBody()||!eH(C,Yt)))return;const kt=Yt.parentNode;let bt;if(pe)bt=Oe(q),ge.fold(()=>{Wr(Q,Fe.fromDom(bt))},Nt=>{Dr(Nt,Fe.fromDom(bt))}),e.selection.setCursorLocation(bt,0);else if(yp(Yt))bt=ch(Yt),C.isEmpty(Yt)&&X9(Yt),wO(e,bt),mk(e,bt);else if(He(!1))bt=Qe();else if(He(!0)&&kt){const Nt=xt.fromRangeStart(Z),Cn=X0(Nt),Vn=Fe.fromDom(Yt),Vo=Wb(Vn,Nt,e.schema)?H_(Vn,Nt,e.schema).bind(Us=>J.from(Us.getNode())):J.none();bt=kt.insertBefore(Oe(),Yt);const Rs=Q9(Yt,"HR")||Cn?bt:Vo.getOr(Yt);mk(e,Rs)}else{const Nt=Hne(Z).cloneRange();Nt.setEndAfter(Yt);const Cn=Nt.extractContents();Lne(Cn),$ne(Cn),bt=Cn.firstChild,C.insertAfter(Cn,Yt),zne(C,V,bt),Wne(C,Yt),C.isEmpty(Yt)&&X9(Yt),bt.normalize(),C.isEmpty(bt)?(C.remove(bt),Qe()):(wO(e,bt),mk(e,bt))}C.setAttrib(bt,"id",""),e.dispatch("NewBlock",{newBlock:bt})},fakeEventName:"insertParagraph"},jne=(e,t,o)=>{const i=new ca(t,o);let c;const m=e.getNonEmptyElements();for(;c=i.next();)if(m[c.nodeName.toLowerCase()]||Ut(c)&&c.length>0)return!0;return!1},vZ=(e,t,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),od(e,i)},Kne=(e,t)=>{const o=e.selection,i=e.dom,c=o.getRng();let m,h=!1;rg(i,c).each(ge=>{c.setStart(ge.startContainer,ge.startOffset),c.setEnd(ge.endContainer,ge.endOffset)});let C=c.startOffset,A=c.startContainer;if(En(A)&&A.hasChildNodes()){const ge=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ge&&Ut(A)?C=A.data.length:C=0}let V=i.getParent(A,i.isBlock);const Z=V&&V.parentNode?i.getParent(V.parentNode,i.isBlock):null,q=Z?Z.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);q==="LI"&&!Q&&(V=Z),Ut(A)&&C>=A.data.length&&(jne(e.schema,A,V||i.getRoot())||(m=i.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),h=!0)),m=i.create("br"),T0(i,c,m),vZ(e,m,h),e.undoManager.add()},Gne=(e,t)=>{const o=Fe.fromTag("br");Dr(Fe.fromDom(t),o),e.undoManager.add()},qne=(e,t)=>{Xne(e.getBody(),t)||it(Fe.fromDom(t),Fe.fromTag("br"));const o=Fe.fromTag("br");it(Fe.fromDom(t),o),vZ(e,o.dom,!1),e.undoManager.add()},Yne=e=>pr(e.getNode()),Xne=(e,t)=>Yne(xt.after(t))?!0:Gl(e,xt.after(t)).map(o=>pr(o.getNode())).getOr(!1),bZ=e=>e&&e.nodeName==="A"&&"href"in e,Jne=e=>e.fold(fn,bZ,bZ,fn),Qne=e=>{const t=tt(jb,e),o=xt.fromRangeStart(e.selection.getRng());return bg(t,e.getBody(),o).filter(Jne)},eoe=(e,t)=>{t.fold(ct,tt(Gne,e),tt(qne,e),ct)},yZ={insert:(e,t)=>{const o=Qne(e);o.isSome()?o.each(tt(eoe,e)):Kne(e,t)},fakeEventName:"insertLineBreak"},xZ=(e,t)=>Y9(e).filter(o=>t.length>0&&Ps(Fe.fromDom(o),t)).isSome(),toe=e=>xZ(e,VD(e)),noe=e=>xZ(e,zD(e)),nf=Ko.generate([{br:[]},{block:[]},{none:[]}]),ooe=(e,t)=>noe(e),wZ=e=>(t,o)=>Ane(t)===e,CZ=(e,t)=>(o,i)=>Ene(o)===e.toUpperCase()===t,soe=e=>{const t=xO(e.dom,e.selection.getStart());return st(t)},CO=e=>CZ("pre",e),roe=()=>CZ("summary",!0),rB=e=>(t,o)=>SE(t)===e,ioe=(e,t)=>toe(e),iB=(e,t)=>t,aoe=e=>{const t=rl(e),o=xO(e.dom,e.selection.getStart());return ke(o)&&e.schema.isValidChild(o.nodeName,t)},loe=e=>{const t=e.selection.getRng(),o=Fe.fromDom(t.startContainer),c=Uu(o,t.startOffset).map(m=>Na(m)&&!_r(m));return t.collapsed&&c.getOr(!0)},tm=(e,t)=>(o,i)=>Vt(e,(m,h)=>m&&h(o,i),!0)?J.some(t):J.none(),coe=(e,t)=>sM([tm([ooe],nf.none()),tm([CO(!0),soe],nf.none()),tm([roe()],nf.br()),tm([CO(!0),rB(!1),iB],nf.br()),tm([CO(!0),rB(!1)],nf.block()),tm([CO(!0),rB(!0),iB],nf.block()),tm([CO(!0),rB(!0)],nf.br()),tm([wZ(!0),iB],nf.br()),tm([wZ(!0)],nf.block()),tm([ioe],nf.br()),tm([iB],nf.br()),tm([aoe],nf.block()),tm([loe],nf.block())],[e,!!(t&&t.shiftKey)]).getOr(nf.none()),aB=(e,t,o)=>{t.selection.isCollapsed()||PI(t),!(ke(o)&&nB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),ke(o)&&yO(t,e.fakeEventName))},_Z=(e,t)=>{const o=()=>aB(yZ,e,t),i=()=>aB(pZ,e,t),c=coe(e,t);switch(kE(e)){case"linebreak":c.fold(o,o,ct);break;case"block":c.fold(i,i,ct);break;case"invert":c.fold(i,o,ct);break;default:c.fold(o,i,ct);break}},SZ=na(),uoe=SZ.os.isiOS()&&SZ.browser.isSafari(),kZ=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),PV(e.undoManager),e.undoManager.transact(()=>{_Z(e,t)}))},doe=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Ut(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=t.data.charAt(e.startOffset-1);return o.test(i)}else return!1},foe=e=>{let t=J.none();const o=c=>{t=J.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,m)=>{c.undoManager.undo(),t.fold(ct,h=>c.selection.moveToBookmark(h)),kZ(c,m),t=J.none()};e.on("keydown",c=>{c.keyCode===dn.ENTER&&(uoe&&doe(e.selection.getRng())?o(e):kZ(e,c))}),e.on("keyup",c=>{c.keyCode===dn.ENTER&&t.each(()=>i(e,c))})},moe=(e,t,o)=>{const i=Mo.os.isMacOS()||Mo.os.isiOS();rv([{keyCode:dn.END,action:uo(tf,e,!0)},{keyCode:dn.HOME,action:uo(tf,e,!1)},...i?[]:[{keyCode:dn.HOME,action:uo(d1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:dn.END,action:uo(d1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:dn.END,action:uo(mO,e,!0)},{keyCode:dn.HOME,action:uo(mO,e,!1)},{keyCode:dn.END,action:uo(Rw,e,!0,t)},{keyCode:dn.HOME,action:uo(Rw,e,!1,t)}],o).each(c=>{o.preventDefault()})},goe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||moe(e,t,o)})},hoe=e=>{e.on("input",t=>{t.isComposing||XF(e)})},poe=na(),voe=(e,t,o)=>{rv([{keyCode:dn.PAGE_UP,action:uo(Rw,e,!1,t)},{keyCode:dn.PAGE_DOWN,action:uo(Rw,e,!0,t)}],o)},EZ=e=>e.stopImmediatePropagation(),AZ=e=>e.keyCode===dn.PAGE_UP||e.keyCode===dn.PAGE_DOWN,TZ=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",EZ,!0):!o&&e.get()&&t.off("NodeChange",EZ),e.set(o)},boe=(e,t)=>{if(poe.os.isMacOS())return;const o=Ri(!1);e.on("keydown",i=>{AZ(i)&&TZ(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||voe(e,t,i),AZ(i)&&o.get()&&(TZ(o,e,!1),e.nodeChanged())})},yoe=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||be(t.getTargetRanges(),o=>!WR(e.dom,o)))&&t.preventDefault()})},OZ=(e,t)=>{const o=t.container(),i=t.offset();return Ut(o)?(o.insertData(i,e),J.some(xt(o,i+e.length))):e_(t).map(c=>{const m=Fe.fromText(e);return t.isAtEnd()?it(c,m):Dr(c,m),xt(m.dom,e.length)})},DZ=tt(OZ,Di),RZ=tt(OZ," "),xoe=(e,t,o)=>o3(e,t,o)?DZ(t):RZ(t),woe=e=>t=>t.fold(o=>Hc(e.dom,xt.before(o)),o=>Jn(o),o=>ed(o),o=>Gl(e.dom,xt.after(o))),Coe=(e,t,o)=>i=>o3(e,i,o)?DZ(t):RZ(t),IZ=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},_oe=(e,t)=>e.isEditable(e.getParent(t,"summary")),Soe=e=>{const t=xt.fromRangeStart(e.selection.getRng()),o=Fe.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=tt(jb,e),c=xt.fromRangeStart(e.selection.getRng());return bg(i,e.getBody(),c).bind(woe(o)).map(m=>()=>Coe(o,t,e.schema)(m).each(IZ(e)))}else return J.none()},koe=e=>{const t=()=>{const o=Fe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=xt.fromRangeStart(e.selection.getRng());xoe(o,i,e.schema).each(IZ(e))};return Bg(Mo.browser.isFirefox()&&e.selection.isEditable()&&_oe(e.dom,e.selection.getRng().startContainer),t)},Eoe=(e,t)=>{dk([{keyCode:dn.SPACEBAR,action:uo(Soe,e)},{keyCode:dn.SPACEBAR,action:uo(koe,e)}],t).each(o=>{t.preventDefault(),nB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),yO(e,"insertText",{data:" "}))})},Aoe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Eoe(e,t)})},Toe=e=>u5(e)?[{keyCode:dn.TAB,action:uo(RW,e,!0)},{keyCode:dn.TAB,shiftKey:!0,action:uo(RW,e,!1)}]:[],Ooe=(e,t)=>{rv([...Toe(e)],t).each(o=>{t.preventDefault()})},Doe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Ooe(e,t)})},Roe=e=>{if(e.addShortcut("Meta+P","","mcePrint"),lne(e),vg(e))return Ri(null);{const t=DM(e);return yoe(e),u1(e),Wee(e,t),Sne(e,t),foe(e),Aoe(e),hoe(e),Doe(e),goe(e,t),boe(e,t),t}};class Ioe{constructor(t){this.lastPath=[],this.editor=t;let o;const i=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const m=t.selection.getRng(),h={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!D2(h,o))&&t.dispatch("SelectionChange"),o=h}),t.on("contextmenu",()=>{Z0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&V0(t)&&!i.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&V0(t)&&(t.selection.getNode().nodeName==="IMG"?Wc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!R8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const m=[];this.editor.dom.getParent(i,h=>h===c?!0:(m.push(h),!1)),this.editor.dispatch("NodeChange",{...t,element:i,parents:m})}}isSameElementPath(t){let o;const i=this.editor,c=Ho(i.dom.getParents(t,_n,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const NZ=za("image"),Noe=e=>{const t=e;return J.from(t[NZ])},Poe=(e,t)=>{const o=e;o[NZ]=t},nH=za("event"),Moe=e=>{const t=e;return J.from(t[nH])},lB=e=>t=>{const o=t;o[nH]=e},Boe=(e,t)=>lB(t)(e),PZ=lB(0),Loe=lB(2),Foe=lB(1),Voe=(e=>t=>{const o=t;return J.from(o[nH]).exists(i=>i===e)})(0),zoe=()=>Object.freeze({length:0,item:e=>null}),oH=za("mode"),Hoe=e=>{const t=e;return J.from(t[oH])},cB=e=>t=>{const o=t;o[oH]=e},MZ=(e,t)=>cB(t)(e),BZ=cB(0),sH=cB(2),$oe=cB(1),LZ=e=>t=>{const o=t;return J.from(o[oH]).exists(i=>i===e)},gk=LZ(0),FZ=LZ(1),Uoe=(e,t)=>({...t,get length(){return t.length},add:(o,i)=>{if(gk(e))if(xe(o)){if(!qe(i))return t.add(o,i)}else return t.add(o);return null},remove:o=>{gk(e)&&t.remove(o)},clear:()=>{gk(e)&&t.clear()}}),Woe=["none","copy","link","move"],Zoe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],rH=()=>{const e=new window.DataTransfer;let t="move",o="all";const i={get dropEffect(){return t},set dropEffect(c){ae(Woe,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){Voe(i)&&ae(Zoe,c)&&(o=c)},get items(){return Uoe(i,e.items)},get files(){return FZ(i)?zoe():e.files},get types(){return e.types},setDragImage:(c,m,h)=>{gk(i)&&(Poe(i,{image:c,x:m,y:h}),e.setDragImage(c,m,h))},getData:c=>FZ(i)?"":e.getData(c),setData:(c,m)=>{gk(i)&&e.setData(c,m)},clearData:c=>{gk(i)&&e.clearData(c)}};return BZ(i),i},joe=e=>{const t=rH(),o=Hoe(e);return sH(e),PZ(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Noe(e).each(i=>t.setDragImage(i.image,i.x,i.y)),he(e.types,i=>{i!=="Files"&&t.setData(i,e.getData(i))}),he(e.files,i=>t.items.add(i)),Moe(e).each(i=>{Boe(t,i)}),o.each(i=>{MZ(e,i),MZ(t,i)}),t},Koe=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},VZ=(e,t)=>e.setData("text/html",t),zZ="x-tinymce/html",uB=et(zZ),iH="<!-- "+zZ+" -->",Goe=e=>iH+e,qoe=e=>e.replace(iH,""),HZ=e=>e.indexOf(iH)!==-1,Yoe=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Xoe=(e,t)=>{let o="<"+e;const i=ul(t,(c,m)=>m+'="'+Yg.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},Joe=(e,t,o)=>{const i=e.split(/\n\n/),c=Xoe(t,o),m="</"+t+">",h=Be(i,A=>A.split(/\n/).join("<br />")),C=A=>c+A+m;return h.length===1?h[0]:Be(h,C).join("")},$Z="%MCEPASTEBIN%",Qoe=(e,t)=>{const{dom:o,selection:i}=e,c=e.getBody();t.set(i.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},$Z);Mo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),m.focus(),i.select(m,!0)},ese=(e,t)=>{const o=e.dom;if(aH(e)){let i;const c=t.get();for(;i=aH(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}t.set(null)},aH=e=>e.dom.get("mcepastebin"),tse=e=>ke(e)&&e.id==="mcepastebin",nse=e=>{const t=e.dom,o=(h,C)=>{h.appendChild(C),t.remove(C,!0)},[i,...c]=vt(e.getBody().childNodes,tse);he(c,h=>{o(i,h)});const m=t.select("div[id=mcepastebin]",i);for(let h=m.length-1;h>=0;h--){const C=t.create("div");i.insertBefore(C,m[h]),o(C,m[h])}return i?i.innerHTML:""},UZ=e=>e===$Z,ose=e=>{const t=Ri(null);return{create:()=>Qoe(e,t),remove:()=>ese(e,t),getEl:()=>aH(e),getHtml:()=>nse(e),getLastRng:t.get}},WZ=(e,t)=>(Xt.each(t,o=>{Me(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),sse=e=>{const t=Mc(),o=cy({},t);let i="";const c=t.getVoidElements(),m=Xt.makeMap("script noscript style textarea video audio iframe object"," "),h=t.getBlockElements(),C=A=>{const V=A.name,Z=A;if(V==="br"){i+=`
`;return}if(V!=="wbr"){if(c[V]&&(i+=" "),m[V]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in t.getVoidElements())){let q=A.firstChild;if(q)do C(q);while(q=q.next)}h[V]&&Z.next&&(i+=`
`,V==="p"&&(i+=`
`))}};return e=WZ(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),i},ZZ=e=>(e=WZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Di],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),rse=e=>{let t=0;return()=>e+t++},ise=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},ase=(e,t)=>{const o=cy({sanitize:a5(e),sandbox_iframes:zE(e),sandbox_iframes_exclusions:KC(e),convert_unsafe_embeds:f5(e)},e.schema);o.addNodeFilter("meta",c=>{Xt.each(c,m=>{m.remove()})});const i=o.parse(t,{forced_root_block:!1,isRootContent:!0});return wh({validate:!0},e.schema).serialize(i)},jZ=(e,t)=>({content:e,cancelled:t}),lse=(e,t,o)=>{const i=e.dom.create("div",{style:"display:none"},t),c=v_(e,i,o);return jZ(c.node.innerHTML,c.isDefaultPrevented())},cse=(e,t,o)=>{const i=E2(e,t,o),c=ase(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?lse(e,c,o):jZ(c,i.isDefaultPrevented())},use=(e,t,o)=>cse(e,t,o),lH=(e,t)=>(e.insertContent(t,{merge:L8(e),paste:!0}),!0),cH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),dse=(e,t)=>cH(t)&&be(VE(e),o=>Te(t.toLowerCase(),`.${o.toLowerCase()}`)),fse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),mse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),gse=(e,t,o)=>!e.selection.isCollapsed()&&cH(t)?mse(e,t,o):!1,hse=(e,t,o)=>dse(e,t)?fse(e,t,o):!1,pse=(e,t)=>{Xt.each([gse,hse,lH],o=>!o(e,t,lH))},vse=(e,t,o)=>{o||!_b(e)?lH(e,t):pse(e,t)},bse=rse("mceclip"),yse=e=>{const t=rH();return VZ(t,e),sH(t),t},KZ=(e,t,o,i,c)=>{const m=use(e,t,o);if(!m.cancelled){const h=m.content,C=()=>vse(e,h,i);c?nB(e,"insertFromPaste",{dataTransfer:yse(h)}).isDefaultPrevented()||(C(),yO(e,"insertFromPaste")):C()}},dB=(e,t,o,i)=>{const c=o||HZ(t);KZ(e,qoe(t),c,!1,i)},uH=(e,t,o)=>{const i=e.dom.encode(t).replace(/\r\n/g,`
`),c=Mv(i,s5(e)),m=Joe(c,rl(e),Yx(e));KZ(e,m,!1,!0,o)},GZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{t[i]=e.getData(i)}catch{t[i]=""}}return t},Ey=(e,t)=>t in e&&e[t].length>0,qZ=e=>Ey(e,"text/html")||Ey(e,"text/plain"),xse=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ke(o)?e.dom.encode(o[1]):void 0},wse=(e,t,o,i)=>{const c=bse(),m=gh(e)&&ke(o.name),h=m?xse(e,o.name):c,C=m?o.name:void 0,A=t.create(c,o,i,h,C);return t.add(A),A},Cse=(e,t)=>{OS(t.uri).each(({data:o,type:i,base64Encoded:c})=>{const m=c?o:btoa(o),h=t.file,C=e.editorUpload.blobCache,A=C.getByData(m,i),V=A??wse(e,C,h,m);dB(e,`<img src="${V.blobUri()}">`,!1,!0)})},_se=e=>e.type==="paste",Sse=e=>Promise.all(Be(e,t=>PN(t).then(o=>({file:t,uri:o})))),kse=e=>{const t=VE(e);return o=>cr(o.type,"image/")&&be(t,i=>ise(i)===o.type)},Ese=(e,t)=>{const o=t.items?wo(vo(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=t.files?vo(t.files):[];return vt(o.length>0?o:i,kse(e))},YZ=(e,t,o)=>{const i=_se(t)?t.clipboardData:t.dataTransfer;if(eg(e)&&i){const c=Ese(e,i);if(c.length>0)return t.preventDefault(),Sse(c).then(m=>{o&&e.selection.setRng(o),he(m,h=>{Cse(e,h)})}),!0}return!1},Ase=e=>{var t,o;return Mo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Tse=e=>dn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,dH=(e,t,o,i,c)=>{let m=ZZ(o);const h=Ey(t,uB())||HZ(o),C=!h&&Yoe(m),A=cH(m);(UZ(m)||!m.length||C&&!A)&&(i=!0),(i||A)&&(Ey(t,"text/plain")&&C?m=t["text/plain"]:m=sse(m)),!UZ(m)&&(i?uH(e,m,c):dB(e,m,h,c))},Ose=(e,t,o)=>{let i;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Tse(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Ase(m))return;const h=o.get()==="text"||i;i=!1;const C=GZ(m.clipboardData);!qZ(C)&&YZ(e,m,c())||(Ey(C,"text/html")?(m.preventDefault(),dH(e,C,C["text/html"],h,!0)):Ey(C,"text/plain")&&Ey(C,"text/uri-list")?(m.preventDefault(),dH(e,C,C["text/plain"],h,!0)):(t.create(),Wc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),dH(e,C,A,h,!1)},0)))})},Dse=e=>{const t=c=>cr(c,"webkit-fake-url"),o=c=>cr(c,"data:"),i=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,h)=>{if(!eg(e)&&i(h))for(const C of c){const A=C.attr("src");xe(A)&&!C.attr("data-mce-object")&&A!==Mo.transparentSrc&&(t(A)||!F8(e)&&o(A))&&C.remove()}})},Rse=(e,t,o)=>{Ose(e,t,o),Dse(e)},Ise=(e,t)=>{t.get()==="text"?(t.set("html"),b_(e,!1)):(t.set("text"),b_(e,!0)),e.focus()},Nse=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Ise(e,t)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&dB(e,i.html,i.internal,!1),i.text&&uH(e,i.text,!1)})},Pse=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(uB(),t),!0}catch{return!1}else return!1},XZ=(e,t,o,i)=>{Pse(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):o(t.html,i)},JZ=e=>(t,o)=>{const{dom:i,selection:c}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},t);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(h),i.add(e.getBody(),m);const C=c.getRng();h.focus();const A=i.createRng();A.selectNodeContents(h),c.setRng(A),Wc.setEditorTimeout(e,()=>{c.setRng(C),i.remove(m),o()},0)},QZ=e=>({html:Goe(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Mse=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),ej=e=>!e.selection.isCollapsed()||Mse(e),Bse=e=>t=>{!t.isDefaultPrevented()&&ej(e)&&e.selection.isEditable()&&XZ(t,QZ(e),JZ(e),()=>{if(Mo.browser.isChromium()||Mo.browser.isFirefox()){const o=e.selection.getRng();Wc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Lse=e=>t=>{!t.isDefaultPrevented()&&ej(e)&&XZ(t,QZ(e),JZ(e),ct)},Fse=e=>{e.on("cut",Bse(e)),e.on("copy",Lse(e))},tj=(e,t)=>{var o,i;return Bp.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(i=t.clientY)!==null&&i!==void 0?i:0,e.getDoc())},Vse=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},nj=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},zse=e=>be(e.files,t=>/^image\//.test(t.type)),Hse=(e,t,o,i)=>{const c=e.getParent(o,h=>Of(t,h));if(!Ue(e.getParent(o,"summary")))return!0;if(c&&ao(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ue(h.querySelector(c.nodeName.toLowerCase()))}else return!1},$se=e=>{e.on("input",t=>{const o=i=>Ue(i.querySelector("summary"));if(t.inputType==="deleteByDrag"){const i=vt(e.dom.select("details"),o);he(i,c=>{pr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild($d().dom),c.prepend(m)})}})},Use=(e,t)=>{jf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),eg(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&zse(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=tj(e,o);if(st(i))return;const c=GZ(o.dataTransfer),m=Ey(c,uB());if((!qZ(c)||Vse(c))&&YZ(e,o,i))return;const h=c[uB()],C=h||c["text/html"]||c["text/plain"],A=Hse(e.dom,e.schema,i.startContainer,c),V=t.get();V&&!A||C&&(o.preventDefault(),Wc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||V&&A)&&e.execCommand("Delete"),nj(e,i);const Z=ZZ(C);c["text/html"]?dB(e,Z,m,!0):uH(e,Z,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{eg(e)&&!t.get()&&(o.preventDefault(),nj(e,tj(e,o))),o.type==="dragend"&&t.set(!1)}),$se(e)},Wse=e=>{const t=c=>m=>{c(e,m)},o=B8(e);Le(o)&&e.on("PastePreProcess",t(o));const i=e2(e);Le(i)&&e.on("PastePostProcess",t(i))},Zse=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},jse=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,oj=e=>Xt.trim(e).replace(jse,qv).toLowerCase(),Kse=(e,t,o)=>{const i=o5(e);if(o||i==="all"||!ME(e))return t;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const m=e.dom,h=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,V,Z)=>{const q=m.parseStyle(m.decode(V)),Q={};for(let Se=0;Se<c.length;Se++){const pe=q[c[Se]];let Oe=pe,He=m.getStyle(h,c[Se],!0);/color/.test(c[Se])&&(Oe=oj(Oe),He=oj(He)),He!==Oe&&(Q[c[Se]]=pe)}const ge=m.serializeStyle(Q,"span");return ge?A+' style="'+ge+'"'+Z:A+Z})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,h,C,A)=>h+' style="'+C+'"'+A),t},Gse=e=>{(Mo.browser.isChromium()||Mo.browser.isSafari())&&Zse(e,Kse)},qse=e=>{const t=Ri(!1),o=Ri(Sb(e)?"text":"html"),i=ose(e);Gse(e),Nse(e,o),Wse(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Fse(e),Use(e,t),Rse(e,i,o)})},Yse=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Xse=e=>{e.parser.addNodeFilter("details",t=>{const o=jC(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=d5(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},Jse=e=>{Yse(e),Xse(e)},Qse=pr,sj=Ut,ere=e=>fo(e.dom),tre=e=>Rc(e.dom),rj=e=>t=>Yo(Fe.fromDom(e),t),nre=(e,t,o)=>gi(Fe.fromDom(e),i=>tre(i)||o.isBlock(qo(i)),rj(t)).getOr(Fe.fromDom(t)).dom,ij=(e,t)=>gi(Fe.fromDom(e),ere,rj(t)),aj=(e,t,o)=>{const i=new ca(e,t),c=o?i.next.bind(i):i.prev.bind(i);let m=e;for(let h=o?e:c();h&&!Qse(h);h=c())mu(h)&&(m=h);return m},ore=(e,t,o)=>{const c=xt.fromRangeStart(e).getNode(),m=nre(c,t,o),h=aj(c,m,!1),C=aj(c,m,!0),A=document.createRange();return ij(h,m).fold(()=>{sj(h)?A.setStart(h,0):A.setStartBefore(h)},V=>A.setStartBefore(V.dom)),ij(C,m).fold(()=>{sj(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},V=>A.setEndAfter(V.dom)),A},sre=e=>{const t=ore(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(aS(t))},rre=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),sre(e))})};var hk;(function(e){e.Before="before",e.After="after"})(hk||(hk={}));const ire=(e,t)=>Math.abs(e.left-t),are=(e,t)=>Math.abs(e.right-t),lre=(e,t)=>e>=t.top&&e<=t.bottom,cre=(e,t)=>e.top<t.bottom&&e.bottom>t.top,ure=(e,t)=>{const o=Vx(e,t)/Math.min(e.height,t.height);return cre(e,t)&&o>.5},dre=(e,t)=>{const o=vt(e,i=>lre(t,i));return xp(o).fold(()=>[[],e],i=>{const{pass:c,fail:m}=zt(e,h=>ure(h,i));return[c,m]})},fre=(e,t)=>({node:e.node,position:ire(e,t)<are(e,t)?hk.Before:hk.After}),mre=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),fH=(e,t,o,i)=>{const c=q=>mu(q.node)?J.some(q):En(q.node)?fH(vo(q.node.childNodes),t,o,!1):J.none(),m=(q,Q,ge)=>c(Q).filter(Se=>Math.abs(ge(q,t,o)-ge(Se,t,o))<2&&Ut(Se.node)),h=(q,Q)=>{const ge=fs(q,(Se,pe)=>Q(Se,t,o)-Q(pe,t,o));return or(ge,c).map(Se=>i&&!Ut(Se.node)&&ge.length>1?m(Se,ge[1],Q).getOr(Se):Se)},[C,A]=dre(CM(e),o),{pass:V,fail:Z}=zt(A,q=>q.top<o);return h(C,mre).orThunk(()=>h(Z,w0)).orThunk(()=>h(V,w0))},gre=(e,t,o,i)=>{const c=(m,h)=>{const C=V=>En(V)&&V.classList.contains("mce-drag-container"),A=vt(m.dom.childNodes,Ye(C));return h.fold(()=>fH(A,o,i,!0),V=>{const Z=vt(A,q=>q!==V.dom);return fH(Z,o,i,!0)}).orThunk(()=>(Yo(m,e)?J.none():yf(m)).bind(Z=>c(Z,J.some(m))))};return c(t,J.none())},hre=(e,t,o)=>{const i=Fe.fromDom(e),c=tc(i),h=Fe.fromPoint(c,t,o).filter(C=>ia(i,C)).getOr(i);return gre(i,h,t,o)},lj=(e,t,o)=>hre(e,t,o).filter(i=>s2(i.node)).map(i=>fre(i,t)),cj=e=>{var t,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,h=c.defaultView;return{top:i.top+((t=h==null?void 0:h.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},pre=e=>e.inline?cj(e.getBody()):{left:0,top:0},vre=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},bre=e=>{const t=e.getBody(),o=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?i:c},yre=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=cj(e.getContentAreaContainer()),i=bre(e);return{left:t.pageX-o.left+i.left,top:t.pageY-o.top+i.top}}return{left:t.pageX,top:t.pageY}},xre=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),wre=(e,t)=>xre(pre(e),vre(e),yre(e,t)),uj=e=>({target:e,srcElement:e}),Cre=(e,t,o,i)=>({...t,dataTransfer:i,type:e,...uj(o)}),_re=(e,t,o)=>{const i=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:ct,stopImmediatePropagation:ct,stopPropagation:ct,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...uj(t)}},Sre=(e,t)=>{const o=joe(e);return t==="dragstart"?(PZ(o),BZ(o)):t==="drop"?(Loe(o),sH(o)):(Foe(o),$oe(o)),o},kre=(e,t,o,i)=>{const c=Sre(o,e);return qe(i)?_re(e,t,c):Cre(e,i,t,c)},fB=32,Ere=100,mB=8,gB=16,dj=fo,Are=$x(dj,Rc),Tre=(e,t,o)=>dj(o)&&o!==t&&e.isEditable(o.parentElement),Ore=(e,t,o)=>st(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Dre=(e,t,o,i)=>{const c=e.dom,m=t.cloneNode(!0);c.setStyles(m,{width:o,height:i}),c.setAttrib(m,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),h.appendChild(m),h},Rre=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},hB=(e,t)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+t,behavior:"smooth"})},fj=hB("left",-fB),mj=hB("left",fB),gj=hB("top",-fB),hj=hB("top",fB),Ire=(e,t,o,i,c,m,h,C,A,V,Z,q)=>{let Q=0,ge=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(Q=t.pageX+o-c),t.pageY+i>m&&(ge=t.pageY+i-m),e.style.width=o-Q+"px",e.style.height=i-ge+"px";const Se=A.clientHeight,pe=A.clientWidth,Oe=h+A.getBoundingClientRect().top,He=C+A.getBoundingClientRect().left;Z.on(Qe=>{Qe.intervalId.clear(),Qe.dragging&&q&&(h+mB>=Se?Qe.intervalId.set(hj(V)):h-mB<=0?Qe.intervalId.set(gj(V)):C+mB>=pe?Qe.intervalId.set(mj(V)):C-mB<=0?Qe.intervalId.set(fj(V)):Oe+gB>=window.innerHeight?Qe.intervalId.set(hj(window)):Oe-gB<=0?Qe.intervalId.set(gj(window)):He+gB>=window.innerWidth?Qe.intervalId.set(mj(window)):He-gB<=0&&Qe.intervalId.set(fj(window)))})},pj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Nre=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);pj(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Fc(Fe.fromDom(o))},Pre=e=>e.button===0,Mre=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Bre=(e,t)=>o=>{if(Pre(o)){const i=cn(t.dom.getParents(o.target),Are).getOr(null);if(ke(i)&&Tre(t.dom,t.getBody(),i)){const c=t.dom.getPos(i),m=t.getBody(),h=t.getDoc().documentElement;e.set({element:i,dataTransfer:rH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:h.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Dre(t,i,i.offsetWidth,i.offsetHeight),intervalId:Ic(Ere)})}}},Lre=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),lj(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===hk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},_O=(e,t,o,i,c)=>{t==="dragstart"&&VZ(i,e.dom.getOuterHTML(o));const m=kre(t,o,i,c);return e.dispatch(t,m)},Fre=(e,t)=>{const o=rh((c,m)=>Lre(t,c,m),0);t.on("remove",o.cancel);const i=e;return c=>e.on(m=>{const h=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&h>10){const C=_O(t,"dragstart",m.element,m.dataTransfer,c);if(ke(C.dataTransfer)&&(m.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const C=c.currentTarget===t.getDoc().documentElement,A=Mre(m,wre(t,c));Rre(m.ghost,t.getBody()),Ire(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),i,C),o.throttle(c.clientX,c.clientY)}})},Vre=e=>{const t=e.getSel();if(ke(t)){const i=t.getRangeAt(0).startContainer;return Ut(i)?i.parentNode:i}else return null},zre=(e,t)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Ore(t,Vre(t.selection),i.element)){const m=(c=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:t.getBody();_O(t,"drop",m,i.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Nre(t.dom,i.element),Koe(i.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}_O(t,"dragend",t.getBody(),i.dataTransfer,o)}}),bj(e)},vj=(e,t,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>_O(t,"dragend",i.element,i.dataTransfer),c=>_O(t,"dragend",i.element,i.dataTransfer,c))}),bj(e)},Hre=(e,t)=>o=>vj(e,t,J.some(o)),bj=e=>{e.on(t=>{t.intervalId.clear(),pj(t.ghost)}),e.clear()},$re=e=>{const t=Ii(),o=Gs.DOM,i=document,c=Bre(t,e),m=Fre(t,e),h=zre(t,e),C=Hre(t,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",h),o.bind(i,"mousemove",m),o.bind(i,"mouseup",C),e.on("remove",()=>{o.unbind(i,"mousemove",m),o.unbind(i,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===dn.ESC&&vj(t,e,J.none())})},Ure=e=>{const t=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(ae(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&qS(e,"Dropped file type is not supported"))}},o=c=>{D_(e,c.target)&&t(c)},i=()=>{const c=Gs.DOM,m=e.dom,h=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];he(A,V=>{c.bind(h,V,o),m.bind(C,V,t)}),e.on("remove",()=>{he(A,V=>{c.unbind(h,V,o),m.unbind(C,V,t)})})};e.on("init",()=>{Wc.setEditorTimeout(e,i,0)})},Wre=e=>{$re(e),WC(e)&&Ure(e)},Zre=e=>{const t=rh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=QS(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},jre=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(St(o)){const i=ld(e.getBody(),o),c=fo(i)?i:o;e.selection.getNode()!==c&&kw(e,c).each(m=>e.selection.setRng(m))}})})},SO=fo,yj=(e,t)=>ld(e.getBody(),t),Kre=e=>{const t=e.selection,o=e.dom,i=e.getBody(),c=y5(e,i,o.isBlock,()=>j0(e)),m="sel-"+o.uniqueId(),h="data-mce-selected";let C;const A=pn=>ke(pn)&&o.hasClass(pn,"mce-offscreen-selection"),V=pn=>pn!==i&&(SO(pn)||St(pn))&&o.isChildOf(pn,i)&&o.isEditable(pn.parentNode),Z=pn=>{pn&&t.setRng(pn)},q=(pn,kt,bt,Nt=!0)=>e.dispatch("ShowCaret",{target:kt,direction:pn,before:bt}).isDefaultPrevented()?null:(Nt&&t.scrollIntoView(kt,pn===-1),c.show(bt,kt)),Q=pn=>{pn.hasAttribute("data-mce-caret")&&(ch(pn),t.scrollIntoView(pn))},ge=()=>{e.on("click",kt=>{o.isEditable(kt.target)||(kt.preventDefault(),e.focus())}),e.on("blur NewBlock",dt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",kt=>{const bt=kt.target,Nt=yj(e,bt);SO(Nt)?(kt.preventDefault(),kw(e,Nt).each(Xe)):V(bt)&&kw(e,bt).each(Xe)},!0),e.on("mousedown",kt=>{const bt=kt.target;if(bt!==i&&bt.nodeName!=="HTML"&&!o.isChildOf(bt,i)||!bz(e,kt.clientX,kt.clientY))return;dt(),Yt();const Nt=yj(e,bt);SO(Nt)?(kt.preventDefault(),kw(e,Nt).each(Xe)):lj(i,kt.clientX,kt.clientY).each(Cn=>{kt.preventDefault();const Vn=q(1,Cn.node,Cn.position===hk.Before,!1);Z(Vn),au(Nt)?Nt.focus():e.getBody().focus()})}),e.on("keypress",kt=>{dn.modifierPressed(kt)||SO(t.getNode())&&kt.preventDefault()}),e.on("GetSelectionRange",kt=>{let bt=kt.range;if(C){if(!C.parentNode){C=null;return}bt=bt.cloneRange(),bt.selectNode(C),kt.range=bt}}),e.on("SetSelectionRange",kt=>{kt.range=Oe(kt.range);const bt=Xe(kt.range,kt.forward);bt&&(kt.range=bt)});const pn=kt=>En(kt)&&kt.id==="mcepastebin";e.on("AfterSetSelectionRange",kt=>{const bt=kt.range,Nt=bt.startContainer.parentElement;!pe(bt)&&!pn(Nt)&&Yt(),A(Nt)||dt()}),Wre(e),Zre(e),jre(e)},Se=pn=>Kl(pn)||db(pn)||Wd(pn),pe=pn=>Se(pn.startContainer)||Se(pn.endContainer),Oe=pn=>{const kt=e.schema.getVoidElements(),bt=o.createRng(),Nt=pn.startContainer,Cn=pn.startOffset,Vn=pn.endContainer,Io=pn.endOffset;return ao(kt,Nt.nodeName.toLowerCase())?Cn===0?bt.setStartBefore(Nt):bt.setStartAfter(Nt):bt.setStart(Nt,Cn),ao(kt,Vn.nodeName.toLowerCase())?Io===0?bt.setEndBefore(Vn):bt.setEndAfter(Vn):bt.setEnd(Vn,Io),bt},He=(pn,kt)=>{const bt=Fe.fromDom(e.getBody()),Nt=e.getDoc(),Cn=Ot(bt,"#"+m).getOrThunk(()=>{const Vo=Fe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nt);return yi(Vo,"id",m),Wr(bt,Vo),Vo}),Vn=o.createRng();Qs(Cn),ei(Cn,[Fe.fromText(Di,Nt),Fe.fromDom(kt),Fe.fromText(Di,Nt)]),Vn.setStart(Cn.dom.firstChild,1),Vn.setEnd(Cn.dom.lastChild,0),jo(Cn,{top:o.getPos(pn,e.getBody()).y+"px"}),TA(Cn);const Io=t.getSel();return Io&&(Io.removeAllRanges(),Io.addRange(Vn)),Vn},Qe=pn=>{const kt=pn.cloneNode(!0),bt=e.dispatch("ObjectSelected",{target:pn,targetClone:kt});if(bt.isDefaultPrevented())return null;const Nt=He(pn,bt.targetClone),Cn=Fe.fromDom(pn);return he(hi(Fe.fromDom(e.getBody()),`*[${h}]`),Vn=>{Yo(Cn,Vn)||Do(Vn,h)}),o.getAttrib(pn,h)||pn.setAttribute(h,"1"),C=pn,Yt(),Nt},Xe=(pn,kt)=>{if(!pn)return null;if(pn.collapsed){if(!pe(pn)){const Vn=kt?1:-1,Io=l2(Vn,i,pn),Vo=Io.getNode(!kt);if(ke(Vo)){if(s2(Vo))return q(Vn,Vo,kt?!Io.isAtEnd():!1,!1);if(Gm(Vo)&&fo(Vo.nextSibling)){const Us=o.createRng();return Us.setStart(Vo,0),Us.setEnd(Vo,0),Us}}const Rs=Io.getNode(kt);if(ke(Rs)){if(s2(Rs))return q(Vn,Rs,kt?!1:!Io.isAtEnd(),!1);if(Gm(Rs)&&fo(Rs.previousSibling)){const Us=o.createRng();return Us.setStart(Rs,1),Us.setEnd(Rs,1),Us}}}return null}let bt=pn.startContainer,Nt=pn.startOffset;const Cn=pn.endOffset;if(Ut(bt)&&Nt===0&&SO(bt.parentNode)&&(bt=bt.parentNode,Nt=o.nodeIndex(bt),bt=bt.parentNode),!En(bt))return null;if(Cn===Nt+1&&bt===pn.endContainer){const Vn=bt.childNodes[Nt];if(V(Vn))return Qe(Vn)}return null},dt=()=>{C&&C.removeAttribute(h),Ot(Fe.fromDom(e.getBody()),"#"+m).each(Ds),C=null},Bt=()=>{c.destroy(),C=null},Yt=()=>{c.hide()};return vg(e)||ge(),{showCaret:q,showBlockCaretContainer:Q,hideFakeCaret:Yt,destroy:Bt}},Gre=(e,t)=>{let o=t;for(let i=e.previousSibling;Ut(i);i=i.previousSibling)o+=i.data.length;return o},xj=(e,t,o,i,c)=>{if(Ut(o)&&(i<0||i>o.data.length))return[];const m=c&&Ut(o)?[Gre(o,i)]:[i];let h=o;for(;h!==t&&h.parentNode;)m.push(e.nodeIndex(h,c)),h=h.parentNode;return h===t?m.reverse():[]},mH=(e,t,o,i,c,m,h=!1)=>{const C=xj(e,t,o,i,h),A=xj(e,t,c,m,h);return{start:C,end:A}},wj=(e,t)=>{const o=t.slice(),i=o.pop();return O(i)?Vt(o,(m,h)=>m.bind(C=>J.from(C.childNodes[h])),J.some(e)).bind(m=>Ut(m)&&(i<0||i>m.data.length)?J.none():J.some({node:m,offset:i})):J.none()},Cj=(e,t)=>wj(e,t.start).bind(({node:o,offset:i})=>wj(e,t.end).map(({node:c,offset:m})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,m),h})),qre=(e,t,o,i=!1)=>mH(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),pk=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const i=t.parentNode;e.remove(t,Ut(t.firstChild)&&oc(t.firstChild.data)),pk(e,i,o)}},pB=(e,t,o,i=!0)=>{const c=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),i&&!o(t.startContainer)&&(Ut(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ut(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),pk(e,c,o),c!==m&&pk(e,m,o))},vB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),gH=(e,t,o)=>{const i=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Oa(i).concat(e.blockPatterns),inlinePatterns:Qu(i).concat(e.inlinePatterns)}},hH=(e,t,o,i)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,i),c.toString()},_j=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),bB=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},Sj=(e,t,o)=>{const i=Cj(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,m=i.endContainer,h=i.endOffset===0?m:m.splitText(i.endOffset),C=i.startOffset===0?c:c.splitText(i.startOffset),A=C.parentNode,V=h.parentNode;return{prefix:t,end:V.insertBefore(_j(e,t+"-end"),h),start:A.insertBefore(_j(e,t+"-start"),C)}},kj=(e,t,o)=>{pk(e,e.get(t.prefix+"-end"),o),pk(e,e.get(t.prefix+"-start"),o)},pH=e=>e.start.length===0,Yre=e=>(t,o)=>{const c=t.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:m!==-1?m+1:-1},Ej=(e,t,o,i)=>{const c=t.start;return F9(e,i.container,i.offset,Yre(c),o).bind(h=>{var C,A;const V=(A=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(c))!==null&&A!==void 0?A:-1;if(V!==-1&&h.offset>=V+c.length){const q=e.createRng();return q.setStart(h.container,h.offset-c.length),q.setEnd(h.container,h.offset),J.some(q)}else{const q=h.offset-c.length;return L9(h.container,q,o).map(Q=>{const ge=e.createRng();return ge.setStart(Q.container,Q.offset),ge.setEnd(h.container,h.offset),ge}).filter(Q=>Q.toString()===c).orThunk(()=>Ej(e,t,o,Mh(h.container,0)))}})},Xre=(e,t,o,i,c,m=!1)=>{if(t.start.length===0&&!m){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),J.some(h)}return B9(o,i,c).bind(h=>Ej(e,t,c,h).bind(A=>{var V;if(m){if(A.endContainer===h.container&&A.endOffset===h.offset)return J.none();if(h.offset===0&&((V=A.endContainer.textContent)===null||V===void 0?void 0:V.length)===A.endOffset)return J.none()}return J.some(A)}))},Jre=(e,t,o,i)=>{const c=e.dom,m=c.getRoot(),h=o.pattern,C=o.position.container,A=o.position.offset;return L9(C,A-o.pattern.end.length,t).bind(V=>{const Z=mH(c,m,V.container,V.offset,C,A,i);if(pH(h))return J.some({matches:[{pattern:h,startRng:Z,endRng:Z}],position:V});{const q=yB(e,o.remainingPatterns,V.container,V.offset,t,i),Q=q.getOr({matches:[],position:V}),ge=Q.position;return Xre(c,h,ge.container,ge.offset,t,q.isNone()).map(pe=>{const Oe=qre(c,m,pe,i);return{matches:Q.matches.concat([{pattern:h,startRng:Oe,endRng:Z}]),position:Mh(pe.startContainer,pe.startOffset)}})}})},yB=(e,t,o,i,c,m)=>{const h=e.dom;return B9(o,i,h.getRoot()).bind(C=>{const A=hH(h,c,o,i);for(let V=0;V<t.length;V++){const Z=t[V];if(!Te(A,Z.end))continue;const q=t.slice();q.splice(V,1);const Q=Jre(e,c,{pattern:Z,remainingPatterns:q,position:C},m);if(Q.isNone()&&i>0)return yB(e,t,o,i-1,c,m);if(Q.isSome())return Q}return J.none()})},Aj=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?he(t.format,i=>{e.formatter.apply(i)}):e.execCommand(t.cmd,!1,t.value)},Qre=(e,t,o,i)=>{const c=bB(e.dom,o);pB(e.dom,c,i),Aj(e,t,c)},eie=(e,t,o,i,c)=>{const m=e.dom,h=bB(m,i),C=bB(m,o);pB(m,C,c),pB(m,h,c);const A={prefix:o.prefix,start:o.end,end:i.start},V=bB(m,A);Aj(e,t,V)},tie=(e,t)=>{const o=za("mce_textpattern"),i=Ft(t,(c,m)=>{const h=Sj(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:h}])},[]);return Ft(i,(c,m)=>{const h=i.length-c.length-1,C=pH(m.pattern)?m.endMarker:Sj(e,o+`_start${h}`,m.startRng);return c.concat([{...m,startMarker:C}])},[])},nie=e=>fs(e,(t,o)=>o.end.length-t.end.length),oie=(e,t)=>{const o=Oo(e,i=>be(t,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},Tj=(e,t,o,i,c,m)=>{const h=yB(e,c.inlinePatterns,o,i,t,m).fold(()=>[],A=>A.matches),C=yB(e,nie(c.inlinePatterns),o,i,t,m).fold(()=>[],A=>A.matches);return oie(h,C)},Oj=(e,t)=>{if(t.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=tie(o,t);he(c,m=>{const h=o.getParent(m.startMarker.start,o.isBlock),C=A=>A===h;pH(m.pattern)?Qre(e,m.pattern,m.endMarker,C):eie(e,m.pattern,m.startMarker,m.endMarker,C),kj(o,m.endMarker,C),kj(o,m.startMarker,C)}),e.selection.moveToBookmark(i)},Dj=(e,t,o)=>jee(t,0,t).map(i=>{const c=i.container;return IW(c,o.start.length,t).each(m=>{const h=e.createRng();h.setStart(c,0),h.setEnd(m.container,m.offset),pB(e,h,C=>C===t)}),c}),Rj=e=>(t,o)=>{const i=t.dom,c=o.pattern,m=Cj(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(C,A)=>{const V=A.get(C);return le(V)&&hn(V).exists(Z=>ao(Z,"block"))};return vB(t,m).each(C=>{c.type==="block-format"?h(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,c),t.execCommand(c.cmd,!1,c.value)})}),!0},sie=e=>fs(e,(t,o)=>o.start.length-t.start.length),Ij=e=>(t,o)=>{const i=sie(t),c=o.replace(Di," ");return cn(i,m=>e(m,o,c))},Nj=(e,t)=>(o,i,c,m,h)=>{var C;h===void 0&&(h=(C=i.textContent)!==null&&C!==void 0?C:"");const A=o.dom,V=rl(o);return A.is(i,V)?e(c.blockPatterns,h).map(Z=>t&&Xt.trim(h).length===Z.start.length?[]:[{pattern:Z,range:mH(A,A.getRoot(),i,0,i,0,m)}]).getOr([]):[]},rie=e=>/^\s[^\s]/.test(e),iie=Rj((e,t,o)=>{Dj(e,t,o).each(i=>{const c=Fe.fromDom(i),m=jm(c);rie(m)&&sb(c,m.slice(1))})}),aie=Ij((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),lie=Nj(aie,!0),cie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{var c;const m=Math.max(0,o.startOffset),h=gH(t,i,(c=i.textContent)!==null&&c!==void 0?c:""),C=Tj(e,i,o.startContainer,m,h,!0),A=lie(e,i,h,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},uie=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();he(t,i=>iie(e,i)),e.selection.moveToBookmark(o)},die=Rj(Dj),fie=Ij((e,t,o)=>t===e.start||o===e.start),mie=Nj(fie,!1),gie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{const c=Math.max(0,o.startOffset),m=hH(e.dom,i,o.startContainer,c),h=gH(t,i,m);return mie(e,i,h,!1,m)}).filter(i=>i.length>0)},hie=(e,t)=>{he(t,o=>die(e,o))},pie=(e,t)=>cie(e,t).fold(fn,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{bE(e),Oj(e,o),uie(e,i);const c=e.selection.getRng(),m=B9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(h=>{const C=h.container;C.data.charAt(h.offset-1)===Rr&&(C.deleteData(h.offset-1,1),pk(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),vie=(e,t)=>{const o=e.selection.getRng();vB(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),m=hH(e.dom,i,o.startContainer,c),h=gH(t,i,m),C=Tj(e,i,o.startContainer,c,h,!1);C.length>0&&e.undoManager.transact(()=>{Oj(e,C)})})},bie=(e,t)=>gie(e,t).fold(fn,o=>(e.undoManager.transact(()=>{hie(e,o)}),!0)),Pj=(e,t,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1},yie=(e,t)=>Pj(e,t,(o,i)=>o===i.keyCode&&!dn.modifierPressed(i)),xie=(e,t)=>Pj(e,t,(o,i)=>o.charCodeAt(0)===i.charCode),wie=e=>{const t=[",",".",";",":","!","?"],o=[32],i=()=>Sp(V8(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),t2(e)),c=()=>BE(e);e.on("keydown",h=>{if(h.keyCode===13&&!dn.modifierPressed(h)&&e.selection.isCollapsed()){const C=Wf(i(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||c())&&pie(e,C)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()){const C=Wf(i(),"space");(C.blockPatterns.length>0||c())&&bie(e,C)&&h.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const h=Wf(i(),"space");(h.inlinePatterns.length>0||c())&&vie(e,h)}};e.on("keyup",h=>{yie(o,h)&&m()}),e.on("keypress",h=>{xie(t,h)&&Wc.setEditorTimeout(e,m)})},Cie=e=>{wie(e)},_ie=e=>{const t=Xt.each,o=dn.BACKSPACE,i=dn.DELETE,c=e.dom,m=e.selection,h=e.parser,C=Mo.browser,A=C.isFirefox(),V=C.isChromium()||C.isSafari(),Z=Mo.deviceType.isiPhone()||Mo.deviceType.isiPad(),q=Mo.os.isMacOS()||Mo.os.isiOS(),Q=(ln,Gn)=>{try{e.getDoc().execCommand(ln,!1,String(Gn))}catch{}},ge=ln=>ln.isDefaultPrevented(),Se=()=>{const ln=Fo=>{const gn=c.create("body"),No=Fo.cloneContents();return gn.appendChild(No),m.serializer.serialize(gn,{format:"html"})},Gn=Fo=>{const gn=ln(Fo),No=c.createRng();No.selectNode(e.getBody());const $o=ln(No);return gn===$o};e.on("keydown",Fo=>{const gn=Fo.keyCode;if(!ge(Fo)&&(gn===i||gn===o)&&e.selection.isEditable()){const No=e.selection.isCollapsed(),$o=e.getBody();if(No&&!sc(e.schema,$o)||!No&&!Gn(e.selection.getRng()))return;Fo.preventDefault(),e.setContent(""),$o.firstChild&&c.isBlock($o.firstChild)?e.selection.setCursorLocation($o.firstChild,0):e.selection.setCursorLocation($o,0),e.nodeChanged()}})},pe=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Oe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",ln=>{let Gn;if(ln.target===e.getDoc().documentElement)if(Gn=m.getRng(),e.getBody().focus(),ln.type==="mousedown"){if(Kl(Gn.startContainer))return;m.placeCaretAt(ln.clientX,ln.clientY)}else m.setRng(Gn)})},He=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Gn=m.getNode(),Fo=Gn.previousSibling;if(Gn.nodeName==="HR"){c.remove(Gn),ln.preventDefault();return}Fo&&Fo.nodeName&&Fo.nodeName.toLowerCase()==="hr"&&(c.remove(Fo),ln.preventDefault())}}})},Qe=()=>{Range.prototype.getClientRects||e.on("mousedown",ln=>{if(!ge(ln)&&ln.target.nodeName==="HTML"){const Gn=e.getBody();Gn.blur(),Wc.setEditorTimeout(e,()=>{Gn.focus()})}})},Xe=()=>{const ln=P0(e);e.on("click",Gn=>{const Fo=Gn.target;/^(IMG|HR)$/.test(Fo.nodeName)&&c.isEditable(Fo)&&(Gn.preventDefault(),e.selection.select(Fo),e.nodeChanged()),Fo.nodeName==="A"&&c.hasClass(Fo,ln)&&Fo.childNodes.length===0&&c.isEditable(Fo.parentNode)&&(Gn.preventDefault(),m.select(Fo))})},dt=()=>{const ln=()=>{const Fo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const gn=m.getStart();gn!==e.getBody()&&(c.setAttrib(gn,"style",null),t(Fo,No=>{gn.setAttributeNode(No.cloneNode(!0))}))}},Gn=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Fo=>{let gn;return!ge(Fo)&&(Fo.keyCode===8||Fo.keyCode===46)&&Gn()?(gn=ln(),e.getDoc().execCommand("delete",!1),gn(),Fo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Fo=>{if(!ge(Fo)&&Gn()){const gn=ln();Wc.setEditorTimeout(e,()=>{gn()})}})},Bt=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Gn=m.getNode().previousSibling;if(Gn&&Gn.nodeName&&Gn.nodeName.toLowerCase()==="table")return ln.preventDefault(),!1}return!0})},Yt=()=>{e.on("keydown",ln=>{if(ge(ln)||ln.keyCode!==dn.BACKSPACE)return;let Gn=m.getRng();const Fo=Gn.startContainer,gn=Gn.startOffset,No=c.getRoot();let $o=Fo;if(!(!Gn.collapsed||gn!==0)){for(;$o.parentNode&&$o.parentNode.firstChild===$o&&$o.parentNode!==No;)$o=$o.parentNode;$o.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,$o),Gn=c.createRng(),Gn.setStart(Fo,0),Gn.setEnd(Fo,0),m.setRng(Gn))}})},pn=()=>{const ln=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),KD(e)||Q("enableObjectResizing",!1)};t5(e)||e.on("BeforeExecCommand mousedown",ln)},kt=()=>{const ln=()=>{t(c.select("a:not([data-mce-block])"),Gn=>{var Fo;let gn=Gn.parentNode;const No=c.getRoot();if((gn==null?void 0:gn.lastChild)===Gn){for(;gn&&!c.isBlock(gn);){if(((Fo=gn.parentNode)===null||Fo===void 0?void 0:Fo.lastChild)!==gn||gn===No)return;gn=gn.parentNode}c.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Gn=>{(Gn.type==="setcontent"||Gn.command==="mceInsertLink")&&ln()})},bt=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",rl(e))})},Nt=ln=>{const Gn=ln.getBody(),Fo=ln.selection.getRng();return Fo.startContainer===Fo.endContainer&&Fo.startContainer===Gn&&Fo.startOffset===0&&Fo.endOffset===Gn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",ln=>{!dn.modifierPressed(ln)&&!Nt(e)&&m.normalize()},!0)},Vn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Io=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Vo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ln=>{let Gn;ln.target.nodeName==="HTML"&&(Gn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Gn),e.selection.normalize(),e.nodeChanged())}))},Rs=()=>{q&&e.on("keydown",ln=>{dn.metaKeyPressed(ln)&&!ln.shiftKey&&(ln.keyCode===37||ln.keyCode===39)&&(ln.preventDefault(),e.selection.getSel().modify("move",ln.keyCode===37?"backward":"forward","lineboundary"))})},Us=()=>{e.on("click",ln=>{let Gn=ln.target;do if(Gn.tagName==="A"){ln.preventDefault();return}while(Gn=Gn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ci=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ln=>{ln.preventDefault()})})},kl=()=>{h.addNodeFilter("br",ln=>{let Gn=ln.length;for(;Gn--;)ln[Gn].attr("class")==="Apple-interchange-newline"&&ln[Gn].remove()})},Ys=ct,on=()=>{if(!A||e.removed)return!1;const ln=e.selection.getSel();return!ln||!ln.rangeCount||ln.rangeCount===0},Pn=()=>{V&&(Oe(),Xe(),ci(),pe(),Z&&(Io(),Vo(),Us())),A&&(Qe(),pn(),Vn(),Rs())},ys=()=>{Yt(),Se(),Mo.windowsPhone||Cn(),V&&(Oe(),Xe(),bt(),ci(),Bt(),kl(),Z?(Io(),Vo(),Us()):pe()),A&&(He(),Qe(),dt(),pn(),kt(),Vn(),Rs(),Bt())};return vg(e)?Pn():ys(),{refreshContentEditable:Ys,isHidden:on}},Sie=e=>e.toLowerCase()==="gpl",kie=e=>e.length>=64&&e.length<=255,Eie=e=>Sie(e)||kie(e)?"VALID":"INVALID",Aie=e=>{const t=m5(e);!xe(g5(e))&&(qe(t)||Eie(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},vH=Gs.DOM,Tie=(e,t)=>{const o=Fe.fromDom(e.getBody()),i=Om(ou(o)),c=Fe.fromTag("style");yi(c,"type","text/css"),Wr(c,Fe.fromText(t)),Wr(i,c),e.on("remove",()=>{Ds(c)})},Oie=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,bH=e=>Cc(e,t=>qe(t)===!1),Mj=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return bH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Oie(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:KC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Bj=e=>{const t=e.options.get;return bH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Die=e=>{const t=e.options.get;return{...Mj(e),...Bj(e),...bH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Rie=e=>{const t=cy(Mj(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,m="data-mce-"+i;let h=o.length;for(;h--;){const C=o[h];let A=C.attr(i);if(A&&!C.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),C.name),A.length||(A=null),C.attr(m,A),C.attr(i,A)):i==="tabindex"?(C.attr(m,A),C.attr(i,null)):C.attr(m,e.convertURL(A,i,C.name))}}}),t.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),H8(e)&&t.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((i=m.value)!==null&&i!==void 0?i:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const m=o[i];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Da("br",1))}}),t},Iie=e=>{const t=P8(e);t&&Wc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Nie=e=>{const t=e.dom.getRoot();!e.inline&&(!V0(e)||e.selection.getStart(!0)===t)&&Jn(t).each(o=>{const i=o.getNode(),c=lu(i)?Jn(i).getOr(o):o;e.selection.setRng(c.toRange())})},Pie=e=>{e.bindPendingEventDelegates(),e.initialized=!0,oi(e),e.focus(!0),Nie(e),e.nodeChanged({initial:!0});const t=I8(e);Le(t)&&t.call(e,e),Iie(e)},yH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Mie=(e,t,o)=>{const{pass:i,fail:c}=zt(t,C=>tinymce.Resource.has(ST(C))),h=[...i.map(C=>{const A=tinymce.Resource.get(ST(C));return xe(A)?Promise.resolve(yH(e).loadRawCss(C,A)):Promise.resolve()}),yH(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},Lj=e=>{const t=yH(e),o=jD(e),i=e.contentCSS,c=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";Xt.each(e.contentStyles,V=>{A+=V+`\r
`}),e.dom.addStyle(A)}const h=Promise.all(Mie(e,i,o)).then(m).catch(m),C=R0(e);return C&&Tie(e,C),h},Bie=e=>{const t=e.getDoc(),o=e.getBody();cF(e),M8(e)||(t.body.spellcheck=!1,vH.setAttrib(o,"spellcheck","false")),e.quirks=_ie(e),uF(e);const i=k8(e);i!==void 0&&(o.dir=i);const c=as(e);c&&e.on("BeforeSetContent",m=>{Xt.each(c,h=>{m.content=m.content.replace(h,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Lie=e=>{vg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},xH=e=>{e.removed!==!0&&(Lie(e),Pie(e))},Fie=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},Fj=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(vH.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=t5(e),e._editableRoot=Ss(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&vH.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=ET(e),e.schema=Mc(Bj(e)),e.dom=Gs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:WD(e),referrerPolicy:Xx(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=Rie(e),e.serializer=WP(Die(e),e),e.selection=dT(e.dom,e.getWin(),e.serializer,e),e.annotator=rR(e),e.formatter=Sw(e),e.undoManager=_6(e),e._nodeChangeDispatcher=new Ioe(e),e._selectionOverrides=Kre(e),So(e),Jse(e),Mw(e),vg(e)||(rre(e),Cie(e));const c=Roe(e);Hn(e,c),Bi(e),O6(e),qse(e);const m=EP(e);Bie(e),Aie(e),m.fold(()=>{const h=Fie(e);Lj(e).then(()=>{xH(e),h()})},h=>{e.setProgressState(!0),Lj(e).then(()=>{h().then(C=>{e.setProgressState(!1),xH(e),NP(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),xH(e),NP(e)})})})},Vie=_n,zie=(e,t,o)=>N(e,t,Vie,o),wH=Gs.DOM,Hie=(e,t,o,i)=>{const c=Fe.fromTag("iframe");return i.each(m=>yi(c,"tabindex",m)),Pa(c,o),Pa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Dd(c,"tox-edit-area__iframe"),c},$ie=e=>{let t=Zd(e)+"<html><head>";pu(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=UC(e),i=_E(e),c=e.translate(Qx(e));return FD(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+FD(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,t},Uie=(e,t)=>{const o=Mo.browser.isFirefox()?Qx(e):"Rich Text Area",i=e.translate(o),c=Qc(Fe.fromDom(e.getElement()),"tabindex").bind(un),m=Hie(e.id,i,wl(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=$ie(e),wH.add(t.iframeContainer,m)},Wie=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,Fj(e)};if(l5(e)||Mo.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=zie(Fe.fromDom(t),"load",()=>{i.unbind(),o()});t.srcdoc=e.iframeHTML}},Zie=(e,t)=>{Uie(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=wH.isHidden(t.editorContainer)),e.getElement().style.display="none",wH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Wie(e)},Vj=Gs.DOM,jie=(e,t,o)=>{const i=n1.get(o),c=n1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Xt.trim(o),i&&Xt.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=i(e,c)||{};e.plugins[o]=m,Le(m.init)&&(m.init(e,c),t.push(o))}catch(m){Cz(e,o,m)}}},Kie=e=>e.replace(/^\-/,""),Gie=e=>{const t=[];he(jd(e),o=>{jie(e,t,Kie(o))})},qie=e=>{const t=Xt.trim(TE(e)),o=e.ui.registry.getAll().icons,i={...yw.get("default").icons,...yw.get(t).icons};rs(i,(c,m)=>{ao(o,m)||e.ui.registry.addIcon(m,c)})},Yie=e=>{const t=I0(e);if(xe(t)){const o=tv.get(t);e.theme=o(e,tv.urls[t])||{},Le(e.theme.init)&&e.theme.init(e,tv.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Xie=e=>{const t=Jx(e),o=ev.get(t);e.model=o(e,ev.urls[t])},Jie=e=>{const t=e.theme.renderUI;return t?t():Hj(e)},Qie=e=>{const t=e.getElement(),i=I0(e)(e,t);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:t.offsetHeight,i},zj=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),eae=e=>{const t=Vj.create("div");return Vj.insertAfter(t,e),zj(t,t)},Hj=e=>{const t=e.getElement();return e.inline?zj(null):eae(t)},tae=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,xe(I0(e))?Jie(e):Le(I0(e))?Qie(e):Hj(e)},nae=(e,t)=>{const o={show:J.from(t.show).getOr(ct),hide:J.from(t.hide).getOr(ct),isEnabled:J.from(t.isEnabled).getOr(_n),setEnabled:i=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},oae=async e=>{e.dispatch("ScriptsLoaded"),qie(e),Yie(e),Xie(e),Gie(e);const t=await tae(e);nae(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,u6(e),e.inline?Fj(e):Zie(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},zw=Gs.DOM,$j=e=>e.charAt(0)==="-",sae=(e,t)=>{const o=RE(t),i=S8(t);if(!Bc.hasCode(o)&&o!=="en"){const c=Je(i)?i:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{xz(t,c,o)})}},rae=(e,t)=>{const o=I0(e);if(xe(o)&&!$j(o)&&!ao(tv.urls,o)){const i=A8(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${t}.js`;tv.load(o,c).catch(()=>{l6(e,c,o)})}},iae=(e,t)=>{const o=Jx(e);if(o!=="plugin"&&!ao(ev.urls,o)){const i=NE(e),c=xe(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${t}.js`;ev.load(o,c).catch(()=>{wz(e,c,o)})}},aae=e=>J.from($D(e)).filter(Je).map(t=>({url:t,name:J.none()})),Uj=(e,t,o)=>J.from(t).filter(i=>Je(i)&&!yw.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:J.some(i)})),lae=(e,t,o)=>{const i=Uj(t,"default",o),c=aae(t).orThunk(()=>Uj(t,TE(t),""));he(V1([i,c]),m=>{e.add(m.url).catch(()=>{CT(t,m.url,m.name.getOrUndefined())})})},cae=(e,t)=>{const o=(i,c)=>{n1.load(i,c).catch(()=>{wT(e,c,i)})};rs(Qm(e),(i,c)=>{o(c,i),e.options.set("plugins",jd(e).concat(c))}),he(jd(e),i=>{i=Xt.trim(i),i&&!n1.urls[i]&&!$j(i)&&o(i,`plugins/${i}/plugin${t}.js`)})},uae=e=>{const t=I0(e);return!xe(t)||ke(tv.get(t))},dae=e=>{const t=Jx(e);return ke(ev.get(t))},fae=(e,t)=>{const o=bl.ScriptLoader,i=()=>{!e.removed&&uae(e)&&dae(e)&&oae(e)};rae(e,t),iae(e,t),sae(o,e),lae(o,e,t),cae(e,t),o.loadQueue().then(i,i)},mae=(e,t)=>X1.forElement(e,{contentCssCors:n5(t),referrerPolicy:Xx(t)}),gae=e=>{const t=e.id;Bc.setCode(RE(e));const o=()=>{zw.unbind(window,"ready",o),e.render()};if(!If.Event.domLoaded){zw.bind(window,"ready",o);return}if(!e.getElement())return;const i=Fe.fromDom(e.getElement()),c=hl(i);e.on("remove",()=>{gt(i.dom.attributes,h=>Do(i,h.name)),Pa(i,c)}),e.ui.styleSheetLoader=mae(i,e),Cb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||zw.getParent(t,"form");m&&(e.formElement=m,PE(e)&&!ap(e.getElement())&&(zw.insertAfter(zw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},zw.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),XD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=i6(e),e.notificationManager=xT(e),c5(e)&&e.on("GetContent",h=>{h.save&&(h.content=zw.encode(h.content))}),JD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),QD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),fae(e,e.suffix)},hae=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),mF(e,t))},pae=e=>e._editableRoot,vae=(e,t)=>({sections:et(e),options:et(t)}),Wj=na().deviceType,Zj=Wj.isPhone(),bae=Wj.isTablet(),kO=e=>{if(st(e))return[];{const t=le(e)?e:e.split(/[ ,]/),o=Be(t,Ne);return vt(o,Je)}},yae=(e,t)=>{const o=Nu(t,(i,c)=>ae(e,c));return vae(o.t,o.f)},xae=(e,t,o={})=>{const i=e.sections(),c=Os(i,t).getOr({});return Xt.extend({},o,c)},CH=(e,t)=>ao(e.sections(),t),wae=(e,t)=>CH(e,t)?e.sections()[t]:{},Cae=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Os(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),_ae=(e,t)=>{var o;const i=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Xt.extend({},e.external_plugins,i):i},Sae=(e,t)=>[...kO(e),...kO(t)],kae=(e,t,o,i)=>e&&CH(t,"mobile")?i:o,Eae=(e,t,o,i)=>{const c=kO(o.forced_plugins),m=kO(i.plugins),h=wae(t,"mobile"),C=h.plugins?kO(h.plugins):m,A=kae(e,t,m,C),V=Sae(c,A);return Xt.extend(i,{forced_plugins:c,plugins:V})},Aae=(e,t)=>e&&CH(t,"mobile"),Tae=(e,t,o,i,c)=>{var m;const h=e?{mobile:Cae((m=c.mobile)!==null&&m!==void 0?m:{},t)}:{},C=yae(["mobile"],XM(h,c)),A=Xt.extend(o,i,C.options(),Aae(e,C)?xae(C,"mobile"):{},{external_plugins:_ae(i,C.options())});return Eae(e,C,i,A)},Oae=(e,t)=>{const o=zW(t);return Tae(Zj||bae,Zj,o,e,o)},Dae=(e,t)=>IP(e,t),Rae=e=>{const t=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{he("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&t("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Iae=e=>{const t=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return be(c,m=>ke(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Nae=e=>{Rae(e),Iae(e)},Pae=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let i;try{o.execCommand(t)}catch{i=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(i=!0),i||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mo.os.isMacOS()||Mo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},Mae=(e,t,o,i)=>{const c=Fe.fromDom(e.getRoot());return Q0(c,xt.fromRangeStart(t),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Zb(c,xt.fromRangeEnd(t),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Bae=e=>{if(typeof e!="string"){const t=Xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Lae=(e,t)=>{const o=e.selection,i=e.dom;return/^ | $/.test(t)?Mae(i,o.getRng(),t,e.schema):t},xB=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:i}=Bae(t);V4(e,{...i,content:Lae(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=JV(e,c.content,i);z4(e,m,c),e.addVisual()})}},Fae=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,i)=>{xB(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,i)=>{xB(e,e.dom.encode(i))},insertHTML:(t,o,i)=>{xB(e,i)},mceInsertContent:(t,o,i)=>{xB(e,i)},mceSetContent:(t,o,i)=>{e.setContent(i)},mceReplaceContent:(t,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(ms(e))}})},Vae={"font-size":"size","font-family":"face"},zae=vf("font"),Hae=(e,t,o)=>{const i=m=>Lr(m,e).orThunk(()=>zae(m)?Os(Vae,e).bind(h=>Qc(m,h)):J.none()),c=m=>Yo(Fe.fromDom(t),m);return tw(Fe.fromDom(o),m=>i(m),c)},$ae=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Uae=(e,t)=>J.from(Gs.DOM.getStyle(t,e,!0)),jj=e=>(t,o)=>J.from(o).map(Fe.fromDom).filter($r).bind(i=>Hae(e,t,i.dom).or(Uae(e,i.dom))).getOr(""),Wae=jj("font-size"),Zae=$t($ae,jj("font-family")),jae=e=>Jn(e.getBody()).bind(t=>{const o=t.container();return J.from(Ut(o)?o.parentNode:o)}),Kae=e=>J.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),Gae=(e,t)=>Kae(e).orThunk(tt(jae,e)).map(Fe.fromDom).filter($r).bind(t),_H=(e,t)=>Gae(e,Jt(J.some,t)),Kj=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const i=LE(e),c=FE(e);return c.length>0?c[o-1]||t:i[o-1]||t}else return t}else return t},qae=e=>{const t=e.split(/\s*,\s*/);return Be(t,o=>o.indexOf(" ")!==-1&&!(cr(o,'"')||cr(o,"'"))?`'${o}'`:o).join(",")},Yae=(e,t)=>{const o=Kj(e,t);e.formatter.toggle("fontname",{value:qae(o)}),e.nodeChanged()},Xae=e=>_H(e,t=>Zae(e.getBody(),t.dom)).getOr(""),Jae=(e,t)=>{e.formatter.toggle("fontsize",{value:Kj(e,t)}),e.nodeChanged()},Qae=e=>_H(e,t=>Wae(e.getBody(),t.dom)).getOr(""),ele=e=>_H(e,t=>{const o=Fe.fromDom(e.getBody()),i=tw(t,m=>Lr(m,"line-height"),tt(Yo,o)),c=()=>{const m=parseFloat(Ur(t,"line-height")),h=parseFloat(Ur(t,"font-size"));return String(m/h)};return i.getOrThunk(c)}).getOr(""),tle=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},nle=e=>{const t=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,i,c)=>{t(o,{value:c})},BackColor:(o,i,c)=>{t("hilitecolor",{value:c})},FontName:(o,i,c)=>{Yae(e,c)},FontSize:(o,i,c)=>{Jae(e,c)},LineHeight:(o,i,c)=>{tle(e,c)},Lang:(o,i,c)=>{var m;t(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,i,c)=>{t(xe(c)?c:"p")},mceToggleFormat:(o,i,c)=>{t(c)}})},ole=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Xae(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Qae(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ele(e))},sle=e=>{nle(e),ole(e)},rle=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ile=e=>{e.editorCommands.addCommands({Indent:()=>{Et(e)},Outdent:()=>{_t(e)}}),e.editorCommands.addCommands({Outdent:()=>ve(e)},"state")},ale=e=>{const t=(o,i,c)=>{const m=xe(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");ee(m)&&xe(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!h||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},lle=(e,t,o,i)=>{const c=e.dom,m=C=>c.isBlock(C)&&C.parentElement===o,h=m(t)?t:c.getParent(i,m,o);return J.from(h).map(Fe.fromDom)},Gj=(e,t)=>{const o=e.dom,i=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),m=t?i.startContainer:i.endContainer,h=xO(o,m);if(!h||!h.isContentEditable)return;const C=t?Dr:it,A=rl(e);lle(e,c,h,m).each(V=>{const Z=fZ(e,m,V.dom,h,!1,A);C(V,Fe.fromDom(Z)),e.selection.setCursorLocation(Z,0),e.dispatch("NewBlock",{newBlock:Z}),yO(e,"insertParagraph")})},cle=e=>Gj(e,!0),ule=e=>Gj(e,!1),dle=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{cle(e)},InsertNewBlockAfter:()=>{ule(e)}})},fle=e=>{e.editorCommands.addCommands({insertParagraph:()=>{aB(pZ,e)},mceInsertNewLine:(t,o,i)=>{_Z(e,i)},InsertLineBreak:(t,o,i)=>{aB(yZ,e)}})},mle=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>En(m)&&c++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Rc);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},gle=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,i)=>{UR(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},hle=e=>{Nae(e),Pae(e),rle(e),mle(e),Fae(e),ale(e),ile(e),dle(e),fle(e),sle(e),gle(e)},ple=["toggleview"],qj=e=>ae(ple,e.toLowerCase());class Yj{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,i,c){const m=this.editor,h=t.toLowerCase(),C=c==null?void 0:c.skip_focus;if(m.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!C?m.focus():T_(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:i}).isDefaultPrevented()))return!1;const V=this.commands.exec[h];return Le(V)?(V(h,o,i),m.dispatch("ExecCommand",{command:t,ui:o,value:i}),!0):!1}queryCommandState(t){if(!qj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),i=this.commands.state[o];return Le(i)?i(o):!1}queryCommandValue(t){if(!qj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),i=this.commands.value[o];return Le(i)?i(o):""}addCommands(t,o="exec"){const i=this.commands;rs(t,(c,m)=>{he(m.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(t,o,i){const c=t.toLowerCase();this.commands.exec[c]=(m,h,C)=>o.call(i??this.editor,h,C)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,i){this.commands.state[t.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(t,o,i){this.commands.value[t.toLowerCase()]=()=>o.call(i??this.editor)}}const Hw="data-mce-contenteditable",vle=(e,t,o)=>{Rd(e,t)&&!o?Ma(e,t):o&&Dd(e,t)},SH=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},wB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ble=e=>{he(hi(e,'*[contenteditable="true"]'),t=>{yi(t,Hw,"true"),wB(t,!1)})},yle=e=>{he(hi(e,`*[${Hw}="true"]`),t=>{Do(t,Hw),wB(t,!0)})},xle=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},wle=e=>{e.selection.setRng(e.selection.getRng())},Cle=(e,t)=>{const o=Fe.fromDom(e.getBody());vle(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),xle(e),e.readonly=!0,wB(o,!1),ble(o)):(e.readonly=!1,e.hasEditableRoot()&&wB(o,!0),yle(o),SH(e,"StyleWithCSS",!1),SH(e,"enableInlineTableEditing",!1),SH(e,"enableObjectResizing",!1),Vb(e)&&e.focus(),wle(e),e.nodeChanged())},$w=e=>e.readonly,Xj=e=>{e.parser.addAttributeFilter("contenteditable",t=>{$w(e)&&he(t,o=>{o.attr(Hw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Hw,t=>{$w(e)&&he(t,o=>{o.attr("contenteditable",o.attr(Hw))})}),e.serializer.addTempAttr(Hw)},_le=e=>{e.serializer?Xj(e):e.on("PreInit",()=>{Xj(e)})},Sle=e=>e.type==="click",kle=["copy"],Ele=e=>ae(kle,e.type),Ale=(e,t)=>Zi(t,"a",i=>Yo(i,Fe.fromDom(e.getBody()))).bind(i=>Qc(i,"href")),Tle=(e,t)=>{if(Sle(t)&&!dn.metaKeyPressed(t)){const o=Fe.fromDom(t.target);Ale(e,o).each(i=>{if(t.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Xc(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ele(t)&&e.dispatch(t.type,t)},Ole=e=>{e.on("ShowCaret",t=>{$w(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{$w(e)&&t.preventDefault()})},Dle=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class kH{static isNative(t){return!!Dle[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const i=t.toLowerCase(),c=i0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[i];if(m)for(let h=0,C=m.length;h<C;h++){const A=m[h];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,i,c){if(o===!1&&(o=fn),o){const m={func:o,removed:!1};c&&Xt.extend(m,c);const h=t.toLowerCase().split(" ");let C=h.length;for(;C--;){const A=h[C];let V=this.bindings[A];V||(V=[],this.toggleEvent(A,!0)),i?V=[m,...V]:V=[...V,m],this.bindings[A]=V}}return this}off(t,o){if(t){const i=t.toLowerCase().split(" ");let c=i.length;for(;c--;){const m=i[c];let h=this.bindings[m];if(!m)return rs(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(h){if(!o)h.length=0;else{const C=zt(h,A=>A.func===o);h=C.fail,this.bindings[m]=h,he(C.pass,A=>{A.removed=!0})}h.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else rs(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,i){return this.on(t,o,i,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const EO=e=>(e._eventDispatcher||(e._eventDispatcher=new kH({scope:e,toggleEvent:(t,o)=>{kH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),EH={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return i0(e.toLowerCase(),t??{},i);const c=EO(i).dispatch(e,t);if(o!==!1&&i.parent){let m=i.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,t,o){return EO(this).on(e,t,o)},off(e,t){return EO(this).off(e,t)},once(e,t){return EO(this).once(e,t)},hasEventListeners(e){return EO(this).has(e)}},CB=Gs.DOM;let Uw;const _B=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=qD(e);return o?(e.eventRoot||(e.eventRoot=CB.select(o)[0]),e.eventRoot):e.getBody()},Rle=e=>!e.hidden&&!$w(e),Jj=(e,t,o)=>{Rle(e)?e.dispatch(t,o):$w(e)&&Tle(e,o)},Qj=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=_B(e,t);if(qD(e)){if(Uw||(Uw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Uw&&(rs(Uw,(c,m)=>{e.dom.unbind(_B(e,m))}),Uw=null)})),Uw[t])return;const i=c=>{const m=c.target,h=e.editorManager.get();let C=h.length;for(;C--;){const A=h[C].getBody();(A===m||CB.isChildOf(m,A))&&Jj(h[C],t,c)}};Uw[t]=i,CB.bind(o,t,i)}else{const i=c=>{Jj(e,t,c)};CB.bind(o,t,i),e.delegates[t]=i}},eK={...EH,bindPendingEventDelegates(){const e=this;Xt.each(e._pendingNativeEvents,t=>{Qj(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?Qj(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(_B(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(rs(e.delegates,(i,c)=>{e.dom.unbind(_B(e,c),c,i)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Ile=e=>xe(e)?{value:e.split(/[ ,]/),valid:!0}:Ke(e,xe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Nle=e=>{const t=(()=>{switch(e){case"array":return le;case"boolean":return We;case"function":return Le;case"number":return O;case"object":return ee;case"string":return xe;case"string[]":return Ile;case"object[]":return o=>Ke(o,ee);case"regexp":return o=>Me(o,RegExp);default:return _n}})();return o=>AH(o,t,`The value must be a ${e}.`)},Ple=e=>xe(e.processor),tK=(e,t)=>{const o=Wt(t.message)?"":`. ${t.message}`;return e+o},nK=e=>e.valid,AH=(e,t,o="")=>{const i=t(e);return We(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},Mle=(e,t,o)=>{if(!qe(t)){const i=AH(t,o);if(nK(i))return i.value;console.error(tK(`Invalid default value passed for the "${e}" option`,i))}},Ble=(e,t,o=t)=>{const i={},c={},m=(ge,Se,pe)=>{const Oe=AH(Se,pe);return nK(Oe)?(c[ge]=Oe.value,!0):(console.warn(tK(`Invalid value passed for the ${ge} option`,Oe)),!1)},h=(ge,Se)=>{const pe=Ple(Se)?Nle(Se.processor):Se.processor,Oe=Mle(ge,Se.default,pe);i[ge]={...Se,default:Oe,processor:pe},Os(c,ge).orThunk(()=>Os(t,ge)).each(Qe=>m(ge,Qe,pe))},C=ge=>ao(i,ge);return{register:h,isRegistered:C,get:ge=>Os(c,ge).orThunk(()=>Os(i,ge).map(Se=>Se.default)).getOrUndefined(),set:(ge,Se)=>{if(C(ge)){const pe=i[ge];return pe.immutable?(console.error(`"${ge}" is an immutable option and cannot be updated`),!1):m(ge,Se,pe.processor)}else return console.warn(`"${ge}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ge=>{const Se=C(ge);return Se&&delete c[ge],Se},isSet:ge=>ao(c,ge),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ge,Se)=>We(Se)||O(Se)||xe(Se)||Ue(Se)||le(Se)||_e(Se)?Se:Object.prototype.toString.call(Se))))}catch(ge){console.error(ge)}}}},Lle=["design","readonly"],oK=(e,t,o,i)=>{const c=o[t.get()],m=o[i];try{m.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&Cle(e,m.editorReadOnly),t.set(i),iR(e,i)},Fle=(e,t,o,i)=>{if(i!==o.get()){if(!ao(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?oK(e,o,t,i):e.on("init",()=>oK(e,o,t,i))}},Vle=(e,t,o)=>{if(ae(Lle,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${t}:`,i)}}}}},zle=e=>{const t=Ri("design"),o=Ri({design:{activate:ct,deactivate:ct,editorReadOnly:!1},readonly:{activate:ct,deactivate:ct,editorReadOnly:!0}});return _le(e),Ole(e),{isReadOnly:()=>$w(e),set:i=>Fle(e,o.get(),t,i),get:()=>t.get(),register:(i,c)=>{o.set(Vle(o.get(),i,c))}}},TH=Xt.each,OH=Xt.explode,Hle={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},sK=Xt.makeMap("alt,ctrl,shift,meta,access"),$le=e=>e in sK,Ule=e=>{const t={},o=Mo.os.isMacOS()||Mo.os.isiOS();TH(OH(e.toLowerCase(),"+"),m=>{$le(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Hle[m]||m.toUpperCase().charCodeAt(0))});const i=[t.keyCode];let c;for(c in sK)t[c]?i.push(c):t[c]=!1;return t.id=i.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class rK{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(TH(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,i,c){const m=this,h=m.normalizeCommandFunc(i);return TH(OH(Xt.trim(t)),C=>{const A=m.createShortcut(C,o,h,c);m.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,i=t;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Xt.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(t,o,i,c){const m=Xt.map(OH(t,">"),Ule);return m[m.length-1]=Xt.extend(m[m.length-1],{func:i,scope:c||this.editor}),Xt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Wle=()=>{const e={},t={},o={},i={},c={},m={},h={},C={},A=(Z,q)=>(Q,ge)=>{Z[Q.toLowerCase()]={...ge,type:q}},V=(Z,q)=>i[Z.toLowerCase()]=q;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(h,"sidebar"),addView:A(C,"views"),addIcon:V,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:o,contextMenus:c,contextToolbars:m,sidebars:h,views:C})}},Zle=()=>{const e=Wle();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Ww=Gs.DOM,iK=Xt.extend,jle=Xt.each;class SB{constructor(t,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,iK(this,eK);const c=this;this.id=t,this.hidden=!1;const m=Oae(i.defaultOptions,o);this.options=Ble(c,m,o),$C(c);const h=this.options.get;h("deprecation_warnings")&&mz(o,m);const C=h("suffix");C&&(i.suffix=C),this.suffix=i.suffix;const A=h("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const V=Xx(c);V&&(bl.ScriptLoader._setReferrerPolicy(V),Gs.DOM.styleSheetLoader._setReferrerPolicy(V));const Z=n5(c);ke(Z)&&Gs.DOM.styleSheetLoader._setContentCssCors(Z),ol.languageLoad=h("language_load"),ol.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new dd(pu(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cb(c),this.hasVisual=zc(c),this.shortcuts=new rK(this),this.editorCommands=new Yj(this),hle(this);const q=h("cache_suffix");q&&(Mo.cacheSuffix=q.replace(/^[\?\&]+/,"")),this.ui={registry:Zle(),styleSheetLoader:void 0,show:ct,hide:ct,setEnabled:ct,isEnabled:_n},this.mode=zle(c),i.dispatch("SetupEditor",{editor:this});const Q=M0(c);Le(Q)&&Q.call(c,c)}render(){gae(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return j0(this)}translate(t){return Bc.translate(t)}getParam(t,o,i){const c=this.options;return c.isRegistered(t)||(ke(i)?c.register(t,{processor:i,default:o}):c.register(t,{processor:_n,default:o})),!c.isSet(t)&&!qe(o)?o:c.get(t)}hasPlugin(t,o){return ae(jd(this),t)?o?n1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,i){this.editorCommands.addCommand(t,o,i)}addQueryStateHandler(t,o,i){this.editorCommands.addQueryStateHandler(t,o,i)}addQueryValueHandler(t,o,i){this.editorCommands.addQueryValueHandler(t,o,i)}addShortcut(t,o,i,c){this.shortcuts.add(t,o,i,c)}execCommand(t,o,i,c){return this.editorCommands.execCommand(t,o,i,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Ww.show(t.getContainer()),Ww.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Ww.hide(t.getContainer()),Ww.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...t,load:!0},m=ap(i)?i.value:i.innerHTML,h=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),h}else return""}save(t={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...t,save:!0,element:i};let m=o.getContent(c);const h={...c,content:m};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),m=h.content,ap(i))i.value=m;else{(t.is_removing||!o.inline)&&(i.innerHTML=m);const C=Ww.getParent(o.id,"form");C&&jle(C.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return mT(this,t,o)}getContent(t){return ZP(this,t)}insertContent(t,o){o&&(t=iK({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?mT(this,this.startContent,{format:"raw"}):mT(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Ww.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Ww.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const i=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(t,o,i){const c=this,m=c.options.get,h=N8(c);if(Le(h))return h.call(c,t,i,!0,o);if(!m("convert_urls")||i==="link"||ee(i)&&i.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new dd(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:m("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Dae(this,t)}setEditableRoot(t){hae(this,t)}hasEditableRoot(){return pae(this)}remove(){QP(this)}destroy(t){hz(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const vk=Gs.DOM,kB=Xt.each;let aK=!1,EB,Su=[];const AB=e=>{const t=e.type;kB(Ay.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},lK=e=>{if(e!==aK){const t=Gs.DOM;e?(t.bind(window,"resize",AB),t.bind(window,"scroll",AB)):(t.unbind(window,"resize",AB),t.unbind(window,"scroll",AB)),aK=e}},cK=e=>{const t=Su;return Su=vt(Su,o=>e!==o),Ay.activeEditor===e&&(Ay.activeEditor=Su.length>0?Su[0]:null),Ay.focusedEditor===e&&(Ay.focusedEditor=null),t.length!==Su.length},Kle=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(cK(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Gle=document.compatMode!=="CSS1Compat",Ay={...EH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Bc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",i=dd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let h=0;h<m.length;h++){const C=m[h].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(o=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),t=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new dd(i).toAbsolute(t),e.documentBaseURL=i,e.baseURI=new dd(e.baseURL),e.suffix=o,BF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&rs(i,(c,m)=>{ol.PluginManager.urls[m]=c})},init(e){const t=this;let o;const i=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(Z,q)=>Z.inline&&q.tagName.toLowerCase()in i,m=Z=>{let q=Z.id;return q||(q=Os(Z,"name").filter(Q=>!vk.get(Q)).getOrThunk(vk.uniqueId),Z.setAttribute("id",q)),q},h=Z=>{const q=e[Z];if(q)return q.apply(t,[])},C=Z=>Mo.browser.isIE()||Mo.browser.isEdge()?(ww("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Gle?(ww("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):xe(Z.selector)?vk.select(Z.selector):ke(Z.target)?[Z.target]:[];let A=Z=>{o=Z};const V=()=>{let Z=0;const q=[];let Q;const ge=(Se,pe,Oe)=>{const He=new SB(Se,pe,t);q.push(He),He.on("init",()=>{++Z===Q.length&&A(q)}),He.targetElm=He.targetElm||Oe,He.render()};vk.unbind(window,"ready",V),h("onpageload"),Q=ea(C(e)),Xt.each(Q,Se=>{Kle(t.get(Se.id))}),Q=Xt.grep(Q,Se=>!t.get(Se.id)),Q.length===0?A([]):kB(Q,Se=>{c(e,Se)?ww("Could not initialize inline editor on invalid inline target element",Se):ge(m(Se),e,Se)})};return vk.bind(window,"ready",V),new Promise(Z=>{o?Z(o):A=q=>{Z(q)}})},get(e){return arguments.length===0?Su.slice(0):xe(e)?cn(Su,t=>t.id===e).getOr(null):O(e)&&Su[e]?Su[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Su.push(e),lK(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),EB||(EB=i=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",EB))),e},createEditor(e,t){return this.add(new SB(e,t,this))},remove(e){const t=this;let o;if(!e){for(let i=Su.length-1;i>=0;i--)t.remove(Su[i]);return}if(xe(e)){kB(vk.select(e),i=>{o=t.get(i.id),o&&t.remove(o)});return}return o=e,Ue(t.get(o.id))?null:(cK(o)&&t.dispatch("RemoveEditor",{editor:o}),Su.length===0&&window.removeEventListener("beforeunload",EB),o.remove(),lK(Su.length>0),o)},execCommand(e,t,o){var i;const c=this,m=ee(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const h=o.options;new SB(m,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(m);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(m);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{kB(Su,e=>{e.save()})},addI18n:(e,t)=>{Bc.add(e,t)},translate:e=>Bc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new dd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new dd(this.baseURL)}};Ay.setup();const qle=(()=>{const e=Ii(),t=m=>({items:m,types:Kt(m),getType:h=>Os(m,h).getOrUndefined()}),o=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:i,clear:c}})(),uK=Math.min,bk=Math.max,TB=Math.round,dK=(e,t,o)=>{let i=t.x,c=t.y;const m=e.w,h=e.h,C=t.w,A=t.h,V=(o||"").split("");return V[0]==="b"&&(c+=A),V[1]==="r"&&(i+=C),V[0]==="c"&&(c+=TB(A/2)),V[1]==="c"&&(i+=TB(C/2)),V[3]==="b"&&(c-=h),V[4]==="r"&&(i-=m),V[3]==="c"&&(c-=TB(h/2)),V[4]==="c"&&(i-=TB(m/2)),yk(i,c,m,h)},Yle=(e,t,o,i)=>{for(let c=0;c<i.length;c++){const m=dK(e,t,i[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return i[c]}return null},Xle=(e,t,o)=>yk(e.x-t,e.y-o,e.w+t*2,e.h+o*2),Jle=(e,t)=>{const o=bk(e.x,t.x),i=bk(e.y,t.y),c=uK(e.x+e.w,t.x+t.w),m=uK(e.y+e.h,t.y+t.h);return c-o<0||m-i<0?null:yk(o,i,c-o,m-i)},Qle=(e,t,o)=>{let i=e.x,c=e.y,m=e.x+e.w,h=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,V=bk(0,t.x-i),Z=bk(0,t.y-c),q=bk(0,m-C),Q=bk(0,h-A);return i+=V,c+=Z,o&&(m+=V,h+=Z,i-=q,c-=Q),m-=q,h-=Q,yk(i,c,m-i,h-c)},yk=(e,t,o,i)=>({x:e,y:t,w:o,h:i}),ece={inflate:Xle,relativePosition:dK,findBestRelativePosition:Yle,intersect:Jle,clamp:Qle,create:yk,fromClientRect:e=>yk(e.left,e.top,e.width,e.height)},tce=(e,t,o=1e3)=>{let i=!1,c=null;const m=V=>(...Z)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),V.apply(null,Z))},h=m(e),C=m(t);return{start:(...V)=>{!i&&c===null&&(c=setTimeout(()=>C.apply(null,V),o))},resolve:h,reject:C}},nce=(()=>{const e={},t={},o={};return{load:(A,V)=>{const Z=`Script at URL "${V}" failed to load`,q=`Script at URL "${V}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const Q=new Promise((ge,Se)=>{const pe=tce(ge,Se);t[A]=pe.resolve,bl.ScriptLoader.loadScript(V).then(()=>pe.start(q),()=>pe.reject(Z))});return e[A]=Q,Q}},add:(A,V)=>{t[A]!==void 0&&(t[A](V),delete t[A]),e[A]=Promise.resolve(V),o[A]=V},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),oce=()=>(()=>{let e={},t=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{t.push(i),e[i]=String(c)},key:i=>t[i],removeItem:i=>{t=t.filter(c=>c===i),delete e[i]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let AO;try{const e="__storage_test__";AO=window.localStorage,AO.setItem(e,e),AO.removeItem(e)}catch{AO=oce()}var sce=AO;const rce={geom:{Rect:ece},util:{Delay:Wc,Tools:Xt,VK:dn,URI:dd,EventDispatcher:kH,Observable:EH,I18n:Bc,LocalStorage:sce,ImageUploader:Az},dom:{EventUtils:If,TreeWalker:ca,TextSeeker:zd,DOMUtils:Gs,ScriptLoader:bl,RangeUtils:Bp,Serializer:WP,StyleSheetLoader:Lm,ControlSelection:zs,BookmarkManager:Zs,Selection:dT,Event:If.Event},html:{Styles:kx,Entities:Yg,Node:Da,Schema:Mc,DomParser:cy,Writer:zA,Serializer:wh},Env:Mo,AddOnManager:ol,Annotator:rR,Formatter:Sw,UndoManager:_6,EditorCommands:Yj,WindowManager:i6,NotificationManager:xT,EditorObservable:eK,Shortcuts:rK,Editor:SB,FocusManager:rd,EditorManager:Ay,DOM:Gs.DOM,ScriptLoader:bl.ScriptLoader,PluginManager:n1,ThemeManager:tv,ModelManager:ev,IconManager:yw,Resource:nce,FakeClipboard:qle,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,walk:Xt.walk,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix},fK=Xt.extend(Ay,rce),ice=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(fK),ice(fK)})()})(pee);var J0e=pee.exports;const Bq=FU(J0e);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,r=(s,a,u)=>{var f;return!!u(s,a.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===a.name},l=s=>a=>(u=>{const f=typeof u;return u===null?"null":f==="object"&&Array.isArray(u)?"array":f==="object"&&r(u,String,(p,b)=>b.isPrototypeOf(p))?"string":f})(a)===s,d=s=>a=>typeof a===s,g=s=>a=>s===a,v=l("string"),x=l("object"),S=s=>((a,u)=>x(a)&&r(a,u,(f,p)=>n(f)===p))(s,Object),M=l("array"),R=g(null),I=d("boolean"),L=g(void 0),$=s=>s==null,K=s=>!$(s),Y=d("function"),ne=d("number"),oe=(s,a)=>{if(M(s)){for(let u=0,f=s.length;u<f;++u)if(!a(s[u]))return!1;return!0}return!1},se=()=>{},Me=s=>()=>s(),xe=(s,a)=>(...u)=>s(a.apply(null,u)),ee=s=>()=>s,_e=s=>s,le=(s,a)=>s===a;function Ue(s,...a){return(...u)=>{const f=a.concat(u);return s.apply(null,f)}}const We=s=>a=>!s(a),qe=s=>()=>{throw new Error(s)},st=s=>s(),ke=ee(!1),Le=ee(!0);class O{constructor(a,u){this.tag=a,this.value=u}static some(a){return new O(!0,a)}static none(){return O.singletonNone}fold(a,u){return this.tag?u(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?O.some(a(this.value)):O.none()}bind(a){return this.tag?a(this.value):O.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:O.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return K(a)?O.some(a):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const Ke=Array.prototype.slice,ct=Array.prototype.indexOf,$t=Array.prototype.push,Jt=(s,a)=>ct.call(s,a),et=(s,a)=>Jt(s,a)>-1,pt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return!0;return!1},Lt=(s,a)=>{const u=[];for(let f=0;f<s;f++)u.push(a(f));return u},tt=(s,a)=>{const u=[];for(let f=0;f<s.length;f+=a){const p=Ke.call(s,f,f+a);u.push(p)}return u},Ye=(s,a)=>{const u=s.length,f=new Array(u);for(let p=0;p<u;p++){const b=s[p];f[p]=a(b,p)}return f},Mt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)a(s[u],u)},oo=(s,a)=>{const u=[],f=[];for(let p=0,b=s.length;p<b;p++){const w=s[p];(a(w,p)?u:f).push(w)}return{pass:u,fail:f}},Fn=(s,a)=>{const u=[];for(let f=0,p=s.length;f<p;f++){const b=s[f];a(b,f)&&u.push(b)}return u},fn=(s,a,u)=>(((f,p)=>{for(let b=f.length-1;b>=0;b--)p(f[b],b)})(s,(f,p)=>{u=a(u,f,p)}),u),_n=(s,a,u)=>(Mt(s,(f,p)=>{u=a(u,f,p)}),u),J=(s,a)=>((u,f,p)=>{for(let b=0,w=u.length;b<w;b++){const k=u[b];if(f(k,b))return O.some(k);if(p(k,b))break}return O.none()})(s,a,ke),xs=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return O.some(u);return O.none()},eo=s=>{const a=[];for(let u=0,f=s.length;u<f;++u){if(!M(s[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+s);$t.apply(a,s[u])}return a},tn=(s,a)=>eo(Ye(s,a)),To=(s,a)=>{for(let u=0,f=s.length;u<f;++u)if(a(s[u],u)!==!0)return!1;return!0},je=s=>{const a=Ke.call(s,0);return a.reverse(),a},ae=(s,a)=>Fn(s,u=>!et(a,u)),be=(s,a)=>{const u={};for(let f=0,p=s.length;f<p;f++){const b=s[f];u[String(b)]=a(b,f)}return u},Be=s=>[s],he=(s,a)=>{const u=Ke.call(s,0);return u.sort(a),u},gt=(s,a)=>a>=0&&a<s.length?O.some(s[a]):O.none(),zt=s=>gt(s,0),vt=s=>gt(s,s.length-1),Ft=Y(Array.from)?Array.from:s=>Ke.call(s),Vt=(s,a)=>{for(let u=0;u<s.length;u++){const f=a(s[u],u);if(f.isSome())return f}return O.none()},wn=Object.keys,cn=Object.hasOwnProperty,An=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f];a(s[b],b)}},On=(s,a)=>wo(s,(u,f)=>({k:f,v:a(u,f)})),wo=(s,a)=>{const u={};return An(s,(f,p)=>{const b=a(f,p);u[b.k]=b.v}),u},Oo=s=>(a,u)=>{s[u]=a},Ho=(s,a,u,f)=>{An(s,(p,b)=>{(a(p,b)?u:f)(p,b)})},cs=(s,a)=>{const u={};return Ho(s,a,Oo(u),se),u},ar=(s,a)=>{const u=[];return An(s,(f,p)=>{u.push(a(f,p))}),u},fs=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f],w=s[b];if(a(w,b,s))return O.some(w)}return O.none()},Ar=s=>ar(s,_e),hn=(s,a)=>Eo(s,a)?O.from(s[a]):O.none(),Eo=(s,a)=>cn.call(s,a),vo=(s,a)=>Eo(s,a)&&s[a]!==void 0&&s[a]!==null,or=(s,a,u=le)=>s.exists(f=>u(f,a)),ea=s=>{const a=[],u=f=>{a.push(f)};for(let f=0;f<s.length;f++)s[f].each(u);return a},Kt=(s,a,u)=>s.isSome()&&a.isSome()?O.some(u(s.getOrDie(),a.getOrDie())):O.none(),mi=(s,a)=>s!=null?O.some(a(s)):O.none(),rs=(s,a)=>s?O.some(a):O.none(),Ul=(s,a,u)=>a===""||s.length>=a.length&&s.substr(u,u+a.length)===a,$s=(s,a)=>bm(s,a)?((u,f)=>u.substring(f))(s,a.length):s,Qr=(s,a,u=0,f)=>{const p=s.indexOf(a,u);return p!==-1&&(!!L(f)||p+a.length<=f)},bm=(s,a)=>Ul(s,a,0),Nu=(s,a)=>Ul(s,a,s.length-a.length),Cc=(hf=/^\s+|\s+$/g,s=>s.replace(hf,"")),ul=s=>s.length>0,Pu=s=>!ul(s),Os=s=>s.style!==void 0&&Y(s.style.getPropertyValue),ao=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Wl=(s,a)=>{const u=document.createElement("div");if(u.innerHTML=s,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return ao(u.childNodes[0])},Ti=(s,a)=>{const u=document.createElement(s);return ao(u)},Mu=(s,a)=>{const u=document.createTextNode(s);return ao(u)},rn=ao,Bu=typeof window<"u"?window:Function("return this;")(),ym=(s,a)=>((u,f)=>{let p=f??Bu;for(let b=0;b<u.length&&p!=null;++b)p=p[u[b]];return p})(s.split("."),a),hr=Object.getPrototypeOf,xm=s=>{const a=ym("ownerDocument.defaultView",s);return x(s)&&((u=>((f,p)=>{const b=((w,k)=>ym(w,k))(f,p);if(b==null)throw new Error(f+" not available on this browser");return b})("HTMLElement",u))(a).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(hr(s).constructor.name))},Ga=s=>s.dom.nodeName.toLowerCase(),Ol=s=>a=>(u=>u.dom.nodeType)(a)===s,dl=s=>lr(s)&&xm(s.dom),lr=Ol(1),Ca=Ol(3),Dl=Ol(9),wm=Ol(11),Gc=s=>a=>lr(a)&&Ga(a)===s,qc=(s,a)=>{const u=s.dom;if(u.nodeType!==1)return!1;{const f=u;if(f.matches!==void 0)return f.matches(a);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(a);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(a);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},uf=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Sd=(s,a)=>{const u=a===void 0?document:a.dom;return uf(u)?O.none():O.from(u.querySelector(s)).map(rn)},is=(s,a)=>s.dom===a.dom,Br=(s,a)=>{const u=s.dom,f=a.dom;return u!==f&&u.contains(f)},ri=s=>rn(s.dom.ownerDocument),Cm=s=>Dl(s)?s:ri(s),qa=s=>rn(Cm(s).dom.documentElement),Yc=s=>rn(Cm(s).dom.defaultView),_a=s=>O.from(s.dom.parentNode).map(rn),Sa=s=>O.from(s.dom.parentElement).map(rn),Xc=s=>O.from(s.dom.offsetParent).map(rn),Ns=s=>Ye(s.dom.childNodes,rn),cr=(s,a)=>{const u=s.dom.childNodes;return O.from(u[a]).map(rn)},Te=s=>cr(s,0),nt=(s,a)=>({element:s,offset:a}),Ne=(s,a)=>{const u=Ns(s);return u.length>0&&a<u.length?nt(u[a],0):nt(s,a)},mt=s=>wm(s)&&K(s.dom.host),ut=s=>rn(s.dom.getRootNode()),Je=s=>mt(s)?s:rn(Cm(s).dom.body),Wt=s=>{const a=ut(s);return mt(a)?O.some(a):O.none()},nn=s=>rn(s.dom.host),un=s=>{const a=Ca(s)?s.dom.parentNode:s.dom;if(a==null||a.ownerDocument===null)return!1;const u=a.ownerDocument;return Wt(rn(a)).fold(()=>u.body.contains(a),(f=un,p=nn,b=>f(p(b))));var f,p},vn=()=>an(rn(document)),an=s=>{const a=s.dom.body;if(a==null)throw new Error("Body is not available yet");return rn(a)},ho=(s,a,u)=>{if(!(v(u)||I(u)||ne(u)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",u,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(a,u+"")},sn=(s,a,u)=>{ho(s.dom,a,u)},ks=(s,a)=>{const u=s.dom;An(a,(f,p)=>{ho(u,p,f)})},Po=(s,a)=>{const u=s.dom.getAttribute(a);return u===null?void 0:u},Zo=(s,a)=>O.from(Po(s,a)),Tr=(s,a)=>{const u=s.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(a)},_o=(s,a)=>{s.dom.removeAttribute(a)},Rl=(s,a,u)=>{if(!v(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",s),new Error("CSS value must be a string: "+u);Os(s)&&s.style.setProperty(a,u)},ta=(s,a)=>{Os(s)&&s.style.removeProperty(a)},co=(s,a,u)=>{const f=s.dom;Rl(f,a,u)},Ya=(s,a)=>{const u=s.dom;An(a,(f,p)=>{Rl(u,p,f)})},fl=(s,a)=>{const u=s.dom;An(a,(f,p)=>{f.fold(()=>{ta(u,p)},b=>{Rl(u,p,b)})})},wr=(s,a)=>{const u=s.dom,f=window.getComputedStyle(u).getPropertyValue(a);return f!==""||un(s)?f:kd(u,a)},kd=(s,a)=>Os(s)?s.style.getPropertyValue(a):"",Hr=(s,a)=>{const u=s.dom,f=kd(u,a);return O.from(f).filter(p=>p.length>0)},df=s=>{const a={},u=s.dom;if(Os(u))for(let f=0;f<u.style.length;f++){const p=u.style.item(f);a[p]=u.style[p]}return a},Il=(s,a,u)=>{const f=Ti(s);return co(f,a,u),Hr(f,a).isSome()},ws=(s,a)=>{const u=s.dom;ta(u,a),or(Zo(s,"style").map(Cc),"")&&_o(s,"style")},Lu=s=>s.dom.offsetWidth,_m=(s,a)=>{const u=p=>{const b=a(p);if(b<=0||b===null){const w=wr(p,s);return parseFloat(w)||0}return b},f=(p,b)=>_n(b,(w,k)=>{const E=wr(p,k),D=E===void 0?0:parseInt(E,10);return isNaN(D)?w:w+D},0);return{set:(p,b)=>{if(!ne(b)&&!b.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+b);const w=p.dom;Os(w)&&(w.style[s]=b+"px")},get:u,getOuter:u,aggregate:f,max:(p,b,w)=>{const k=f(p,w);return b>k?b-k:0}}},Jh=_m("height",s=>{const a=s.dom;return un(s)?a.getBoundingClientRect().height:a.offsetHeight}),Or=s=>Jh.get(s),_c=s=>Jh.getOuter(s),ml=(s,a)=>({left:s,top:a,translate:(u,f)=>ml(s+u,a+f)}),Xs=ml,Sm=(s,a)=>s!==void 0?s:a!==void 0?a:0,Nl=s=>{const a=s.dom.ownerDocument,u=a.body,f=a.defaultView,p=a.documentElement;if(u===s.dom)return Xs(u.offsetLeft,u.offsetTop);const b=Sm(f==null?void 0:f.pageYOffset,p.scrollTop),w=Sm(f==null?void 0:f.pageXOffset,p.scrollLeft),k=Sm(p.clientTop,u.clientTop),E=Sm(p.clientLeft,u.clientLeft);return na(s).translate(w-E,b-k)},na=s=>{const a=s.dom,u=a.ownerDocument.body;return u===a?Xs(u.offsetLeft,u.offsetTop):un(s)?(f=>{const p=f.getBoundingClientRect();return Xs(p.left,p.top)})(a):Xs(0,0)},Mg=_m("width",s=>s.dom.offsetWidth),Oi=s=>Mg.get(s),Xa=s=>Mg.getOuter(s),oa=s=>{let a,u=!1;return(...f)=>(u||(u=!0,a=s.apply(null,f)),a)},Pl=()=>Qh(0,0),Qh=(s,a)=>({major:s,minor:a}),Mo={nu:Qh,detect:(s,a)=>{const u=String(a).toLowerCase();return s.length===0?Pl():((f,p)=>{const b=((k,E)=>{for(let D=0;D<k.length;D++){const F=k[D];if(F.test(E))return F}})(f,p);if(!b)return{major:0,minor:0};const w=k=>Number(p.replace(b,"$"+k));return Qh(w(1),w(2))})(s,u)},unknown:Pl},Jc=(s,a)=>{const u=String(a).toLowerCase();return J(s,f=>f.search(u))},Ed=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fu=s=>a=>Qr(a,s),Sv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>Qr(s,"edge/")&&Qr(s,"chrome")&&Qr(s,"safari")&&Qr(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ed],search:s=>Qr(s,"chrome")&&!Qr(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>Qr(s,"msie")||Qr(s,"trident")},{name:"Opera",versionRegexes:[Ed,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fu("firefox")},{name:"Safari",versionRegexes:[Ed,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(Qr(s,"safari")||Qr(s,"mobile/"))&&Qr(s,"applewebkit")}],ex=[{name:"Windows",search:Fu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>Qr(s,"iphone")||Qr(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fu("linux"),versionRegexes:[]},{name:"Solaris",search:Fu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],B1={browsers:ee(Sv),oses:ee(ex)},L1="Edge",vC="Chromium",ep="Opera",F1="Firefox",Xt="Safari",ff=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isEdge:f(L1),isChromium:f(vC),isIE:f("IE"),isOpera:f(ep),isFirefox:f(F1),isSafari:f(Xt)}},mf=()=>ff({current:void 0,version:Mo.unknown()}),V1=ff,sa="Windows",gf="Android",Bg="Linux",tx="macOS",nx="Solaris",kv="FreeBSD",ox="ChromeOS",z1=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isWindows:f(sa),isiOS:f("iOS"),isAndroid:f(gf),isMacOS:f(tx),isLinux:f(Bg),isSolaris:f(nx),isFreeBSD:f(kv),isChromeOS:f(ox)}},sx=()=>z1({current:void 0,version:Mo.unknown()}),Lg=z1,H1=s=>window.matchMedia(s).matches;var hf;let pf=oa(()=>((s,a,u)=>{const f=B1.browsers(),p=B1.oses(),b=a.bind(E=>((D,F)=>Vt(F.brands,P=>{const z=P.brand.toLowerCase();return J(D,G=>{var X;return z===((X=G.brand)===null||X===void 0?void 0:X.toLowerCase())}).map(G=>({current:G.name,version:Mo.nu(parseInt(P.version,10),0)}))}))(f,E)).orThunk(()=>((E,D)=>Jc(E,D).map(F=>{const P=Mo.detect(F.versionRegexes,D);return{current:F.name,version:P}}))(f,s)).fold(mf,V1),w=((E,D)=>Jc(E,D).map(F=>{const P=Mo.detect(F.versionRegexes,D);return{current:F.name,version:P}}))(p,s).fold(sx,Lg),k=((E,D,F,P)=>{const z=E.isiOS()&&/ipad/i.test(F)===!0,G=E.isiOS()&&!z,X=E.isiOS()||E.isAndroid(),ue=X||P("(pointer:coarse)"),me=z||!G&&X&&P("(min-device-width:768px)"),we=G||X&&!me,fe=D.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,de=!we&&!me&&!fe;return{isiPad:ee(z),isiPhone:ee(G),isTablet:ee(me),isPhone:ee(we),isTouch:ee(ue),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:ee(fe),isDesktop:ee(de)}})(w,b,s,u);return{browser:b,os:w,deviceType:k}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),H1));const ra=()=>pf(),gl=s=>{const a=rn((b=>{if(K(b.target)){const w=rn(b.target);if(lr(w)&&(k=>K(k.dom.shadowRoot))(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return zt(k)}}return O.from(b.target)})(s).getOr(s.target)),u=()=>s.stopPropagation(),f=()=>s.preventDefault(),p=xe(f,u);return((b,w,k,E,D,F,P)=>({target:b,x:w,y:k,stop:E,prevent:D,kill:F,raw:P}))(a,s.clientX,s.clientY,u,f,p,s)},Fg=(s,a,u,f,p)=>{const b=((w,k)=>E=>{w(E)&&k(gl(E))})(u,f);return s.dom.addEventListener(a,b,p),{unbind:Ue(qo,s,a,b,p)}},qo=(s,a,u,f)=>{s.dom.removeEventListener(a,u,f)},Ad=(s,a)=>{_a(s).each(u=>{u.dom.insertBefore(a.dom,s.dom)})},Vg=(s,a)=>{(f=>O.from(f.dom.nextSibling).map(rn))(s).fold(()=>{_a(s).each(f=>{Na(f,a)})},f=>{Ad(f,a)})},zg=(s,a)=>{Te(s).fold(()=>{Na(s,a)},u=>{s.dom.insertBefore(a.dom,u.dom)})},Na=(s,a)=>{s.dom.appendChild(a.dom)},$r=(s,a)=>{Mt(a,u=>{Na(s,u)})},ur=s=>{s.dom.textContent="",Mt(Ns(s),a=>{$i(a)})},$i=s=>{const a=s.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Js=s=>{const a=s!==void 0?s.dom:document,u=a.body.scrollLeft||a.documentElement.scrollLeft,f=a.body.scrollTop||a.documentElement.scrollTop;return Xs(u,f)},vf=(s,a,u)=>{const f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(s,a)},km=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),yi=s=>{const a=s===void 0?window:s,u=a.document,f=Js(rn(u));return(p=>{const b=p===void 0?window:p;return ra().browser.isFirefox()?O.none():O.from(b.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,b=p.clientWidth,w=p.clientHeight;return km(f.left,f.top,b,w)},p=>km(Math.max(p.pageLeft,f.left),Math.max(p.pageTop,f.top),p.width,p.height))},Pa=()=>rn(document),ka=(s,a)=>s.view(a).fold(ee([]),u=>{const f=s.owner(u),p=ka(s,f);return[u].concat(p)});var Qc=Object.freeze({__proto__:null,view:s=>{var a;return(s.dom===document?O.none():O.from((a=s.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(rn)},owner:s=>ri(s)});const Td=s=>{const a=Pa(),u=Js(a);return((p,b)=>{const w=b.owner(p),k=ka(b,w);return O.some(k)})(s,Qc).fold(Ue(Nl,s),p=>{const b=na(s),w=fn(p,(k,E)=>{const D=na(E);return{left:k.left+D.left,top:k.top+D.top}},{left:0,top:0});return Xs(w.left+b.left+u.left,w.top+b.top+u.top)})},Do=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),ii=s=>{const a=Nl(s),u=Xa(s),f=_c(s);return Do(a.left,a.top,u,f)},hl=s=>{const a=Td(s),u=Xa(s),f=_c(s);return Do(a.left,a.top,u,f)},Od=(s,a)=>{const u=Math.max(s.x,a.x),f=Math.max(s.y,a.y),p=Math.min(s.right,a.right),b=Math.min(s.bottom,a.bottom);return Do(u,f,p-u,b-f)},Ui=()=>yi(window),Bn=s=>{let a=s;return{get:()=>a,set:u=>{a=u}}},Sc=s=>{const a=Bn(O.none()),u=()=>a.get().each(s);return{clear:()=>{u(),a.set(O.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:f=>{u(),a.set(O.some(f))}}},kc=()=>Sc(s=>s.unbind()),Es=()=>{const s=Sc(se);return{...s,on:a=>s.get().each(a)}};var tp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ev=s=>{const a=b=>b(s),u=ee(s),f=()=>p,p={tag:!0,inner:s,fold:(b,w)=>w(s),isValue:Le,isError:ke,map:b=>Bo.value(b(s)),mapError:f,bind:a,exists:a,forall:a,getOr:u,or:f,getOrThunk:u,orThunk:f,getOrDie:u,each:b=>{b(s)},toOptional:()=>O.some(s)};return p},Dd=s=>{const a=()=>u,u={tag:!1,inner:s,fold:(f,p)=>f(s),isValue:ke,isError:Le,map:a,mapError:f=>Bo.error(f(s)),bind:a,exists:ke,forall:Le,getOr:_e,or:_e,getOrThunk:st,orThunk:st,getOrDie:qe(String(s)),each:se,toOptional:O.none};return u},Bo={value:Ev,error:Dd,fromOption:(s,a)=>s.fold(()=>Dd(a),Ev)};var Ma;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ma||(Ma={}));const np=(s,a,u)=>s.stype===Ma.Error?a(s.serror):u(s.svalue),Rd=s=>({stype:Ma.Value,svalue:s}),Av=s=>({stype:Ma.Error,serror:s}),eu=Rd,Ja=Av,tu=np,bf=(s,a,u,f)=>({tag:"field",key:s,newKey:a,presence:u,prop:f}),Fe=(s,a,u)=>{switch(s.tag){case"field":return a(s.key,s.newKey,s.presence,s.prop);case"custom":return u(s.newKey,s.instantiator)}},Em=s=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const u={};for(let f=0;f<a.length;f++){const p=a[f];for(const b in p)Eo(p,b)&&(u[b]=s(u[b],p[b]))}return u},Ps=Em((s,a)=>S(s)&&S(a)?Ps(s,a):a),Tv=Em((s,a)=>a),Hg=s=>({tag:"defaultedThunk",process:s}),nu=s=>Hg(ee(s)),Yo=s=>({tag:"mergeWithThunk",process:s}),ia=s=>{const a=(f=>{const p=[],b=[];return Mt(f,w=>{np(w,k=>b.push(k),k=>p.push(k))}),{values:p,errors:b}})(s);return a.errors.length>0?(u=a.errors,xe(Ja,eo)(u)):eu(a.values);var u},Vu=s=>x(s)&&wn(s).length>100?" removed due to size":JSON.stringify(s,null,2),tc=(s,a)=>Ja([{path:s,getErrorInfo:a}]),zu=s=>({extract:(a,u)=>((f,p)=>f.stype===Ma.Error?p(f.serror):f)(s(u),f=>((p,b)=>tc(p,ee(b)))(a,f)),toString:ee("val")}),Hu=zu(eu),aa=(s,a,u,f)=>f(hn(s,a).getOrThunk(()=>u(s))),yf=(s,a,u,f,p)=>{const b=k=>p.extract(a.concat([f]),k),w=k=>k.fold(()=>eu(O.none()),E=>((D,F)=>D.stype===Ma.Value?{stype:Ma.Value,svalue:F(D.svalue)}:D)(p.extract(a.concat([f]),E),O.some));switch(s.tag){case"required":return((k,E,D,F)=>hn(E,D).fold(()=>((P,z,G)=>tc(P,()=>'Could not find valid *required* value for "'+z+'" in '+Vu(G)))(k,D,E),F))(a,u,f,b);case"defaultedThunk":return aa(u,f,s.process,b);case"option":return((k,E,D)=>D(hn(k,E)))(u,f,w);case"defaultedOptionThunk":return((k,E,D,F)=>F(hn(k,E).map(P=>P===!0?D(k):P)))(u,f,s.process,w);case"mergeWithThunk":return aa(u,f,ee({}),k=>{const E=Ps(s.process(u),k);return b(E)})}},Am=s=>({extract:(a,u)=>s().extract(a,u),toString:()=>s().toString()}),Ov=s=>wn(cs(s,K)),xi=s=>{const a=Wn(s),u=fn(s,(f,p)=>Fe(p,b=>Ps(f,{[b]:!0}),ee(f)),{});return{extract:(f,p)=>{const b=I(p)?[]:Ov(p),w=Fn(b,k=>!vo(u,k));return w.length===0?a.extract(f,p):((k,E)=>tc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,w)},toString:a.toString}},Wn=s=>({extract:(a,u)=>((f,p,b)=>{const w={},k=[];for(const E of b)Fe(E,(D,F,P,z)=>{const G=yf(P,f,p,D,z);tu(G,X=>{k.push(...X)},X=>{w[F]=X})},(D,F)=>{w[D]=F(p)});return k.length>0?Ja(k):eu(w)})(a,u,s),toString:()=>`obj{
`+Ye(s,u=>Fe(u,(f,p,b,w)=>f+" -> "+w.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),$u=s=>({extract:(a,u)=>{const f=Ye(u,(p,b)=>s.extract(a.concat(["["+b+"]"]),p));return ia(f)},toString:()=>"array("+s.toString()+")"}),Tm=(s,a)=>{const u=a!==void 0?a:_e;return{extract:(f,p)=>{const b=[];for(const w of s){const k=w.extract(f,p);if(k.stype===Ma.Value)return{stype:Ma.Value,svalue:u(k.svalue)};b.push(k)}return ia(b)},toString:()=>"oneOf("+Ye(s,f=>f.toString()).join(", ")+")"}},la=(s,a)=>({extract:(u,f)=>{const p=wn(f),b=((w,k)=>$u(zu(s)).extract(w,k))(u,p);return((w,k)=>w.stype===Ma.Value?k(w.svalue):w)(b,w=>{const k=Ye(w,E=>bf(E,E,{tag:"required",process:{}},a));return Wn(k).extract(u,f)})},toString:()=>"setOf("+a.toString()+")"}),Uu=xe($u,Wn),Ml=ee(Hu),Wu=(s,a)=>zu(u=>{const f=typeof u;return s(u)?eu(u):Ja(`Expected type: ${a} but got: ${f}`)}),Id=Wu(ne,"number"),wi=Wu(v,"string"),nc=Wu(I,"boolean"),ou=Wu(Y,"function"),Om=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(a=>Om(s[a]));default:return!1}},$1=zu(s=>Om(s)?eu(s):Ja("Expected value to be acceptable for sending via postMessage")),Zu=(s,a)=>({extract:(u,f)=>hn(f,s).fold(()=>((p,b)=>tc(p,()=>'Choice schema did not contain choice key: "'+b+'"'))(u,s),p=>((b,w,k,E)=>hn(k,E).fold(()=>((D,F,P)=>tc(D,()=>'The chosen schema: "'+P+'" did not exist in branches: '+Vu(F)))(b,k,E),D=>D.extract(b.concat(["branch: "+E]),w)))(u,f,a,p)),toString:()=>"chooseOn("+s+"). Possible values: "+wn(a)}),xf=s=>zu(a=>s(a).fold(Ja,eu)),Dv=(s,a)=>la(u=>s(u).fold(Av,Rd),a),Cr=(s,a,u)=>{return f=((p,b,w)=>((k,E)=>k.stype===Ma.Error?{stype:Ma.Error,serror:E(k.serror)}:k)(b.extract([p],w),k=>({input:w,errors:k})))(s,a,u),np(f,Bo.error,Bo.value);var f},Ba=s=>s.fold(a=>{throw new Error(Qa(a))},_e),Ea=(s,a,u)=>Ba(Cr(s,a,u)),Qa=s=>`Errors: 
`+(a=>{const u=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:ee("... (only showing first ten failures)")}]):a;return Ye(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+Vu(s.input),gi=(s,a)=>Zu(s,On(a,Wn)),op=(s,a)=>((u,f)=>{const p=oa(f);return{extract:(b,w)=>p().extract(b,w),toString:()=>p().toString()}})(0,a),ai=bf,Wi=(s,a)=>({tag:"custom",newKey:s,instantiator:a}),su=s=>xf(a=>et(s,a)?Bo.value(a):Bo.error(`Unsupported value: "${a}", choose one of "${s.join(", ")}".`)),Ot=s=>ai(s,s,{tag:"required",process:{}},Ml()),Zi=(s,a)=>ai(s,s,{tag:"required",process:{}},a),sp=s=>Zi(s,Id),_r=s=>Zi(s,wi),ju=(s,a)=>ai(s,s,{tag:"required",process:{}},su(a)),La=s=>Zi(s,ou),Ec=(s,a)=>ai(s,s,{tag:"required",process:{}},Wn(a)),Dm=(s,a)=>ai(s,s,{tag:"required",process:{}},Uu(a)),el=(s,a)=>ai(s,s,{tag:"required",process:{}},$u(a)),jo=s=>ai(s,s,{tag:"option",process:{}},Ml()),Ur=(s,a)=>ai(s,s,{tag:"option",process:{}},a),wf=s=>Ur(s,Id),Lr=s=>Ur(s,wi),$g=(s,a)=>Ur(s,su(a)),ru=s=>Ur(s,ou),U1=(s,a)=>Ur(s,$u(a)),Dr=(s,a)=>Ur(s,Wn(a)),it=(s,a)=>ai(s,s,nu(a),Ml()),Fa=(s,a,u)=>ai(s,s,nu(a),u),Wr=(s,a)=>Fa(s,a,Id),Zl=(s,a)=>Fa(s,a,wi),Ac=(s,a,u)=>Fa(s,a,su(u)),ei=(s,a)=>Fa(s,a,nc),Qs=(s,a)=>Fa(s,a,ou),Ds=(s,a,u)=>Fa(s,a,$u(u)),Va=(s,a,u)=>Fa(s,a,Wn(u)),jl=s=>{if(!M(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const a=[],u={};return Mt(s,(f,p)=>{const b=wn(f);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],k=f[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!M(k))throw new Error("case arguments must be an array");a.push(w),u[w]=(...E)=>{const D=E.length;if(D!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+D);return{fold:(...F)=>{if(F.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+F.length);return F[p].apply(null,E)},match:F=>{const P=wn(F);if(a.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+P.join(","));if(!To(a,z=>et(P,z)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+a.join(", "));return F[w].apply(null,E)},log:F=>{console.log(F,{constructors:a,constructor:w,params:E})}}}}),u};jl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const iu=(s,a)=>((u,f)=>({[u]:f}))(s,a),Nd=s=>(a=>{const u={};return Mt(a,f=>{u[f.key]=f.value}),u})(s),Rm=s=>Y(s)?s:ke,Ug=(s,a,u)=>{let f=s.dom;const p=Rm(u);for(;f.parentNode;){f=f.parentNode;const b=rn(f),w=a(b);if(w.isSome())return w;if(p(b))break}return O.none()},Wg=(s,a,u)=>{const f=a(s),p=Rm(u);return f.orThunk(()=>p(s)?O.none():Ug(s,a,p))},Rv=(s,a)=>is(s.element,a.event.target),Iv={can:Le,abort:ke,run:se},Ku=s=>{if(!vo(s,"can")&&!vo(s,"abort")&&!vo(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...Iv,...s}},N=ee,W=N("touchstart"),re=N("touchmove"),Re=N("touchend"),$e=N("touchcancel"),Dt=N("mousedown"),Zn=N("mousemove"),po=N("mouseout"),lo=N("mouseup"),Tn=N("mouseover"),bs=N("focusin"),Zr=N("focusout"),Sr=N("keydown"),Tc=N("keyup"),Im=N("input"),Nm=N("change"),hi=N("click"),bC=N("transitioncancel"),Nv=N("transitionend"),W1=N("transitionstart"),ca=N("selectstart"),Rr=s=>ee("alloy."+s),Di={tap:Rr("tap")},Gu=Rr("focus"),rp=Rr("blur.post"),rx=Rr("paste.post"),oc=Rr("receive"),pl=Rr("execute"),Pv=Rr("focus.item"),Cf=Di.tap,aE=Rr("longpress"),Mv=Rr("sandbox.close"),Pd=Rr("typeahead.cancel"),_f=Rr("system.init"),En=Rr("system.touchmove"),au=Rr("system.touchend"),Bv=Rr("system.scroll"),Sf=Rr("system.resize"),ua=Rr("system.attached"),Oc=Rr("system.detached"),Zg=Rr("system.dismissRequested"),kf=Rr("system.repositionRequested"),Z1=Rr("focusmanager.shifted"),lu=Rr("slotcontainer.visibility"),ip=Rr("system.external.element.scroll"),ap=Rr("change.tab"),Ut=Rr("dismiss.tab"),ix=Rr("highlight"),Ef=Rr("dehighlight"),ko=(s,a)=>{Dc(s,s.element,a,{})},Rn=(s,a,u)=>{Dc(s,s.element,a,u)},Af=s=>{ko(s,pl())},pr=(s,a,u)=>{Dc(s,a,u,{})},Dc=(s,a,u,f)=>{const p={target:a,...f};s.getSystem().triggerEvent(u,a,p)},Rc=(s,a,u,f)=>{s.getSystem().triggerEvent(u,a,f.event)},fo=s=>Nd(s),lp=(s,a)=>({key:s,value:Ku({abort:a})}),yC=s=>({key:s,value:Ku({run:(a,u)=>{u.event.prevent()}})}),St=(s,a)=>({key:s,value:Ku({run:a})}),ax=(s,a,u)=>({key:s,value:Ku({run:(f,p)=>{a.apply(void 0,[f,p].concat(u))}})}),cp=s=>a=>({key:s,value:Ku({run:(u,f)=>{Rv(u,f)&&a(u,f)}})}),up=(s,a,u)=>((f,p)=>St(f,(b,w)=>{b.getSystem().getByUid(p).each(k=>{Rc(k,k.element,f,w)})}))(s,a.partUids[u]),jg=(s,a)=>St(s,(u,f)=>{const p=f.event,b=u.getSystem().getByDom(p.target).getOrThunk(()=>Wg(p.target,w=>u.getSystem().getByDom(w).toOptional(),ke).getOr(u));a(u,b,f)}),Pm=s=>St(s,(a,u)=>{u.cut()}),xC=s=>St(s,(a,u)=>{u.stop()}),Tf=(s,a)=>cp(s)(a),sr=cp(ua()),qu=cp(Oc()),j1=cp(_f()),cu=(Fm=pl(),s=>St(Fm,s)),Mm=s=>Ye(s,a=>Nu(a,"/*")?a.substring(0,a.length-2):a),sc=(s,a)=>{const u=s.toString(),f=u.indexOf(")")+1,p=u.indexOf("("),b=u.substring(p+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:a,parameters:Mm(b)}),s},jr=s=>({classes:L(s.classes)?[]:s.classes,attributes:L(s.attributes)?{}:s.attributes,styles:L(s.styles)?{}:s.styles}),Lv=(s,a,u)=>j1((f,p)=>{u(f,s,a)}),Ri=s=>({key:s,value:void 0}),K1=(s,a,u,f,p,b,w)=>{const k=F=>vo(F,u)?F[u]():O.none(),E=On(p,(F,P)=>((z,G,X)=>((ue,me,we)=>{const fe=we.toString(),de=fe.indexOf(")")+1,ve=fe.indexOf("("),Ce=fe.substring(ve+1,de-1).split(/,\s*/);return ue.toFunctionAnnotation=()=>({name:me,parameters:Mm(Ce.slice(0,1).concat(Ce.slice(3)))}),ue})((ue,...me)=>{const we=[ue].concat(me);return ue.config({name:ee(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+X)},fe=>{const de=Array.prototype.slice.call(we,1);return G.apply(void 0,[ue,fe.config,fe.state].concat(de))})},X,G))(u,F,P)),D={...On(b,(F,P)=>sc(F,P)),...E,revoke:Ue(Ri,u),config:F=>{const P=Ea(u+"-config",s,F);return{key:u,value:{config:P,me:D,configAsRaw:oa(()=>Ea(u+"-config",s,F)),initialConfig:F,state:w}}},schema:ee(a),exhibit:(F,P)=>Kt(k(F),hn(f,"exhibit"),(z,G)=>G(P,z.config,z.state)).getOrThunk(()=>jr({})),name:ee(u),handlers:F=>k(F).map(P=>hn(f,"events").getOr(()=>({}))(P.config,P.state)).getOr({})};return D},Ic={init:()=>Ii({readState:ee("No State required")})},Ii=s=>s,Zt=s=>Nd(s),Bm=xi([Ot("fields"),Ot("name"),it("active",{}),it("apis",{}),it("state",Ic),it("extra",{})]),Ni=s=>{const a=Ea("Creating behaviour: "+s.name,Bm,s);return((u,f,p,b,w,k)=>{const E=xi(u),D=Dr(f,[(F=u,Ur("config",xi(F)))]);var F;return K1(E,D,f,p,b,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},wC=xi([Ot("branchKey"),Ot("branches"),Ot("name"),it("active",{}),it("apis",{}),it("state",Ic),it("extra",{})]),CC=s=>{const a=Ea("Creating behaviour: "+s.name,wC,s);return((u,f,p,b,w,k)=>{const E=u,D=Dr(f,[Ur("config",u)]);return K1(E,D,f,p,b,w,k)})(gi(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},lE=ee(void 0),Md=(s,a)=>{const u=Po(s,a);return u===void 0||u===""?[]:u.split(" ")},Kg=s=>s.dom.classList!==void 0,Fv=s=>Md(s,"class"),G1=(s,a)=>((u,f,p)=>{const b=Md(u,f).concat([p]);return sn(u,f,b.join(" ")),!0})(s,"class",a),lx=(s,a)=>((u,f,p)=>{const b=Fn(Md(u,f),w=>w!==p);return b.length>0?sn(u,f,b.join(" ")):_o(u,f),!1})(s,"class",a),kr=(s,a)=>{Kg(s)?s.dom.classList.add(a):G1(s,a)},Vv=s=>{(Kg(s)?s.dom.classList:Fv(s)).length===0&&_o(s,"class")},Ir=(s,a)=>{Kg(s)?s.dom.classList.remove(a):lx(s,a),Vv(s)},tl=(s,a)=>Kg(s)&&s.dom.classList.contains(a),Kr=(s,a)=>{Mt(a,u=>{kr(s,u)})},rc=(s,a)=>{Mt(a,u=>{Ir(s,u)})},Bd=s=>Kg(s)?(a=>{const u=a.dom.classList,f=new Array(u.length);for(let p=0;p<u.length;p++){const b=u.item(p);b!==null&&(f[p]=b)}return f})(s):Fv(s),ji=(s,a,u,f,p)=>{const b=w=>w+"px";return{position:s,left:a.map(b),top:u.map(b),right:f.map(b),bottom:p.map(b)}},zv=(s,a)=>{fl(s,(u=>({...u,position:O.some(u.position)}))(a))},dp=s=>(or(Hr(s,"position"),"fixed")?O.none():Xc(s)).orThunk(()=>{const a=Ti("span");return _a(s).bind(u=>{Na(u,a);const f=Xc(a);return $i(a),f})}),Of=s=>dp(s).map(Nl).getOrThunk(()=>Xs(0,0)),_C=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Ir(u,a.fadeOutClass),kr(u,a.fadeInClass),a.onShow(s)},fp=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Ir(u,a.fadeInClass),kr(u,a.fadeOutClass),a.onHide(s)},cx=(s,a)=>s.y>=a.y,q1=(s,a)=>s.bottom<=a.bottom,Hv=(s,a,u)=>({location:"top",leftX:a,topY:u.bounds.y-s.y}),Y1=(s,a,u)=>({location:"bottom",leftX:a,bottomY:s.bottom-u.bounds.bottom}),ux=s=>s.box.x-s.win.x,Lm=(s,a,u)=>u.getInitialPos().map(f=>{const p=((b,w)=>{const k=w.optScrollEnv.fold(ee(b.bounds.y),E=>E.scrollElmTop+(b.bounds.y-E.currentScrollTop));return Xs(b.bounds.x,k)})(f,a);return{box:Do(p.left,p.top,Oi(s),Or(s)),location:f.location}}),cE=(s,a,u,f,p)=>{const b=((k,E)=>{const D=E.optScrollEnv.fold(ee(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return Xs(k.x,D)})(a,u),w=Do(b.left,b.top,a.width,a.height);f.setInitialPos({style:df(s),position:wr(s,"position")||"static",bounds:w,location:p.location})},X1=(s,a,u)=>u.getInitialPos().bind(f=>{var p;switch(u.clearInitialPos(),f.position){case"static":return O.some({morph:"static"});case"absolute":const b=dp(s).getOr(vn()),w=ii(b),k=(p=b.dom.scrollTop)!==null&&p!==void 0?p:0;return O.some({morph:"absolute",positionCss:ji("absolute",hn(f.style,"left").map(E=>a.x-w.x),hn(f.style,"top").map(E=>a.y-w.y+k),hn(f.style,"right").map(E=>w.right-a.right),hn(f.style,"bottom").map(E=>w.bottom-a.bottom))});default:return O.none()}}),J1=s=>{switch(s.location){case"top":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(s.leftX),O.some(s.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(s.leftX),O.none(),O.none(),O.some(s.bottomY))});default:return O.none()}},dx=(s,a,u)=>{const f=s.element;return or(Hr(f,"position"),"fixed")?((p,b,w)=>((k,E,D)=>Lm(k,E,D).filter(({box:F})=>((P,z,G)=>To(P,X=>{switch(X){case"bottom":return q1(z,G.bounds);case"top":return cx(z,G.bounds)}}))(D.getModes(),F,E)).bind(({box:F})=>X1(k,F,D)))(p,b,w).orThunk(()=>b.optScrollEnv.bind(k=>Lm(p,b,w)).bind(({box:k,location:E})=>{const D=Ui(),F=ux({win:D,box:k}),P=E==="top"?Hv(D,F,b):Y1(D,F,b);return J1(P)})))(f,a,u):((p,b,w)=>{const k=ii(p),E=Ui(),D=((F,P,z)=>{const G=P.win,X=P.box,ue=ux(P);return Vt(F,me=>{switch(me){case"bottom":return q1(X,z.bounds)?O.none():O.some(Y1(G,ue,z));case"top":return cx(X,z.bounds)?O.none():O.some(Hv(G,ue,z));default:return O.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},b);return D.location==="top"||D.location==="bottom"?(cE(p,k,b,w,D),J1(D)):O.none()})(f,a,u)},fx=(s,a,u)=>{u.setDocked(!1),Mt(["left","right","top","bottom","position"],f=>ws(s.element,f)),a.onUndocked(s)},$v=(s,a,u,f)=>{const p=f.position==="fixed";u.setDocked(p),zv(s.element,f),(p?a.onDocked:a.onUndocked)(s)},mx=(s,a,u,f,p=!1)=>{a.contextual.each(b=>{b.lazyContext(s).each(w=>{const k=((E,D)=>E.y<D.bottom&&E.bottom>D.y)(w,f.bounds);k!==u.isVisible()&&(u.setVisible(k),p&&!k?(Kr(s.element,[b.fadeOutClass]),b.onHide(s)):(k?_C:fp)(s,b))})})},gx=(s,a,u,f,p)=>{mx(s,a,u,f,!0),$v(s,a,u,p.positionCss)},Uv=(s,a,u)=>{s.getSystem().isConnected()&&((f,p,b)=>{const w=p.lazyViewport(f);mx(f,p,b,w),dx(f,w,b).each(k=>{((E,D,F,P,z)=>{switch(z.morph){case"static":return fx(E,D,F);case"absolute":return $v(E,D,F,z.positionCss);case"fixed":gx(E,D,F,P,z)}})(f,p,b,w,k)})})(s,a,u)},mp=(s,a,u)=>{u.isDocked()&&((f,p,b)=>{const w=f.element;b.setDocked(!1);const k=p.lazyViewport(f);((E,D,F)=>{const P=E.element;return Lm(P,D,F).bind(({box:z})=>X1(P,z,F))})(f,k,b).each(E=>{switch(E.morph){case"static":fx(f,p,b);break;case"absolute":$v(f,p,b,E.positionCss)}}),b.setVisible(!0),p.contextual.each(E=>{rc(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),Uv(f,p,b)})(s,a,u)},hx=s=>(a,u,f)=>{const p=u.lazyViewport(a);((b,w,k,E)=>{const D=ii(b),F=Ui(),P=E(F,ux({win:F,box:D}),w);return P.location==="bottom"||P.location==="top"?(((z,G,X,ue,me)=>{ue.getInitialPos().fold(()=>cE(z,G,X,ue,me),()=>se)})(b,D,w,k,P),J1(P)):O.none()})(a.element,p,f,s).each(b=>{gx(a,u,f,p,b)})},Wv=hx(Hv),Zv=hx(Y1);var Fm,gp=Object.freeze({__proto__:null,refresh:Uv,reset:mp,isDocked:(s,a,u)=>u.isDocked(),getModes:(s,a,u)=>u.getModes(),setModes:(s,a,u,f)=>u.setModes(f),forceDockToTop:Wv,forceDockToBottom:Zv}),px=Object.freeze({__proto__:null,events:(s,a)=>fo([Tf(Nv(),(u,f)=>{s.contextual.each(p=>{tl(u.element,p.transitionClass)&&(rc(u.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(u)),f.stop()})}),St(Bv(),(u,f)=>{Uv(u,s,a)}),St(ip(),(u,f)=>{Uv(u,s,a)}),St(Sf(),(u,f)=>{mp(u,s,a)})])});const Ld=s=>s.dom.innerHTML,Gg=(s,a)=>{const u=ri(s).dom,f=rn(u.createDocumentFragment()),p=((b,w)=>{const k=(w||document).createElement("div");return k.innerHTML=b,Ns(rn(k))})(a,u);$r(f,p),ur(s),Na(s,f)},qg=(s,a)=>rn(s.dom.cloneNode(a)),Fd=s=>(a=>{if(mt(a))return"#shadow-root";{const u=(f=>qg(f,!1))(a);return(f=>{const p=Ti("div"),b=rn(f.dom.cloneNode(!0));return Na(p,b),Ld(p)})(u)}})(s);var Df;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Df||(Df={}));const jv=Bn({}),uE=["alloy/data/Fields","alloy/debugging/Debugging"],Kv=(s,a,u)=>((f,p,b)=>{switch(hn(jv.get(),f).orThunk(()=>{const w=wn(jv.get());return Vt(w,k=>f.indexOf(k)>-1?O.some(jv.get()[k]):O.none())}).getOr(Df.NORMAL)){case Df.NORMAL:return b(Nc());case Df.LOGGING:{const w=((E,D)=>{const F=[],P=new Date().getTime();return{logEventCut:(z,G,X)=>{F.push({outcome:"cut",target:G,purpose:X})},logEventStopped:(z,G,X)=>{F.push({outcome:"stopped",target:G,purpose:X})},logNoParent:(z,G,X)=>{F.push({outcome:"no-parent",target:G,purpose:X})},logEventNoHandlers:(z,G)=>{F.push({outcome:"no-handlers-left",target:G})},logEventResponse:(z,G,X)=>{F.push({outcome:"response",purpose:X,target:G})},write:()=>{const z=new Date().getTime();et(["mousemove","mouseover","mouseout",_f()],E)||console.log(E,{event:E,time:z-P,target:D.dom,sequence:Ye(F,G=>et(["cut","stopped","response"],G.outcome)?"{"+G.purpose+"} "+G.outcome+" at ("+Fd(G.target)+")":G.outcome)})}}})(f,p),k=b(w);return w.write(),k}case Df.STOP:return!0}})(s,a,u),Nc=ee({logEventCut:se,logEventStopped:se,logNoParent:se,logEventNoHandlers:se,logEventResponse:se,write:se}),SC=ee([Ot("menu"),Ot("selectedMenu")]),vx=ee([Ot("item"),Ot("selectedItem")]);ee(Wn(vx().concat(SC())));const Yg=ee(Wn(vx())),da=Ec("initSize",[Ot("numColumns"),Ot("numRows")]),Xg=()=>Ec("markers",[Ot("backgroundMenu")].concat(SC()).concat(vx())),Jg=s=>Ec("markers",Ye(s,Ot)),Q1=(s,a,u)=>((()=>{const f=new Error;if(f.stack!==void 0){const p=f.stack.split(`
`);J(p,b=>b.indexOf("alloy")>0&&!pt(uE,w=>b.indexOf(w)>-1)).getOr("unknown")}})(),ai(a,a,u,xf(f=>Bo.value((...p)=>f.apply(void 0,p))))),Xo=s=>Q1(0,s,nu(se)),vl=s=>Q1(0,s,nu(O.none)),Yu=s=>Q1(0,s,{tag:"required",process:{}}),Aa=s=>Q1(0,s,{tag:"required",process:{}}),Ks=(s,a)=>Wi(s,ee(a)),Gv=s=>Wi(s,_e),kC=ee(da);var dE=[Dr("contextual",[_r("fadeInClass"),_r("fadeOutClass"),_r("transitionClass"),La("lazyContext"),Xo("onShow"),Xo("onShown"),Xo("onHide"),Xo("onHidden")]),Qs("lazyViewport",()=>({bounds:Ui(),optScrollEnv:O.none()})),Ds("modes",["top","bottom"],wi),Xo("onDocked"),Xo("onUndocked")];const dr=Ni({fields:dE,name:"docking",active:px,apis:gp,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(!1),u=Bn(!0),f=Es(),p=Bn(s.modes);return Ii({isDocked:a.get,setDocked:a.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${u.get()}, modes: ${p.get().join(",")}`})}})}),e0=fo([((s,a)=>({key:s,value:Ku({can:(u,f)=>{const p=f.event,b=p.originator,w=p.target;return!((k,E,D)=>is(E,k.element)&&!is(E,D))(u,b,w)||(console.warn(Gu()+` did not get interpreted by the desired target. 
Originator: `+Fd(b)+`
Target: `+Fd(w)+`
Check the `+Gu()+" event handlers"),!1)}})}))(Gu())]);var bx=Object.freeze({__proto__:null,events:e0});const Vm=(s,a,u,f)=>{const p=s+a;return p>f?u:p<u?f:p},Pc=(s,a,u)=>Math.min(Math.max(s,a),u);let hp=0;const bn=s=>{const a=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return hp++,s+"_"+u+hp+String(a)},uu=ee("alloy-id-"),yx=ee("data-alloy-id"),t0=uu(),pp=yx(),n0=(s,a)=>{Object.defineProperty(s.dom,pp,{value:a,writable:!0})},Qg=s=>{const a=lr(s)?s.dom[pp]:null;return O.from(a)},Mc=s=>bn(s),fE=_e,o0=s=>{const a=p=>`The component must be in a context to execute: ${p}`+(s?`
`+Fd(s().element)+" is not in context.":""),u=p=>()=>{throw new Error(a(p))},f=p=>()=>{console.warn(a(p))};return{debugInfo:ee("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:ke}},xx=o0(),s0=bn("alloy-premade"),wx=s=>(Object.defineProperty(s.element.dom,s0,{value:s.uid,writable:!0}),iu(s0,s)),Cx=s=>hn(s,s0),r0=s=>((a,u)=>{const f=u.toString(),p=f.indexOf(")")+1,b=f.indexOf("("),w=f.substring(b+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Mm(w.slice(1))}),a})((a,...u)=>s(a.getApis(),a,...u),s),_x=(s,a)=>{const u={};return An(s,(f,p)=>{An(f,(b,w)=>{const k=hn(u,w).getOr([]);u[w]=k.concat([a(p,b)])})}),u},Sx=s=>s.cHandler,EC=(s,a)=>({name:s,handler:a}),mE=(s,a)=>{const u={};return Mt(s,f=>{u[f.name()]=f.handlers(a)}),u},qv=(s,a,u)=>{const f=a[u];return f?((p,b,w,k)=>{try{const E=he(w,(D,F)=>{const P=D[b],z=F[b],G=k.indexOf(P),X=k.indexOf(z);if(G===-1)throw new Error("The ordering for "+p+" does not have an entry for "+P+`.
Order specified: `+JSON.stringify(k,null,2));if(X===-1)throw new Error("The ordering for "+p+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(k,null,2));return G<X?-1:X<G?1:0});return Bo.value(E)}catch(E){return Bo.error([E])}})("Event: "+u,"name",s,f).map(p=>(b=>({can:((E,D)=>(...F)=>_n(E,(P,z)=>P&&(G=>G.can)(z).apply(void 0,F),!0))(b),abort:((E,D)=>(...F)=>_n(E,(P,z)=>P||(G=>G.abort)(z).apply(void 0,F),!1))(b),run:(...E)=>{Mt(b,D=>{D.run.apply(void 0,E)})}}))(Ye(p,b=>b.handler))):((p,b)=>Bo.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ye(b,w=>w.name),null,2)]))(u,s)},kx=(s,a)=>((u,f)=>{const p=(w=>{const k=[],E=[];return Mt(w,D=>{D.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(u);return p.errors.length>0?(b=p.errors,Bo.error(eo(b))):((w,k)=>w.length===0?Bo.value(k):Bo.value(Ps(k,Tv.apply(void 0,w))))(p.values,f);var b})(ar(s,(u,f)=>(u.length===1?Bo.value(u[0].handler):qv(u,a,f)).map(p=>{const b=(k=>{const E=(D=>Y(D)?{can:Le,abort:ke,run:D}:D)(k);return(D,F,...P)=>{const z=[D,F].concat(P);E.abort.apply(void 0,z)?F.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(p),w=u.length>1?Fn(a[f],k=>pt(u,E=>E.name===k)).join(" > "):u[0].name;return iu(f,((k,E)=>({handler:k,purpose:E}))(b,w))})),{}),eh="alloy.base.behaviour",gE=Wn([ai("dom","dom",{tag:"required",process:{}},Wn([Ot("tag"),it("styles",{}),it("classes",[]),it("attributes",{}),jo("value"),jo("innerHtml")])),Ot("components"),Ot("uid"),it("events",{}),it("apis",{}),ai("eventOrder","eventOrder",(th={[pl()]:["disabling",eh,"toggling","typeaheadevents"],[Gu()]:[eh,"focusing","keying"],[_f()]:[eh,"disabling","toggling","representing","tooltipping"],[Im()]:[eh,"representing","streaming","invalidating"],[Oc()]:[eh,"representing","item-events","toolbar-button-events","tooltipping"],[Dt()]:["focusing",eh,"item-type-events"],[W()]:["focusing",eh,"item-type-events"],[Tn()]:["item-type-events","tooltipping"],[oc()]:["receiving","reflecting","tooltipping"]},Yo(ee(th))),Ml()),jo("domModification")]),hE=s=>s.events,Rf=s=>s.dom.value,zm=(s,a)=>{if(a===void 0)throw new Error("Value.set was undefined");s.dom.value=a},i0=(s,a,u)=>{u.fold(()=>Na(s,a),f=>{is(f,a)||(Ad(f,a),$i(f))})},AC=(s,a,u)=>{const f=Ye(a,u),p=Ns(s);return Mt(p.slice(f.length),$i),f},Ex=(s,a,u,f)=>{const p=cr(s,a),b=f(u,p),w=((k,E,D)=>cr(k,E).map(F=>{if(D.exists(P=>!is(P,F))){const P=D.map(Ga).getOr("span"),z=Ti(P);return Ad(F,z),z}return F}))(s,a,p);return i0(s,b.element,w),b},Yv=(s,a)=>{const u=wn(s),f=wn(a),p=ae(f,u),b=((w,k)=>{const E={},D={};return Ho(w,(F,P)=>!Eo(a,P)||F!==a[P],Oo(E),Oo(D)),{t:E,f:D}})(s).t;return{toRemove:p,toSet:b}},Vd=(s,a)=>{const u=a.filter(f=>Ga(f)===s.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(s)&&!(p=>Eo(p.dom,s0))(f)).bind(f=>((p,b)=>{try{const w=((k,E)=>{const{class:D,style:F,...P}=(ve=>_n(ve.dom.attributes,(Ce,Ee)=>(Ce[Ee.name]=Ee.value,Ce),{}))(E),{toSet:z,toRemove:G}=Yv(k.attributes,P),X=df(E),{toSet:ue,toRemove:me}=Yv(k.styles,X),we=Bd(E),fe=ae(we,k.classes),de=ae(k.classes,we);return Mt(G,ve=>_o(E,ve)),ks(E,z),Kr(E,de),rc(E,fe),Mt(me,ve=>ws(E,ve)),Ya(E,ue),k.innerHtml.fold(()=>{const ve=k.domChildren;((Ce,Ee)=>{AC(Ce,Ee,(ze,ot)=>{const Et=cr(Ce,ot);return i0(Ce,ze,Et),ze})})(E,ve)},ve=>{Gg(E,ve)}),(()=>{const ve=E,Ce=k.value.getOrUndefined();Ce!==Rf(ve)&&zm(ve,Ce??"")})(),E})(p,b);return O.some(w)}catch{return O.none()}})(s,f)).getOrThunk(()=>(f=>{const p=Ti(f.tag);ks(p,f.attributes),Kr(p,f.classes),Ya(p,f.styles),f.innerHtml.each(w=>Gg(p,w));const b=f.domChildren;return $r(p,b),f.value.each(w=>{zm(p,w)}),p})(s));return n0(u,s.uid),u},a0=s=>{const a=(u=>{const f=hn(u,"behaviours").getOr({});return tn(wn(f),p=>{const b=f[p];return K(b)?[b.me]:[]})})(s);return((u,f)=>((p,b)=>{const w=Ye(b,E=>Dr(E.name(),[Ot("config"),it("state",Ic)])),k=Cr("component.behaviours",Wn(w),p.behaviours).fold(E=>{throw new Error(Qa(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},_e);return{list:b,data:On(k,E=>{const D=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return ee(D)})}})(u,f))(s,a)},pi=(s,a)=>{const u=()=>z,f=Bn(xx),p=Ba((G=>Cr("custom.definition",gE,G))(s)),b=a0(s),w=(G=>G.list)(b),k=(G=>G.data)(b),E=((G,X,ue)=>{const me={...(we=G).dom,uid:we.uid,domChildren:Ye(we.components,ze=>ze.element)};var we;const fe=(ze=>ze.domModification.fold(()=>jr({}),jr))(G),de={"alloy.base.modification":fe},ve=X.length>0?((ze,ot,Et,_t)=>{const wt={...ot};Mt(Et,Lo=>{wt[Lo.name()]=Lo.exhibit(ze,_t)});const Ht=_x(wt,(Lo,tr)=>({name:Lo,modification:tr})),mn=Lo=>fn(Lo,(tr,mr)=>({...mr.modification,...tr}),{}),kn=fn(Ht.classes,(Lo,tr)=>tr.modification.concat(Lo),[]),Hn=mn(Ht.attributes),io=mn(Ht.styles);return jr({classes:kn,attributes:Hn,styles:io})})(ue,de,X,me):fe;return Ce=me,Ee=ve,{...Ce,attributes:{...Ce.attributes,...Ee.attributes},styles:{...Ce.styles,...Ee.styles},classes:Ce.classes.concat(Ee.classes)};var Ce,Ee})(p,w,k),D=Vd(E,a),F=((G,X,ue)=>{const me={"alloy.base.behaviour":hE(G)};return((we,fe,de,ve)=>{const Ce=((Ee,ze,ot)=>{const Et={...ot,...mE(ze,Ee)};return _x(Et,EC)})(we,de,ve);return kx(Ce,fe)})(ue,G.eventOrder,X,me).getOrDie()})(p,w,k),P=Bn(p.components),z={uid:s.uid,getSystem:f.get,config:G=>{const X=k;return(Y(X[G.name()])?X[G.name()]:()=>{throw new Error("Could not find "+G.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:G=>Y(k[G.name()]),spec:s,readState:G=>k[G]().map(X=>X.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:G=>{f.set(G)},disconnect:()=>{f.set(o0(u))},element:D,syncComponents:()=>{const G=Ns(D),X=tn(G,ue=>f.get().getByDom(ue).fold(()=>[],Be));P.set(X)},components:P.get,events:F};return z},Fr=s=>{const a=Mu(s);return If({element:a})},If=s=>{const a=Ea("external.component",xi([Ot("element"),jo("uid")]),s),u=Bn(o0()),f=a.uid.getOrThunk(()=>Mc("external"));n0(a.element,f);const p={uid:f,getSystem:u.get,config:O.none,hasConfigured:ke,connect:b=>{u.set(b)},disconnect:()=>{u.set(o0(()=>p))},getApis:()=>({}),element:a.element,spec:s,readState:ee("No state"),syncComponents:se,components:ee([]),events:{}};return wx(p)},Ax=Mc,l0=(s,a)=>Cx(s).getOrThunk(()=>((u,f)=>{const{events:p,...b}=fE(u),w=((E,D)=>{const F=hn(E,"components").getOr([]);return D.fold(()=>Ye(F,Ki),P=>Ye(F,(z,G)=>l0(z,cr(P,G))))})(b,f),k={...b,events:{...bx,...p},components:w};return Bo.value(pi(k,f))})((u=>Eo(u,"uid"))(s)?s:{uid:Ax(""),...s},a).getOrDie()),Ki=s=>l0(s,O.none()),nl=wx;var th,Nf=(s,a,u,f,p)=>s(u,f)?O.some(u):Y(p)&&p(u)?O.none():a(u,f,p);const Hm=(s,a,u)=>{let f=s.dom;const p=Y(u)?u:ke;for(;f.parentNode;){f=f.parentNode;const b=rn(f);if(a(b))return O.some(b);if(p(b))break}return O.none()},c0=(s,a,u)=>Nf((f,p)=>p(f),Hm,s,a,u),TC=(s,a)=>J(s.dom.childNodes,u=>a(rn(u))).map(rn),Tx=(s,a,u)=>c0(s,a,u).isSome(),$m=(s,a,u)=>Hm(s,f=>qc(f,a),u),Gs=(s,a)=>((u,f)=>{const p=u.dom;return p.parentNode?TC(rn(p.parentNode),b=>!is(u,b)&&qc(b,a)):O.none()})(s),u0=(s,a)=>TC(s,u=>qc(u,a)),fr=(s,a)=>Sd(a,s),Xu=(s,a,u)=>Nf((f,p)=>qc(f,p),$m,s,a,u),du="aria-controls",nh=()=>{const s=bn(du);return{id:s,link:a=>{sn(a,du,s)},unlink:a=>{_o(a,du)}}},bl=(s,a)=>Tx(a,u=>is(u,s.element),ke)||((u,f)=>(p=>c0(p,b=>{if(!lr(b))return!1;const w=Po(b,"id");return w!==void 0&&w.indexOf(du)>-1}).bind(b=>{const w=Po(b,"id"),k=ut(b);return fr(k,`[${du}="${w}"]`)}))(f).exists(p=>bl(u,p)))(s,a),fa=(s,a,u,f,p,b,w,k=!1)=>({x:s,y:a,bubble:u,direction:f,placement:p,restriction:b,label:`${w}-${p}`,alwaysFit:k}),Um=jl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Xv=Um.southeast,oh=Um.southwest,Jv=Um.northeast,sh=Um.northwest,OC=Um.south,Ox=Um.north,Dx=Um.east,DC=Um.west,ma=(s,a)=>be(["left","right","top","bottom"],u=>hn(a,u).map(f=>((p,b)=>{switch(b){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(s,f))),Wm="layout",RC=s=>s.x,Bc=(s,a)=>s.x+s.width/2-a.width/2,ol=(s,a)=>s.x+s.width-a.width,rh=(s,a)=>s.y-a.height,vp=s=>s.y+s.height,IC=(s,a)=>s.y+s.height/2-a.height/2,Nr=(s,a,u)=>fa(RC(s),vp(s),u.southeast(),Xv(),"southeast",ma(s,{left:1,top:3}),Wm),Pr=(s,a,u)=>fa(ol(s,a),vp(s),u.southwest(),oh(),"southwest",ma(s,{right:0,top:3}),Wm),ti=(s,a,u)=>fa(RC(s),rh(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:1,bottom:2}),Wm),Ms=(s,a,u)=>fa(ol(s,a),rh(s,a),u.northwest(),sh(),"northwest",ma(s,{right:0,bottom:2}),Wm),Er=(s,a,u)=>fa(Bc(s,a),rh(s,a),u.north(),Ox(),"north",ma(s,{bottom:2}),Wm),Gr=(s,a,u)=>fa(Bc(s,a),vp(s),u.south(),OC(),"south",ma(s,{top:3}),Wm),d0=(s,a,u)=>fa((f=>f.x+f.width)(s),IC(s,a),u.east(),Dx(),"east",ma(s,{left:0}),Wm),f0=(s,a,u)=>fa(((f,p)=>f.x-p.width)(s,a),IC(s,a),u.west(),DC(),"west",ma(s,{right:1}),Wm),Rx=()=>[Nr,Pr,ti,Ms,Gr,Er,d0,f0],Qv=()=>[Pr,Nr,Ms,ti,Gr,Er,d0,f0],Ix=()=>[ti,Ms,Nr,Pr,Er,Gr],ih=()=>[Ms,ti,Pr,Nr,Er,Gr],m0=()=>[Nr,Pr,ti,Ms,Gr,Er],g0=()=>[Pr,Nr,Ms,ti,Gr,Er];var Nx=Object.freeze({__proto__:null,events:s=>fo([St(oc(),(a,u)=>{const f=s.channels,p=wn(f),b=u,w=((k,E)=>E.universal?k:Fn(k,D=>et(E.channels,D)))(p,b);Mt(w,k=>{const E=f[k],D=E.schema,F=Ea("channel["+k+`] data
Receiver: `+Fd(a.element),D,b.data);E.onReceive(a,F)})})])}),eb=[Zi("channels",Dv(Bo.value,xi([Yu("onReceive"),it("schema",Ml())])))];const yl=Ni({fields:eb,name:"receiving",active:Nx});var Px=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const za=(s,a=!1)=>s.dom.focus({preventScroll:a}),tb=s=>s.dom.blur(),ah=s=>{const a=ut(s).dom;return s.dom===a.activeElement},fu=(s=Pa())=>O.from(s.dom.activeElement).map(rn),qr=s=>fu(ut(s)).filter(a=>s.dom.contains(a.dom)),Zm=(s,a)=>{const u=ut(a),f=fu(u).bind(b=>{const w=k=>is(b,k);return w(a)?O.some(a):((k,E)=>{const D=F=>{for(let P=0;P<F.childNodes.length;P++){const z=rn(F.childNodes[P]);if(E(z))return O.some(z);const G=D(F.childNodes[P]);if(G.isSome())return G}return O.none()};return D(k.dom)})(a,w)}),p=s(a);return f.each(b=>{fu(u).filter(w=>is(w,b)).fold(()=>{za(b)},se)}),p},Mx=jl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Bx=(s,a,u,f,p,b)=>{const w=a.rect,k=w.x-u,E=w.y-f,D=p-(k+w.width),F=b-(E+w.height),P=O.some(k),z=O.some(E),G=O.some(D),X=O.some(F),ue=O.none();return a.direction.fold(()=>ji(s,P,z,ue,ue),()=>ji(s,ue,z,G,ue),()=>ji(s,P,ue,ue,X),()=>ji(s,ue,ue,G,X),()=>ji(s,P,z,ue,ue),()=>ji(s,P,ue,ue,X),()=>ji(s,P,z,ue,ue),()=>ji(s,ue,z,G,ue))},nb=(s,a)=>s.fold(()=>{const u=a.rect;return ji("absolute",O.some(u.x),O.some(u.y),O.none(),O.none())},(u,f,p,b)=>Bx("absolute",a,u,f,p,b),(u,f,p,b)=>Bx("fixed",a,u,f,p,b)),zd=(s,a)=>{const u=Ue(Td,a),f=s.fold(u,u,()=>{const w=Js();return Td(a).translate(-w.left,-w.top)}),p=Xa(a),b=_c(a);return Do(f.left,f.top,p,b)},pE=(s,a)=>a.fold(()=>s.fold(Ui,Ui,Do),u=>s.fold(ee(u),ee(u),()=>{const f=ob(s,u.x,u.y);return Do(f.left,f.top,u.width,u.height)})),ob=(s,a,u)=>{const f=Xs(a,u);return s.fold(ee(f),ee(f),()=>{const p=Js();return f.translate(-p.left,-p.top)})};Mx.none;const jm=Mx.relative,NC=Mx.fixed,sb="data-alloy-placement",rb=s=>Zo(s,sb),h0=jl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),bp=(s,a,u,f)=>{const p=s.bubble,b=p.offset,w=((ve,Ce,Ee)=>{const ze=(Ht,mn)=>Ce[Ht].map(kn=>{const Hn=Ht==="top"||Ht==="bottom",io=Hn?Ee.top:Ee.left,Lo=(Ht==="left"||Ht==="top"?Math.max:Math.min)(kn,mn)+io;return Hn?Pc(Lo,ve.y,ve.bottom):Pc(Lo,ve.x,ve.right)}).getOr(mn),ot=ze("left",ve.x),Et=ze("top",ve.y),_t=ze("right",ve.right),wt=ze("bottom",ve.bottom);return Do(ot,Et,_t-ot,wt-Et)})(f,s.restriction,b),k=s.x+b.left,E=s.y+b.top,D=Do(k,E,a,u),{originInBounds:F,sizeInBounds:P,visibleW:z,visibleH:G}=((ve,Ce)=>{const{x:Ee,y:ze,right:ot,bottom:Et}=Ce,{x:_t,y:wt,right:Ht,bottom:mn,width:kn,height:Hn}=ve;return{originInBounds:_t>=Ee&&_t<=ot&&wt>=ze&&wt<=Et,sizeInBounds:Ht<=ot&&Ht>=Ee&&mn<=Et&&mn>=ze,visibleW:Math.min(kn,_t>=Ee?ot-_t:Ht-Ee),visibleH:Math.min(Hn,wt>=ze?Et-wt:mn-ze)}})(D,w),X=F&&P,ue=X?D:((ve,Ce)=>{const{x:Ee,y:ze,right:ot,bottom:Et}=Ce,{x:_t,y:wt,width:Ht,height:mn}=ve,kn=Math.max(Ee,ot-Ht),Hn=Math.max(ze,Et-mn),io=Pc(_t,Ee,kn),Lo=Pc(wt,ze,Hn),tr=Math.min(io+Ht,ot)-io,mr=Math.min(Lo+mn,Et)-Lo;return Do(io,Lo,tr,mr)})(D,w),me=ue.width>0&&ue.height>0,{maxWidth:we,maxHeight:fe}=((ve,Ce,Ee)=>{const ze=ee(Ce.bottom-Ee.y),ot=ee(Ee.bottom-Ce.y),Et=((mn,kn,Hn,io)=>mn.fold(kn,kn,io,io,kn,io,Hn,Hn))(ve,ot,ot,ze),_t=ee(Ce.right-Ee.x),wt=ee(Ee.right-Ce.x);return{maxWidth:((mn,kn,Hn,io)=>mn.fold(kn,io,kn,io,Hn,Hn,kn,io))(ve,wt,wt,_t),maxHeight:Et}})(s.direction,ue,f),de={rect:ue,maxHeight:fe,maxWidth:we,direction:s.direction,placement:s.placement,classes:{on:p.classesOn,off:p.classesOff},layout:s.label,testY:E};return X||s.alwaysFit?h0.fit(de):h0.nofit(de,z,G,me)},p0=Le,Ha=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!1))(s,a,p0,u),Lx=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!0))(s,a,p0,u),Hd=gl,ib=["top","bottom","right","left"],Ju="data-alloy-transition-timer",ab=(s,a,u,f,p,b)=>{const w=((k,E,D)=>D.exists(F=>{const P=k.mode;return P==="all"||F[P]!==E[P]}))(f,p,b);if(w||((k,E)=>((D,F)=>To(F,P=>tl(D,P)))(k,E.classes))(s,f)){co(s,"position",u.position);const k=zd(a,s),E=nb(a,{...p,rect:k}),D=be(ib,F=>E[F]);((F,P)=>{const z=G=>parseFloat(G).toFixed(3);return fs(P,(G,X)=>!((ue,me,we=le)=>Kt(ue,me,we).getOr(ue.isNone()&&me.isNone()))(F[X].map(z),G.map(z))).isSome()})(u,D)&&(fl(s,D),w&&((F,P)=>{Kr(F,P.classes),Zo(F,Ju).each(z=>{clearTimeout(parseInt(z,10)),_o(F,Ju)}),((z,G)=>{const X=kc(),ue=kc();let me;const we=Ce=>{var Ee;const ze=(Ee=Ce.raw.pseudoElement)!==null&&Ee!==void 0?Ee:"";return is(Ce.target,z)&&Pu(ze)&&et(ib,Ce.raw.propertyName)},fe=Ce=>{if($(Ce)||we(Ce)){X.clear(),ue.clear();const Ee=Ce==null?void 0:Ce.raw.type;($(Ee)||Ee===Nv())&&(clearTimeout(me),_o(z,Ju),rc(z,G.classes))}},de=Ha(z,W1(),Ce=>{we(Ce)&&(de.unbind(),X.set(Ha(z,Nv(),fe)),ue.set(Ha(z,bC(),fe)))}),ve=(Ce=>{const Ee=_t=>{const wt=wr(Ce,_t).split(/\s*,\s*/);return Fn(wt,ul)},ze=_t=>{if(v(_t)&&/^[\d.]+/.test(_t)){const wt=parseFloat(_t);return Nu(_t,"ms")?wt:1e3*wt}return 0},ot=Ee("transition-delay"),Et=Ee("transition-duration");return _n(Et,(_t,wt,Ht)=>{const mn=ze(ot[Ht])+ze(wt);return Math.max(_t,mn)},0)})(z);requestAnimationFrame(()=>{me=setTimeout(fe,ve+17),sn(z,Ju,me)})})(F,P)})(s,f),Lu(s))}else rc(s,f.classes)},lb=(s,a)=>{((u,f)=>{const p=Jh.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);co(u,"max-height",p+"px")})(s,Math.floor(a))},Km=ee((s,a)=>{lb(s,a),Ya(s,{"overflow-x":"hidden","overflow-y":"auto"})}),lh=ee((s,a)=>{lb(s,a)}),Lc=(s,a,u)=>s[a]===void 0?u:s[a],cb=(s,a,u,f)=>{const p=((b,w,k,E)=>{ws(w,"max-height"),ws(w,"max-width");const D={width:Xa(F=w),height:_c(F)};var F;return((P,z,G,X,ue,me)=>{const we=X.width,fe=X.height,de=(ve,Ce,Ee,ze,ot)=>{const Et=ve(G,X,ue,P,me),_t=bp(Et,we,fe,me);return _t.fold(ee(_t),(wt,Ht,mn,kn)=>(ot===kn?mn>ze||Ht>Ee:!ot&&kn)?_t:h0.nofit(Ce,Ee,ze,ot))};return _n(z,(ve,Ce)=>{const Ee=Ue(de,Ce);return ve.fold(ee(ve),Ee)},h0.nofit({rect:G,maxHeight:X.height,maxWidth:X.width,direction:Xv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:G.y},-1,-1,!1)).fold(_e,_e)})(w,E.preference,b,D,k,E.bounds)})(s,a,u,f);return((b,w,k)=>{const E=nb(k.origin,w);k.transition.each(D=>{ab(b,k.origin,E,D,w,k.lastPlacement)}),zv(b,E)})(a,p,f),((b,w)=>{((k,E)=>{sn(k,sb,E)})(b,w.placement)})(a,p),((b,w)=>{const k=w.classes;rc(b,k.off),Kr(b,k.on)})(a,p),((b,w,k)=>{(0,k.maxHeightFunction)(b,w.maxHeight)})(a,p,f),((b,w,k)=>{(0,k.maxWidthFunction)(b,w.maxWidth)})(a,p,f),{layout:p.layout,placement:p.placement}},vE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ic=(s,a,u,f=1)=>{const p=s*f,b=a*f,w=E=>hn(u,E).getOr([]),k=(E,D,F)=>{const P=ae(vE,F);return{offset:Xs(E,D),classesOn:tn(F,w),classesOff:tn(P,w)}};return{southeast:()=>k(-s,a,["top","alignLeft"]),southwest:()=>k(s,a,["top","alignRight"]),south:()=>k(-s/2,a,["top","alignCentre"]),northeast:()=>k(-s,-a,["bottom","alignLeft"]),northwest:()=>k(s,-a,["bottom","alignRight"]),north:()=>k(-s/2,-a,["bottom","alignCentre"]),east:()=>k(s,-a/2,["valignCentre","left"]),west:()=>k(-s,-a/2,["valignCentre","right"]),insetNortheast:()=>k(p,b,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,b,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-b,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-b/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-b/2,["valignCentre","left","inset"])}},$d=()=>ic(0,0,{}),Fc=_e,Fx=(s,a)=>u=>Ci(u)==="rtl"?a:s,Ci=s=>wr(s,"direction")==="rtl"?"rtl":"ltr";var Vc;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Vc||(Vc={}));const xl="data-alloy-vertical-dir",bE=s=>Tx(s,a=>lr(a)&&Po(a,"data-alloy-vertical-dir")===Vc.BottomToTop),Pf=()=>Dr("layouts",[Ot("onLtr"),Ot("onRtl"),jo("onBottomLtr"),jo("onBottomRtl")]),Ud=(s,a,u,f,p,b,w)=>{const k=w.map(bE).getOr(!1),E=a.layouts.map(z=>z.onLtr(s)),D=a.layouts.map(z=>z.onRtl(s)),F=k?a.layouts.bind(z=>z.onBottomLtr.map(G=>G(s))).or(E).getOr(p):E.getOr(u),P=k?a.layouts.bind(z=>z.onBottomRtl.map(G=>G(s))).or(D).getOr(b):D.getOr(f);return Fx(F,P)(s)};var yp=[Ot("hotspot"),jo("bubble"),it("overrides",{}),Pf(),Ks("placement",(s,a,u)=>{const f=a.hotspot,p=zd(u,f.element),b=Ud(s.element,a,m0(),g0(),Ix(),ih(),O.some(a.hotspot.element));return O.some(Fc({anchorBox:p,bubble:a.bubble.getOr($d()),overrides:a.overrides,layouts:b}))})],Gm=[Ot("x"),Ot("y"),it("height",0),it("width",0),it("bubble",$d()),it("overrides",{}),Pf(),Ks("placement",(s,a,u)=>{const f=ob(u,a.x,a.y),p=Do(f.left,f.top,a.width,a.height),b=Ud(s.element,a,Rx(),Qv(),Rx(),Qv(),O.none());return O.some(Fc({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:b}))})];const Kl=jl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),v0=s=>s.fold(_e,(a,u,f)=>a.translate(-u,-f)),b0=s=>s.fold(_e,_e),ub=s=>_n(s,(a,u)=>a.translate(u.left,u.top),Xs(0,0)),y0=s=>{const a=Ye(s,b0);return ub(a)},PC=Kl.screen,db=Kl.absolute,Wd=(s,a,u)=>{const f=ri(s.element),p=Js(f),b=((w,k,E)=>{const D=Yc(E.root).dom;return O.from(D.frameElement).map(rn).filter(F=>{const P=ri(F),z=ri(w.element);return is(P,z)}).map(Nl)})(s,0,u).getOr(p);return db(b,p.left,p.top)},fb=(s,a,u,f)=>{const p=PC(Xs(s,a));return O.some(((b,w,k)=>({point:b,width:w,height:k}))(p,u,f))},ch=(s,a,u,f,p)=>s.map(b=>{const w=[a,b.point],k=(E=()=>y0(w),D=()=>y0(w),F=()=>(de=>{const ve=Ye(de,v0);return ub(ve)})(w),f.fold(E,D,F));var E,D,F;const P=(ue=k.left,me=k.top,we=b.width,fe=b.height,{x:ue,y:me,width:we,height:fe}),z=u.showAbove?Ix():m0(),G=u.showAbove?ih():g0(),X=Ud(p,u,z,G,z,G,O.none());var ue,me,we,fe;return Fc({anchorBox:P,bubble:u.bubble.getOr($d()),overrides:u.overrides,layouts:X})});var uh=[Ot("node"),Ot("root"),jo("bubble"),Pf(),it("overrides",{}),it("showAbove",!1),Ks("placement",(s,a,u)=>{const f=Wd(s,0,a);return a.node.filter(un).bind(p=>{const b=p.dom.getBoundingClientRect(),w=fb(b.left,b.top,b.width,b.height),k=a.node.getOr(s.element);return ch(w,f,a,u,k)})})];const Mf=(s,a,u,f)=>({start:s,soffset:a,finish:u,foffset:f}),Bf=jl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mb=(Bf.before,Bf.on,Bf.after,s=>s.fold(_e,_e,_e)),Lf=jl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ff={domRange:Lf.domRange,relative:Lf.relative,exact:Lf.exact,exactFromRange:s=>Lf.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const a=(u=>u.match({domRange:f=>rn(f.startContainer),relative:(f,p)=>mb(f),exact:(f,p,b,w)=>f}))(s);return Yc(a)},range:Mf},Vf=(s,a,u)=>{const f=s.document.createRange();var p;return p=f,a.fold(b=>{p.setStartBefore(b.dom)},(b,w)=>{p.setStart(b.dom,w)},b=>{p.setStartAfter(b.dom)}),((b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,E)=>{b.setEnd(k.dom,E)},k=>{b.setEndAfter(k.dom)})})(f,u),f},dh=(s,a,u,f,p)=>{const b=s.document.createRange();return b.setStart(a.dom,u),b.setEnd(f.dom,p),b},x0=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),xp=jl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),w0=(s,a,u)=>a(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset),Vx=(s,a)=>((u,f)=>{const p=((b,w)=>w.match({domRange:k=>({ltr:ee(k),rtl:O.none}),relative:(k,E)=>({ltr:oa(()=>Vf(b,k,E)),rtl:oa(()=>O.some(Vf(b,E,k)))}),exact:(k,E,D,F)=>({ltr:oa(()=>dh(b,k,E,D,F)),rtl:oa(()=>O.some(dh(b,D,F,k,E)))})}))(u,f);return((b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>xp.rtl(rn(E.endContainer),E.endOffset,rn(E.startContainer),E.startOffset)).getOrThunk(()=>w0(0,xp.ltr,k)):w0(0,xp.ltr,k)})(0,p)})(s,a).match({ltr:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(u.dom,f),w.setEnd(p.dom,b),w},rtl:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(p.dom,b),w.setEnd(u.dom,f),w}});xp.ltr,xp.rtl;const wp=(s,a,u)=>Fn(((f,p)=>{const b=Y(p)?p:ke;let w=f.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,D=rn(E);if(k.push(D),b(D)===!0)break;w=E}return k})(s,u),a),_i=(s,a)=>((u,f)=>{const p=f===void 0?document:f.dom;return uf(p)?[]:Ye(p.querySelectorAll(u),rn)})(a,s),zx=s=>{if(s.rangeCount>0){const a=s.getRangeAt(0),u=s.getRangeAt(s.rangeCount-1);return O.some(Mf(rn(a.startContainer),a.startOffset,rn(u.endContainer),u.endOffset))}return O.none()},MC=s=>{if(s.anchorNode===null||s.focusNode===null)return zx(s);{const a=rn(s.anchorNode),u=rn(s.focusNode);return((f,p,b,w)=>{const k=((D,F,P,z)=>{const G=ri(D).dom.createRange();return G.setStart(D.dom,F),G.setEnd(P.dom,z),G})(f,p,b,w),E=is(f,b)&&p===w;return k.collapsed&&!E})(a,s.anchorOffset,u,s.focusOffset)?O.some(Mf(a,s.anchorOffset,u,s.focusOffset)):zx(s)}},Hx=(s,a)=>(u=>{const f=u.getClientRects(),p=f.length>0?f[0]:u.getBoundingClientRect();return p.width>0||p.height>0?O.some(p).map(x0):O.none()})(Vx(s,a)),$x=((s,a)=>{const u=f=>s(f)?O.from(f.dom.nodeValue):O.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return u(f).getOr("")},getOption:u,set:(f,p)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=p}}})(Ca),zf=(s,a)=>({element:s,offset:a}),C0=(s,a)=>Ca(s)?zf(s,a):((u,f)=>{const p=Ns(u);if(p.length===0)return zf(u,f);if(f<p.length)return zf(p[f],0);{const b=p[p.length-1],w=Ca(b)?(k=>$x.get(k))(b).length:Ns(b).length;return zf(b,w)}})(s,a),gb=s=>s.foffset!==void 0,Ux=(s,a)=>a.getSelection.getOrThunk(()=>()=>(u=>(f=>O.from(f.getSelection()))(u).filter(f=>f.rangeCount>0).bind(MC))(s))().map(u=>{if(gb(u)){const f=C0(u.start,u.soffset),p=C0(u.finish,u.foffset);return Ff.range(f.element,f.offset,p.element,p.offset)}return u});var yE=[jo("getSelection"),Ot("root"),jo("bubble"),Pf(),it("overrides",{}),it("showAbove",!1),Ks("placement",(s,a,u)=>{const f=Yc(a.root).dom,p=Wd(s,0,a),b=Ux(f,a).bind(k=>{if(gb(k))return((D,F)=>(P=>{const z=P.getBoundingClientRect();return z.width>0||z.height>0?O.some(z).map(x0):O.none()})(Vx(D,F)))(f,Ff.exactFromRange(k)).orThunk(()=>{const D=Mu("\uFEFF");Ad(k.start,D);const F=Hx(f,Ff.exact(D,0,D,1));return $i(D),F}).bind(D=>fb(D.left,D.top,D.width,D.height));{const E=On(k,F=>F.dom.getBoundingClientRect()),D={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return fb(D.left,D.top,D.right-D.left,D.bottom-D.top)}}),w=Ux(f,a).bind(k=>gb(k)?lr(k.start)?O.some(k.start):Sa(k.start):O.some(k.firstCell)).getOr(s.element);return ch(b,p,a,u,w)})];const Hf="link-layout",hb=s=>s.x+s.width,BC=(s,a)=>s.x-a.width,LC=(s,a)=>s.y-a.height+s.height,mu=s=>s.y,Wx=(s,a,u)=>fa(hb(s),mu(s),u.southeast(),Xv(),"southeast",ma(s,{left:0,top:2}),Hf),_0=(s,a,u)=>fa(BC(s,a),mu(s),u.southwest(),oh(),"southwest",ma(s,{right:1,top:2}),Hf),FC=(s,a,u)=>fa(hb(s),LC(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:0,bottom:3}),Hf),fh=(s,a,u)=>fa(BC(s,a),LC(s,a),u.northwest(),sh(),"northwest",ma(s,{right:1,bottom:3}),Hf),Cp=()=>[Wx,_0,FC,fh],pb=()=>[_0,Wx,fh,FC];var VC=[Ot("item"),Pf(),it("overrides",{}),Ks("placement",(s,a,u)=>{const f=zd(u,a.item.element),p=Ud(s.element,a,Cp(),pb(),Cp(),pb(),O.none());return O.some(Fc({anchorBox:f,bubble:$d(),overrides:a.overrides,layouts:p}))})],gu=gi("type",{selection:yE,node:uh,hotspot:yp,submenu:VC,makeshift:Gm});const qm=[el("classes",wi),Ac("mode","all",["all","layout","placement"])],vb=[it("useFixed",ke),jo("getBounds")],bb=[Zi("anchor",gu),Dr("transition",qm)],S0=(s,a,u,f,p,b)=>{const w=Ea("placement.info",Wn(bb),p),k=w.anchor,E=f.element,D=u.get(f.uid);Zm(()=>{co(E,"position","fixed");const F=Hr(E,"visibility");co(E,"visibility","hidden");const P=a.useFixed()?(()=>{const z=document.documentElement;return NC(0,0,z.clientWidth,z.clientHeight)})():(z=>{const G=Nl(z.element),X=z.element.dom.getBoundingClientRect();return jm(G.left,G.top,X.width,X.height)})(s);k.placement(s,k,P).each(z=>{const G=b.orThunk(()=>a.getBounds.map(st)),X=((ue,me,we,fe,de,ve)=>((Ce,Ee,ze,ot,Et,_t,wt,Ht)=>{const mn=Lc(wt,"maxHeightFunction",Km()),kn=Lc(wt,"maxWidthFunction",se),Hn=Ce.anchorBox,io=Ce.origin,Lo={bounds:pE(io,_t),origin:io,preference:ot,maxHeightFunction:mn,maxWidthFunction:kn,lastPlacement:Et,transition:Ht};return cb(Hn,Ee,ze,Lo)})(((Ce,Ee)=>((ze,ot)=>({anchorBox:ze,origin:ot}))(Ce,Ee))(me.anchorBox,ue),fe.element,me.bubble,me.layouts,de,we,me.overrides,ve))(P,z,G,f,D,w.transition);u.set(f.uid,X)}),F.fold(()=>{ws(E,"visibility")},z=>{co(E,"visibility",z)}),Hr(E,"left").isNone()&&Hr(E,"top").isNone()&&Hr(E,"right").isNone()&&Hr(E,"bottom").isNone()&&or(Hr(E,"position"),"fixed")&&ws(E,"position")},E)};var yb=Object.freeze({__proto__:null,position:(s,a,u,f,p)=>{const b=O.none();S0(s,a,u,f,p,b)},positionWithinBounds:S0,getMode:(s,a,u)=>a.useFixed()?"fixed":"absolute",reset:(s,a,u,f)=>{const p=f.element;Mt(["position","left","right","top","bottom"],b=>ws(p,b)),(b=>{_o(b,sb)})(p),u.clear(f.uid)}});const ga=Ni({fields:vb,name:"positioning",active:Px,apis:yb,state:Object.freeze({__proto__:null,init:()=>{let s={};return Ii({readState:()=>s,clear:a=>{K(a)?delete s[a]:s={}},set:(a,u)=>{s[a]=u},get:a=>hn(s,a)})}})}),k0=s=>s.getSystem().isConnected(),Ym=s=>{ko(s,Oc());const a=s.components();Mt(a,Ym)},Xm=s=>{const a=s.components();Mt(a,Xm),ko(s,ua())},xb=(s,a)=>{s.getSystem().addToWorld(a),un(s.element)&&Xm(a)},E0=s=>{Ym(s),s.getSystem().removeFromWorld(s)},mh=(s,a)=>{Na(s.element,a.element)},$f=(s,a)=>{Zx(s,a,Na)},Zx=(s,a,u)=>{s.getSystem().addToWorld(a),u(s.element,a.element),un(s.element)&&Xm(a),s.syncComponents()},A0=s=>{Ym(s),$i(s.element),s.getSystem().removeFromWorld(s)},sl=s=>{const a=_a(s.element).bind(u=>s.getSystem().getByDom(u).toOptional());A0(s),a.each(u=>{u.syncComponents()})},Uf=s=>{const a=s.components();Mt(a,A0),ur(s.element),s.syncComponents()},jx=(s,a)=>{_p(s,a,Na)},xt=(s,a)=>{_p(s,a,Vg)},_p=(s,a,u)=>{u(s,a.element);const f=Ns(a.element);Mt(f,p=>{a.getByDom(p).each(Xm)})},xE=s=>{const a=Ns(s.element);Mt(a,u=>{s.getByDom(u).each(Ym)}),$i(s.element)},zC=(s,a,u,f)=>{u.get().each(w=>{Uf(s)});const p=a.getAttachPoint(s);$f(p,s);const b=s.getSystem().build(f);return $f(s,b),u.set(b),b},T0=(s,a,u,f)=>{const p=zC(s,a,u,f);return a.onOpen(s,p),p},hu=(s,a,u)=>{u.get().each(f=>{Uf(s),sl(s),a.onClose(s,f),u.clear()})},O0=(s,a,u)=>u.isOpen(),wb=(s,a,u)=>{const f=a.getAttachPoint(s);co(s.element,"position",ga.getMode(f)),((p,b,w,k)=>{Hr(p.element,b).fold(()=>{_o(p.element,w)},E=>{sn(p.element,w,E)}),co(p.element,b,"hidden")})(s,"visibility",a.cloakVisibilityAttr)},Kx=(s,a,u)=>{(f=>pt(["top","left","right","bottom"],p=>Hr(f,p).isSome()))(s.element)||ws(s.element,"position"),((f,p,b)=>{Zo(f.element,b).fold(()=>ws(f.element,p),w=>co(f.element,p,w))})(s,"visibility",a.cloakVisibilityAttr)};var Gx=Object.freeze({__proto__:null,cloak:wb,decloak:Kx,open:T0,openWhileCloaked:(s,a,u,f,p)=>{wb(s,a),T0(s,a,u,f),p(),Kx(s,a)},close:hu,isOpen:O0,isPartOf:(s,a,u,f)=>O0(0,0,u)&&u.get().exists(p=>a.isPartOf(s,p,f)),getState:(s,a,u)=>u.get(),setContent:(s,a,u,f)=>u.get().map(()=>zC(s,a,u,f))}),wE=Object.freeze({__proto__:null,events:(s,a)=>fo([St(Mv(),(u,f)=>{hu(u,s,a)})])}),y=[Xo("onOpen"),Xo("onClose"),Ot("isPartOf"),Ot("getAttachPoint"),it("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=Es(),a=ee("not-implemented");return Ii({readState:a,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const T=Ni({fields:y,name:"sandboxing",active:wE,apis:Gx,state:_}),B=ee("dismiss.popups"),H=ee("reposition.popups"),U=ee("mouse.released"),te=xi([it("isExtraPart",ke),Dr("fireEventInstead",[it("event",Zg())])]),ie=s=>{const a=Ea("Dismissal",te,s);return{[B()]:{schema:xi([Ot("target")]),onReceive:(u,f)=>{T.isOpen(u)&&(T.isPartOf(u,f.target)||a.isExtraPart(u,f.target)||a.fireEventInstead.fold(()=>T.close(u),p=>ko(u,p.event)))}}}},ye=xi([Dr("fireEventInstead",[it("event",kf())]),La("doReposition")]),Ie=s=>{const a=Ea("Reposition",ye,s);return{[H()]:{onReceive:u=>{T.isOpen(u)&&a.fireEventInstead.fold(()=>a.doReposition(u),f=>ko(u,f.event))}}}},Ze=(s,a,u)=>{a.store.manager.onLoad(s,a,u)},De=(s,a,u)=>{a.store.manager.onUnload(s,a,u)};var Pe=Object.freeze({__proto__:null,onLoad:Ze,onUnload:De,setValue:(s,a,u,f)=>{a.store.manager.setValue(s,a,u,f)},getValue:(s,a,u)=>a.store.manager.getValue(s,a,u),getState:(s,a,u)=>u}),Ve=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.resetOnDom?[sr((f,p)=>{Ze(f,s,a)}),qu((f,p)=>{De(f,s,a)})]:[Lv(s,a,Ze)];return fo(u)}});const rt=()=>{const s=Bn(null);return Ii({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},at=()=>{const s=Bn({}),a=Bn({});return Ii({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:a.get()}),lookup:u=>hn(s.get(),u).orThunk(()=>hn(a.get(),u)),update:u=>{const f=s.get(),p=a.get(),b={},w={};Mt(u,k=>{b[k.value]=k,hn(k,"meta").each(E=>{hn(E,"text").each(D=>{w[D]=k})})}),s.set({...f,...b}),a.set({...p,...w})},clear:()=>{s.set({}),a.set({})}})};var Tt=Object.freeze({__proto__:null,memory:rt,dataset:at,manual:()=>Ii({readState:se}),init:s=>s.store.manager.state(s)});const Rt=(s,a,u,f)=>{const p=a.store;u.update([f]),p.setValue(s,f),a.onSetValue(s,f)};var At=[jo("initialValue"),Ot("getFallbackEntry"),Ot("getDataKey"),Ot("setValue"),Ks("manager",{setValue:Rt,getValue:(s,a,u)=>{const f=a.store,p=f.getDataKey(s);return u.lookup(p).getOrThunk(()=>f.getFallbackEntry(p))},onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{Rt(s,a,u,f)})},onUnload:(s,a,u)=>{u.clear()},state:at})],Pt=[Ot("getValue"),it("setValue",se),jo("initialValue"),Ks("manager",{setValue:(s,a,u,f)=>{a.store.setValue(s,f),a.onSetValue(s,f)},getValue:(s,a,u)=>a.store.getValue(s),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{a.store.setValue(s,f)})},onUnload:se,state:Ic.init})],Gt=[jo("initialValue"),Ks("manager",{setValue:(s,a,u,f)=>{u.set(f),a.onSetValue(s,f)},getValue:(s,a,u)=>u.get(),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{u.isNotSet()&&u.set(f)})},onUnload:(s,a,u)=>{u.clear()},state:rt})],Qt=[Fa("store",{mode:"memory"},gi("mode",{memory:Gt,manual:Pt,dataset:At})),Xo("onSetValue"),it("resetOnDom",!1)];const lt=Ni({fields:Qt,name:"representing",active:Ve,apis:Pe,extra:{setValueFrom:(s,a)=>{const u=lt.getValue(a);lt.setValue(s,u)}},state:Tt}),yn=(s,a)=>Va(s,{},Ye(a,u=>{return f=u.name(),p="Cannot configure "+u.name()+" for "+s,ai(f,f,{tag:"option",process:{}},zu(b=>Ja("The field: "+f+" is forbidden. "+p)));var f,p}).concat([Wi("dump",_e)])),Yn=s=>s.dump,yo=(s,a)=>({...Zt(a),...s.dump}),so=yn,Xn=yo,bo="placeholder",Ko=jl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ni=s=>Eo(s,"uiType"),Ta=(s,a,u,f)=>((p,b,w,k)=>ni(w)&&w.uiType===bo?((E,D,F,P)=>E.exists(z=>z!==F.owner)?Ko.single(!0,ee(F)):hn(P,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+wn(P)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},z=>z.replace()))(p,0,w,k):Ko.single(!1,ee(w)))(s,0,u,f).fold((p,b)=>{const w=ni(u)?b(a,u.config,u.validated):b(a),k=hn(w,"components").getOr([]),E=tn(k,D=>Ta(s,a,D,f));return[{...w,components:E}]},(p,b)=>{if(ni(u)){const w=b(a,u.config,u.validated);return u.validated.preprocess.getOr(_e)(w)}return b(a)}),Gi=Ko.single,ac=Ko.multiple,Jm=ee(bo),Oa=jl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Qu=it("factory",{sketch:_e}),Sp=it("schema",[]),Wf=Ot("name"),kp=ai("pname","pname",Hg(s=>"<alloy."+bn(s.name)+">"),Ml()),D0=Wi("schema",()=>[jo("preprocess")]),Zf=it("defaults",ee({})),HC=it("overrides",ee({})),w8=Wn([Qu,Sp,Wf,kp,Zf,HC]),C8=Wn([Qu,Sp,Wf,Zf,HC]),LD=Wn([Qu,Sp,Wf,kp,Zf,HC]),xn=Wn([Qu,D0,Wf,Ot("unit"),kp,Zf,HC]),qx=s=>s.fold(O.some,O.none,O.some,O.some),CE=s=>{const a=u=>u.name;return s.fold(a,a,a,a)},$C=(s,a)=>u=>{const f=Ea("Converting part type",a,u);return s(f)},wl=$C(Oa.required,w8),Zd=$C(Oa.external,C8),pu=$C(Oa.optional,LD),UC=$C(Oa.group,xn),_E=ee("entirety");var FD=Object.freeze({__proto__:null,required:wl,external:Zd,optional:pu,group:UC,asNamedPart:qx,name:CE,asCommon:s=>s.fold(_e,_e,_e,_e),original:_E});const SE=(s,a,u,f)=>Ps(a.defaults(s,u,f),u,{uid:s.partUids[a.name]},a.overrides(s,u,f)),rl=(s,a)=>{const u={};return Mt(a,f=>{qx(f).each(p=>{const b=Yx(s,p.pname);u[p.name]=w=>{const k=Ea("Part: "+p.name+" in "+s,Wn(p.schema),w);return{...b,config:w,validated:k}}})}),u},Yx=(s,a)=>({uiType:Jm(),owner:s,name:a}),kE=(s,a,u)=>({uiType:Jm(),owner:s,name:a,config:u,validated:{}}),VD=s=>tn(s,a=>a.fold(O.none,O.some,O.none,O.none).map(u=>Ec(u.name,u.schema.concat([Gv(_E())]))).toArray()),zD=s=>Ye(s,CE),EE=(s,a,u)=>((f,p,b)=>{const w={},k={};return Mt(b,E=>{E.fold(D=>{w[D.pname]=Gi(!0,(F,P,z)=>D.factory.sketch(SE(F,D,P,z)))},D=>{const F=p.parts[D.name];k[D.name]=ee(D.factory.sketch(SE(p,D,F[_E()]),F))},D=>{w[D.pname]=Gi(!1,(F,P,z)=>D.factory.sketch(SE(F,D,P,z)))},D=>{w[D.pname]=ac(!0,(F,P,z)=>{const G=F[D.name];return Ye(G,X=>D.factory.sketch(Ps(D.defaults(F,X,z),X,D.overrides(F,X))))})})}),{internals:ee(w),externals:ee(k)}})(0,a,u),AE=(s,a,u)=>((f,p,b,w)=>{const k=On(w,(D,F)=>((P,z)=>{let G=!1;return{name:ee(P),required:()=>z.fold((X,ue)=>X,(X,ue)=>X),used:()=>G,replace:()=>{if(G)throw new Error("Trying to use the same placeholder more than once: "+P);return G=!0,z}}})(F,D)),E=((D,F,P,z)=>tn(P,G=>Ta(D,F,G,z)))(f,p,b,k);return An(k,D=>{if(D.used()===!1&&D.required())throw new Error("Placeholder: "+D.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(O.some(s),a,a.components,u),qs=(s,a,u)=>{const f=a.partUids[u];return s.getSystem().getByUid(f).toOptional()},gh=(s,a,u)=>qs(s,a,u).getOrDie("Could not find part: "+u),HD=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=ee(b.getByUid(p[w]))}),f},TE=(s,a)=>{const u=s.getSystem();return On(a.partUids,(f,p)=>ee(u.getByUid(f)))},$D=s=>wn(s.partUids),OE=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=ee(b.getByUid(p[w]).getOrDie())}),f},UD=(s,a)=>{const u=zD(a);return Nd(Ye(u,f=>({key:f,value:s+"-"+f})))},DE=s=>ai("partUids","partUids",Yo(a=>UD(a.uid,s)),Ml());var _8=Object.freeze({__proto__:null,generate:rl,generateOne:kE,schemas:VD,names:zD,substitutes:EE,components:AE,defaultUids:UD,defaultUidsSchema:DE,getAllParts:TE,getAllPartNames:$D,getPart:qs,getPartOrDie:gh,getParts:HD,getPartsOrDie:OE});const WD=(s,a,u,f,p)=>{const b=((w,k)=>(w.length>0?[Ec("parts",w)]:[]).concat([Ot("uid"),it("dom",{}),it("components",[]),Gv("originalSpec"),it("debug.sketcher",{})]).concat(k))(f,p);return Ea(s+" [SpecSchema]",xi(b.concat(a)),u)},Xx=(s,a,u,f,p)=>{const b=RE(p),w=VD(u),k=DE(u),E=WD(s,a,b,w,[k]),D=EE(0,E,u);return f(E,AE(s,E,D.internals()),b,D.externals())},RE=s=>(a=>Eo(a,"uid"))(s)?s:{...s,uid:Mc("uid")},S8=xi([Ot("name"),Ot("factory"),Ot("configFields"),it("apis",{}),it("extraApis",{})]),ZD=xi([Ot("name"),Ot("factory"),Ot("configFields"),Ot("partFields"),it("apis",{}),it("extraApis",{})]),vu=s=>{const a=Ea("Sketcher for "+s.name,S8,s),u=On(a.apis,r0),f=On(a.extraApis,(p,b)=>sc(p,b));return{name:a.name,configFields:a.configFields,sketch:p=>((b,w,k,E)=>{const D=RE(E);return k(WD(b,w,D,[],[]),D)})(a.name,a.configFields,a.factory,p),...u,...f}},Bl=s=>{const a=Ea("Sketcher for "+s.name,ZD,s),u=rl(a.name,a.partFields),f=On(a.apis,r0),p=On(a.extraApis,(b,w)=>sc(b,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:b=>Xx(a.name,a.configFields,a.partFields,a.factory,b),parts:u,...f,...p}},R0=s=>Gc("input")(s)&&Po(s,"type")!=="radio"||Gc("textarea")(s);var jD=Object.freeze({__proto__:null,getCurrent:(s,a,u)=>a.find(s)});const k8=[Ot("find")],ns=Ni({fields:k8,name:"composing",apis:jD}),KD=["input","button","textarea","select"],GD=(s,a,u)=>{(a.disabled()?Jx:NE)(s,a)},IE=(s,a)=>a.useNative===!0&&et(KD,Ga(s.element)),qD=s=>{sn(s.element,"disabled","disabled")},E8=s=>{_o(s.element,"disabled")},I0=s=>{sn(s.element,"aria-disabled","true")},A8=s=>{sn(s.element,"aria-disabled","false")},Jx=(s,a,u)=>{a.disableClass.each(f=>{kr(s.element,f)}),(IE(s,a)?qD:I0)(s),a.onDisabled(s)},NE=(s,a,u)=>{a.disableClass.each(f=>{Ir(s.element,f)}),(IE(s,a)?E8:A8)(s),a.onEnabled(s)},N0=(s,a)=>IE(s,a)?(u=>Tr(u.element,"disabled"))(s):(u=>Po(u.element,"aria-disabled")==="true")(s);var T8=Object.freeze({__proto__:null,enable:NE,disable:Jx,isDisabled:N0,onLoad:GD,set:(s,a,u,f)=>{(f?Jx:NE)(s,a)}}),O8=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({classes:a.disabled()?a.disableClass.toArray():[]}),events:(s,a)=>fo([lp(pl(),(u,f)=>N0(u,s)),Lv(s,a,GD)])}),D8=[Qs("disabled",ke),it("useNative",!0),jo("disableClass"),Xo("onDisabled"),Xo("onEnabled")];const ro=Ni({fields:D8,name:"disabling",active:O8,apis:T8}),YD=(s,a,u,f)=>{const p=_i(s.element,"."+a.highlightClass);Mt(p,b=>{pt(f,w=>is(w.element,b))||(Ir(b,a.highlightClass),s.getSystem().getByDom(b).each(w=>{a.onDehighlight(s,w),ko(w,Ef())}))})},Cb=(s,a,u,f)=>{YD(s,a,0,[f]),PE(s,a,u,f)||(kr(f.element,a.highlightClass),a.onHighlight(s,f),ko(f,ix()))},PE=(s,a,u,f)=>tl(f.element,a.highlightClass),XD=(s,a,u)=>fr(s.element,"."+a.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),JD=(s,a,u)=>{const f=_i(s.element,"."+a.itemClass);return(f.length>0?O.some(f[f.length-1]):O.none()).bind(p=>s.getSystem().getByDom(p).toOptional())},QD=(s,a,u,f)=>{const p=_i(s.element,"."+a.itemClass);return xs(p,b=>tl(b,a.highlightClass)).bind(b=>{const w=Vm(b,f,0,p.length-1);return s.getSystem().getByDom(p[w]).toOptional()})},e5=(s,a,u)=>{const f=_i(s.element,"."+a.itemClass);return ea(Ye(f,p=>s.getSystem().getByDom(p).toOptional()))};var R8=Object.freeze({__proto__:null,dehighlightAll:(s,a,u)=>YD(s,a,0,[]),dehighlight:(s,a,u,f)=>{PE(s,a,u,f)&&(Ir(f.element,a.highlightClass),a.onDehighlight(s,f),ko(f,Ef()))},highlight:Cb,highlightFirst:(s,a,u)=>{XD(s,a).each(f=>{Cb(s,a,u,f)})},highlightLast:(s,a,u)=>{JD(s,a).each(f=>{Cb(s,a,u,f)})},highlightAt:(s,a,u,f)=>{((p,b,w,k)=>{const E=_i(p.element,"."+b.itemClass);return O.from(E[k]).fold(()=>Bo.error(new Error("No element found with index "+k)),p.getSystem().getByDom)})(s,a,0,f).fold(p=>{throw p},p=>{Cb(s,a,u,p)})},highlightBy:(s,a,u,f)=>{const p=e5(s,a);J(p,f).each(b=>{Cb(s,a,u,b)})},isHighlighted:PE,getHighlighted:(s,a,u)=>fr(s.element,"."+a.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:XD,getLast:JD,getPrevious:(s,a,u)=>QD(s,a,0,-1),getNext:(s,a,u)=>QD(s,a,0,1),getCandidates:e5}),t5=[Ot("highlightClass"),Ot("itemClass"),Xo("onHighlight"),Xo("onDehighlight")];const Ss=Ni({fields:t5,name:"highlighting",apis:R8}),n5=[8],jd=[9],Qm=[13],WC=[27],zc=[32],ZC=[37],P0=[38],Qx=[39],M0=[40],I8=(s,a,u)=>{const f=je(s.slice(0,a)),p=je(s.slice(a+1));return J(f.concat(p),u)},N8=(s,a,u)=>{const f=je(s.slice(0,a));return J(f,u)},P8=(s,a,u)=>{const f=s.slice(0,a),p=s.slice(a+1);return J(p.concat(f),u)},M8=(s,a,u)=>{const f=s.slice(a+1);return J(f,u)},as=s=>a=>{const u=a.raw;return et(s,u.which)},jf=s=>a=>To(s,u=>u(a)),eg=s=>s.raw.shiftKey===!0,B8=s=>s.raw.ctrlKey===!0,e2=We(eg),ms=(s,a)=>({matches:s,classification:a}),o5=(s,a,u)=>{a.exists(f=>u.exists(p=>is(p,f)))||Rn(s,Z1(),{prevFocus:a,newFocus:u})},ME=()=>{const s=a=>qr(a.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().triggerFocus(u,a.element);const p=s(a);o5(a,f,p)}}},L8=()=>{const s=a=>Ss.getHighlighted(a).map(u=>u.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().getByDom(u).fold(se,b=>{Ss.highlight(a,b)});const p=s(a);o5(a,f,p)}}};var _b;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(_b||(_b={}));const Sb=(s,a,u,f,p)=>{const b=(k,E,D,F,P)=>{return(z=D(k,E,F,P),G=E.event,J(z,X=>X.matches(G)).map(X=>X.classification)).bind(X=>X(k,E,F,P));var z,G},w={schema:()=>s.concat([it("focusManager",ME()),Fa("focusInside","onFocus",xf(k=>et(["onFocus","onEnterOrSpace","onApi"],k)?Bo.value(k):Bo.error("Invalid value for focusInside"))),Ks("handler",w),Ks("state",a),Ks("sendFocusIn",p)]),processKey:b,toEvents:(k,E)=>{const D=k.focusInside!==_b.OnFocusMode?O.none():p(k).map(P=>St(Gu(),(z,G)=>{P(z,k,E),G.stop()})),F=[St(Sr(),(P,z)=>{b(P,z,u,k,E).fold(()=>{((G,X)=>{const ue=as(zc.concat(Qm))(X.event);k.focusInside===_b.OnEnterOrSpaceMode&&ue&&Rv(G,X)&&p(k).each(me=>{me(G,k,E),X.stop()})})(P,z)},G=>{z.stop()})}),St(Tc(),(P,z)=>{b(P,z,f,k,E).each(G=>{z.stop()})})];return fo(D.toArray().concat(F))}};return w},s5=s=>{const a=[jo("onEscape"),jo("onEnter"),it("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),it("firstTabstop",0),it("useTabstopAt",Le),jo("visibilitySelector")].concat([s]),u=(F,P)=>{const z=F.visibilitySelector.bind(G=>Xu(P,G)).getOr(P);return Or(z)>0},f=(F,P)=>P.focusManager.get(F).bind(z=>Xu(z,P.selector)),p=(F,P,z)=>{((G,X)=>{const ue=_i(G.element,X.selector),me=Fn(ue,we=>u(X,we));return O.from(me[X.firstTabstop])})(F,P).each(G=>{P.focusManager.set(F,G)})},b=(F,P,z,G)=>{const X=_i(F.element,z.selector);return f(F,z).bind(ue=>xs(X,Ue(is,ue)).bind(me=>((we,fe,de,ve,Ce)=>Ce(fe,de,Ee=>((ze,ot)=>u(ze,ot)&&ze.useTabstopAt(ot))(ve,Ee)).fold(()=>ve.cyclic?O.some(!0):O.none(),Ee=>(ve.focusManager.set(we,Ee),O.some(!0))))(F,X,me,z,G)))},w=(F,P,z)=>{const G=z.cyclic?I8:N8;return b(F,0,z,G)},k=(F,P,z)=>{const G=z.cyclic?P8:M8;return b(F,0,z,G)},E=ee([ms(jf([eg,as(jd)]),w),ms(as(jd),k),ms(jf([e2,as(Qm)]),(F,P,z)=>z.onEnter.bind(G=>G(F,P)))]),D=ee([ms(as(WC),(F,P,z)=>z.onEscape.bind(G=>G(F,P))),ms(as(jd),(F,P,z)=>f(F,z).filter(G=>!z.useTabstopAt(G)).bind(G=>((X=>(ue=>_a(ue))(X).bind(Te).exists(ue=>is(ue,X)))(G)?w:k)(F,P,z)))]);return Sb(a,Ic.init,E,D,()=>O.some(p))};var F8=s5(Wi("cyclic",ke)),V8=s5(Wi("cyclic",Le));const t2=(s,a,u)=>R0(u)&&as(zc)(a.event)?O.none():((f,p,b)=>(pr(f,b,pl()),O.some(!0)))(s,0,u),kb=(s,a)=>O.some(!0),z8=[it("execute",t2),it("useSpace",!1),it("useEnter",!0),it("useControlEnter",!1),it("useDown",!1)],r5=(s,a,u)=>u.execute(s,a,s.element);var H8=Sb(z8,Ic.init,(s,a,u,f)=>{const p=u.useSpace&&!R0(s.element)?zc:[],b=u.useEnter?Qm:[],w=u.useDown?M0:[],k=p.concat(b).concat(w);return[ms(as(k),r5)].concat(u.useControlEnter?[ms(jf([B8,as(Qm)]),r5)]:[])},(s,a,u,f)=>u.useSpace&&!R0(s.element)?[ms(as(zc),kb)]:[],()=>O.none());const i5=()=>{const s=Es();return Ii({readState:()=>s.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,u)=>{s.set({numRows:a,numColumns:u})},getNumRows:()=>s.get().map(a=>a.numRows),getNumColumns:()=>s.get().map(a=>a.numColumns)})};var a5=Object.freeze({__proto__:null,flatgrid:i5,init:s=>s.state(s)});const l5=s=>(a,u,f,p)=>{const b=s(a.element);return c5(b,a,u,f,p)},BE=(s,a)=>{const u=Fx(s,a);return l5(u)},LE=(s,a)=>{const u=Fx(a,s);return l5(u)},FE=s=>(a,u,f,p)=>c5(s,a,u,f,p),c5=(s,a,u,f,p)=>f.focusManager.get(a).bind(b=>s(a.element,b,f,p)).map(b=>(f.focusManager.set(a,b),!0)),VE=FE,u5=FE,jC=FE,d5=s=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(s.dom),zE=(s,a,u)=>{const f=_i(s,u);return((p,b)=>xs(p,w=>is(w,a)).map(w=>({index:w,candidates:p})))(Fn(f,d5))},KC=(s,a)=>xs(s,u=>is(a,u)),f5=(s,a,u,f)=>f(Math.floor(a/u),a%u).bind(p=>{const b=p.row*u+p.column;return b>=0&&b<s.length?O.some(s[b]):O.none()}),m5=(s,a,u,f,p)=>f5(s,a,f,(b,w)=>{const k=b===u-1?s.length-b*f:f,E=Vm(w,p,0,k-1);return O.some({row:b,column:E})}),g5=(s,a,u,f,p)=>f5(s,a,f,(b,w)=>{const k=Vm(b,p,0,u-1),E=k===u-1?s.length-k*f:f,D=Pc(w,0,E-1);return O.some({row:k,column:D})}),$8=[Ot("selector"),it("execute",t2),vl("onEscape"),it("captureTab",!1),kC()],h5=(s,a,u)=>{fr(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},n2=s=>(a,u,f,p)=>zE(a,u,f.selector).bind(b=>s(b.candidates,b.index,p.getNumRows().getOr(f.initSize.numRows),p.getNumColumns().getOr(f.initSize.numColumns))),HE=(s,a,u)=>u.captureTab?O.some(!0):O.none(),$E=n2((s,a,u,f)=>m5(s,a,u,f,-1)),UE=n2((s,a,u,f)=>m5(s,a,u,f,1)),U8=n2((s,a,u,f)=>g5(s,a,u,f,-1)),W8=n2((s,a,u,f)=>g5(s,a,u,f,1)),Z8=ee([ms(as(ZC),BE($E,UE)),ms(as(Qx),LE($E,UE)),ms(as(P0),VE(U8)),ms(as(M0),u5(W8)),ms(jf([eg,as(jd)]),HE),ms(jf([e2,as(jd)]),HE),ms(as(zc.concat(Qm)),(s,a,u,f)=>((p,b)=>b.focusManager.get(p).bind(w=>Xu(w,b.selector)))(s,u).bind(p=>u.execute(s,a,p)))]),j8=ee([ms(as(WC),(s,a,u)=>u.onEscape(s,a)),ms(as(zc),kb)]);var K8=Sb($8,i5,Z8,j8,()=>O.some(h5));const Ep=(s,a,u,f,p)=>{const b=(w,k,E)=>p(w,k,f,0,E.length-1,E[k],D=>{return F=E[D],Ga(F)==="button"&&Po(F,"disabled")==="disabled"?b(w,D,E):O.from(E[D]);var F});return zE(s,u,a).bind(w=>{const k=w.index,E=w.candidates;return b(k,k,E)})},p5=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,D,F)=>{const P=Pc(b+w,k,E);return P===p?O.from(D):F(P)}),GC=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,D,F)=>{const P=Vm(b,w,k,E);return P===p?O.none():F(P)}),G8=[Ot("selector"),it("getInitial",O.none),it("execute",t2),vl("onEscape"),it("executeOnMove",!1),it("allowVertical",!0),it("allowHorizontal",!0),it("cycles",!0)],WE=(s,a,u)=>((f,p)=>p.focusManager.get(f).bind(b=>Xu(b,p.selector)))(s,u).bind(f=>u.execute(s,a,f)),v5=(s,a,u)=>{a.getInitial(s).orThunk(()=>fr(s.element,a.selector)).each(f=>{a.focusManager.set(s,f)})},b5=(s,a,u)=>(u.cycles?GC:p5)(s,u.selector,a,-1),y5=(s,a,u)=>(u.cycles?GC:p5)(s,u.selector,a,1),ZE=s=>(a,u,f,p)=>s(a,u,f,p).bind(()=>f.executeOnMove?WE(a,u,f):O.some(!0)),o2=ee([ms(as(zc),kb),ms(as(WC),(s,a,u)=>u.onEscape(s,a))]);var s2=Sb(G8,Ic.init,(s,a,u,f)=>{const p=[...u.allowHorizontal?ZC:[]].concat(u.allowVertical?P0:[]),b=[...u.allowHorizontal?Qx:[]].concat(u.allowVertical?M0:[]);return[ms(as(p),ZE(BE(b5,y5))),ms(as(b),ZE(LE(b5,y5))),ms(as(Qm),WE),ms(as(zc),WE)]},o2,()=>O.some(v5));const qC=(s,a,u)=>O.from(s[a]).bind(f=>O.from(f[u]).map(p=>({rowIndex:a,columnIndex:u,cell:p}))),YC=(s,a,u,f)=>{const p=s[a].length,b=Vm(u,f,0,p-1);return qC(s,a,b)},x5=(s,a,u,f)=>{const p=Vm(u,f,0,s.length-1),b=s[p].length,w=Pc(a,0,b-1);return qC(s,p,w)},jE=(s,a,u,f)=>{const p=s[a].length,b=Pc(u+f,0,p-1);return qC(s,a,b)},KE=(s,a,u,f)=>{const p=Pc(u+f,0,s.length-1),b=s[p].length,w=Pc(a,0,b-1);return qC(s,p,w)},w5=[Ec("selectors",[Ot("row"),Ot("cell")]),it("cycles",!0),it("previousSelector",O.none),it("execute",t2)],q8=(s,a,u)=>{a.previousSelector(s).orThunk(()=>{const f=a.selectors;return fr(s.element,f.cell)}).each(f=>{a.focusManager.set(s,f)})},XC=(s,a)=>(u,f,p)=>{const b=p.cycles?s:a;return Xu(f,p.selectors.row).bind(w=>{const k=_i(w,p.selectors.cell);return KC(k,f).bind(E=>{const D=_i(u,p.selectors.row);return KC(D,w).bind(F=>{const P=((z,G)=>Ye(z,X=>_i(X,G.selectors.cell)))(D,p);return b(P,F,E).map(z=>z.cell)})})})},C5=XC((s,a,u)=>YC(s,a,u,-1),(s,a,u)=>jE(s,a,u,-1)),Eb=XC((s,a,u)=>YC(s,a,u,1),(s,a,u)=>jE(s,a,u,1)),Ab=XC((s,a,u)=>x5(s,u,a,-1),(s,a,u)=>KE(s,u,a,-1)),JC=XC((s,a,u)=>x5(s,u,a,1),(s,a,u)=>KE(s,u,a,1)),r2=ee([ms(as(ZC),BE(C5,Eb)),ms(as(Qx),LE(C5,Eb)),ms(as(P0),VE(Ab)),ms(as(M0),u5(JC)),ms(as(zc.concat(Qm)),(s,a,u)=>qr(s.element).bind(f=>u.execute(s,a,f)))]),Y8=ee([ms(as(zc),kb)]);var Ap=Sb(w5,Ic.init,r2,Y8,()=>O.some(q8));const tg=[Ot("selector"),it("execute",t2),it("moveOnTab",!1)],QC=(s,a,u)=>u.focusManager.get(s).bind(f=>u.execute(s,a,f)),_5=(s,a,u)=>{fr(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},S5=(s,a,u)=>GC(s,u.selector,a,-1),GE=(s,a,u)=>GC(s,u.selector,a,1),i2=ee([ms(as(P0),jC(S5)),ms(as(M0),jC(GE)),ms(jf([eg,as(jd)]),(s,a,u,f)=>u.moveOnTab?jC(S5)(s,a,u,f):O.none()),ms(jf([e2,as(jd)]),(s,a,u,f)=>u.moveOnTab?jC(GE)(s,a,u,f):O.none()),ms(as(Qm),QC),ms(as(zc),QC)]),a2=ee([ms(as(zc),kb)]);var qE=Sb(tg,Ic.init,i2,a2,()=>O.some(_5));const k5=[vl("onSpace"),vl("onEnter"),vl("onShiftEnter"),vl("onLeft"),vl("onRight"),vl("onTab"),vl("onShiftTab"),vl("onUp"),vl("onDown"),vl("onEscape"),it("stopSpaceKeyup",!1),jo("focusIn")];var l2=Sb(k5,Ic.init,(s,a,u)=>[ms(as(zc),u.onSpace),ms(jf([e2,as(Qm)]),u.onEnter),ms(jf([eg,as(Qm)]),u.onShiftEnter),ms(jf([eg,as(jd)]),u.onShiftTab),ms(jf([e2,as(jd)]),u.onTab),ms(as(P0),u.onUp),ms(as(M0),u.onDown),ms(as(ZC),u.onLeft),ms(as(Qx),u.onRight),ms(as(zc),u.onSpace)],(s,a,u)=>[...u.stopSpaceKeyup?[ms(as(zc),kb)]:[],ms(as(WC),u.onEscape)],s=>s.focusIn);const e_=F8.schema(),X8=V8.schema(),YE=s2.schema(),t_=K8.schema(),$a=Ap.schema(),J8=H8.schema(),ng=qE.schema(),E5=l2.schema(),Nn=CC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:e_,cyclic:X8,flow:YE,flatgrid:t_,matrix:$a,execution:J8,menu:ng,special:E5}),name:"keying",active:{events:(s,a)=>s.handler.toEvents(s,a)},apis:{focusIn:(s,a,u)=>{a.sendFocusIn(a).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,a,u)})},setGridSize:(s,a,u,f,p)=>{(b=>vo(b,"setGridSize"))(u)?u.setGridSize(f,p):console.error("Layout does not support setGridSize")}},state:a5}),Tb=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components();(E=>{Mt(E.components(),D=>$i(D.element)),ur(E.element),E.syncComponents()})(u);const w=p(f),k=ae(b,w);Mt(k,E=>{Ym(E),u.getSystem().removeFromWorld(E)}),Mt(w,E=>{k0(E)?mh(u,E):(u.getSystem().addToWorld(E),mh(u,E),un(u.element)&&Xm(E))}),u.syncComponents()})(s,a,()=>Ye(a,s.getSystem().build))},s.element)},XE=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components(),w=tn(f,D=>Cx(D).toArray());Mt(b,D=>{et(w,D)||E0(D)});const k=((D,F,P)=>AC(D,F,(z,G)=>Ex(D,G,z,P)))(s.element,a,s.getSystem().buildOrPatch),E=ae(b,k);Mt(E,D=>{k0(D)&&E0(D)}),Mt(k,D=>{k0(D)||xb(u,D)}),u.syncComponents()})(s,a)},s.element)},n_=(s,a,u,f)=>{E0(a);const p=Ex(s.element,u,f,s.getSystem().buildOrPatch);xb(s,p),s.syncComponents()},JE=(s,a,u)=>{const f=s.getSystem().build(u);Zx(s,f,a)},A5=(s,a,u,f)=>{sl(a),JE(s,(p,b)=>((w,k,E)=>{cr(w,E).fold(()=>{Na(w,k)},D=>{Ad(D,k)})})(p,b,u),f)},c2=(s,a)=>s.components(),T5=(s,a,u,f,p)=>{const b=c2(s);return O.from(b[f]).map(w=>(p.fold(()=>sl(w),k=>{(a.reuseDom?n_:A5)(s,w,f,k)}),w))};var QE=Object.freeze({__proto__:null,append:(s,a,u,f)=>{JE(s,Na,f)},prepend:(s,a,u,f)=>{JE(s,zg,f)},remove:(s,a,u,f)=>{const p=c2(s);J(p,w=>is(f.element,w.element)).each(sl)},replaceAt:T5,replaceBy:(s,a,u,f,p)=>{const b=c2(s);return xs(b,f).bind(w=>T5(s,a,0,w,p))},set:(s,a,u,f)=>(a.reuseDom?XE:Tb)(s,f),contents:c2});const Kn=Ni({fields:[ei("reuseDom",!0)],name:"replacing",apis:QE}),Co=(s,a)=>{const u=((f,p)=>{const b=fo(p);return Ni({fields:[Ot("enabled")],name:f,active:{events:ee(b)}})})(s,a);return{key:s,value:{config:{},me:u,configAsRaw:ee({}),initialConfig:{},state:Ic}}},O5=(s,a)=>{a.ignore||(za(s.element),a.onFocus(s))};var D5=Object.freeze({__proto__:null,focus:O5,blur:(s,a)=>{a.ignore||tb(s.element)},isFocused:s=>ah(s.element)}),R5=Object.freeze({__proto__:null,exhibit:(s,a)=>{const u=a.ignore?{}:{attributes:{tabindex:"-1"}};return jr(u)},events:s=>fo([St(Gu(),(a,u)=>{O5(a,s),u.stop()})].concat(s.stopMousedown?[St(Dt(),(a,u)=>{u.event.prevent()})]:[]))}),I5=[Xo("onFocus"),it("stopMousedown",!1),it("ignore",!1)];const no=Ni({fields:I5,name:"focusing",active:R5,apis:D5}),u2=(s,a,u,f)=>{const p=u.get();u.set(f),((b,w,k)=>{w.toggleClass.each(E=>{k.get()?kr(b.element,E):Ir(b.element,E)})})(s,a,u),((b,w,k)=>{const E=w.aria;E.update(b,E,k.get())})(s,a,u),p!==f&&a.onToggled(s,f)},bu=(s,a,u)=>{u2(s,a,u,!u.get())},Ob=(s,a,u)=>{u2(s,a,u,a.selected)};var N5=Object.freeze({__proto__:null,onLoad:Ob,toggle:bu,isOn:(s,a,u)=>u.get(),on:(s,a,u)=>{u2(s,a,u,!0)},off:(s,a,u)=>{u2(s,a,u,!1)},set:u2}),B0=Object.freeze({__proto__:null,exhibit:()=>jr({}),events:(s,a)=>{const u=(f=s,p=a,b=bu,cu(k=>{b(k,f,p)}));var f,p,b;const w=Lv(s,a,Ob);return fo(eo([s.toggleOnExecute?[u]:[],[w]]))}});const Gl=(s,a,u)=>{sn(s.element,"aria-expanded",u)};var Hc=[it("selected",!1),jo("toggleClass"),it("toggleOnExecute",!0),Xo("onToggled"),Fa("aria",{mode:"none"},gi("mode",{pressed:[it("syncWithExpanded",!1),Ks("update",(s,a,u)=>{sn(s.element,"aria-pressed",u),a.syncWithExpanded&&Gl(s,0,u)})],checked:[Ks("update",(s,a,u)=>{sn(s.element,"aria-checked",u)})],expanded:[Ks("update",Gl)],selected:[Ks("update",(s,a,u)=>{sn(s.element,"aria-selected",u)})],none:[Ks("update",se)]}))];const Jn=Ni({fields:Hc,name:"toggling",active:B0,apis:N5,state:{init:()=>{const s=Bn(!1);return{get:()=>s.get(),set:a=>s.set(a),clear:()=>s.set(!1),readState:()=>s.get()}}}}),ed=()=>{const s=(a,u)=>{u.stop(),Af(a)};return[St(hi(),s),St(Cf(),s),Pm(W()),Pm(Dt())]},L0=s=>fo(eo([s.map(a=>cu((u,f)=>{a(u),f.stop()})).toArray(),ed()])),yu="alloy.item-hover",Tp="alloy.item-focus",P5="alloy.item-toggled",M5=s=>{(qr(s.element).isNone()||no.isFocused(s))&&(no.isFocused(s)||no.focus(s),Rn(s,yu,{item:s}))},B5=s=>{Rn(s,Tp,{item:s})},eA=ee(yu),L5=ee(Tp),o_=ee(P5),F5=s=>s.role.fold(()=>s.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),_e),Q8=[Ot("data"),Ot("components"),Ot("dom"),it("hasSubmenu",!1),jo("toggling"),jo("role"),so("itemBehaviours",[Jn,no,Nn,lt]),it("ignoreFocus",!1),it("domModification",{}),Ks("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:F5(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xn(s.itemBehaviours,[s.toggling.fold(Jn.revoke,a=>Jn.config(((u,f)=>({aria:{mode:f?"selected":"checked"},...cs(u,(p,b)=>b!=="exclusive"),onToggled:(p,b)=>{Y(u.onToggled)&&u.onToggled(p,b),((w,k)=>{Rn(w,P5,{item:w,state:k})})(p,b)}}))(a,s.role.exists(u=>u==="option")))),no.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:a=>{B5(a)}}),Nn.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:s.data}}),Co("item-type-events",[...ed(),St(Tn(),M5),St(Pv(),no.focus)])]),components:s.components,eventOrder:s.eventOrder})),it("eventOrder",{})],eF=[Ot("dom"),Ot("components"),Ks("builder",s=>({dom:s.dom,components:s.components,events:fo([xC(Pv())])}))],tA=ee("item-widget"),nA=ee([wl({name:"widget",overrides:s=>({behaviours:Zt([lt.config({store:{mode:"manual",getValue:a=>s.data,setValue:se}})])})})]),V5=[Ot("uid"),Ot("data"),Ot("components"),Ot("dom"),it("autofocus",!1),it("ignoreFocus",!1),so("widgetBehaviours",[lt,no,Nn]),it("domModification",{}),DE(nA()),Ks("builder",s=>{const a=EE(tA(),s,nA()),u=AE(tA(),s,a.internals()),f=b=>qs(b,s,"widget").map(w=>(Nn.focusIn(w),w)),p=(b,w)=>(R0(w.event.target)||s.autofocus&&w.setSource(b.element),O.none());return{dom:s.dom,components:u,domModification:s.domModification,events:fo([cu((b,w)=>{f(b).each(k=>{w.stop()})}),St(Tn(),M5),St(Pv(),(b,w)=>{s.autofocus?f(b):no.focus(b)})]),behaviours:Xn(s.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:s.data}}),no.config({ignore:s.ignoreFocus,onFocus:b=>{B5(b)}}),Nn.config({mode:"special",focusIn:s.autofocus?b=>{f(b)}:lE(),onLeft:p,onRight:p,onEscape:(b,w)=>no.isFocused(b)||s.autofocus?(s.autofocus&&w.setSource(b.element),O.none()):(no.focus(b),O.some(!0))})])}})],z5=gi("type",{widget:V5,item:Q8,separator:eF}),oA=ee([UC({factory:{sketch:s=>{const a=Ea("menu.spec item",z5,s);return a.builder(a)}},name:"items",unit:"item",defaults:(s,a)=>Eo(a,"uid")?a:{...a,uid:Mc("item")},overrides:(s,a)=>({type:a.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),H5=ee([Lr("role"),Ot("value"),Ot("items"),Ot("dom"),Ot("components"),it("eventOrder",{}),yn("menuBehaviours",[Ss,lt,ns,Nn]),Fa("movement",{mode:"menu",moveOnTab:!0},gi("mode",{grid:[kC(),Ks("config",(s,a)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:s.focusManager}))],matrix:[Ks("config",(s,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+s.markers.item},previousSelector:a.previousSelector,focusManager:s.focusManager})),Ot("rowSelector"),it("previousSelector",O.none)],menu:[it("moveOnTab",!0),Ks("config",(s,a)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:a.moveOnTab,focusManager:s.focusManager}))]})),Zi("markers",Yg()),it("fakeFocus",!1),it("focusManager",ME()),Xo("onHighlight"),Xo("onDehighlight"),it("showMenuRole",!0)]),$5=ee("alloy.menu-focus"),Db=Bl({name:"Menu",configFields:H5(),partFields:oA(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.menuBehaviours,[Ss.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),lt.config({store:{mode:"memory",initialValue:s.value}}),ns.config({find:O.some}),Nn.config(s.movement.config(s,s.movement))]),events:fo([St(L5(),(p,b)=>{const w=b.event;p.getSystem().getByDom(w.target).each(k=>{Ss.highlight(p,k),b.stop(),Rn(p,$5(),{menu:p,item:k})})}),St(eA(),(p,b)=>{const w=b.event.item;Ss.highlight(p,w)}),St(o_(),(p,b)=>{const{item:w,state:k}=b.event;k&&Po(w.element,"role")==="menuitemradio"&&((E,D)=>{const F=_i(E.element,'[role="menuitemradio"][aria-checked="true"]');Mt(F,P=>{is(P,D.element)||E.getSystem().getByDom(P).each(z=>{Jn.off(z)})})})(p,w)})]),components:a,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),U5=(s,a,u,f)=>hn(u,f).bind(p=>hn(s,p).bind(b=>{const w=U5(s,a,u,b);return O.some([b].concat(w))})).getOr([]),W5=s=>s.type==="prepared"?O.some(s.menu):O.none(),tF=()=>{const s=Bn({}),a=Bn({}),u=Bn({}),f=Es(),p=Bn({}),b=E=>w(E).bind(W5),w=E=>hn(a.get(),E),k=E=>hn(s.get(),E);return{setMenuBuilt:(E,D)=>{a.set({...a.get(),[E]:{type:"prepared",menu:D}})},setContents:(E,D,F,P)=>{f.set(E),s.set(F),a.set(D),p.set(P);const z=((G,X)=>{const ue={};An(G,(de,ve)=>{Mt(de,Ce=>{ue[Ce]=ve})});const me=X,we=wo(X,(de,ve)=>({k:de,v:ve})),fe=On(we,(de,ve)=>[ve].concat(U5(ue,me,we,ve)));return On(ue,de=>hn(fe,de).getOr([de]))})(P,F);u.set(z)},expand:E=>hn(s.get(),E).map(D=>{const F=hn(u.get(),E).getOr([]);return[D].concat(F)}),refresh:E=>hn(u.get(),E),collapse:E=>hn(u.get(),E).bind(D=>D.length>1?O.some(D.slice(1)):O.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const D=p.get();return ae(wn(D),E)},getPrimary:()=>f.get().bind(b),getMenus:()=>a.get(),clear:()=>{s.set({}),a.set({}),u.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,D)=>{const F=Fn(k(E).toArray(),P=>b(P).isSome());return hn(u.get(),E).bind(P=>{const z=je(F.concat(P));return(G=>{const X=[];for(let ue=0;ue<G.length;ue++){const me=G[ue];if(!me.isSome())return O.none();X.push(me.getOrDie())}return O.some(X)})(tn(z,(G,X)=>((ue,me,we)=>b(ue).bind(fe=>(de=>fs(s.get(),(ve,Ce)=>ve===de))(ue).bind(de=>me(de).map(ve=>({triggeredMenu:fe,triggeringItem:ve,triggeringPath:we})))))(G,D,z.slice(0,X+1)).fold(()=>or(f.get(),G)?[]:[O.none()],ue=>[O.some(ue)])))})}}},nF=W5,xu=bn("tiered-menu-item-highlight"),oF=bn("tiered-menu-item-dehighlight");var il;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(il||(il={}));const Rb=ee("collapse-item"),hh=vu({name:"TieredMenu",configFields:[Aa("onExecute"),Aa("onEscape"),Yu("onOpenMenu"),Yu("onOpenSubmenu"),Xo("onRepositionMenu"),Xo("onCollapseMenu"),it("highlightOnOpen",il.HighlightMenuAndItem),Ec("data",[Ot("primary"),Ot("menus"),Ot("expansions")]),it("fakeFocus",!1),Xo("onHighlightItem"),Xo("onDehighlightItem"),Xo("onHover"),Xg(),Ot("dom"),it("navigateOnHover",!0),it("stayInDom",!1),yn("tmenuBehaviours",[Nn,Ss,ns,Kn]),it("eventOrder",{})],apis:{collapseMenu:(s,a)=>{s.collapseMenu(a)},highlightPrimary:(s,a)=>{s.highlightPrimary(a)},repositionMenus:(s,a)=>{s.repositionMenus(a)}},factory:(s,a)=>{const u=Es(),f=tF(),p=de=>lt.getValue(de).value,b=de=>On(s.data.menus,(ve,Ce)=>tn(ve.items,Ee=>Ee.type==="separator"?[]:[Ee.data.value])),w=Ss.highlight,k=(de,ve)=>{w(de,ve),Ss.getHighlighted(ve).orThunk(()=>Ss.getFirst(ve)).each(Ce=>{s.fakeFocus?Ss.highlight(ve,Ce):pr(de,Ce.element,Pv())})},E=(de,ve)=>ea(Ye(ve,Ce=>de.lookupMenu(Ce).bind(Ee=>Ee.type==="prepared"?O.some(Ee.menu):O.none()))),D=(de,ve,Ce)=>{const Ee=E(ve,ve.otherMenus(Ce));Mt(Ee,ze=>{rc(ze.element,[s.markers.backgroundMenu]),s.stayInDom||Kn.remove(de,ze)})},F=(de,ve)=>{const Ce=(Ee=>u.get().getOrThunk(()=>{const ze={},ot=_i(Ee.element,`.${s.markers.item}`),Et=Fn(ot,_t=>Po(_t,"aria-haspopup")==="true");return Mt(Et,_t=>{Ee.getSystem().getByDom(_t).each(wt=>{const Ht=p(wt);ze[Ht]=wt})}),u.set(ze),ze}))(de);An(Ce,(Ee,ze)=>{const ot=et(ve,ze);sn(Ee.element,"aria-expanded",ot)})},P=(de,ve,Ce)=>O.from(Ce[0]).bind(Ee=>ve.lookupMenu(Ee).bind(ze=>{if(ze.type==="notbuilt")return O.none();{const ot=ze.menu,Et=E(ve,Ce.slice(1));return Mt(Et,_t=>{kr(_t.element,s.markers.backgroundMenu)}),un(ot.element)||Kn.append(de,nl(ot)),rc(ot.element,[s.markers.backgroundMenu]),k(de,ot),D(de,ve,Ce),O.some(ot)}}));let z;(function(de){de[de.HighlightSubmenu=0]="HighlightSubmenu",de[de.HighlightParent=1]="HighlightParent"})(z||(z={}));const G=(de,ve,Ce=z.HighlightSubmenu)=>{if(ve.hasConfigured(ro)&&ro.isDisabled(ve))return O.some(ve);{const Ee=p(ve);return f.expand(Ee).bind(ze=>(F(de,ze),O.from(ze[0]).bind(ot=>f.lookupMenu(ot).bind(Et=>{const _t=((wt,Ht,mn)=>{if(mn.type==="notbuilt"){const kn=wt.getSystem().build(mn.nbMenu());return f.setMenuBuilt(Ht,kn),kn}return mn.menu})(de,ot,Et);return un(_t.element)||Kn.append(de,nl(_t)),s.onOpenSubmenu(de,ve,_t,je(ze)),Ce===z.HighlightSubmenu?(Ss.highlightFirst(_t),P(de,f,ze)):(Ss.dehighlightAll(_t),O.some(ve))}))))}},X=(de,ve)=>{const Ce=p(ve);return f.collapse(Ce).bind(Ee=>(F(de,Ee),P(de,f,Ee).map(ze=>(s.onCollapseMenu(de,ve,ze),ze))))},ue=de=>(ve,Ce)=>Xu(Ce.getSource(),`.${s.markers.item}`).bind(Ee=>ve.getSystem().getByDom(Ee).toOptional().bind(ze=>de(ve,ze).map(Le))),me=fo([St($5(),(de,ve)=>{const Ce=ve.event.item;f.lookupItem(p(Ce)).each(()=>{const Ee=ve.event.menu;Ss.highlight(de,Ee);const ze=p(ve.event.item);f.refresh(ze).each(ot=>D(de,f,ot))})}),cu((de,ve)=>{const Ce=ve.event.target;de.getSystem().getByDom(Ce).each(Ee=>{p(Ee).indexOf("collapse-item")===0&&X(de,Ee),G(de,Ee,z.HighlightSubmenu).fold(()=>{s.onExecute(de,Ee)},se)})}),sr((de,ve)=>{(Ce=>{const Ee=((ot,Et,_t)=>On(_t,(wt,Ht)=>{const mn=()=>Db.sketch({...wt,value:Ht,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(kn,Hn)=>{Rn(kn,xu,{menuComp:kn,itemComp:Hn})},onDehighlight:(kn,Hn)=>{Rn(kn,oF,{menuComp:kn,itemComp:Hn})},focusManager:s.fakeFocus?L8():ME()});return Ht===Et?{type:"prepared",menu:ot.getSystem().build(mn())}:{type:"notbuilt",nbMenu:mn}}))(Ce,s.data.primary,s.data.menus),ze=b();return f.setContents(s.data.primary,Ee,s.data.expansions,ze),f.getPrimary()})(de).each(Ce=>{Kn.append(de,nl(Ce)),s.onOpenMenu(de,Ce),s.highlightOnOpen===il.HighlightMenuAndItem?k(de,Ce):s.highlightOnOpen===il.HighlightJustMenu&&w(de,Ce)})}),St(xu,(de,ve)=>{s.onHighlightItem(de,ve.event.menuComp,ve.event.itemComp)}),St(oF,(de,ve)=>{s.onDehighlightItem(de,ve.event.menuComp,ve.event.itemComp)}),...s.navigateOnHover?[St(eA(),(de,ve)=>{const Ce=ve.event.item;((Ee,ze)=>{const ot=p(ze);f.refresh(ot).bind(Et=>(F(Ee,Et),P(Ee,f,Et)))})(de,Ce),G(de,Ce,z.HighlightParent),s.onHover(de,Ce)})]:[]]),we=de=>Ss.getHighlighted(de).bind(Ss.getHighlighted),fe={collapseMenu:de=>{we(de).each(ve=>{X(de,ve)})},highlightPrimary:de=>{f.getPrimary().each(ve=>{k(de,ve)})},repositionMenus:de=>{f.getPrimary().bind(Ce=>we(de).bind(Ee=>{const ze=p(Ee),ot=Ar(f.getMenus()),Et=ea(Ye(ot,nF));return f.getTriggeringPath(ze,_t=>((wt,Ht,mn)=>Vt(Ht,kn=>{if(!kn.getSystem().isConnected())return O.none();const Hn=Ss.getCandidates(kn);return J(Hn,io=>p(io)===mn)}))(0,Et,_t))}).map(Ee=>({primary:Ce,triggeringPath:Ee}))).fold(()=>{(Ce=>O.from(Ce.components()[0]).filter(Ee=>Po(Ee.element,"role")==="menu"))(de).each(Ce=>{s.onRepositionMenu(de,Ce,[])})},({primary:Ce,triggeringPath:Ee})=>{s.onRepositionMenu(de,Ce,Ee)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.tmenuBehaviours,[Nn.config({mode:"special",onRight:ue((de,ve)=>R0(ve.element)?O.none():G(de,ve,z.HighlightSubmenu)),onLeft:ue((de,ve)=>R0(ve.element)?O.none():X(de,ve)),onEscape:ue((de,ve)=>X(de,ve).orThunk(()=>s.onEscape(de,ve).map(()=>de))),focusIn:(de,ve)=>{f.getPrimary().each(Ce=>{pr(de,Ce.element,Pv())})}}),Ss.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),ns.config({find:de=>Ss.getHighlighted(de)}),Kn.config({})]),eventOrder:s.eventOrder,apis:fe,events:me}},extraApis:{tieredData:(s,a,u)=>({primary:s,menus:a,expansions:u}),singleData:(s,a)=>({primary:s,menus:iu(s,a),expansions:{}}),collapseItem:s=>({value:bn(Rb()),meta:{text:s}})}}),vr=vu({name:"InlineView",configFields:[Ot("lazySink"),Xo("onShow"),Xo("onHide"),ru("onEscape"),yn("inlineBehaviours",[T,lt,yl]),Dr("fireDismissalEventInstead",[it("event",Zg())]),Dr("fireRepositionEventInstead",[it("event",kf())]),it("getRelated",O.none),it("isExtraPart",ke),it("eventOrder",O.none)],factory:(s,a)=>{const u=(w,k,E,D)=>{const F=s.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>ga.positionWithinBounds(F,w,E,D())),lt.setValue(w,O.some({mode:"position",config:E,getBounds:D}))},f=(w,k,E,D)=>{const F=((P,z,G,X,ue)=>{const me=()=>P.lazySink(z),we=X.type==="horizontal"?{layouts:{onLtr:()=>m0(),onRtl:()=>g0()}}:{},fe=de=>(ve=>ve.length===2)(de)?we:{};return hh.sketch({dom:{tag:"div"},data:X.data,markers:X.menu.markers,highlightOnOpen:X.menu.highlightOnOpen,fakeFocus:X.menu.fakeFocus,onEscape:()=>(T.close(z),P.onEscape.map(de=>de(z)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(de,ve)=>{ga.positionWithinBounds(me().getOrDie(),ve,G,ue())},onOpenSubmenu:(de,ve,Ce,Ee)=>{const ze=me().getOrDie();ga.position(ze,Ce,{anchor:{type:"submenu",item:ve,...fe(Ee)}})},onRepositionMenu:(de,ve,Ce)=>{const Ee=me().getOrDie();ga.positionWithinBounds(Ee,ve,G,ue()),Mt(Ce,ze=>{const ot=fe(ze.triggeringPath);ga.position(Ee,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem,...ot}})})}})})(s,w,k,E,D);T.open(w,F),lt.setValue(w,O.some({mode:"menu",menu:F}))},p=w=>{T.isOpen(w)&&lt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(hh.repositionMenus);break;case"position":const E=s.lazySink(w).getOrDie();ga.positionWithinBounds(E,w,k.config,k.getBounds())}})},b={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const D=O.none;u(w,k,E,D)},showWithinBounds:u,showMenuAt:(w,k,E)=>{f(w,k,E,O.none)},showMenuWithinBounds:f,hide:w=>{T.isOpen(w)&&(lt.setValue(w,O.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:s.uid,dom:s.dom,behaviours:yo(s.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>bl(k,E)||((D,F)=>s.getRelated(D).exists(P=>bl(P,F)))(w,E),getAttachPoint:w=>s.lazySink(w).getOrDie(),onOpen:w=>{s.onShow(w)},onClose:w=>{s.onHide(w)}}),lt.config({store:{mode:"memory",initialValue:O.none()}}),yl.config({channels:{...ie({isExtraPart:a.isExtraPart,...s.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Ie({...s.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:s.eventOrder,apis:b}},apis:{showAt:(s,a,u,f)=>{s.showAt(a,u,f)},showWithinBounds:(s,a,u,f,p)=>{s.showWithinBounds(a,u,f,p)},showMenuAt:(s,a,u,f)=>{s.showMenuAt(a,u,f)},showMenuWithinBounds:(s,a,u,f,p)=>{s.showMenuWithinBounds(a,u,f,p)},hide:(s,a)=>{s.hide(a)},isOpen:(s,a)=>s.isOpen(a),getContent:(s,a)=>s.getContent(a),setContent:(s,a,u)=>{s.setContent(a,u)},reposition:(s,a)=>{s.reposition(a)}}});var td,d2,s_=tinymce.util.Tools.resolve("tinymce.util.Delay"),F0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z5=tinymce.util.Tools.resolve("tinymce.EditorManager"),Kf=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(td||(td={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(d2||(d2={}));const Bs=s=>a=>a.options.get(s),f2=s=>a=>O.from(s(a)),j5=s=>{const a=Kf.deviceType.isPhone(),u=Kf.deviceType.isTablet()||a,f=s.options.register,p=w=>v(w)||w===!1,b=w=>v(w)||ne(w);f("skin",{processor:w=>v(w)||w===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:b,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:b,default:F0.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:w=>v(w)||I(w),default:!a}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:w=>I(w)||v(w)||M(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Lt(9,w=>{f("toolbar"+(w+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:d2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:p,default:"#top"}),f("anchor_bottom",{processor:p,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:w=>w==="both"||I(w),default:!Kf.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},sA=Bs("readonly"),m2=Bs("height"),g2=Bs("width"),h2=f2(Bs("min_width")),V0=f2(Bs("min_height")),z0=f2(Bs("max_width")),r_=f2(Bs("max_height")),H0=f2(Bs("style_formats")),i_=Bs("style_formats_merge"),K5=Bs("style_formats_autohide"),rA=Bs("content_langs"),G5=Bs("removed_menuitems"),Ib=Bs("toolbar_mode"),a_=Bs("toolbar_groups"),Op=Bs("toolbar_location"),iA=Bs("fixed_toolbar_container"),sF=Bs("fixed_toolbar_container_target"),q5=Bs("toolbar_persist"),aA=Bs("toolbar_sticky_offset"),ph=Bs("menubar"),$0=Bs("toolbar"),l_=Bs("file_picker_callback"),p2=Bs("file_picker_validator_handler"),lA=Bs("font_size_input_default_unit"),v2=Bs("file_picker_types"),c_=Bs("typeahead_urls"),Y5=Bs("anchor_top"),X5=Bs("anchor_bottom"),Gf=Bs("draggable_modal"),J5=Bs("statusbar"),Q5=Bs("elementpath"),$c=Bs("branding"),ha=Bs("resize"),eR=Bs("paste_as_text"),u_=Bs("sidebar_show"),tR=Bs("promotion"),cA=Bs("help_accessibility"),d_=Bs("default_font_stack"),Dp=s=>s.options.get("skin")===!1,b2=s=>s.options.get("menubar")!==!1,f_=s=>{const a=s.options.get("skin_url");if(Dp(s))return a;if(a)return s.documentBaseURI.toAbsolute(a);{const u=s.options.get("skin");return Z5.baseURL+"/skins/ui/"+u}},m_=s=>O.from(s.options.get("skin_url")),nR=s=>s.options.get("line_height_formats").split(" "),y2=s=>{const a=$0(s),u=v(a),f=M(a)&&a.length>0;return!x2(s)&&(f||u||a===!0)},g_=s=>{const a=Lt(9,f=>s.options.get("toolbar"+(f+1))),u=Fn(a,v);return rs(u.length>0,u)},x2=s=>g_(s).fold(()=>{const a=$0(s);return oe(a,v)&&a.length>0},Le),uA=s=>Op(s)===d2.bottom,dA=s=>{var a;if(!s.inline)return O.none();const u=(a=iA(s))!==null&&a!==void 0?a:"";if(u.length>0)return fr(vn(),u);const f=sF(s);return K(f)?O.some(rn(f)):O.none()},Nb=s=>s.inline&&dA(s).isSome(),h_=s=>dA(s).getOrThunk(()=>Je(ut(rn(s.getElement())))),p_=s=>s.inline&&!b2(s)&&!y2(s)&&!x2(s),vh=s=>(s.options.get("toolbar_sticky")||s.inline)&&!Nb(s)&&!p_(s),bh=s=>!Nb(s)&&s.options.get("ui_mode")==="split",Rp=s=>{const a=s.options.get("menu");return On(a,u=>({...u,items:u.items}))};var w2=Object.freeze({__proto__:null,get ToolbarMode(){return td},get ToolbarLocation(){return d2},register:j5,getSkinUrl:f_,getSkinUrlOption:m_,isReadOnly:sA,isSkinDisabled:Dp,getHeightOption:m2,getWidthOption:g2,getMinWidthOption:h2,getMinHeightOption:V0,getMaxWidthOption:z0,getMaxHeightOption:r_,getUserStyleFormats:H0,shouldMergeStyleFormats:i_,shouldAutoHideStyleFormats:K5,getLineHeightFormats:nR,getContentLanguages:rA,getRemovedMenuItems:G5,isMenubarEnabled:b2,isMultipleToolbars:x2,isToolbarEnabled:y2,isToolbarPersist:q5,getMultipleToolbarsOption:g_,getUiContainer:h_,useFixedContainer:Nb,isSplitUiMode:bh,getToolbarMode:Ib,isDraggableModal:Gf,isDistractionFree:p_,isStickyToolbar:vh,getStickyToolbarOffset:aA,getToolbarLocation:Op,isToolbarLocationBottom:uA,getToolbarGroups:a_,getMenus:Rp,getMenubar:ph,getToolbar:$0,getFilePickerCallback:l_,getFilePickerTypes:v2,useTypeaheadUrls:c_,getAnchorTop:Y5,getAnchorBottom:X5,getFilePickerValidatorHandler:p2,getFontSizeInputDefaultUnit:lA,useStatusBar:J5,useElementPath:Q5,promotionEnabled:tR,useBranding:$c,getResize:ha,getPasteAsText:eR,getSidebarShow:u_,useHelpAccessibility:cA,getDefaultFontStack:d_});const rF=["visible","hidden","clip"],oR=s=>Cc(s).length>0&&!et(rF,s),sR=s=>{if(dl(s)){const a=wr(s,"overflow-x"),u=wr(s,"overflow-y");return oR(a)||oR(u)}return!1},Ip=(s,a)=>bh(s)?((u,f)=>{const p=wp(f,sR),b=p.length===0?Wt(f).map(nn).map(w=>wp(w,sR)).getOr([]):p;return zt(b).map(w=>({element:w,others:b.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(u)}))})(s,a):O.none(),Np=s=>{const a=[...Ye(s.others,ii),Ui()];return s.isFullscreen()?Ui():((u,f)=>_n(f,(p,b)=>Od(p,b),u))(ii(s.element),a)},Ua=vu({name:"Button",factory:s=>{const a=L0(s.action),u=s.dom.tag,f=p=>hn(s.dom,"attributes").bind(b=>hn(b,p));return{uid:s.uid,dom:s.dom,components:s.components,events:a,behaviours:Xn(s.buttonBehaviours,[no.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:f("type").getOr("button"),...f("role").map(p=>({role:p})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[it("uid",void 0),Ot("dom"),it("components",[]),so("buttonBehaviours",[no,Nn]),jo("action"),jo("role"),it("eventOrder",{})]}),og=s=>{const a=Wl(s),u=Ns(a),f=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return _n(k,(E,D)=>D.name==="class"?E:{...E,[D.name]:D.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),b=u.length===0?{}:{innerHtml:Ld(a)};return{tag:Ga(a),classes:p,attributes:f,...b}},Cs=s=>{const a=(u=>u.uid!==void 0)(s)&&vo(s,"uid")?s.uid:Mc("memento");return{get:u=>u.getSystem().getByUid(a).getOrDie(),getOpt:u=>u.getSystem().getByUid(a).toOptional(),asSpec:()=>({...s,uid:a})}};var iF=Object.freeze({__proto__:null,exhibit:(s,a)=>jr({attributes:Nd([{key:a.tabAttr,value:"true"}])})}),rR=[it("tabAttr","data-alloy-tabstop")];const Zs=Ni({fields:rR,name:"tabstopping",active:iF}),fA=bn("tooltip.exclusive"),C2=bn("tooltip.show"),_2=bn("tooltip.hide"),S2=bn("tooltip.immediateHide"),k2=bn("tooltip.immediateShow"),iR=(s,a,u)=>{s.getSystem().broadcastOn([fA],{})};var aF=Object.freeze({__proto__:null,hideAllExclusive:iR,immediateOpenClose:(s,a,u,f)=>ko(s,f?k2:S2),isEnabled:(s,a,u)=>u.isEnabled(),setComponents:(s,a,u,f)=>{u.getTooltip().each(p=>{p.getSystem().isConnected()&&Kn.set(p,f)})},setEnabled:(s,a,u,f)=>u.setEnabled(f)}),lF=Object.freeze({__proto__:null,events:(s,a)=>{const u=b=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(sl(w),s.onHide(b,w),a.clearTooltip())}),a.clearTimer()},f=b=>{if(!a.isShowing()&&a.isEnabled()){iR(b);const w=s.lazySink(b).getOrDie(),k=b.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:fo(s.mode==="normal"?[St(Tn(),E=>{ko(b,C2)}),St(po(),E=>{ko(b,_2)})]:[]),behaviours:Zt([Kn.config({})])});a.setTooltip(k),$f(w,k),s.onShow(b,k),ga.position(w,k,{anchor:s.anchor(b)})}},p=b=>{a.getTooltip().each(w=>{const k=s.lazySink(b).getOrDie();ga.position(k,w,{anchor:s.anchor(b)})})};return fo(eo([[j1(b=>{s.onSetup(b)}),St(C2,b=>{a.resetTimer(()=>{f(b)},s.delayForShow())}),St(_2,b=>{a.resetTimer(()=>{u(b)},s.delayForHide())}),St(k2,b=>{a.resetTimer(()=>{f(b)},0)}),St(S2,b=>{a.resetTimer(()=>{u(b)},0)}),St(oc(),(b,w)=>{const k=w;k.universal||et(k.channels,fA)&&u(b)}),qu(b=>{u(b)})],(()=>{switch(s.mode){case"normal":return[St(bs(),b=>{ko(b,k2)}),St(rp(),b=>{ko(b,S2)}),St(Tn(),b=>{ko(b,C2)}),St(po(),b=>{ko(b,_2)})];case"follow-highlight":return[St(ix(),(b,w)=>{ko(b,C2)}),St(Ef(),b=>{ko(b,_2)})];case"children-normal":return[St(bs(),(b,w)=>{qr(b.element).each(k=>{qc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,k2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{qr(b.element).fold(()=>{ko(b,S2)},se)}),St(Tn(),b=>{fr(b.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{ko(b,C2)},k=>{a.isShowing()&&(s.onShow(b,k),p(b))})})}),St(po(),b=>{fr(b.element,"[data-mce-tooltip]:hover").fold(()=>{ko(b,_2)},se)})];default:return[St(bs(),(b,w)=>{qr(b.element).each(k=>{qc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,k2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{qr(b.element).fold(()=>{ko(b,S2)},se)})]}})()]))}}),cF=[Ot("lazySink"),Ot("tooltipDom"),it("exclusive",!0),it("tooltipComponents",[]),Qs("delayForShow",ee(300)),Qs("delayForHide",ee(300)),Qs("onSetup",se),Ac("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),it("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:ee([Gr,Er,Nr,ti,Pr,Ms]),onRtl:ee([Gr,Er,Nr,ti,Pr,Ms])},bubble:ic(0,-2,{})})),Xo("onHide"),Xo("onShow")],uF=Object.freeze({__proto__:null,init:()=>{const s=Bn(!0),a=Es(),u=Es(),f=()=>{a.on(clearTimeout)},p=ee("not-implemented");return Ii({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:f,resetTimer:(b,w)=>{f(),a.set(setTimeout(b,w))},readState:p,isEnabled:()=>s.get(),setEnabled:b=>s.set(b)})}});const oi=Ni({fields:cF,name:"tooltipping",active:lF,state:uF,apis:aF}),{entries:aR,setPrototypeOf:mA,isFrozen:lR,getPrototypeOf:cR,getOwnPropertyDescriptor:dF}=Object;let{freeze:lc,seal:qf,create:uR}=Object,{apply:gA,construct:hA}=typeof Reflect<"u"&&Reflect;gA||(gA=function(s,a,u){return s.apply(a,u)}),lc||(lc=function(s){return s}),qf||(qf=function(s){return s}),hA||(hA=function(s,a){return new s(...a)});const pA=Kd(Array.prototype.forEach),fF=Kd(Array.prototype.pop),E2=Kd(Array.prototype.push),v_=Kd(String.prototype.toLowerCase),b_=Kd(String.prototype.toString),mF=Kd(String.prototype.match),dn=Kd(String.prototype.replace),Pb=Kd(String.prototype.indexOf),gF=Kd(String.prototype.trim),wu=Kd(RegExp.prototype.test),Pp=(y_=TypeError,function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return hA(y_,a)});var y_;function Kd(s){return function(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return gA(s,a,f)}}function zs(s,a,u){var f;u=(f=u)!==null&&f!==void 0?f:v_,mA&&mA(s,null);let p=a.length;for(;p--;){let b=a[p];if(typeof b=="string"){const w=u(b);w!==b&&(lR(a)||(a[p]=w),b=w)}s[b]=!0}return s}function U0(s){const a=uR(null);for(const[u,f]of aR(s))a[u]=f;return a}function x_(s,a){for(;s!==null;){const u=dF(s,a);if(u){if(u.get)return Kd(u.get);if(typeof u.value=="function")return Kd(u.value)}s=cR(s)}return function(u){return console.warn("fallback value for",u),null}}const vA=lc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A2=lc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mb=lc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dR=lc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bA=lc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hF=lc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fR=lc(["#text"]),pF=lc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),w_=lc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mR=lc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),C_=lc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vF=qf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bF=qf(/<%[\w\W]*|[\w\W]*%>/gm),yA=qf(/\${[\w\W]*}/gm),yF=qf(/^data-[\-\w.\u00B7-\uFFFF]/),xF=qf(/^aria-[\-\w]+$/),gR=qf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wF=qf(/^(?:\w+script|data):/i),CF=qf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sg=qf(/^html$/i);var T2=Object.freeze({__proto__:null,MUSTACHE_EXPR:vF,ERB_EXPR:bF,TMPLIT_EXPR:yA,DATA_ATTR:yF,ARIA_ATTR:xF,IS_ALLOWED_URI:gR,IS_SCRIPT_OR_DATA:wF,ATTR_WHITESPACE:CF,DOCTYPE_NAME:sg});const _F=()=>typeof window>"u"?null:window;var SF=function s(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_F();const u=ft=>s(ft);if(u.version="3.0.5",u.removed=[],!a||!a.document||a.document.nodeType!==9)return u.isSupported=!1,u;const f=a.document,p=f.currentScript;let{document:b}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:D,NodeFilter:F,NamedNodeMap:P=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:z,DOMParser:G,trustedTypes:X}=a,ue=D.prototype,me=x_(ue,"cloneNode"),we=x_(ue,"nextSibling"),fe=x_(ue,"childNodes"),de=x_(ue,"parentNode");if(typeof k=="function"){const ft=b.createElement("template");ft.content&&ft.content.ownerDocument&&(b=ft.content.ownerDocument)}let ve,Ce="";const{implementation:Ee,createNodeIterator:ze,createDocumentFragment:ot,getElementsByTagName:Et}=b,{importNode:_t}=f;let wt={};u.isSupported=typeof aR=="function"&&typeof de=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ht,ERB_EXPR:mn,TMPLIT_EXPR:kn,DATA_ATTR:Hn,ARIA_ATTR:io,IS_SCRIPT_OR_DATA:Lo,ATTR_WHITESPACE:tr}=T2;let{IS_ALLOWED_URI:mr}=T2,So=null;const Jo=zs({},[...vA,...A2,...Mb,...bA,...fR]);let jn=null;const gr=zs({},[...pF,...w_,...mR,...C_]);let Ls=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Wa=null,Za=null,Yi=!0,Bi=!0,Rh=!1,xy=!0,nv=!1,Ih=!1,Mw=!1,ov=!1,yg=!1,c1=!1,u1=!1,wy=!0,ak=!1,Bw=!0,sv=!1,xg={},Nh=null;const Lw=zs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fw=null;const gs=zs({},["audio","video","img","source","image","track"]);let wg=null;const tf=zs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),d1="http://www.w3.org/1998/Math/MathML",lk="http://www.w3.org/2000/svg",Ph="http://www.w3.org/1999/xhtml";let Cy=Ph,fO=!1,ck=null;const D9=zs({},[d1,lk,Ph],b_);let _y;const R9=["application/xhtml+xml","text/html"];let Sl,f1=null;const I9=b.createElement("form"),HM=function(ft){return ft instanceof RegExp||ft instanceof Function},uk=function(ft){if(!f1||f1!==ft){if(ft&&typeof ft=="object"||(ft={}),ft=U0(ft),_y=_y=R9.indexOf(ft.PARSER_MEDIA_TYPE)===-1?"text/html":ft.PARSER_MEDIA_TYPE,Sl=_y==="application/xhtml+xml"?b_:v_,So="ALLOWED_TAGS"in ft?zs({},ft.ALLOWED_TAGS,Sl):Jo,jn="ALLOWED_ATTR"in ft?zs({},ft.ALLOWED_ATTR,Sl):gr,ck="ALLOWED_NAMESPACES"in ft?zs({},ft.ALLOWED_NAMESPACES,b_):D9,wg="ADD_URI_SAFE_ATTR"in ft?zs(U0(tf),ft.ADD_URI_SAFE_ATTR,Sl):tf,Fw="ADD_DATA_URI_TAGS"in ft?zs(U0(gs),ft.ADD_DATA_URI_TAGS,Sl):gs,Nh="FORBID_CONTENTS"in ft?zs({},ft.FORBID_CONTENTS,Sl):Lw,Wa="FORBID_TAGS"in ft?zs({},ft.FORBID_TAGS,Sl):{},Za="FORBID_ATTR"in ft?zs({},ft.FORBID_ATTR,Sl):{},xg="USE_PROFILES"in ft&&ft.USE_PROFILES,Yi=ft.ALLOW_ARIA_ATTR!==!1,Bi=ft.ALLOW_DATA_ATTR!==!1,Rh=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,xy=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nv=ft.SAFE_FOR_TEMPLATES||!1,Ih=ft.WHOLE_DOCUMENT||!1,yg=ft.RETURN_DOM||!1,c1=ft.RETURN_DOM_FRAGMENT||!1,u1=ft.RETURN_TRUSTED_TYPE||!1,ov=ft.FORCE_BODY||!1,wy=ft.SANITIZE_DOM!==!1,ak=ft.SANITIZE_NAMED_PROPS||!1,Bw=ft.KEEP_CONTENT!==!1,sv=ft.IN_PLACE||!1,mr=ft.ALLOWED_URI_REGEXP||gR,Cy=ft.NAMESPACE||Ph,Ls=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ls.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ls.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ls.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nv&&(Bi=!1),c1&&(yg=!0),xg&&(So=zs({},[...fR]),jn=[],xg.html===!0&&(zs(So,vA),zs(jn,pF)),xg.svg===!0&&(zs(So,A2),zs(jn,w_),zs(jn,C_)),xg.svgFilters===!0&&(zs(So,Mb),zs(jn,w_),zs(jn,C_)),xg.mathMl===!0&&(zs(So,bA),zs(jn,mR),zs(jn,C_))),ft.ADD_TAGS&&(So===Jo&&(So=U0(So)),zs(So,ft.ADD_TAGS,Sl)),ft.ADD_ATTR&&(jn===gr&&(jn=U0(jn)),zs(jn,ft.ADD_ATTR,Sl)),ft.ADD_URI_SAFE_ATTR&&zs(wg,ft.ADD_URI_SAFE_ATTR,Sl),ft.FORBID_CONTENTS&&(Nh===Lw&&(Nh=U0(Nh)),zs(Nh,ft.FORBID_CONTENTS,Sl)),Bw&&(So["#text"]=!0),Ih&&zs(So,["html","head","body"]),So.table&&(zs(So,["tbody"]),delete Wa.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=ft.TRUSTED_TYPES_POLICY,Ce=ve.createHTML("")}else ve===void 0&&(ve=function($n,mo){if(typeof $n!="object"||typeof $n.createPolicy!="function")return null;let nr=null;const Yr="data-tt-policy-suffix";mo&&mo.hasAttribute(Yr)&&(nr=mo.getAttribute(Yr));const li="dompurify"+(nr?"#"+nr:"");try{return $n.createPolicy(li,{createHTML:si=>si,createScriptURL:si=>si})}catch{return console.warn("TrustedTypes policy "+li+" could not be created."),null}}(X,p)),ve!==null&&typeof Ce=="string"&&(Ce=ve.createHTML(""));lc&&lc(ft),f1=ft}},$M=zs({},["mi","mo","mn","ms","mtext"]),UM=zs({},["foreignobject","desc","title","annotation-xml"]),uo=zs({},["title","style","font","a","script"]),rv=zs({},A2);zs(rv,Mb),zs(rv,dR);const dk=zs({},bA);zs(dk,hF);const iv=function(ft){E2(u.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{ft.remove()}},Sy=function(ft,$n){try{E2(u.removed,{attribute:$n.getAttributeNode(ft),from:$n})}catch{E2(u.removed,{attribute:null,from:$n})}if($n.removeAttribute(ft),ft==="is"&&!jn[ft])if(yg||c1)try{iv($n)}catch{}else try{$n.setAttribute(ft,"")}catch{}},mO=function(ft){let $n,mo;if(ov)ft="<remove></remove>"+ft;else{const li=mF(ft,/^[\r\n\t ]+/);mo=li&&li[0]}_y==="application/xhtml+xml"&&Cy===Ph&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const nr=ve?ve.createHTML(ft):ft;if(Cy===Ph)try{$n=new G().parseFromString(nr,_y)}catch{}if(!$n||!$n.documentElement){$n=Ee.createDocument(Cy,"template",null);try{$n.documentElement.innerHTML=fO?Ce:nr}catch{}}const Yr=$n.body||$n.documentElement;return ft&&mo&&Yr.insertBefore(b.createTextNode(mo),Yr.childNodes[0]||null),Cy===Ph?Et.call($n,Ih?"html":"body")[0]:Ih?$n.documentElement:Yr},gO=function(ft){return ze.call(ft.ownerDocument||ft,ft,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},hO=function(ft){return typeof E=="object"?ft instanceof E:ft&&typeof ft=="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},md=function(ft,$n,mo){wt[ft]&&pA(wt[ft],nr=>{nr.call(u,$n,mo,f1)})},WM=function(ft){let $n;if(md("beforeSanitizeElements",ft,null),(mo=ft)instanceof z&&(typeof mo.nodeName!="string"||typeof mo.textContent!="string"||typeof mo.removeChild!="function"||!(mo.attributes instanceof P)||typeof mo.removeAttribute!="function"||typeof mo.setAttribute!="function"||typeof mo.namespaceURI!="string"||typeof mo.insertBefore!="function"||typeof mo.hasChildNodes!="function"))return iv(ft),!0;var mo;const nr=Sl(ft.nodeName);if(md("uponSanitizeElement",ft,{tagName:nr,allowedTags:So}),ft.hasChildNodes()&&!hO(ft.firstElementChild)&&(!hO(ft.content)||!hO(ft.content.firstElementChild))&&wu(/<[/\w]/g,ft.innerHTML)&&wu(/<[/\w]/g,ft.textContent))return iv(ft),!0;if(!So[nr]||Wa[nr]){if(!Wa[nr]&&ZM(nr)&&(Ls.tagNameCheck instanceof RegExp&&wu(Ls.tagNameCheck,nr)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(nr)))return!1;if(Bw&&!Nh[nr]){const Yr=de(ft)||ft.parentNode,li=fe(ft)||ft.childNodes;if(li&&Yr)for(let si=li.length-1;si>=0;--si)Yr.insertBefore(me(li[si],!0),we(ft))}return iv(ft),!0}return ft instanceof D&&!function(Yr){let li=de(Yr);li&&li.tagName||(li={namespaceURI:Cy,tagName:"template"});const si=v_(Yr.tagName),Si=v_(li.tagName);return!!ck[Yr.namespaceURI]&&(Yr.namespaceURI===lk?li.namespaceURI===Ph?si==="svg":li.namespaceURI===d1?si==="svg"&&(Si==="annotation-xml"||$M[Si]):!!rv[si]:Yr.namespaceURI===d1?li.namespaceURI===Ph?si==="math":li.namespaceURI===lk?si==="math"&&UM[Si]:!!dk[si]:Yr.namespaceURI===Ph?!(li.namespaceURI===lk&&!UM[Si])&&!(li.namespaceURI===d1&&!$M[Si])&&!dk[si]&&(uo[si]||!rv[si]):!(_y!=="application/xhtml+xml"||!ck[Yr.namespaceURI]))}(ft)?(iv(ft),!0):nr!=="noscript"&&nr!=="noembed"&&nr!=="noframes"||!wu(/<\/no(script|embed|frames)/i,ft.innerHTML)?(nv&&ft.nodeType===3&&($n=ft.textContent,$n=dn($n,Ht," "),$n=dn($n,mn," "),$n=dn($n,kn," "),ft.textContent!==$n&&(E2(u.removed,{element:ft.cloneNode()}),ft.textContent=$n)),md("afterSanitizeElements",ft,null),!1):(iv(ft),!0)},pO=function(ft,$n,mo){if(wy&&($n==="id"||$n==="name")&&(mo in b||mo in I9))return!1;if(!(Bi&&!Za[$n]&&wu(Hn,$n))){if(!(Yi&&wu(io,$n))){if(!jn[$n]||Za[$n]){if(!(ZM(ft)&&(Ls.tagNameCheck instanceof RegExp&&wu(Ls.tagNameCheck,ft)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(ft))&&(Ls.attributeNameCheck instanceof RegExp&&wu(Ls.attributeNameCheck,$n)||Ls.attributeNameCheck instanceof Function&&Ls.attributeNameCheck($n))||$n==="is"&&Ls.allowCustomizedBuiltInElements&&(Ls.tagNameCheck instanceof RegExp&&wu(Ls.tagNameCheck,mo)||Ls.tagNameCheck instanceof Function&&Ls.tagNameCheck(mo))))return!1}else if(!wg[$n]){if(!wu(mr,dn(mo,tr,""))){if(($n!=="src"&&$n!=="xlink:href"&&$n!=="href"||ft==="script"||Pb(mo,"data:")!==0||!Fw[ft])&&!(Rh&&!wu(Lo,dn(mo,tr,"")))){if(mo)return!1}}}}}return!0},ZM=function(ft){return ft.indexOf("-")>0},jM=function(ft){let $n,mo,nr,Yr;md("beforeSanitizeAttributes",ft,null);const{attributes:li}=ft;if(!li)return;const si={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:jn};for(Yr=li.length;Yr--;){$n=li[Yr];const{name:Si,namespaceURI:ky}=$n;mo=Si==="value"?$n.value:gF($n.value);const P9=mo;if(nr=Sl(Si),si.attrName=nr,si.attrValue=mo,si.keepAttr=!0,si.forceKeepAttr=void 0,md("uponSanitizeAttribute",ft,si),mo=si.attrValue,si.forceKeepAttr)continue;if(!si.keepAttr){Sy(Si,ft);continue}if(!xy&&wu(/\/>/i,mo)){Sy(Si,ft);continue}nv&&(mo=dn(mo,Ht," "),mo=dn(mo,mn," "),mo=dn(mo,kn," "));const KM=Sl(ft.nodeName);if(pO(KM,nr,mo)){if(!ak||nr!=="id"&&nr!=="name"||(Sy(Si,ft),mo="user-content-"+mo),ve&&typeof X=="object"&&typeof X.getAttributeType=="function"&&!ky)switch(X.getAttributeType(KM,nr)){case"TrustedHTML":mo=ve.createHTML(mo);break;case"TrustedScriptURL":mo=ve.createScriptURL(mo)}if(mo!==P9)try{ky?ft.setAttributeNS(ky,Si,mo):ft.setAttribute(Si,mo)}catch{Sy(Si,ft)}}else Sy(Si,ft)}md("afterSanitizeAttributes",ft,null)},N9=function ft($n){let mo;const nr=gO($n);for(md("beforeSanitizeShadowDOM",$n,null);mo=nr.nextNode();)md("uponSanitizeShadowNode",mo,null),WM(mo)||(mo.content instanceof w&&ft(mo.content),jM(mo));md("afterSanitizeShadowDOM",$n,null)};return u.sanitize=function(ft){let $n,mo,nr,Yr,li=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fO=!ft,fO&&(ft="<!-->"),typeof ft!="string"&&!hO(ft)){if(typeof ft.toString!="function")throw Pp("toString is not a function");if(typeof(ft=ft.toString())!="string")throw Pp("dirty is not a string, aborting")}if(!u.isSupported)return ft;if(Mw||uk(li),u.removed=[],typeof ft=="string"&&(sv=!1),sv){if(ft.nodeName){const ky=Sl(ft.nodeName);if(!So[ky]||Wa[ky])throw Pp("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof E)$n=mO("<!---->"),mo=$n.ownerDocument.importNode(ft,!0),mo.nodeType===1&&mo.nodeName==="BODY"||mo.nodeName==="HTML"?$n=mo:$n.appendChild(mo);else{if(!yg&&!nv&&!Ih&&ft.indexOf("<")===-1)return ve&&u1?ve.createHTML(ft):ft;if($n=mO(ft),!$n)return yg?null:u1?Ce:""}$n&&ov&&iv($n.firstChild);const si=gO(sv?ft:$n);for(;nr=si.nextNode();)WM(nr)||(nr.content instanceof w&&N9(nr.content),jM(nr));if(sv)return ft;if(yg){if(c1)for(Yr=ot.call($n.ownerDocument);$n.firstChild;)Yr.appendChild($n.firstChild);else Yr=$n;return(jn.shadowroot||jn.shadowrootmode)&&(Yr=_t.call(f,Yr,!0)),Yr}let Si=Ih?$n.outerHTML:$n.innerHTML;return Ih&&So["!doctype"]&&$n.ownerDocument&&$n.ownerDocument.doctype&&$n.ownerDocument.doctype.name&&wu(sg,$n.ownerDocument.doctype.name)&&(Si="<!DOCTYPE "+$n.ownerDocument.doctype.name+`>
`+Si),nv&&(Si=dn(Si,Ht," "),Si=dn(Si,mn," "),Si=dn(Si,kn," ")),ve&&u1?ve.createHTML(Si):Si},u.setConfig=function(ft){uk(ft),Mw=!0},u.clearConfig=function(){f1=null,Mw=!1},u.isValidAttribute=function(ft,$n,mo){f1||uk({});const nr=Sl(ft),Yr=Sl($n);return pO(nr,Yr,mo)},u.addHook=function(ft,$n){typeof $n=="function"&&(wt[ft]=wt[ft]||[],E2(wt[ft],$n))},u.removeHook=function(ft){if(wt[ft])return fF(wt[ft])},u.removeHooks=function(ft){wt[ft]&&(wt[ft]=[])},u.removeAllHooks=function(){wt={}},u}();const hR=s=>SF().sanitize(s);var nd=tinymce.util.Tools.resolve("tinymce.util.I18n");const kF={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pR="temporary-placeholder",xA=s=>()=>hn(s,pR).getOr("!not found!"),Mp=(s,a)=>{const u=s.toLowerCase();if(nd.isRtl()){const f=((p,b)=>Nu(p,b)?p:((w,k)=>w+k)(p,b))(u,"-rtl");return Eo(a,f)?f:u}return u},O2=(s,a)=>hn(a,Mp(s,a)),vR=(s,a)=>{const u=a();return O2(s,u).getOrThunk(xA(u))},__=()=>Co("add-focusable",[sr(s=>{u0(s.element,"svg").each(a=>sn(a,"focusable","false"))})]),bR=(s,a,u,f)=>{var p,b;const w=(E=>!!nd.isRtl()&&Eo(kF,E))(a)?["tox-icon--flip"]:[],k=hn(u,Mp(a,u)).or(f).getOrThunk(xA(u));return{dom:{tag:s.tag,attributes:(p=s.attributes)!==null&&p!==void 0?p:{},classes:s.classes.concat(w),innerHtml:k},behaviours:Zt([...(b=s.behaviours)!==null&&b!==void 0?b:[],__()])}},Uc=(s,a,u,f=O.none())=>bR(a,s,u(),f),EF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},wA=vu({name:"Notification",factory:s=>{const a=bn("notification-text"),u=Cs({dom:og(`<p id=${a}>${hR(s.backstageProvider.translate(s.text))}</p>`),behaviours:Zt([Kn.config({})])}),f=P=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${P}%`}}}),p=P=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${P}%`}}),b=Cs({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},p(0)],behaviours:Zt([Kn.config({})])}),w={updateProgress:(P,z)=>{P.getSystem().isConnected()&&b.getOpt(P).each(G=>{Kn.set(G,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(z)]},p(z)])})},updateText:(P,z)=>{if(P.getSystem().isConnected()){const G=u.get(P);Kn.set(G,[Fr(z)])}}},k=eo([s.icon.toArray(),s.level.toArray(),s.level.bind(P=>O.from(EF[P])).toArray()]),E=Cs(Ua.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[Uc("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Zt([Zs.config({}),oi.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:P=>{s.onAction(P)}})),D=((P,z,G)=>{const X=G(),ue=J(P,me=>Eo(X,Mp(me,X)));return bR({tag:"div",classes:["tox-notification__icon"]},ue.getOr(pR),X,O.none())})(k,0,s.iconProvider),F=[D,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:Zt([Kn.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:s.level.map(P=>["tox-notification","tox-notification--in",`tox-notification--${P}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([Zs.config({}),no.config({}),Nn.config({mode:"special",onEscape:P=>(s.onAction(P),O.some(!0))})]),components:F.concat(s.progress?[b.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[jo("level"),Ot("progress"),jo("icon"),Ot("onAction"),Ot("text"),Ot("iconProvider"),Ot("backstageProvider")],apis:{updateProgress:(s,a,u)=>{s.updateProgress(a,u)},updateText:(s,a,u)=>{s.updateText(a,u)}}});var yR=(s,a,u,f)=>{const p=a.backstage.shared,b=()=>rn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),w=()=>{const E=ii(b());return O.some(E)},k=E=>{w().each(D=>{Mt(E,F=>{ws(F.element,"width"),Oi(F.element)>D.width&&co(F.element,"width",D.width+"px")})})};return{open:(E,D,F)=>{const P=()=>{f.on(X=>{D();const ue=F();(me=>{Kn.remove(me,z),G()})(X),((me,we)=>{Ns(me.element).length===0?((fe,de)=>{vr.hide(fe),f.clear(),de&&s.focus()})(me,we):((fe,de)=>{de&&Nn.focusIn(fe)})(me,we)})(X,ue)})},z=Ki(wA.sketch({text:E.text,level:et(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:P,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(f.isSet()){const X=nl(z);f.on(ue=>{Kn.append(ue,X),vr.reposition(ue),dr.refresh(ue),k(ue.components())})}else{const X=Ki(vr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Nn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Kn.config({}),...vh(s)&&!p.header.isPositionedAtTop()?[]:[dr.config({contextual:{lazyContext:()=>O.some(ii(b())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:fe=>Ip(s,fe.element).map(de=>({bounds:Np(de),optScrollEnv:O.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:Nl(de.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]])})),ue=nl(z),me={maxHeightFunction:lh()},we={...p.anchors.banner(),overrides:me};f.set(X),u.add(X),vr.showWithinBounds(X,ue,{anchor:we},w)}ne(E.timeout)&&E.timeout>0&&s_.setEditorTimeout(s,()=>{P()},E.timeout);const G=()=>{f.on(X=>{vr.reposition(X),dr.refresh(X),k(X.components())})};return{close:P,reposition:G,text:X=>{wA.updateText(z,X)},settings:E,getEl:()=>z.element.dom,progressBar:{value:X=>{wA.updateProgress(z,X)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},D2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(D2||(D2={}));var Yf=D2;const S_="tox-menu-nav__js",k_="tox-collection__item",xR="tox-swatch",wR={normal:S_,color:xR},CR="tox-collection__item--enabled",_R="tox-collection__item-icon",R2="tox-collection__item-label",CA="tox-collection__item-caret",rg="tox-collection__item--active",I2="tox-collection__item-container",N2="tox-collection__item-container--row",Bp=s=>hn(wR,s).getOr(S_),yW=s=>s==="color"?"tox-swatches":"tox-menu",_A=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:yW(s),tieredMenu:"tox-tiered-menu"}),Bb=s=>{const a=_A(s);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:Bp(s)}},SR=(s,a,u)=>{const f=_A(u);return{tag:"div",classes:eo([[f.menu,`tox-menu-${a}-column`],s?[f.hasIcons]:[]])}},kR=[Db.parts.items({})],E_=(s,a,u)=>{const f=_A(u);return{dom:{tag:"div",classes:eo([[f.tieredMenu]])},markers:Bb(u)}},AF=ee([jo("data"),it("inputAttributes",{}),it("inputStyles",{}),it("tag","input"),it("inputClasses",[]),Xo("onSetValue"),it("styles",{}),it("eventOrder",{}),yn("inputBehaviours",[lt,no]),it("selectOnFocus",!0)]),TF=s=>Zt([no.config({onFocus:s.selectOnFocus?a=>{const u=a.element,f=Rf(u);u.dom.setSelectionRange(0,f.length)}:se})]),OF=s=>({...TF(s),...yo(s.inputBehaviours,[lt.config({store:{mode:"manual",...s.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>Rf(a.element),setValue:(a,u)=>{Rf(a.element)!==u&&zm(a.element,u)}},onSetValue:s.onSetValue})])}),ER=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),yh=vu({name:"Input",configFields:AF(),factory:(s,a)=>({uid:s.uid,dom:ER(s),components:[],behaviours:OF(s),eventOrder:s.eventOrder})}),AR=bn("refetch-trigger-event"),TR=bn("redirect-menu-item-interaction"),OR="tox-menu__searcher",P2=s=>fr(s.element,`.${OR}`).bind(a=>s.getSystem().getByDom(a).toOptional()),DR=P2,RR=s=>({fetchPattern:lt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),IR=s=>{const a=(p,b)=>(b.cut(),O.none()),u=(p,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Rn(p,TR,w),O.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[k_]},components:[yh.sketch({inputClasses:[OR,"tox-textfield"],inputAttributes:{...s.placeholder.map(p=>({placeholder:s.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Zt([Co(f,[St(Im(),p=>{ko(p,AR)}),St(Sr(),(p,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Nn.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[f,Nn.name()]}})]}},M2="tox-collection--results__js",NR=s=>{var a;return s.dom?{...s,dom:{...s.dom,attributes:{...(a=s.dom.attributes)!==null&&a!==void 0?a:{},id:bn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},A_=(s,a)=>u=>{const f=tt(u,a);return Ye(f,p=>({dom:s,components:p}))},PR=(s,a)=>{const u=[];let f=[];return Mt(s,(p,b)=>{a(p,b)?(f.length>0&&u.push(f),f=[],(Eo(p.dom,"innerHtml")||p.components&&p.components.length>0)&&f.push(p)):f.push(p)}),f.length>0&&u.push(f),Ye(u,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},B2=(s,a,u)=>Db.parts.items({preprocess:f=>{const p=Ye(f,u);return s!=="auto"&&s>1?A_({tag:"div",classes:["tox-collection__group"]},s)(p):PR(p,(b,w)=>a[w].type==="separator")}}),SA=(s,a,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[B2(s,a,_e)]}),L2=s=>pt(s,a=>"icon"in a&&a.icon!==void 0),ig=s=>(console.error(Qa(s)),console.log(s),O.none()),DF=(s,a,u,f,p)=>{const b=(w=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Db.parts.items({preprocess:k=>PR(k,(E,D)=>w[D].type==="separator")})]});var w;return{value:s,dom:b.dom,components:b.components,items:u}},kA=(s,a,u,f,p)=>{if(p.menuType==="color"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Db.parts.items({preprocess:w!=="auto"?A_({tag:"div",classes:["tox-swatches__row"]},w):_e})]}]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"&&f==="auto"){const b=SA(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"||p.menuType==="searchable"){const b=p.menuType!=="searchable"?SA(f,u):p.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[IR({i18n:nd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],M2],attributes:{id:D}},components:[B2(w,k,NR)]}]}})(f,u,p.searchMode):((w,k,E=!0)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",M2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:D}},components:[B2(w,k,NR)]}})(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="listpreview"&&f!=="auto"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Db.parts.items({preprocess:A_({tag:"div",classes:["tox-collection__group"]},w)})]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}return{value:s,dom:SR(a,f,p.menuType),components:kR,items:u}},vi=_r("type"),EA=_r("name"),AA=_r("label"),od=_r("text"),TA=_r("title"),OA=_r("icon"),Lb=_r("value"),RF=La("fetch"),MR=La("getSubmenuItems"),W0=La("onAction"),BR=La("onItemAction"),Lp=Qs("onSetup",()=>se),IF=Lr("name"),Fp=Lr("text"),NF=Lr("role"),sd=Lr("icon"),F2=Lr("tooltip"),DA=Lr("label"),Z0=Lr("shortcut"),RA=ru("select"),T_=ei("active",!1),xW=ei("borderless",!1),rd=ei("enabled",!0),O_=ei("primary",!1),LR=s=>it("columns",s),Wc=it("meta",{}),IA=Qs("onAction",se),Fb=s=>Zl("type",s),NA=s=>ai("name","name",Hg(()=>bn(`${s}-name`)),wi),FR=Wn([vi,Fp]),PF=Wn([Fb("autocompleteitem"),T_,rd,Wc,Lb,Fp,sd]),ag=[rd,F2,sd,Fp,Lp],PA=Wn([vi,W0,Z0].concat(ag)),VR=s=>Cr("toolbarbutton",PA,s),V2=[T_].concat(ag),D_=Wn(V2.concat([vi,W0,Z0])),R_=s=>Cr("ToggleButton",D_,s),zR=[Qs("predicate",ke),Ac("scope","node",["node","editor"]),Ac("position","selection",["node","selection","line"])],MF=ag.concat([Fb("contextformbutton"),O_,W0,Wi("original",_e)]),BF=V2.concat([Fb("contextformbutton"),O_,W0,Wi("original",_e)]),LF=ag.concat([Fb("contextformbutton")]),FF=V2.concat([Fb("contextformtogglebutton")]),VF=gi("type",{contextformbutton:MF,contextformtogglebutton:BF}),zF=Wn([Fb("contextform"),Qs("initValue",ee("")),DA,el("commands",VF),Ur("launch",gi("type",{contextformbutton:LF,contextformtogglebutton:FF}))].concat(zR)),HR=Wn([Fb("contexttoolbar"),_r("items")].concat(zR)),I_=[vi,_r("src"),Lr("alt"),Ds("classes",[],wi)],HF=Wn(I_),$F=[vi,od,IF,Ds("classes",["tox-collection__item-label"],wi)],UF=Wn($F),$R=Am(()=>Zu("type",{cardimage:HF,cardtext:UF,cardcontainer:j0})),j0=Wn([vi,Zl("direction","horizontal"),Zl("align","left"),Zl("valign","middle"),el("items",$R)]),Vb=[rd,Fp,NF,Z0,ai("value","value",Hg(()=>bn("menuitem-value")),Ml()),Wc],WF=Wn([vi,DA,el("items",$R),Lp,IA].concat(Vb)),MA=Wn([vi,T_,sd].concat(Vb)),UR=[vi,_r("fancytype"),IA],WR=[it("initData",{})].concat(UR),ZR=[ru("select"),Va("initData",{},[ei("allowCustomColors",!0),Zl("storageKey","default"),U1("colors",Ml())])].concat(UR),jR=gi("fancytype",{inserttable:WR,colorswatch:ZR}),KR=Wn([vi,Lp,IA,sd].concat(Vb)),GR=Wn([vi,MR,Lp,sd].concat(Vb)),ZF=Wn([vi,sd,T_,Lp,W0].concat(Vb)),BA=(s,a,u)=>{const f=_i(s.element,"."+u);if(f.length>0){const p=xs(f,b=>{const w=b.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(f.length);return O.some({numColumns:p,numRows:Math.ceil(f.length/p)})}return O.none()},z2=s=>((a,u)=>Zt([Co(a,u)]))(bn("unnamed-events"),s),N_="silver.readonly",jF=Wn([Zi("readonly",nc)]),zb=(s,a)=>{const u=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];a&&Mt(f,p=>{p.broadcastOn([B()],{target:u})}),Mt(f,p=>{p.broadcastOn([N_],{readonly:a})})},qR=(s,a)=>{s.on("init",()=>{s.mode.isReadOnly()&&zb(a,!0)}),s.on("SwitchMode",()=>zb(a,s.mode.isReadOnly())),sA(s)&&s.mode.set("readonly")},Pi=()=>yl.config({channels:{[N_]:{schema:jF,onReceive:(s,a)=>{ro.set(s,a.readonly)}}}}),Da=s=>ro.config({disabled:s}),YR=s=>ro.config({disabled:s,disableClass:"tox-tbtn--disabled"}),P_=s=>ro.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),H2=(s,a)=>{const u=s.getApi(a);return f=>{f(u)}},Vp=(s,a)=>sr(u=>{H2(s,u)(f=>{const p=s.onSetup(f);Y(p)&&a.set(p)})}),xh=(s,a)=>qu(u=>H2(s,u)(a.get())),XR=(s,a)=>cu((u,f)=>{H2(s,u)(s.onAction),s.triggersSubmenu||a!==Yf.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&ko(u,Mv()),f.stop())}),KF={[pl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},K0=ea,G0=(s,a,u,f)=>{const p=Bn(se);return{type:"item",dom:a.dom,components:K0(a.optComponents),data:s.data,eventOrder:KF,hasSubmenu:s.triggersSubmenu,itemBehaviours:Zt([Co("item-events",[XR(s,u),Vp(s,p),xh(s,p)]),(b=()=>!s.enabled||f.isDisabled(),ro.config({disabled:b,disableClass:"tox-collection__item--state-disabled"})),Pi(),Kn.config({})].concat(s.itemBehaviours))};var b},q0=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),M_=s=>{const a=Kf.os.isMacOS()||Kf.os.isiOS(),u=a?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),p=Ye(f,b=>{const w=b.toLowerCase().trim();return Eo(u,w)?u[w]:b});return a?p.join(""):p.join("+")},LA=(s,a,u=[_R])=>Uc(s,{tag:"div",classes:u},a),JR=s=>({dom:{tag:"div",classes:[R2]},components:[Fr(nd.translate(s))]}),FA=(s,a)=>({dom:{tag:"div",classes:a,innerHtml:s}}),QR=(s,a)=>({dom:{tag:"div",classes:[R2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Fr(nd.translate(a))]}]}),eI=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Fr(M_(s))]}),tI=s=>LA("checkmark",s,["tox-collection__item-checkmark"]),nI=s=>{const a=s.map(u=>({attributes:{id:bn("menu-item"),"aria-label":nd.translate(u)}})).getOr({});return{tag:"div",classes:[S_,k_],...a}},$2=(s,a,u,f=O.none())=>s.presets==="color"?((p,b,w)=>{const k=p.value,E=p.iconContent.map(F=>((P,z,G)=>{const X=z();return O2(P,X).or(G).getOrThunk(xA(X))})(F,b.icons,w)),D=p.ariaLabel.map(F=>({"aria-label":b.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=xR,P=E.getOr(""),z={tag:"div",attributes:D,classes:[F]};return k==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:P}:k==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:P}:K(k)?{...z,attributes:{...z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:P}:z})(),optComponents:[]}})(s,a,f):((p,b,w,k)=>{const E={tag:"div",classes:[_R]},D=w?p.iconContent.map(G=>Uc(G,E,b.icons,k)).orThunk(()=>O.some({dom:E})):O.none(),F=p.checkMark,P=O.from(p.meta).fold(()=>JR,G=>Eo(G,"style")?Ue(QR,G.style):JR),z=p.htmlContent.fold(()=>p.textContent.map(P),G=>O.some(FA(G,[R2])));return{dom:nI(p.ariaLabel),optComponents:[D,z,p.shortcutContent.map(eI),F,p.caret]}})(s,a,u,f),oI=(s,a,u)=>hn(s,"tooltipWorker").map(f=>[oi.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:lh}}),mode:"follow-highlight",onShow:(p,b)=>{f(w=>{oi.setComponents(p,[If({element:rn(w)})])})}})]).getOrThunk(()=>u.map(f=>[oi.config({...a.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),VA=(s,a)=>{const u=(f=>F0.DOM.encode(f))(nd.translate(s));if(a.length>0){const f=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return u.replace(f,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return u},zA=(s,a)=>Ye(s,u=>{switch(u.type){case"cardcontainer":return((b,w)=>{const k=b.direction==="vertical"?"tox-collection__item-container--column":N2,E=b.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[I2,k,E,(()=>{switch(b.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(u,zA(u.items,a));case"cardimage":return((b,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:b,alt:k.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const f=u.name.exists(b=>et(a.cardText.highlightOn,b)),p=f?O.from(a.cardText.matchText).getOr(""):"";return FA(VA(u.text,p),u.classes)}}),wh=rl(tA(),nA()),HA=s=>({value:Hb(s)}),$A=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,UA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sI=s=>$A.test(s)||UA.test(s),Hb=s=>$s(s,"#").toUpperCase(),WA=s=>{const a=s.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},U2=s=>{const a=WA(s.red)+WA(s.green)+WA(s.blue);return HA(a)},ZA=Math.min,rI=Math.max,B_=Math.round,GF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,iI=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ch=(s,a,u,f)=>({red:s,green:a,blue:u,alpha:f}),W2=s=>{const a=parseInt(s,10);return a.toString()===s&&a>=0&&a<=255},aI=s=>{let a,u,f;const p=(s.hue||0)%360;let b=s.saturation/100,w=s.value/100;if(b=rI(0,ZA(b,1)),w=rI(0,ZA(w,1)),b===0)return a=u=f=B_(255*w),Ch(a,u,f,1);const k=p/60,E=w*b,D=E*(1-Math.abs(k%2-1)),F=w-E;switch(Math.floor(k)){case 0:a=E,u=D,f=0;break;case 1:a=D,u=E,f=0;break;case 2:a=0,u=E,f=D;break;case 3:a=0,u=D,f=E;break;case 4:a=D,u=0,f=E;break;case 5:a=E,u=0,f=D;break;default:a=u=f=0}return a=B_(255*(a+F)),u=B_(255*(u+F)),f=B_(255*(f+F)),Ch(a,u,f,1)},Gd=s=>{const a=(b=>{const w=(E=>({value:E.value.replace($A,(F,P,z,G)=>P+P+z+z+G+G)}))(b),k=UA.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),u=parseInt(a[1],16),f=parseInt(a[2],16),p=parseInt(a[3],16);return Ch(u,f,p,1)},jA=(s,a,u,f)=>{const p=parseInt(s,10),b=parseInt(a,10),w=parseInt(u,10),k=parseFloat(f);return Ch(p,b,w,k)},L_=s=>{const a=GF.exec(s);if(a!==null)return O.some(jA(a[1],a[2],a[3],"1"));const u=iI.exec(s);return u!==null?O.some(jA(u[1],u[2],u[3],u[4])):O.none()},lI=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,cI=Ch(255,0,0,1),$b=(s,a)=>{s.dispatch("ResizeContent",a)},Y0=(s,a)=>{s.dispatch("TextColorChange",a)},uI=(s,a)=>s.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),X0=(s,a)=>()=>{s(),a()},Mi=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.selection.isEditable())}),Xf=(s,a)=>u=>{const f=Mi(s)(u),p=((b,w)=>k=>{const E=kc(),D=()=>{k.setActive(b.formatter.match(w));const F=b.formatter.formatChanged(w,k.setActive);E.set(F)};return b.initialized?D():b.once("init",D),()=>{b.off("init",D),E.clear()}})(s,a)(u);return()=>{f(),p()}},Ub=(s,a,u)=>f=>{const p=()=>u(f),b=()=>{u(f),s.on(a,p)};return s.initialized?b():s.once("init",b),()=>{s.off("init",b),s.off(a,p)}},dI=s=>a=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,a.format)})},cc=(s,a)=>()=>s.execCommand(a);var Zc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const F_={},fI=s=>hn(F_,s).getOrThunk(()=>{const a=`tinymce-custom-colors-${s}`,u=Zc.getItem(a);if($(u)){const p=Zc.getItem("tinymce-custom-colors");Zc.setItem(a,K(p)?p:"[]")}const f=((p,b=10)=>{const w=Zc.getItem(p),k=v(w)?JSON.parse(w):[],E=b-(D=k).length<0?D.slice(0,b):D;var D;const F=P=>{E.splice(P,1)};return{add:P=>{((z,G)=>{const X=Jt(z,G);return X===-1?O.none():O.some(X)})(E,P).each(F),E.unshift(P),E.length>b&&E.pop(),Zc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return F_[s]=f,f}),KA=(s,a)=>{fI(s).add(a)},J0=(s,a,u)=>({hue:s,saturation:a,value:u}),V_=s=>{let a=0,u=0,f=0;const p=s.red/255,b=s.green/255,w=s.blue/255,k=Math.min(p,Math.min(b,w)),E=Math.max(p,Math.max(b,w));return k===E?(f=k,J0(0,0,100*f)):(a=p===k?3:w===k?1:5,a=60*(a-(p===k?b-w:w===k?p-b:w-p)/(E-k)),u=(E-k)/E,f=E,J0(Math.round(a),Math.round(100*u),Math.round(100*f)))},z_=s=>U2(aI(s)),mI=s=>{return(a=s,sI(a)?O.some({value:Hb(a)}):O.none()).orThunk(()=>L_(s).map(U2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const f=u.getContext("2d");f.clearRect(0,0,u.width,u.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const p=f.getImageData(0,0,1,1).data,b=p[0],w=p[1],k=p[2],E=p[3];return U2(Ch(b,w,k,E))});var a},GA="forecolor",qA="hilitecolor",qF=s=>{const a=[];for(let u=0;u<s.length;u+=2)a.push({text:s[u+1],value:"#"+mI(s[u]).value,icon:"checkmark",type:"choiceitem"});return a},id=s=>a=>a.options.get(s),Z2="#000000",Wb=(s,a)=>a===GA&&s.options.isSet("color_map_foreground")?id("color_map_foreground")(s):a===qA&&s.options.isSet("color_map_background")?id("color_map_background")(s):id("color_map")(s),H_=(s,a="default")=>Math.max(5,Math.ceil(Math.sqrt(Wb(s,a).length))),gI=(s,a)=>{const u=id("color_cols")(s),f=H_(s,a);return u===H_(s)?f:u},YA=(s,a="default")=>Math.round(a===GA?id("color_cols_foreground")(s):a===qA?id("color_cols_background")(s):id("color_cols")(s)),XA=id("custom_colors"),hI=id("color_default_foreground"),pI=id("color_default_background"),vI=(s,a)=>{const u=rn(s.selection.getStart()),f=a==="hilitecolor"?Wg(u,p=>{if(lr(p)){const b=wr(p,"background-color");return rs(L_(b).exists(w=>w.alpha!==0),b)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):wr(u,"color");return L_(f).map(p=>"#"+U2(p).value)},$_=s=>{const a="choiceitem",u={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[u,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},JA=(s,a,u,f)=>{u==="custom"?xI(s)(p=>{p.each(b=>{KA(a,b),s.execCommand("mceApplyTextcolor",a,b),f(b)})},vI(s,a).getOr(Z2)):u==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",a)):(f(u),s.execCommand("mceApplyTextcolor",a,u))},QA=(s,a,u)=>s.concat((f=>Ye(fI(f).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat($_(u))),bI=(s,a,u)=>f=>{f(QA(s,a,u))},e3=(s,a,u)=>{const f=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,u)},t3=(s,a)=>{s.setTooltip(a)},yI=(s,a)=>u=>{const f=vI(s,a);return or(f,u.toUpperCase())},n3=(s,a,u)=>{if(Pu(u))return a==="forecolor"?"Text color":"Background color";const f=a==="forecolor"?"Text color {0}":"Background color {0}",p=QA(Wb(s,a),a,!1),b=J(p,w=>w.value===u).getOr({text:""}).text;return s.translate([f,s.translate(b)])},o3=(s,a,u,f)=>{s.ui.registry.addSplitButton(a,{tooltip:n3(s,u,f.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:yI(s,u),columns:YA(s,u),fetch:bI(Wb(s,u),u,XA(s)),onAction:p=>{JA(s,u,f.get(),se)},onItemAction:(p,b)=>{JA(s,u,b,w=>{f.set(w),Y0(s,{name:a,color:w})})},onSetup:p=>{e3(p,a,f.get());const b=w=>{w.name===a&&(e3(p,w.name,w.color),t3(p,n3(s,u,w.color)))};return s.on("TextColorChange",b),X0(Mi(s)(p),()=>{s.off("TextColorChange",b)})}})},Q0=(s,a,u,f,p)=>{s.ui.registry.addNestedMenuItem(a,{text:f,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(t3(b,n3(s,u,p.get())),e3(b,a,p.get()),Mi(s)(b)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:yI(s,u),initData:{storageKey:u},onAction:b=>{JA(s,u,b.value,w=>{p.set(w),Y0(s,{name:a,color:w})})}}]})},xI=s=>(a,u)=>{let f=!1;const p={colorpicker:u};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(b,w)=>{w.name==="hex-valid"&&(f=w.value)},onSubmit:b=>{const w=b.getData().colorpicker;f?(a(O.from(w)),b.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",w]))},onClose:se,onCancel:()=>{a(O.none())}})},Zb=(s,a,u,f,p,b,w,k)=>{const E=L2(a),D=s3(a,u,f,p!=="color"?"normal":"color",b,w,k);return kA(s,E,D,f,{menuType:p})},s3=(s,a,u,f,p,b,w)=>ea(Ye(s,k=>{return k.type==="choiceitem"?(E=k,Cr("choicemenuitem",MA,E)).fold(ig,D=>O.some(((F,P,z,G,X,ue,me,we=!0)=>{const fe=$2({presets:z,textContent:P?F.text:O.none(),htmlContent:O.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:P?F.shortcut:O.none(),checkMark:P?O.some(tI(me.icons)):O.none(),caret:O.none(),value:F.value},me,we),de=F.text.filter(ee(!P)).map(ve=>oi.config(me.tooltips.getConfig({tooltipText:me.translate(ve)})));return Ps(G0({data:q0(F),enabled:F.enabled,getApi:ve=>({setActive:Ce=>{Jn.set(ve,Ce)},isActive:()=>Jn.isOn(ve),isEnabled:()=>!ro.isDisabled(ve),setEnabled:Ce=>ro.set(ve,!Ce)}),onAction:ve=>G(F.value),onSetup:ve=>(ve.setActive(X),se),triggersSubmenu:!1,itemBehaviours:[...de.toArray()]},fe,ue,me),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(D,u===1,f,a,b(D.value),p,w,L2(s)))):O.none();var E})),j2=(s,a)=>{const u=Bb(a);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>a==="color"?fr(f.element,"[aria-checked=true]"):O.none()}},r3=bn("cell-over"),wI=bn("cell-execute"),YF=(s,a,u)=>{const f=b=>Rn(b,wI,{row:s,col:a}),p=(b,w)=>{w.stop(),f(b)};return Ki({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:Zt([Co("insert-table-picker-cell",[St(Tn(),no.focus),St(pl(),f),St(hi(),p),St(Cf(),p)]),Jn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),no.config({onFocus:b=>Rn(b,r3,{row:s,col:a})})])})},CI=s=>tn(s,a=>Ye(a,nl)),_I=(s,a)=>Fr(`${a}x${s}`),SI={inserttable:(s,a)=>{const u=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),f=((w,k,E)=>{const D=[];for(let F=0;F<10;F++){const P=[];for(let z=0;z<10;z++){const G=w(F+1,z+1);P.push(YF(F,z,G))}D.push(P)}return D})(u),p=_I(0,0),b=Cs({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Zt([Kn.config({})])});return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CI(f).concat(b.asSpec()),behaviours:Zt([Co("insert-table-picker",[sr(w=>{Kn.set(b.get(w),[p])}),jg(r3,(w,k,E)=>{const{row:D,col:F}=E.event;((P,z,G,X,ue)=>{for(let me=0;me<10;me++)for(let we=0;we<10;we++)Jn.set(P[me][we],me<=z&&we<=G)})(f,D,F),Kn.set(b.get(w),[_I(D+1,F+1)])}),jg(wI,(w,k,E)=>{const{row:D,col:F}=E.event;ko(w,Mv()),s.onAction({numRows:D+1,numColumns:F+1})})]),Nn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,a)=>{const u=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>QA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),D=>D.concat($_(E)))})(s,a),f=a.colorinput.getColorCols(s.initData.storageKey),p="color",b={...Zb(bn("menu-value"),u,w=>{s.onAction({value:w})},f,p,Yf.CLOSE_ON_EXECUTE,s.select.getOr(ke),a.shared.providers),markers:Bb(p),movement:j2(f,p),showMenuRole:!1};return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget(Db.sketch(b))]}}},kI=s=>({type:"separator",dom:{tag:"div",classes:[k_,"tox-collection__group-heading"]},components:s.text.map(Fr).toArray()});var XF=Object.freeze({__proto__:null,getCoupled:(s,a,u,f)=>u.getOrCreate(s,a,f),getExistingCoupled:(s,a,u,f)=>u.getExisting(s,a,f)}),EI=[Zi("others",Dv(Bo.value,Ml()))],U_=Object.freeze({__proto__:null,init:()=>{const s={},a=(f,p)=>{if(wn(f.others).length===0)throw new Error("Cannot find any known coupled components");return hn(s,p)},u=ee({});return Ii({readState:u,getExisting:(f,p,b)=>a(p,b).orThunk(()=>(hn(p.others,b).getOrDie("No information found for coupled component: "+b),O.none())),getOrCreate:(f,p,b)=>a(p,b).getOrThunk(()=>{const w=hn(p.others,b).getOrDie("No information found for coupled component: "+b)(f),k=f.getSystem().build(w);return s[b]=k,k})})}});const Vr=Ni({fields:EI,name:"coupling",apis:XF,state:U_}),K2=s=>{let a=O.none(),u=[];const f=w=>{p()?b(w):u.push(w)},p=()=>a.isSome(),b=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return s(w=>{p()||(a=O.some(w),Mt(u,b),u=[])}),{get:f,map:w=>K2(k=>{f(E=>{k(w(E))})}),isReady:p}},JF={nu:K2,pure:s=>K2(a=>{a(s)})},QF=s=>{setTimeout(()=>{throw s},0)},ey=s=>{const a=u=>{s().then(u,QF)};return{map:u=>ey(()=>s().then(u)),bind:u=>ey(()=>s().then(f=>u(f).toPromise())),anonBind:u=>ey(()=>s().then(()=>u.toPromise())),toLazy:()=>JF.nu(a),toCached:()=>{let u=null;return ey(()=>(u===null&&(u=s()),u))},toPromise:s,get:a}},zp=s=>ey(()=>new Promise(s)),lg=s=>ey(()=>Promise.resolve(s)),i3=ee("sink"),AI=ee(pu({name:i3(),overrides:ee({dom:{tag:"div"},behaviours:Zt([ga.config({useFixed:Le})]),events:fo([Pm(Sr()),Pm(Dt()),Pm(hi())])})})),TI=(s,a)=>{const u=s.getHotspot(a).getOr(a),f="hotspot",p=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:u,overrides:p}),b=>({type:f,hotspot:u,overrides:p,layouts:b}))},W_=(s,a,u,f,p,b,w)=>((E,D,F,P,z,G,X)=>{const ue=((we,fe,de)=>(0,we.fetch)(de).map(fe))(E,D,P),me=OI(P,E);return ue.map(we=>we.bind(fe=>{const de=fe.menus[fe.primary];return O.from(de).each(ve=>{E.listRole.each(Ce=>{ve.role=Ce})}),O.from(hh.sketch({...G.menu(),uid:Mc(""),data:fe,highlightOnOpen:X,onOpenMenu:(ve,Ce)=>{const Ee=me().getOrDie();ga.position(Ee,Ce,{anchor:F}),T.decloak(z)},onOpenSubmenu:(ve,Ce,Ee)=>{const ze=me().getOrDie();ga.position(ze,Ee,{anchor:{type:"submenu",item:Ce}}),T.decloak(z)},onRepositionMenu:(ve,Ce,Ee)=>{const ze=me().getOrDie();ga.position(ze,Ce,{anchor:F}),Mt(Ee,ot=>{ga.position(ze,ot.triggeredMenu,{anchor:{type:"submenu",item:ot.triggeringItem}})})},onEscape:()=>(no.focus(P),T.close(z),O.some(!0))}))}))})(s,a,TI(s,u),u,f,p,w).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},D=>{T.cloak(f),T.open(f,D),b(f)}),f)),e7=(s,a,u,f,p,b,w)=>(T.close(f),lg(f)),a3=(s,a,u,f,p,b)=>{const w=Vr.getCoupled(u,"sandbox");return(T.isOpen(w)?e7:W_)(s,a,u,w,f,p,b)},OI=(s,a)=>s.getSystem().getByUid(a.uid+"-"+i3()).map(u=>()=>Bo.value(u)).getOrThunk(()=>a.lazySink.fold(()=>()=>Bo.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(s))),l3=s=>{T.getState(s).each(a=>{hh.repositionMenus(a)})},c3=(s,a,u)=>{const f=nh(),p=OI(a,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:Xn(s.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(b,w)=>{const k=TI(s,a);f.link(a.element),s.matchWidth&&((E,D,F)=>{const P=ns.getCurrent(D).getOr(D),z=Oi(E.element);F?co(P.element,"min-width",z+"px"):((G,X)=>{Mg.set(G,X)})(P.element,z)})(k.hotspot,w,s.useMinWidth),s.onOpen(k,b,w),u!==void 0&&u.onOpen!==void 0&&u.onOpen(b,w)},onClose:(b,w)=>{f.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(b,w)},isPartOf:(b,w,k)=>bl(w,k)||bl(a,k),getAttachPoint:()=>p().getOrDie()}),ns.config({find:b=>T.getState(b).bind(w=>ns.getCurrent(w))}),yl.config({channels:{...ie({isExtraPart:ke}),...Ie({doReposition:l3})}})])}},DI=s=>{const a=Vr.getCoupled(s,"sandbox");l3(a)},u3=()=>[it("sandboxClasses",[]),so("sandboxBehaviours",[ns,yl,T,lt])],t7=ee([Ot("dom"),Ot("fetch"),Xo("onOpen"),vl("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),Pf(),yn("dropdownBehaviours",[Jn,Vr,Nn,no]),Ot("toggleClass"),it("eventOrder",{}),jo("lazySink"),it("matchWidth",!1),it("useMinWidth",!1),jo("role"),jo("listRole")].concat(u3())),n7=ee([Zd({schema:[Xg(),it("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),AI()]),Cl=Bl({name:"Dropdown",configFields:t7(),partFields:n7(),factory:(s,a,u,f)=>{const p=E=>{T.getState(E).each(D=>{hh.highlightPrimary(D)})},b=(E,D,F)=>a3(s,_e,E,f,D,F),w={expand:E=>{Jn.isOn(E)||b(E,se,il.HighlightNone).get(se)},open:E=>{Jn.isOn(E)||b(E,se,il.HighlightMenuAndItem).get(se)},refetch:E=>Vr.getExistingCoupled(E,"sandbox").fold(()=>b(E,se,il.HighlightMenuAndItem).map(se),D=>W_(s,_e,E,D,f,se,il.HighlightMenuAndItem).map(se)),isOpen:Jn.isOn,close:E=>{Jn.isOn(E)&&b(E,se,il.HighlightMenuAndItem).get(se)},repositionMenus:E=>{Jn.isOn(E)&&DI(E)}},k=(E,D)=>(Af(E),O.some(!0));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.dropdownBehaviours,[Jn.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),Vr.config({others:{sandbox:E=>c3(s,E,{onOpen:()=>Jn.on(E),onClose:()=>Jn.off(E)})}}),Nn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,D)=>{if(Cl.isOpen(E)){const F=Vr.getCoupled(E,"sandbox");p(F)}else Cl.open(E);return O.some(!0)},onEscape:(E,D)=>Cl.isOpen(E)?(Cl.close(E),O.some(!0)):O.none()}),no.config({})]),events:L0(O.some(E=>{b(E,p,il.HighlightMenuAndItem).get(se)})),eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:hn(s.dom,"attributes").bind(E=>hn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,a)=>s.open(a),refetch:(s,a)=>s.refetch(a),expand:(s,a)=>s.expand(a),close:(s,a)=>s.close(a),isOpen:(s,a)=>s.isOpen(a),repositionMenus:(s,a)=>s.repositionMenus(a)}}),RI=(s,a,u)=>{DR(s).each(f=>{var p;((b,w)=>{Zo(w.element,"id").each(k=>sn(b.element,"aria-activedescendant",k))})(f,u),(tl((p=a).element,M2)?O.some(p.element):fr(p.element,"."+M2)).each(b=>{Zo(b,"id").each(w=>sn(f.element,"aria-controls",w))})}),sn(u.element,"aria-selected","true")},o7=(s,a,u)=>{sn(u.element,"aria-selected","false")},jb=s=>Vr.getExistingCoupled(s,"sandbox").bind(P2).map(RR).map(a=>a.fetchPattern).getOr("");var G2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(G2||(G2={}));const s7=(s,a,u,f,p)=>{const b=u.shared.providers,w=E=>p?{...E,shortcut:O.none(),icon:E.text.isSome()?O.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Cr("menuitem",KR,k)).fold(ig,E=>O.some(((D,F,P,z=!0)=>{const G=$2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.none(),checkMark:O.none(),shortcutContent:D.shortcut},P,z);return G0({data:q0(D),getApi:X=>({isEnabled:()=>!ro.isDisabled(X),setEnabled:ue=>ro.set(X,!ue)}),enabled:D.enabled,onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},G,F,P)})(w(E),a,b,f)));case"nestedmenuitem":return(E=>Cr("nestedmenuitem",GR,E))(s).fold(ig,E=>O.some(((D,F,P,z=!0,G=!1)=>{const X=G?(ue=P.icons,LA("chevron-down",ue,[CA])):(we=>LA("chevron-right",we,[CA]))(P.icons);var ue;const me=$2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.some(X),checkMark:O.none(),shortcutContent:D.shortcut},P,z);return G0({data:q0(D),getApi:we=>({isEnabled:()=>!ro.isDisabled(we),setEnabled:fe=>ro.set(we,!fe),setIconFill:(fe,de)=>{fr(we.element,`svg path[class="${fe}"], rect[class="${fe}"]`).each(ve=>{sn(ve,"fill",de)})},setTooltip:fe=>{const de=P.translate(fe);sn(we.element,"aria-label",de)}}),enabled:D.enabled,onAction:se,onSetup:D.onSetup,triggersSubmenu:!0,itemBehaviours:[]},me,F,P)})(w(E),a,b,f,p)));case"togglemenuitem":return(E=>Cr("togglemenuitem",ZF,E))(s).fold(ig,E=>O.some(((D,F,P,z=!0)=>{const G=$2({iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,checkMark:O.some(tI(P.icons)),caret:O.none(),shortcutContent:D.shortcut,presets:"normal",meta:D.meta},P,z);return Ps(G0({data:q0(D),enabled:D.enabled,getApi:X=>({setActive:ue=>{Jn.set(X,ue)},isActive:()=>Jn.isOn(X),isEnabled:()=>!ro.isDisabled(X),setEnabled:ue=>ro.set(X,!ue)}),onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},G,F,P),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:D.active},role:D.role.getOrUndefined()})})(w(E),a,b,f)));case"separator":return(E=>Cr("separatormenuitem",FR,E))(s).fold(ig,E=>O.some(kI(E)));case"fancymenuitem":return(E=>Cr("fancymenuitem",jR,E))(s).fold(ig,E=>((D,F)=>hn(SI,D.fancytype).map(P=>P(D,F)))(E,u));default:return console.error("Unknown item in general menu",s),O.none()}var k},Hp=(s,a,u,f,p,b,w)=>{const k=f===1,E=!k||L2(s);return ea(Ye(s,D=>{switch(D.type){case"separator":return(F=D,Cr("Autocompleter.Separator",FR,F)).fold(ig,P=>O.some(kI(P)));case"cardmenuitem":return(P=>Cr("cardmenuitem",WF,P))(D).fold(ig,P=>O.some(((z,G,X,ue)=>{const me={dom:nI(z.label),optComponents:[O.some({dom:{tag:"div",classes:[I2,N2]},components:zA(z.items,ue)})]};return G0({data:q0({text:O.none(),...z}),enabled:z.enabled,getApi:we=>({isEnabled:()=>!ro.isDisabled(we),setEnabled:fe=>{ro.set(we,!fe),Mt(_i(we.element,"*"),de=>{we.getSystem().getByDom(de).each(ve=>{ve.hasConfigured(ro)&&ro.set(ve,!fe)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(ue.itemBehaviours).getOr([])},me,G,X.providers)})({...P,onAction:z=>{P.onAction(z),u(P.value,P.meta)}},p,b,{itemBehaviours:oI(P.meta,b,O.none()),cardText:{matchText:a,highlightOn:w}})));default:return(P=>Cr("Autocompleter.Item",PF,P))(D).fold(ig,P=>O.some(((z,G,X,ue,me,we,fe,de=!0)=>{const ve=$2({presets:ue,textContent:O.none(),htmlContent:X?z.text.map(Ee=>VA(Ee,G)):O.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:z.value},fe.providers,de,z.icon),Ce=z.text.filter(Ee=>!X&&Ee!=="");return G0({data:q0(z),enabled:z.enabled,getApi:ee({}),onAction:Ee=>me(z.value,z.meta),onSetup:ee(se),triggersSubmenu:!1,itemBehaviours:oI(z,fe,Ce)},ve,we,fe.providers)})(P,a,k,"normal",u,p,b,E)))}var F}))},II=(s,a,u,f,p,b)=>{const w=L2(a),k=ea(Ye(a,D=>{const F=P=>s7(P,u,f,(z=>p?!Eo(z,"text"):w)(P),p);return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?F({...D,enabled:!1}):F(D)})),E=(D=>D.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:D})(b);return(p?DF:kA)(s,w,k,1,E)},d3=s=>hh.singleData(s.value,s),ad=s=>Mf(rn(s.startContainer),s.startOffset,rn(s.endContainer),s.endOffset),NI=(s,a)=>{const u=bn("autocompleter"),f=Bn(!1),p=Bn(!1),b=Es(),w=Ki(vr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissAutocompleter",[St(Zg(),()=>P()),St(ix(),(X,ue)=>{Zo(ue.event.target,"id").each(me=>sn(rn(s.getBody()),"aria-activedescendant",me))})])]),lazySink:a.getSink})),k=()=>vr.isOpen(w),E=p.get,D=()=>{if(k()){vr.hide(w),s.dom.remove(u,!1);const X=rn(s.getBody());Zo(X,"aria-owns").filter(ue=>ue===u).each(()=>{_o(X,"aria-owns"),_o(X,"aria-activedescendant")})}},F=()=>vr.getContent(w).bind(X=>gt(X.components(),0)),P=()=>s.execCommand("mceAutocompleterClose"),z=X=>{const ue=(me=>{const we=Vt(me,fe=>O.from(fe.columns)).getOr(1);return tn(me,fe=>{const de=fe.items;return Hp(de,fe.matchText,(ve,Ce)=>{const Ee={hide:()=>P(),reload:ze=>{D(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:ze})}};s.execCommand("mceAutocompleterRefreshActiveRange"),b.get().each(ze=>{f.set(!0),fe.onAction(Ee,ze,ve,Ce),f.set(!1)})},we,Yf.BUBBLE_TO_SANDBOX,a,fe.highlightOn)})})(X);ue.length>0?(((me,we)=>{const fe=Vt(me,de=>O.from(de.columns)).getOr(1);vr.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>b.get().map(ad),root:rn(s.getBody())}},((de,ve,Ce,Ee)=>{const ze=j2(ve,Ee),ot=Bb(Ee);return{data:d3({...de,movement:ze,menuBehaviours:z2(ve!=="auto"?[]:[sr((Et,_t)=>{BA(Et,4,ot.item).each(({numColumns:wt,numRows:Ht})=>{Nn.setGridSize(Et,Ht,wt)})})])}),menu:{markers:Bb(Ee),fakeFocus:Ce===G2.ContentFocus}}})(kA("autocompleter-value",!0,we,fe,{menuType:"normal"}),fe,G2.ContentFocus,"normal")),F().each(Ss.highlightFirst)})(X,ue),sn(rn(s.getBody()),"aria-owns",u),s.inline||G()):D()},G=()=>{s.dom.get(u)&&s.dom.remove(u,!1);const X=s.getDoc().documentElement,ue=s.selection.getNode(),me=(we=>qg(we,!0))(w.element);Ya(me,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),s.dom.add(X,me.dom),fr(me,'[role="menu"]').each(we=>{ws(we,"position"),ws(we,"max-height")})};s.on("AutocompleterStart",({lookupData:X})=>{p.set(!0),f.set(!1),z(X)}),s.on("AutocompleterUpdate",({lookupData:X})=>z(X)),s.on("AutocompleterUpdateActiveRange",({range:X})=>b.set(X)),s.on("AutocompleterEnd",()=>{D(),p.set(!1),f.set(!1),b.clear()}),((X,ue)=>{const me=(fe,de)=>{Rn(fe,Sr(),{raw:de})},we=()=>X.getMenu().bind(Ss.getHighlighted);ue.on("keydown",fe=>{const de=fe.which;X.isActive()&&(X.isMenuOpen()?de===13?(we().each(Af),fe.preventDefault()):de===40?(we().fold(()=>{X.getMenu().each(Ss.highlightFirst)},ve=>{me(ve,fe)}),fe.preventDefault(),fe.stopImmediatePropagation()):de!==37&&de!==38&&de!==39||we().each(ve=>{me(ve,fe),fe.preventDefault(),fe.stopImmediatePropagation()}):de!==13&&de!==38&&de!==40||X.cancelIfNecessary())}),ue.on("NodeChange",()=>{!X.isActive()||X.isProcessingAction()||ue.queryCommandState("mceAutoCompleterInRange")||X.cancelIfNecessary()})})({cancelIfNecessary:P,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},s)},ty=(s,a,u)=>Xu(s,a,u).isSome(),f3=(s,a)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...f)=>{u=setTimeout(()=>{s.apply(null,f),u=null},a)}}},PI=s=>{const a=s.raw;return a.touches===void 0||a.touches.length!==1?O.none():O.some(a.touches[0])},Z_=(s,a)=>{const u={stopBackspace:!0,...a},f=(P=>{const z=Es(),G=Bn(!1),X=f3(me=>{P.triggerEvent(aE(),me),G.set(!0)},400),ue=Nd([{key:W(),value:me=>(PI(me).each(we=>{X.cancel();const fe={x:we.clientX,y:we.clientY,target:me.target};X.schedule(me),G.set(!1),z.set(fe)}),O.none())},{key:re(),value:me=>(X.cancel(),PI(me).each(we=>{z.on(fe=>{((de,ve)=>{const Ce=Math.abs(de.clientX-ve.x),Ee=Math.abs(de.clientY-ve.y);return Ce>5||Ee>5})(we,fe)&&z.clear()})}),O.none())},{key:Re(),value:me=>(X.cancel(),z.get().filter(we=>is(we.target,me.target)).map(we=>G.get()?(me.prevent(),!1):P.triggerEvent(Cf(),me)))}]);return{fireIfReady:(me,we)=>hn(ue,we).bind(fe=>fe(me))}})(u),p=Ye(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),P=>Ha(s,P,z=>{f.fireIfReady(z,P).each(G=>{G&&z.kill()}),u.triggerEvent(P,z)&&z.kill()})),b=Es(),w=Ha(s,"paste",P=>{f.fireIfReady(P,"paste").each(z=>{z&&P.kill()}),u.triggerEvent("paste",P)&&P.kill(),b.set(setTimeout(()=>{u.triggerEvent(rx(),P)},0))}),k=Ha(s,"keydown",P=>{u.triggerEvent("keydown",P)?P.kill():u.stopBackspace&&(z=>z.raw.which===n5[0]&&!et(["input","textarea"],Ga(z.target))&&!ty(z.target,'[contenteditable="true"]'))(P)&&P.prevent()}),E=Ha(s,"focusin",P=>{u.triggerEvent("focusin",P)&&P.kill()}),D=Es(),F=Ha(s,"focusout",P=>{u.triggerEvent("focusout",P)&&P.kill(),D.set(setTimeout(()=>{u.triggerEvent(rp(),P)},0))});return{unbind:()=>{Mt(p,P=>{P.unbind()}),k.unbind(),E.unbind(),F.unbind(),w.unbind(),b.on(clearTimeout),D.on(clearTimeout)}}},m3=(s,a)=>{const u=hn(s,"target").getOr(a);return Bn(u)},q2=jl([{stopped:[]},{resume:["element"]},{complete:[]}]),MI=(s,a,u,f,p,b)=>{const w=s(a,f),k=((E,D)=>{const F=Bn(!1),P=Bn(!1);return{stop:()=>{F.set(!0)},cut:()=>{P.set(!0)},isStopped:F.get,isCut:P.get,event:E,setSource:D.set,getSource:D.get}})(u,p);return w.fold(()=>(b.logEventNoHandlers(a,f),q2.complete()),E=>{const D=E.descHandler;return Sx(D)(k),k.isStopped()?(b.logEventStopped(a,E.element,D.purpose),q2.stopped()):k.isCut()?(b.logEventCut(a,E.element,D.purpose),q2.complete()):_a(E.element).fold(()=>(b.logNoParent(a,E.element,D.purpose),q2.complete()),F=>(b.logEventResponse(a,E.element,D.purpose),q2.resume(F)))})},Y2=(s,a,u,f,p,b)=>MI(s,a,u,f,p,b).fold(Le,w=>Y2(s,a,u,w,p,b),ke),j_=(s,a,u,f,p)=>{const b=m3(u,f);return Y2(s,a,u,f,b,p)},BI=()=>{const s=(()=>{const f={};return{registerId:(p,b,w)=>{An(w,(k,E)=>{const D=f[E]!==void 0?f[E]:{};D[b]=((F,P)=>({cHandler:Ue.apply(void 0,[F.handler].concat(P)),purpose:F.purpose}))(k,p),f[E]=D})},unregisterId:p=>{An(f,(b,w)=>{Eo(b,p)&&delete b[p]})},filterByType:p=>hn(f,p).map(b=>ar(b,(w,k)=>((E,D)=>({id:E,descHandler:D}))(k,w))).getOr([]),find:(p,b,w)=>hn(f,b).bind(k=>Wg(w,E=>((D,F)=>Qg(F).bind(P=>hn(D,P)).map(P=>((z,G)=>({element:z,descHandler:G}))(F,P)))(k,E),p))}})(),a={},u=f=>{Qg(f.element).each(p=>{delete a[p],s.unregisterId(p)})};return{find:(f,p,b)=>s.find(f,p,b),filter:f=>s.filterByType(f),register:f=>{const p=(w=>{const k=w.element;return Qg(k).getOrThunk(()=>((E,D)=>{const F=bn(t0+"uid-");return n0(D,F),F})(0,w.element))})(f);vo(a,p)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+Fd(E.element)+`
Cannot use it for: `+Fd(w.element)+`
The conflicting element is`+(un(E.element)?" ":" not ")+"already in the DOM");u(w)})(f,p);const b=[f];s.registerId(b,p,f.events),a[p]=f},unregister:u,getById:f=>hn(a,f)}},qd=vu({name:"Container",factory:s=>{const{attributes:a,...u}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...u},components:s.components,behaviours:Yn(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[it("components",[]),yn("containerBehaviours",[]),it("events",{}),it("domModification",{}),it("eventOrder",{})]}),K_=s=>{const a=me=>_a(s.element).fold(Le,we=>is(me,we)),u=BI(),f=(me,we)=>u.find(a,me,we),p=Z_(s.element,{triggerEvent:(me,we)=>Kv(me,we.target,fe=>((de,ve,Ce,Ee)=>j_(de,ve,Ce,Ce.target,Ee))(f,me,we,fe))}),b={debugInfo:ee("real"),triggerEvent:(me,we,fe)=>{Kv(me,we,de=>j_(f,me,fe,we,de))},triggerFocus:(me,we)=>{Qg(me).fold(()=>{za(me)},fe=>{Kv(Gu(),me,de=>(((ve,Ce,Ee,ze,ot)=>{const Et=m3(Ee,ze);MI(ve,Ce,Ee,ze,Et,ot)})(f,Gu(),{originator:we,kill:se,prevent:se,target:me},me,de),!1))})},triggerEscape:(me,we)=>{b.triggerEvent("keydown",me.element,we.event)},getByUid:me=>X(me),getByDom:me=>ue(me),build:Ki,buildOrPatch:l0,addToGui:me=>{E(me)},removeFromGui:me=>{D(me)},addToWorld:me=>{w(me)},removeFromWorld:me=>{k(me)},broadcast:me=>{P(me)},broadcastOn:(me,we)=>{z(me,we)},broadcastEvent:(me,we)=>{G(me,we)},isConnected:Le},w=me=>{me.connect(b),Ca(me.element)||(u.register(me),Mt(me.components(),w),b.triggerEvent(_f(),me.element,{target:me.element}))},k=me=>{Ca(me.element)||(Mt(me.components(),k),u.unregister(me)),me.disconnect()},E=me=>{$f(s,me)},D=me=>{sl(me)},F=me=>{const we=u.filter(oc());Mt(we,fe=>{const de=fe.descHandler;Sx(de)(me)})},P=me=>{F({universal:!0,data:me})},z=(me,we)=>{F({universal:!1,channels:me,data:we})},G=(me,we)=>((fe,de,ve)=>{const Ce=(Ee=>{const ze=Bn(!1);return{stop:()=>{ze.set(!0)},cut:se,isStopped:ze.get,isCut:ke,event:Ee,setSource:qe("Cannot set source of a broadcasted event"),getSource:qe("Cannot get source of a broadcasted event")}})(de);return Mt(fe,Ee=>{const ze=Ee.descHandler;Sx(ze)(Ce)}),Ce.isStopped()})(u.filter(me),we),X=me=>u.getById(me).fold(()=>Bo.error(new Error('Could not find component with uid: "'+me+'" in system.')),Bo.value),ue=me=>{const we=Qg(me).getOr("not found");return X(we)};return w(s),{root:s,element:s.element,destroy:()=>{p.unbind(),$i(s.element)},add:E,remove:D,getByUid:X,getByDom:ue,addToWorld:w,removeFromWorld:k,broadcast:P,broadcastOn:z,broadcastEvent:G}},r7=ee([it("prefix","form-field"),yn("fieldBehaviours",[ns,lt])]),g3=ee([pu({schema:[Ot("dom")],name:"label"}),pu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ot("text")],name:"aria-descriptor"}),wl({factory:{sketch:s=>{const a=((u,f)=>{const p={};return An(u,(b,w)=>{et(f,w)||(p[w]=b)}),p})(s,["factory"]);return s.factory.sketch(a)}},schema:[Ot("factory")],name:"field"})]),As=Bl({name:"FormField",configFields:r7(),partFields:g3(),factory:(s,a,u,f)=>{const p=yo(s.fieldBehaviours,[ns.config({find:k=>qs(k,s,"field")}),lt.config({store:{mode:"manual",getValue:k=>ns.getCurrent(k).bind(lt.getValue),setValue:(k,E)=>{ns.getCurrent(k).each(D=>{lt.setValue(D,E)})}}})]),b=fo([sr((k,E)=>{const D=HD(k,s,["label","field","aria-descriptor"]);D.field().each(F=>{const P=bn(s.prefix);D.label().each(z=>{sn(z.element,"for",P),sn(F.element,"id",P)}),D["aria-descriptor"]().each(z=>{const G=bn(s.prefix);sn(z.element,"id",G),sn(F.element,"aria-describedby",G)})})})]),w={getField:k=>qs(k,s,"field"),getLabel:k=>qs(k,s,"label")};return{uid:s.uid,dom:s.dom,components:a,behaviours:p,events:b,apis:w}},apis:{getField:(s,a)=>s.getField(a),getLabel:(s,a)=>s.getLabel(a)}});var i7=tinymce.util.Tools.resolve("tinymce.html.Entities");const X2=(s,a,u,f)=>{const p=a7(s,a,u,f);return As.sketch(p)},a7=(s,a,u,f)=>({dom:G_(u),components:s.toArray().concat([a]),fieldBehaviours:Zt(f)}),G_=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),$p=(s,a)=>As.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(a.translate(s))]}),al=bn("form-component-change"),Up=bn("form-close"),_h=bn("form-cancel"),Jf=bn("form-action"),J2=bn("form-submit"),h3=bn("form-block"),p3=bn("form-unblock"),LI=bn("form-tabchange"),q_=bn("form-resize"),FI=(s,a,u)=>{const f=s.label.map(P=>$p(P,a)),p=a.icons(),b=P=>(z,G)=>{Xu(G.event.target,"[data-collection-item-value]").each(X=>{P(z,G,X,Po(X,"data-collection-item-value"))})},w=b((P,z,G,X)=>{z.stop(),a.isDisabled()||Rn(P,Jf,{name:s.name,value:X})}),k=[St(Tn(),b((P,z,G)=>{za(G)})),St(hi(),w),St(Cf(),w),St(bs(),b((P,z,G)=>{fr(P.element,"."+rg).each(X=>{Ir(X,rg)}),kr(G,rg)})),St(Zr(),b(P=>{fr(P.element,"."+rg).each(z=>{Ir(z,rg),tb(z)})})),cu(b((P,z,G,X)=>{Rn(P,Jf,{name:s.name,value:X})}))],E=(P,z)=>Ye(_i(P.element,".tox-collection__item"),z),D=As.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_e},behaviours:Zt([ro.config({disabled:a.isDisabled,onDisabled:P=>{E(P,z=>{kr(z,"tox-collection__item--state-disabled"),sn(z,"aria-disabled",!0)})},onEnabled:P=>{E(P,z=>{Ir(z,"tox-collection__item--state-disabled"),_o(z,"aria-disabled")})}}),Pi(),Kn.config({}),oi.config({...a.tooltips.getConfig({tooltipText:"",onShow:P=>{fr(P.element,"."+rg+"[data-mce-tooltip]").each(z=>{Zo(z,"data-mce-tooltip").each(G=>{oi.setComponents(P,a.tooltips.getComponents({tooltipText:G}))})})}}),mode:"children-keyboard-focus",anchor:P=>({type:"node",node:fr(P.element,"."+rg).orThunk(()=>Sd(".tox-collection__item")),root:P.element,layouts:{onLtr:ee([Gr,Er,Nr,ti,Pr,Ms]),onRtl:ee([Gr,Er,Nr,ti,Pr,Ms])},bubble:ic(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(P,z)=>{((G,X)=>{const ue=Ye(X,fe=>{const de=nd.translate(fe.text),ve=s.columns===1?`<div class="tox-collection__item-label">${de}</div>`:"",Ce=`<div class="tox-collection__item-icon">${(ot=>{var Et;return(Et=p[ot])!==null&&Et!==void 0?Et:ot})(fe.icon)}</div>`,Ee={_:" "," - ":" ","-":" "},ze=de.replace(/\_| \- |\-/g,ot=>Ee[ot]);return`<div data-mce-tooltip="${ze}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${i7.encodeAllRaw(fe.value)}" aria-label="${ze}">${Ce}${ve}</div>`}),me=s.columns!=="auto"&&s.columns>1?tt(ue,s.columns):[ue],we=Ye(me,fe=>`<div class="tox-collection__group">${fe.join("")}</div>`);Gg(G.element,we.join(""))})(P,z),s.columns==="auto"&&BA(P,5,"tox-collection__item").each(({numRows:G,numColumns:X})=>{Nn.setGridSize(P,G,X)}),ko(P,q_)}}),Zs.config({}),Nn.config((F=s.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${k_}`}})),Co("collection-events",k)]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","collection-events"],[bs()]:["collection-events","tooltipping"]}});var F;return X2(f,D,["tox-form__group--collection"],[])},VI=["input","textarea"],Y_=s=>{const a=Ga(s);return et(VI,a)},zI=(s,a)=>{const u=a.getRoot(s).getOr(s.element);Ir(u,a.invalidClass),a.notify.each(f=>{Y_(s.element)&&sn(s.element,"aria-invalid",!1),f.getContainer(s).each(p=>{Gg(p,f.validHtml)}),f.onValid(s)})},v3=(s,a,u,f)=>{const p=a.getRoot(s).getOr(s.element);kr(p,a.invalidClass),a.notify.each(b=>{Y_(s.element)&&sn(s.element,"aria-invalid",!0),b.getContainer(s).each(w=>{Gg(w,f)}),b.onInvalid(s,f)})},HI=(s,a,u)=>a.validator.fold(()=>lg(Bo.value(!0)),f=>f.validate(s)),b3=(s,a,u)=>(a.notify.each(f=>{f.onValidate(s)}),HI(s,a).map(f=>s.getSystem().isConnected()?f.fold(p=>(v3(s,a,0,p),Bo.error(p)),p=>(zI(s,a),Bo.value(p))):Bo.error("No longer in system")));var l7=Object.freeze({__proto__:null,markValid:zI,markInvalid:v3,query:HI,run:b3,isInvalid:(s,a)=>{const u=a.getRoot(s).getOr(s.element);return tl(u,a.invalidClass)}}),$I=Object.freeze({__proto__:null,events:(s,a)=>s.validator.map(u=>fo([St(u.onEvent,f=>{b3(f,s).get(_e)})].concat(u.validateOnLoad?[sr(f=>{b3(f,s).get(se)})]:[]))).getOr({})}),c7=[Ot("invalidClass"),it("getRoot",O.none),Dr("notify",[it("aria","alert"),it("getContainer",O.none),it("validHtml",""),Xo("onValid"),Xo("onInvalid"),Xo("onValidate")]),Dr("validator",[Ot("validate"),it("onEvent","input"),it("validateOnLoad",!0)])];const cg=Ni({fields:c7,name:"invalidating",active:$I,apis:l7,extra:{validation:s=>a=>{const u=lt.getValue(a);return lg(s(u))}}}),Kb=Ni({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>fo([lp(ca(),Le)]),exhibit:()=>jr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),y3=bn("color-input-change"),x3=bn("color-swatch-change"),UI=bn("color-picker-cancel"),w3=pu({schema:[Ot("dom")],name:"label"}),Wp=s=>pu({name:s+"-edge",overrides:a=>a.model.manager.edgeActions[s].fold(()=>({}),u=>({events:fo([ax(W(),(f,p,b)=>u(f,b),[a]),ax(Dt(),(f,p,b)=>u(f,b),[a]),ax(Zn(),(f,p,b)=>{b.mouseIsDown.get()&&u(f,b)},[a])])}))}),u7=Wp("top-left"),d7=Wp("top"),f7=Wp("top-right"),m7=Wp("right"),WI=Wp("bottom-right"),C3=Wp("bottom"),g7=Wp("bottom-left"),X_=Wp("left"),h7=wl({name:"thumb",defaults:ee({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:fo([up(W(),s,"spectrum"),up(re(),s,"spectrum"),up(Re(),s,"spectrum"),up(Dt(),s,"spectrum"),up(Zn(),s,"spectrum"),up(lo(),s,"spectrum")])})}),J_=s=>eg(s.event);var p7=[w3,X_,m7,d7,C3,u7,f7,g7,WI,h7,wl({schema:[Wi("mouseIsDown",()=>Bn(!1))],name:"spectrum",overrides:s=>{const a=s.model.manager,u=(f,p)=>a.getValueFromEvent(p).map(b=>a.setValueFrom(f,s,b));return{behaviours:Zt([Nn.config({mode:"special",onLeft:(f,p)=>a.onLeft(f,s,J_(p)),onRight:(f,p)=>a.onRight(f,s,J_(p)),onUp:(f,p)=>a.onUp(f,s,J_(p)),onDown:(f,p)=>a.onDown(f,s,J_(p))}),Zs.config({}),no.config({})]),events:fo([St(W(),u),St(re(),u),St(Dt(),u),St(Zn(),(f,p)=>{s.mouseIsDown.get()&&u(f,p)})])}}})];const Q2=ee("slider.change.value"),_3=s=>{const a=s.event.raw;if((u=>u.type.indexOf("touch")!==-1)(a)){const u=a;return u.touches!==void 0&&u.touches.length===1?O.some(u.touches[0]).map(f=>Xs(f.clientX,f.clientY)):O.none()}{const u=a;return u.clientX!==void 0?O.some(u).map(f=>Xs(f.clientX,f.clientY)):O.none()}},Gb=s=>s.model.minX,Zp=s=>s.model.minY,Q_=s=>s.model.minX-1,eS=s=>s.model.minY-1,Sh=s=>s.model.maxX,ld=s=>s.model.maxY,tS=s=>s.model.maxX+1,nS=s=>s.model.maxY+1,oS=(s,a,u)=>a(s)-u(s),sS=s=>oS(s,Sh,Gb),S3=s=>oS(s,ld,Zp),ZI=s=>sS(s)/2,k3=s=>S3(s)/2,ny=(s,a)=>a?s.stepSize*s.speedMultiplier:s.stepSize,E3=s=>s.snapToGrid,A3=s=>s.snapStart,rS=s=>s.rounded,iS=(s,a)=>s[a+"-edge"]!==void 0,T3=s=>iS(s,"left"),jI=s=>iS(s,"right"),oy=s=>iS(s,"top"),KI=s=>iS(s,"bottom"),kh=s=>s.model.value.get(),ug=(s,a)=>({x:s,y:a}),Cu=(s,a)=>{Rn(s,Q2(),{value:a})},O3=(s,a,u,f)=>s<a?s:s>u?u:s===a?a-1:Math.max(a,s-f),ew=(s,a,u,f)=>s>u?s:s<a?a:s===u?u+1:Math.min(u,s+f),GI=(s,a,u)=>Math.max(a,Math.min(u,s)),qI=s=>{const{min:a,max:u,range:f,value:p,step:b,snap:w,snapStart:k,rounded:E,hasMinEdge:D,hasMaxEdge:F,minBound:P,maxBound:z,screenRange:G}=s,X=D?a-1:a,ue=F?u+1:u;if(p<P)return X;if(p>z)return ue;{const me=((fe,de,ve)=>Math.min(ve,Math.max(fe,de))-de)(p,P,z),we=GI(me/G*f+a,X,ue);return w&&we>=a&&we<=u?((fe,de,ve,Ce,Ee)=>Ee.fold(()=>{const ze=fe-de,ot=Math.round(ze/Ce)*Ce;return GI(de+ot,de-1,ve+1)},ze=>{const ot=(fe-ze)%Ce,Et=Math.round(ot/Ce),_t=Math.floor((fe-ze)/Ce),wt=Math.floor((ve-ze)/Ce),Ht=ze+Math.min(wt,_t+Et)*Ce;return Math.max(ze,Ht)}))(we,a,u,b,k):E?Math.round(we):we}},aS=s=>{const{min:a,max:u,range:f,value:p,hasMinEdge:b,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:D,centerMaxEdge:F}=s;return p<a?b?0:D:p>u?w?k:F:(p-a)/f*E},D3="top",YI="right",XI="bottom",R3="left",dg=s=>s.element.dom.getBoundingClientRect(),Yd=(s,a)=>s[a],lS=s=>{const a=dg(s);return Yd(a,R3)},JI=s=>{const a=dg(s);return Yd(a,YI)},cS=s=>{const a=dg(s);return Yd(a,D3)},QI=s=>{const a=dg(s);return Yd(a,XI)},eN=s=>{const a=dg(s);return Yd(a,"width")},tN=s=>{const a=dg(s);return Yd(a,"height")},uS=(s,a,u)=>(s+a)/2-u,nN=(s,a)=>{const u=dg(s),f=dg(a),p=Yd(u,R3),b=Yd(u,YI),w=Yd(f,R3);return uS(p,b,w)},oN=(s,a)=>{const u=dg(s),f=dg(a),p=Yd(u,D3),b=Yd(u,XI),w=Yd(f,D3);return uS(p,b,w)},dS=(s,a)=>{Rn(s,Q2(),{value:a})},fS=(s,a,u)=>{const f={min:Gb(a),max:Sh(a),range:sS(a),value:u,step:ny(a),snap:E3(a),snapStart:A3(a),rounded:rS(a),hasMinEdge:T3(a),hasMaxEdge:jI(a),minBound:lS(s),maxBound:JI(s),screenRange:eN(s)};return qI(f)},sN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?ew:O3)(kh(w),Gb(w),Sh(w),ny(w,k));return dS(b,E),O.some(E)})(s,a,u,f).map(Le),I3=(s,a,u,f,p,b)=>{const w=((k,E,D,F,P)=>{const z=eN(k),G=F.bind(me=>O.some(nN(me,k))).getOr(0),X=P.bind(me=>O.some(nN(me,k))).getOr(z),ue={min:Gb(E),max:Sh(E),range:sS(E),value:D,hasMinEdge:T3(E),hasMaxEdge:jI(E),minBound:lS(k),minOffset:0,maxBound:JI(k),maxOffset:z,centerMinEdge:G,centerMaxEdge:X};return aS(ue)})(a,b,u,f,p);return lS(a)-lS(s)+w},v7=sN(-1),b7=sN(1),y7=O.none,x7=O.none,N3={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((s,a)=>{Cu(s,tS(a))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((s,a)=>{Cu(s,Q_(a))})};var w7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=fS(s,a,u);return dS(s,f),f},setToMin:(s,a)=>{const u=Gb(a);dS(s,u)},setToMax:(s,a)=>{const u=Sh(a);dS(s,u)},findValueOfOffset:fS,getValueFromEvent:s=>_3(s).map(a=>a.left),findPositionOfValue:I3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=I3(s,f.getSpectrum(s),p,f.getLeftEdge(s),f.getRightEdge(s),u),w=Oi(a.element)/2;co(a.element,"left",b-w+"px")},onLeft:v7,onRight:b7,onUp:y7,onDown:x7,edgeActions:N3});const mS=(s,a)=>{Rn(s,Q2(),{value:a})},P3=(s,a,u)=>{const f={min:Zp(a),max:ld(a),range:S3(a),value:u,step:ny(a),snap:E3(a),snapStart:A3(a),rounded:rS(a),hasMinEdge:oy(a),hasMaxEdge:KI(a),minBound:cS(s),maxBound:QI(s),screenRange:tN(s)};return qI(f)},rN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?ew:O3)(kh(w),Zp(w),ld(w),ny(w,k));return mS(b,E),O.some(E)})(s,a,u,f).map(Le),M3=(s,a,u,f,p,b)=>{const w=((k,E,D,F,P)=>{const z=tN(k),G=F.bind(me=>O.some(oN(me,k))).getOr(0),X=P.bind(me=>O.some(oN(me,k))).getOr(z),ue={min:Zp(E),max:ld(E),range:S3(E),value:D,hasMinEdge:oy(E),hasMaxEdge:KI(E),minBound:cS(k),minOffset:0,maxBound:QI(k),maxOffset:z,centerMinEdge:G,centerMaxEdge:X};return aS(ue)})(a,b,u,f,p);return cS(a)-cS(s)+w},C7=O.none,_7=O.none,S7=rN(-1),k7=rN(1),E7={"top-left":O.none(),top:O.some((s,a)=>{Cu(s,eS(a))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((s,a)=>{Cu(s,nS(a))}),"bottom-left":O.none(),left:O.none()};var A7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=P3(s,a,u);return mS(s,f),f},setToMin:(s,a)=>{const u=Zp(a);mS(s,u)},setToMax:(s,a)=>{const u=ld(a);mS(s,u)},findValueOfOffset:P3,getValueFromEvent:s=>_3(s).map(a=>a.top),findPositionOfValue:M3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=M3(s,f.getSpectrum(s),p,f.getTopEdge(s),f.getBottomEdge(s),u),w=Or(a.element)/2;co(a.element,"top",b-w+"px")},onLeft:C7,onRight:_7,onUp:S7,onDown:k7,edgeActions:E7});const gS=(s,a)=>{Rn(s,Q2(),{value:a})},hS=(s,a)=>({x:s,y:a}),qb=(s,a)=>(u,f,p)=>((b,w,k,E,D)=>{const F=b>0?ew:O3,P=w?kh(E).x:F(kh(E).x,Gb(E),Sh(E),ny(E,D)),z=w?F(kh(E).y,Zp(E),ld(E),ny(E,D)):kh(E).y;return gS(k,hS(P,z)),O.some(P)})(s,a,u,f,p).map(Le),T7=qb(-1,!1),B3=qb(1,!1),O7=qb(-1,!0),D7=qb(1,!0),R7={"top-left":O.some((s,a)=>{Cu(s,ug(Q_(a),eS(a)))}),top:O.some((s,a)=>{Cu(s,ug(ZI(a),eS(a)))}),"top-right":O.some((s,a)=>{Cu(s,ug(tS(a),eS(a)))}),right:O.some((s,a)=>{Cu(s,ug(tS(a),k3(a)))}),"bottom-right":O.some((s,a)=>{Cu(s,ug(tS(a),nS(a)))}),bottom:O.some((s,a)=>{Cu(s,ug(ZI(a),nS(a)))}),"bottom-left":O.some((s,a)=>{Cu(s,ug(Q_(a),nS(a)))}),left:O.some((s,a)=>{Cu(s,ug(Q_(a),k3(a)))})};var iN=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=fS(s,a,u.left),p=P3(s,a,u.top),b=hS(f,p);return gS(s,b),b},setToMin:(s,a)=>{const u=Gb(a),f=Zp(a);gS(s,hS(u,f))},setToMax:(s,a)=>{const u=Sh(a),f=ld(a);gS(s,hS(u,f))},getValueFromEvent:s=>_3(s),setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=I3(s,f.getSpectrum(s),p.x,f.getLeftEdge(s),f.getRightEdge(s),u),w=M3(s,f.getSpectrum(s),p.y,f.getTopEdge(s),f.getBottomEdge(s),u),k=Oi(a.element)/2,E=Or(a.element)/2;co(a.element,"left",b-k+"px"),co(a.element,"top",w-E+"px")},onLeft:T7,onRight:B3,onUp:O7,onDown:D7,edgeActions:R7});const Xd=Bl({name:"Slider",configFields:[it("stepSize",1),it("speedMultiplier",10),it("onChange",se),it("onChoose",se),it("onInit",se),it("onDragStart",se),it("onDragEnd",se),it("snapToGrid",!1),it("rounded",!0),jo("snapStart"),Zi("model",gi("mode",{x:[it("minX",0),it("maxX",100),Wi("value",s=>Bn(s.mode.minX)),Ot("getInitialValue"),Ks("manager",w7)],y:[it("minY",0),it("maxY",100),Wi("value",s=>Bn(s.mode.minY)),Ot("getInitialValue"),Ks("manager",A7)],xy:[it("minX",0),it("maxX",100),it("minY",0),it("maxY",100),Wi("value",s=>Bn({x:s.mode.minX,y:s.mode.minY})),Ot("getInitialValue"),Ks("manager",iN)]})),yn("sliderBehaviours",[Nn,lt]),Wi("mouseIsDown",()=>Bn(!1))],partFields:p7,factory:(s,a,u,f)=>{const p=fe=>gh(fe,s,"thumb"),b=fe=>gh(fe,s,"spectrum"),w=fe=>qs(fe,s,"left-edge"),k=fe=>qs(fe,s,"right-edge"),E=fe=>qs(fe,s,"top-edge"),D=fe=>qs(fe,s,"bottom-edge"),F=s.model,P=F.manager,z=(fe,de)=>{P.setPositionFromValue(fe,de,s,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:D,getSpectrum:b})},G=(fe,de)=>{F.value.set(de);const ve=p(fe);z(fe,ve)},X=fe=>{const de=s.mouseIsDown.get();s.mouseIsDown.set(!1),de&&qs(fe,s,"thumb").each(ve=>{const Ce=F.value.get();s.onChoose(fe,ve,Ce)})},ue=(fe,de)=>{de.stop(),s.mouseIsDown.set(!0),s.onDragStart(fe,p(fe))},me=(fe,de)=>{de.stop(),s.onDragEnd(fe,p(fe)),X(fe)},we=fe=>{qs(fe,s,"spectrum").map(Nn.focusIn)};return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.sliderBehaviours,[Nn.config({mode:"special",focusIn:we}),lt.config({store:{mode:"manual",getValue:fe=>F.value.get(),setValue:G}}),yl.config({channels:{[U()]:{onReceive:X}}})]),events:fo([St(Q2(),(fe,de)=>{((ve,Ce)=>{G(ve,Ce);const Ee=p(ve);s.onChange(ve,Ee,Ce)})(fe,de.event.value)}),sr((fe,de)=>{const ve=F.getInitialValue();F.value.set(ve);const Ce=p(fe);z(fe,Ce);const Ee=b(fe);s.onInit(fe,Ce,Ee,F.value.get())}),St(W(),ue),St(Re(),me),St(Dt(),(fe,de)=>{we(fe),ue(fe,de)}),St(lo(),me)]),apis:{resetToMin:fe=>{P.setToMin(fe,s)},resetToMax:fe=>{P.setToMax(fe,s)},setValue:G,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,a,u)=>{s.setValue(a,u)},resetToMin:(s,a)=>{s.resetToMin(a)},resetToMax:(s,a)=>{s.resetToMax(a)},refresh:(s,a)=>{s.refresh(a)}}}),tw=bn("rgb-hex-update"),pS=bn("slider-update"),L3=bn("palette-update"),vS="form",bS=[yn("formBehaviours",[lt])],F3=s=>"<alloy.field."+s+">",fg=(s,a)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.formBehaviours,[lt.config({store:{mode:"manual",getValue:u=>{const f=TE(u,s);return On(f,(p,b)=>p().bind(w=>{return k=ns.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Fd(w.element)),k.fold(()=>Bo.error(E),Bo.value);var k,E}).map(lt.getValue))},setValue:(u,f)=>{An(f,(p,b)=>{qs(u,s,b).each(w=>{ns.getCurrent(w).each(k=>{lt.setValue(k,p)})})})}}})]),apis:{getField:(u,f)=>qs(u,s,f).bind(ns.getCurrent)}}),jp={getField:r0((s,a,u)=>s.getField(a,u)),sketch:s=>{const a=(()=>{const b=[];return{field:(w,k)=>(b.push(w),kE(vS,F3(w),k)),record:ee(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:F3(b)}));return Xx(vS,bS,p,fg,u)}},aN=bn("valid-input"),lN=bn("invalid-input"),cN=bn("validating-input"),V3="colorcustom.rgb.",nw={isEnabled:Le,setEnabled:se,immediatelyShow:se,immediatelyHide:se},I7=(s,a,u,f,p,b)=>{const w=(G,X)=>{const ue=X.get();G!==ue.isEnabled()&&(ue.setEnabled(G),G?ue.immediatelyShow():ue.immediatelyHide())},k=(G,X,ue)=>cg.config({invalidClass:a("invalid"),notify:{onValidate:me=>{Rn(me,cN,{type:G})},onValid:me=>{w(!1,ue),Rn(me,aN,{type:G,value:lt.getValue(me)})},onInvalid:me=>{w(!0,ue),Rn(me,lN,{type:G,value:lt.getValue(me)})}},validator:{validate:me=>{const we=lt.getValue(me),fe=X(we)?Bo.value(!0):Bo.error(s("aria.input.invalid"));return lg(fe)},validateOnLoad:!1}}),E=(G,X,ue,me,we)=>{const fe=Bn(nw),de=s(V3+"range"),ve=As.parts.label({dom:{tag:"label",attributes:{"aria-label":me}},components:[Fr(ue)]}),Ce=As.parts.field({data:we,factory:yh,inputAttributes:{type:"text",...X==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Zt([k(X,G,fe),Zs.config({}),oi.config({...p({tooltipText:"",onSetup:wt=>{fe.set({isEnabled:()=>oi.isEnabled(wt),setEnabled:Ht=>oi.setEnabled(wt,Ht),immediatelyShow:()=>oi.immediateOpenClose(wt,!0),immediatelyHide:()=>oi.immediateOpenClose(wt,!1)}),oi.setEnabled(wt,!1)},onShow:(wt,Ht)=>{oi.setComponents(wt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Fr(s(X==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:wt=>{cg.isInvalid(wt)&&cg.run(wt).get(se)}}),Ee=bn("aria-invalid"),ze=Cs(b("invalid",O.some(Ee),"warning")),ot=[ve,Ce,Cs({dom:{tag:"div",classes:[a("invalid-icon")]},components:[ze.asSpec()]}).asSpec()],Et=X!=="hex"?[As.parts["aria-descriptor"]({text:de})]:[],_t=ot.concat(Et);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:_t}},D=(G,X)=>{const ue=X.red,me=X.green,we=X.blue;lt.setValue(G,{red:ue,green:me,blue:we})},F=Cs({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),P=(G,X)=>{F.getOpt(G).each(ue=>{co(ue.element,"background-color","#"+X.value)})};return vu({factory:()=>{const G={red:Bn(O.some(255)),green:Bn(O.some(255)),blue:Bn(O.some(255)),hex:Bn(O.some("ffffff"))},X=ot=>G[ot].get(),ue=(ot,Et)=>{G[ot].set(Et)},me=ot=>{const Et=ot.red,_t=ot.green,wt=ot.blue;ue("red",O.some(Et)),ue("green",O.some(_t)),ue("blue",O.some(wt))},we=(ot,Et)=>{const _t=Et.event;_t.type!=="hex"?ue(_t.type,O.none()):f(ot)},fe=(ot,Et)=>{const _t=Et.event;(wt=>wt.type==="hex")(_t)?((wt,Ht)=>{u(wt);const mn=HA(Ht);ue("hex",O.some(mn.value));const kn=Gd(mn);D(wt,kn),me(kn),Rn(wt,tw,{hex:mn}),P(wt,mn)})(ot,_t.value):((wt,Ht,mn)=>{const kn=parseInt(mn,10);ue(Ht,O.some(kn)),X("red").bind(Hn=>X("green").bind(io=>X("blue").map(Lo=>Ch(Hn,io,Lo,1)))).each(Hn=>{const io=((Lo,tr)=>{const mr=U2(tr);return jp.getField(Lo,"hex").each(So=>{no.isFocused(So)||lt.setValue(Lo,{hex:mr.value})}),mr})(wt,Hn);Rn(wt,tw,{hex:io}),P(wt,io)})})(ot,_t.type,_t.value)},de=ot=>({label:s(V3+ot+".label"),description:s(V3+ot+".description")}),ve=de("red"),Ce=de("green"),Ee=de("blue"),ze=de("hex");return Ps(jp.sketch(ot=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ot.field("red",As.sketch(E(W2,"red",ve.label,ve.description,255))),ot.field("green",As.sketch(E(W2,"green",Ce.label,Ce.description,255))),ot.field("blue",As.sketch(E(W2,"blue",Ee.label,Ee.description,255))),ot.field("hex",As.sketch(E(sI,"hex",ze.label,ze.description,"ffffff"))),F.asSpec()],formBehaviours:Zt([cg.config({invalidClass:a("form-invalid")}),Co("rgb-form-events",[St(aN,fe),St(lN,we),St(cN,we)])])})),{apis:{updateHex:(ot,Et)=>{lt.setValue(ot,{hex:Et.value}),((_t,wt)=>{const Ht=Gd(wt);D(_t,Ht),me(Ht)})(ot,Et),P(ot,Et)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(G,X,ue)=>{G.updateHex(X,ue)}},extraApis:{}})},uN=(s,a,u,f)=>vu({name:"ColourPicker",configFields:[Ot("dom"),it("onValidHex",se),it("onInvalidHex",se)],factory:b=>{const w=I7(s,a,b.onValidHex,b.onInvalidHex,u,f),k=((we,fe)=>{const de=Xd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[fe("sv-palette-spectrum")]}}),ve=Xd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[fe("sv-palette-thumb")],innerHtml:`<div class=${fe("sv-palette-inner-thumb")} role="presentation"></div>`}}),Ce=(Ee,ze)=>{const{width:ot,height:Et}=Ee,_t=Ee.getContext("2d");if(_t===null)return;_t.fillStyle=ze,_t.fillRect(0,0,ot,Et);const wt=_t.createLinearGradient(0,0,ot,0);wt.addColorStop(0,"rgba(255,255,255,1)"),wt.addColorStop(1,"rgba(255,255,255,0)"),_t.fillStyle=wt,_t.fillRect(0,0,ot,Et);const Ht=_t.createLinearGradient(0,0,0,Et);Ht.addColorStop(0,"rgba(0,0,0,0)"),Ht.addColorStop(1,"rgba(0,0,0,1)"),_t.fillStyle=Ht,_t.fillRect(0,0,ot,Et)};return vu({factory:Ee=>{const ze=ee({x:0,y:0}),ot=Zt([ns.config({find:O.some}),no.config({})]);return Xd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":we(["Saturation {0}%, Brightness {1}%",0,0])},classes:[fe("sv-palette")]},model:{mode:"xy",getInitialValue:ze},rounded:!1,components:[de,ve],onChange:(Et,_t,wt)=>{ne(wt)||sn(Et.element,"aria-valuetext",we(["Saturation {0}%, Brightness {1}%",Math.floor(wt.x),Math.floor(100-wt.y)])),Rn(Et,L3,{value:wt})},onInit:(Et,_t,wt,Ht)=>{Ce(wt.element.dom,lI(cI))},sliderBehaviours:ot})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ee,ze,ot)=>{((Et,_t)=>{const wt=Et.components()[0].element.dom,Ht=J0(_t,100,100),mn=aI(Ht);Ce(wt,lI(mn))})(ze,ot)},setThumb:(Ee,ze,ot)=>{((Et,_t)=>{const wt=V_(Gd(_t));Xd.setValue(Et,{x:wt.saturation,y:100-wt.value}),sn(Et.element,"aria-valuetext",we(["Saturation {0}%, Brightness {1}%",wt.saturation,wt.value]))})(ze,ot)}},extraApis:{}})})(s,a),E={paletteRgba:Bn(cI),paletteHue:Bn(0)},D=Cs(((we,fe)=>{const de=Xd.parts.spectrum({dom:{tag:"div",classes:[fe("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ve=Xd.parts.thumb({dom:{tag:"div",classes:[fe("hue-slider-thumb")],attributes:{role:"presentation"}}});return Xd.sketch({dom:{tag:"div",classes:[fe("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ee(0)},components:[de,ve],sliderBehaviours:Zt([no.config({})]),onChange:(Ce,Ee,ze)=>{sn(Ce.element,"aria-valuenow",Math.floor(360-3.6*ze)),Rn(Ce,pS,{value:ze})}})})(0,a)),F=Cs(k.sketch({})),P=Cs(w.sketch({})),z=(we,fe,de)=>{F.getOpt(we).each(ve=>{k.setHue(ve,de)})},G=(we,fe)=>{P.getOpt(we).each(de=>{w.updateHex(de,fe)})},X=(we,fe,de)=>{D.getOpt(we).each(ve=>{Xd.setValue(ve,(Ce=>100-Ce/360*100)(de))})},ue=(we,fe)=>{F.getOpt(we).each(de=>{k.setThumb(de,fe)})},me=(we,fe,de,ve)=>{((Ce,Ee)=>{const ze=Gd(Ce);E.paletteRgba.set(ze),E.paletteHue.set(Ee)})(fe,de),Mt(ve,Ce=>{Ce(we,fe,de)})};return{uid:b.uid,dom:b.dom,components:[F.asSpec(),D.asSpec(),P.asSpec()],behaviours:Zt([Co("colour-picker-events",[St(tw,(()=>{const we=[z,X,ue];return(fe,de)=>{const ve=de.event.hex,Ce=(Ee=>V_(Gd(Ee)))(ve);me(fe,ve,Ce.hue,we)}})()),St(L3,(()=>{const we=[G];return(fe,de)=>{const ve=de.event.value,Ce=E.paletteHue.get(),Ee=J0(Ce,ve.x,100-ve.y),ze=z_(Ee);me(fe,ze,Ce,we)}})()),St(pS,(()=>{const we=[z,G];return(fe,de)=>{const ve=(Et=>(100-Et)/100*360)(de.event.value),Ce=E.paletteRgba.get(),Ee=V_(Ce),ze=J0(ve,Ee.saturation,Ee.value),ot=z_(ze);me(fe,ot,ve,we)}})())]),ns.config({find:we=>P.getOpt(we)}),Nn.config({mode:"acyclic"})])}}}),mg=()=>ns.config({find:O.some}),z3=s=>ns.config({find:a=>cr(a.element,s).bind(u=>a.getSystem().getByDom(u).toOptional())}),H3=Wn([it("preprocess",_e),it("postprocess",_e)]),$3=(s,a)=>{const u=Ea("RepresentingConfigs.memento processors",H3,a);return lt.config({store:{mode:"manual",getValue:f=>{const p=s.get(f),b=lt.getValue(p);return u.postprocess(b)},setValue:(f,p)=>{const b=u.preprocess(p),w=s.get(f);lt.setValue(w,b)}}})},Yb=(s,a,u)=>lt.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:a,setValue:u}}),U3=(s,a,u)=>Yb(s,f=>a(f.element),(f,p)=>u(f.element,p)),ow=s=>lt.config({store:{mode:"memory",initialValue:s}}),N7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var dN=tinymce.util.Tools.resolve("tinymce.Resource");const W3=s=>Eo(s,"init");var Eh=tinymce.util.Tools.resolve("tinymce.util.Tools");const Z3=(s,a)=>{let u=null;const f=()=>{R(u)||(clearTimeout(u),u=null)};return{cancel:f,throttle:(...p)=>{f(),u=setTimeout(()=>{u=null,s.apply(null,p)},a)}}},j3=bn("alloy-fake-before-tabstop"),K3=bn("alloy-fake-after-tabstop"),fN=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Zt([no.config({ignore:!0}),Zs.config({})])}),G3=(s,a)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[fN([j3]),a,fN([K3])],behaviours:Zt([z3(1)])}),q3=(s,a)=>{Rn(s,Sr(),{raw:{which:9,shiftKey:a}})},P7=(s,a)=>{const u=a.element;tl(u,j3)?q3(s,!0):tl(u,K3)&&q3(s,!1)},sy=s=>ty(s,["."+j3,"."+K3].join(","),ke),Kp=bn("update-dialog"),Y3=bn("update-title"),mN=bn("update-body"),gN=bn("update-footer"),X3=bn("body-send-message"),yS=bn("dialog-focus-shifted"),J3=ra().browser,ry=J3.isSafari(),hN=J3.isFirefox(),Q3=ry||hN,pN=J3.isChromium(),M7=({scrollTop:s,scrollHeight:a,clientHeight:u})=>Math.ceil(s)+u>=a,vN=(s,a)=>s.scrollTo(0,a==="bottom"?99999999:a),e4=(s,a,u)=>{const f=s.dom;O.from(f.contentDocument).fold(u,p=>{let b=0;const w=((E,D)=>{const F=E.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(D)&&(!pN&&!ry||K(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(p,a).map(E=>(b=E.scrollTop,E)).forall(M7),k=()=>{const E=f.contentWindow;K(E)&&(w?vN(E,"bottom"):!w&&Q3&&b!==0&&vN(E,b))};ry&&f.addEventListener("load",k,{once:!0}),p.open(),p.write(a),p.close(),ry||k()})},t4=rs(Q3,ry?500:200).map(s=>((a,u)=>{let f=null,p=null;return{cancel:()=>{R(f)||(clearTimeout(f),f=null,p=null)},throttle:(...b)=>{p=b,R(f)&&(f=setTimeout(()=>{const w=p;f=null,p=null,a.apply(null,w)},u))}}})(e4,s)),xS=bn("toolbar.button.execute"),Gp=bn("common-button-display-events"),n4={[pl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ua()]:["toolbar-button-events",Gp],[Oc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Dt()]:["focusing","alloy.base.behaviour",Gp]},wS=s=>co(s.element,"width",wr(s.element,"width")),bN=(s,a,u)=>Uc(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},a),sw=(s,a)=>bN(s,a,[]),qp=(s,a)=>bN(s,a,[Kn.config({})]),o4=(s,a,u)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Fr(u.translate(s))],behaviours:Zt([Kn.config({})])}),_u=bn("update-menu-text"),cd=bn("update-menu-icon"),s4=(s,a,u,f)=>{const p=Bn(se),b=s.text.map(ue=>Cs(o4(ue,a,u.providers))),w=s.icon.map(ue=>Cs(qp(ue,u.providers.icons))),k=(ue,me)=>{const we=lt.getValue(ue);return no.focus(we),Rn(we,"keydown",{raw:me.event.raw}),Cl.close(we),O.some(!0)},E=s.role.fold(()=>({}),ue=>({role:ue})),D=O.from(s.listRole).map(ue=>({listRole:ue})).getOr({}),F=s.ariaLabel.fold(()=>({}),ue=>({"aria-label":u.providers.translate(ue)})),P=Uc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},u.providers.icons),z=bn("common-button-display-events"),G="dropdown-events";return Cs(Cl.sketch({...s.uid?{uid:s.uid}:{},...E,...D,dom:{tag:"button",classes:[a,`${a}--select`].concat(Ye(s.classes,ue=>`${a}--${ue}`)),attributes:{...F,...K(f)?{"data-mce-name":f}:{}}},components:K0([w.map(ue=>ue.asSpec()),b.map(ue=>ue.asSpec()),O.some(P)]),matchWidth:!0,useMinWidth:!0,onOpen:(ue,me,we)=>{s.searchable&&(fe=>{DR(fe).each(de=>no.focus(de))})(we)},dropdownBehaviours:Zt([...s.dropdownBehaviours,Da(()=>s.disabled||u.providers.isDisabled()),Pi(),Kb.config({}),Kn.config({}),...s.tooltip.map(ue=>oi.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(ue)}))).toArray(),Co(G,[Vp(s,p),xh(s,p)]),Co(z,[sr((ue,me)=>s.listRole==="listbox"?se:wS(ue))]),Co("menubutton-update-display-text",[St(_u,(ue,me)=>{b.bind(we=>we.getOpt(ue)).each(we=>{Kn.set(we,[Fr(u.providers.translate(me.event.text))])})}),St(cd,(ue,me)=>{w.bind(we=>we.getOpt(ue)).each(we=>{Kn.set(we,[qp(me.event.icon,u.providers.icons)])})})])]),eventOrder:Ps(n4,{[Dt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ua()]:["toolbar-button-events",oi.name(),G,z]}),sandboxBehaviours:Zt([Nn.config({mode:"special",onLeft:k,onRight:k}),Co("dropdown-sandbox-events",[St(AR,(ue,me)=>{(we=>{const fe=lt.getValue(we),de=P2(we).map(RR);Cl.refetch(fe).get(()=>{const ve=Vr.getCoupled(fe,"sandbox");de.each(Ce=>P2(ve).each(Ee=>((ze,ot)=>{lt.setValue(ze,ot.fetchPattern),ze.element.dom.selectionStart=ot.selectionStart,ze.element.dom.selectionEnd=ot.selectionEnd})(Ee,Ce)))})})(ue),me.stop()}),St(TR,(ue,me)=>{((we,fe)=>{(de=>T.getState(de).bind(Ss.getHighlighted).bind(Ss.getHighlighted))(we).each(de=>{((ve,Ce,Ee,ze)=>{const ot={...ze,target:Ce};ve.getSystem().triggerEvent(Ee,Ce,ot)})(we,de.element,fe.event.eventType,fe.event.interactionEvent)})})(ue,me),me.stop()})])]),lazySink:u.getSink,toggleClass:`${a}--active`,parts:{menu:{...E_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:RI,onCollapseMenu:(ue,me,we)=>{Ss.getHighlighted(we).each(fe=>{RI(ue,we,fe)})},onDehighlightItem:o7}}},getAnchorOverrides:()=>({maxHeightFunction:(ue,me)=>{Km()(ue,me-10)}}),fetch:ue=>zp(Ue(s.fetch,ue))})).asSpec()},CS=s=>s.type==="separator",_S={type:"separator"},yN=(s,a)=>{const u=((f,p)=>{const b=_n(f,(w,k)=>(E=>v(E))(k)?k===""?w:k==="|"?w.length>0&&!CS(w[w.length-1])?w.concat([_S]):w:Eo(p,k.toLowerCase())?w.concat([p[k.toLowerCase()]]):w:w.concat([k]),[]);return b.length>0&&CS(b[b.length-1])&&b.pop(),b})(v(s)?s.split(" "):s,a);return fn(u,(f,p)=>{if((b=>Eo(b,"getSubmenuItems"))(p)){const b=(k=>{const E=hn(k,"value").getOrThunk(()=>bn("generated-menu-item"));return Ps({value:E},k)})(p),w=((k,E)=>{const D=k.getSubmenuItems(),F=yN(D,E);return{item:k,menus:Ps(F.menus,{[k.value]:F.items}),expansions:Ps(F.expansions,{[k.value]:k.value})}})(b,a);return{menus:Ps(f.menus,w.menus),items:[w.item,...f.items],expansions:Ps(f.expansions,w.expansions)}}return{...f,items:[p,...f.items]}},{menus:{},expansions:{},items:[]})},Xb=(s,a,u,f)=>{const p=bn("primary-menu"),b=yN(s,u.shared.providers.menuItems());if(b.items.length===0)return O.none();const w=(P=>P.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(f),k=II(p,b.items,a,u,f.isHorizontalMenu,w),E=(P=>P.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(f),D=On(b.menus,(P,z)=>II(z,P,a,u,!1,E)),F=Ps(D,iu(p,k));return O.from(hh.tieredData(p,F,b.expansions))},rw=s=>!Eo(s,"items"),r4="data-value",SS=(s,a,u,f,p)=>Ye(u,b=>rw(b)?{type:"togglemenuitem",...p?{}:{role:"option"},text:b.text,value:b.value,active:b.value===f,onAction:()=>{lt.setValue(s,b.value),Rn(s,al,{name:a}),no.focus(s)}}:{type:"nestedmenuitem",text:b.text,getSubmenuItems:()=>SS(s,a,b.items,f,p)}),kS=(s,a)=>Vt(s,u=>rw(u)?rs(u.value===a,u):kS(u.items,a)),B7=vu({name:"HtmlSelect",configFields:[Ot("options"),yn("selectBehaviours",[no,lt]),it("selectClasses",[]),it("selectAttributes",{}),jo("data")],factory:(s,a)=>{const u=Ye(s.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),f=s.data.map(p=>iu("initialValue",p)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:u,behaviours:yo(s.selectBehaviours,[no.config({}),lt.config({store:{mode:"manual",getValue:p=>Rf(p.element),setValue:(p,b)=>{const w=zt(s.options);J(s.options,k=>k.value===b).isSome()?zm(p.element,b):p.element.dom.selectedIndex===-1&&b===""&&w.each(k=>zm(p.element,k.value))},...f}})])}}}),xN=ee([it("field1Name","field1"),it("field2Name","field2"),Yu("onLockedChange"),Jg(["lockClass"]),it("locked",!1),so("coupledFieldBehaviours",[ns,lt])]),i4=(s,a)=>wl({factory:As,name:s,overrides:u=>({fieldBehaviours:Zt([Co("coupled-input-behaviour",[St(Im(),f=>{((p,b,w)=>qs(p,b,w).bind(ns.getCurrent))(f,u,a).each(p=>{qs(f,u,"lock").each(b=>{Jn.isOn(b)&&u.onLockedChange(f,p,b)})})})])])})}),wN=ee([i4("field1","field2"),i4("field2","field1"),wl({factory:Ua,schema:[Ot("dom")],name:"lock",overrides:s=>({buttonBehaviours:Zt([Jn.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),jc=Bl({name:"FormCoupledInputs",configFields:xN(),partFields:wN(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:Xn(s.coupledFieldBehaviours,[ns.config({find:O.some}),lt.config({store:{mode:"manual",getValue:p=>{const b=OE(p,s,["field1","field2"]);return{[s.field1Name]:lt.getValue(b.field1()),[s.field2Name]:lt.getValue(b.field2())}},setValue:(p,b)=>{const w=OE(p,s,["field1","field2"]);vo(b,s.field1Name)&&lt.setValue(w.field1(),b[s.field1Name]),vo(b,s.field2Name)&&lt.setValue(w.field2(),b[s.field2Name])}}})]),apis:{getField1:p=>qs(p,s,"field1"),getField2:p=>qs(p,s,"field2"),getLock:p=>qs(p,s,"lock")}}),apis:{getField1:(s,a)=>s.getField1(a),getField2:(s,a)=>s.getField2(a),getLock:(s,a)=>s.getLock(a)}}),a4=s=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(a!==null){const u=parseFloat(a[1]),f=a[2];return Bo.value({value:u,unit:f})}return Bo.error(s)},l4=(s,a)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=p=>Eo(u,p);return s.unit===a?O.some(s.value):f(s.unit)&&f(a)?u[s.unit]===u[a]?O.some(s.value):O.some(s.value/u[s.unit]*u[a]):O.none()},c4=s=>O.none(),CN=(s,a)=>{const u=s.label.map(F=>$p(F,a)),f=[ro.config({disabled:()=>s.disabled||a.isDisabled()}),Pi(),Nn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:F=>(ko(F,J2),O.some(!0))}),Co("textfield-change",[St(Im(),(F,P)=>{Rn(F,al,{name:s.name})}),St(rx(),(F,P)=>{Rn(F,al,{name:s.name})})]),Zs.config({})],p=s.validation.map(F=>cg.config({getRoot:P=>Sa(P.element),invalidClass:"tox-invalid",validator:{validate:P=>{const z=lt.getValue(P),G=F.validator(z);return lg(G===!0?Bo.value(z):Bo.error(G))},validateOnLoad:F.validateOnLoad}})).toArray(),b={...s.placeholder.fold(ee({}),F=>({placeholder:a.translate(F)})),...s.inputMode.fold(ee({}),F=>({inputmode:F})),"data-mce-name":s.name},w=As.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(F=>({data:F})).getOr({}),inputAttributes:b,inputClasses:[s.classname],inputBehaviours:Zt(eo([f,p])),selectOnFocus:!1,factory:yh}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),D=[ro.config({disabled:()=>s.disabled||a.isDisabled(),onDisabled:F=>{As.getField(F).each(ro.disable)},onEnabled:F=>{As.getField(F).each(ro.enable)}}),Pi()];return X2(u,k,E,D)},iw=(s,a)=>a.getAnimationRoot.fold(()=>s.element,u=>u(s)),Ah=s=>s.dimension.property,Yp=(s,a)=>s.dimension.getDimension(a),Xp=(s,a)=>{const u=iw(s,a);rc(u,[a.shrinkingClass,a.growingClass])},ES=(s,a)=>{Ir(s.element,a.openClass),kr(s.element,a.closedClass),co(s.element,Ah(a),"0px"),Lu(s.element)},u4=(s,a)=>{Ir(s.element,a.closedClass),kr(s.element,a.openClass),ws(s.element,Ah(a))},_N=(s,a,u,f)=>{u.setCollapsed(),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),ES(s,a),a.onStartShrink(s),a.onShrunk(s)},L7=(s,a,u,f)=>{const p=f.getOrThunk(()=>Yp(a,s.element));u.setCollapsed(),co(s.element,Ah(a),p),Lu(s.element);const b=iw(s,a);Ir(b,a.growingClass),kr(b,a.shrinkingClass),ES(s,a),a.onStartShrink(s)},SN=(s,a,u)=>{const f=Yp(a,s.element);(f==="0px"?_N:L7)(s,a,u,O.some(f))},kN=(s,a,u)=>{const f=iw(s,a),p=tl(f,a.shrinkingClass),b=Yp(a,s.element);u4(s,a);const w=Yp(a,s.element);(p?()=>{co(s.element,Ah(a),b),Lu(s.element)}:()=>{ES(s,a)})(),Ir(f,a.shrinkingClass),kr(f,a.growingClass),u4(s,a),co(s.element,Ah(a),w),u.setExpanded(),a.onStartGrow(s)},aw=(s,a,u)=>{const f=iw(s,a);return tl(f,a.growingClass)===!0},EN=(s,a,u)=>{const f=iw(s,a);return tl(f,a.shrinkingClass)===!0};var AN=Object.freeze({__proto__:null,refresh:(s,a,u)=>{if(u.isExpanded()){ws(s.element,Ah(a));const f=Yp(a,s.element);co(s.element,Ah(a),f)}},grow:(s,a,u)=>{u.isExpanded()||kN(s,a,u)},shrink:(s,a,u)=>{u.isExpanded()&&SN(s,a,u)},immediateShrink:(s,a,u)=>{u.isExpanded()&&_N(s,a,u)},hasGrown:(s,a,u)=>u.isExpanded(),hasShrunk:(s,a,u)=>u.isCollapsed(),isGrowing:aw,isShrinking:EN,isTransitioning:(s,a,u)=>aw(s,a)||EN(s,a),toggleGrow:(s,a,u)=>{(u.isExpanded()?SN:kN)(s,a,u)},disableTransitions:Xp,immediateGrow:(s,a,u)=>{u.isExpanded()||(u4(s,a),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),u.setExpanded(),a.onStartGrow(s),a.onGrown(s))}}),F7=Object.freeze({__proto__:null,exhibit:(s,a,u)=>{const f=a.expanded;return jr(f?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:iu(a.dimension.property,"0px")})},events:(s,a)=>fo([Tf(Nv(),(u,f)=>{f.event.raw.propertyName===s.dimension.property&&(Xp(u,s),a.isExpanded()&&ws(u.element,s.dimension.property),(a.isExpanded()?s.onGrown:s.onShrunk)(u))})])}),TN=[Ot("closedClass"),Ot("openClass"),Ot("shrinkingClass"),Ot("growingClass"),jo("getAnimationRoot"),Xo("onShrunk"),Xo("onStartShrink"),Xo("onGrown"),Xo("onStartGrow"),it("expanded",!1),Zi("dimension",gi("property",{width:[Ks("property","width"),Ks("getDimension",s=>Oi(s)+"px")],height:[Ks("property","height"),Ks("getDimension",s=>Or(s)+"px")]}))];const ql=Ni({fields:TN,name:"sliding",active:F7,apis:AN,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(s.expanded);return Ii({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ue(a.set,!1),setExpanded:Ue(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),ON=s=>({isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setActive:a=>{const u=s.element;a?(kr(u,"tox-tbtn--enabled"),sn(u,"aria-pressed",!0)):(Ir(u,"tox-tbtn--enabled"),_o(u,"aria-pressed"))},isActive:()=>tl(s.element,"tox-tbtn--enabled"),setText:a=>{Rn(s,_u,{text:a})},setIcon:a=>Rn(s,cd,{icon:a})}),iy=(s,a,u,f,p=!0,b)=>s4({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(w,k)=>{const E={pattern:s.search.isSome()?jb(w):""};s.fetch(D=>{k(Xb(D,Yf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:s.search}))},E,ON(w))},onSetup:s.onSetup,getApi:ON,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Zs.config({})]:[]]},a,u.shared,b),DN=(s,a,u)=>{const f=b=>w=>{const k=!w.isActive();w.setActive(k),b.storage.set(k),u.shared.getSink().each(E=>{a().getOpt(E).each(D=>{za(D.element),Rn(D,Jf,{name:b.name,value:b.storage.get()})})})},p=b=>w=>{w.setActive(b.storage.get())};return b=>{b(Ye(s,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:f(w),onSetup:p(w)}}))}},d4=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Fr(s)]}),f4=bn("leaf-label-event-id"),m4=({leaf:s,onLeafAction:a,visible:u,treeId:f,selectedId:p,backstage:b})=>{const w=s.menu.map(E=>iy(E,"tox-mbtn",b,O.none(),u)),k=[d4(s.title)];return w.each(E=>k.push(E)),Ua.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Sr()]:[f4,"keying"]},buttonBehaviours:Zt([...u?[Zs.config({})]:[],Jn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),yl.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,D)=>{(D.value===s.id?Jn.on:Jn.off)(E)}}}}),Co(f4,[sr((E,D)=>{p.each(F=>{(F===s.id?Jn.on:Jn.off)(E)})}),St(Sr(),(E,D)=>{const F=D.event.raw.code==="ArrowLeft",P=D.event.raw.code==="ArrowRight";F?($m(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(G=>{u0(z,".tox-tree--directory__label").each(X=>{G.getSystem().getByDom(X).each(no.focus)})})}),D.stop()):P&&D.stop()})])])})},RN=bn("directory-label-event-id"),V7=({directory:s,visible:a,noChildren:u,backstage:f})=>{const p=s.menu.map(D=>iy(D,"tox-mbtn",f,O.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=f.shared.providers.icons,((D,F,P)=>Uc(D,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(w,k))]},d4(s.title)];var w,k;p.each(D=>{b.push(D)});const E=D=>{$m(D.element,".tox-tree--directory").each(F=>{D.getSystem().getByDom(F).each(P=>{const z=!Jn.isOn(P);Jn.toggle(P),Rn(D,"expand-tree-node",{expanded:z,node:s.id})})})};return Ua.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:b,action:E,eventOrder:{[Sr()]:[RN,"keying"]},buttonBehaviours:Zt([...a?[Zs.config({})]:[],Co(RN,[St(Sr(),(D,F)=>{const P=F.event.raw.code==="ArrowRight",z=F.event.raw.code==="ArrowLeft";P&&u&&F.stop(),(P||z)&&$m(D.element,".tox-tree--directory").each(G=>{D.getSystem().getByDom(G).each(X=>{!Jn.isOn(X)&&P||Jn.isOn(X)&&z?(E(D),F.stop()):z&&!Jn.isOn(X)&&($m(X.element,".tox-tree--directory").each(ue=>{u0(ue,".tox-tree--directory__label").each(me=>{X.getSystem().getByDom(me).each(no.focus)})}),F.stop())})})})])])})},z7=({children:s,onLeafAction:a,visible:u,treeId:f,expandedIds:p,selectedId:b,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?m4({leaf:k,selectedId:b,onLeafAction:a,visible:u,treeId:f,backstage:w}):AS({directory:k,expandedIds:p,selectedId:b,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:w})),behaviours:Zt([ql.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),Kn.config({})])}),IN=bn("directory-event-id"),AS=({directory:s,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:p,expandedIds:b,selectedId:w})=>{const{children:k}=s,E=Bn(b),D=b.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[V7({directory:s,visible:u,noChildren:s.children.length===0,backstage:p}),z7({children:k,expandedIds:b,selectedId:w,onLeafAction:a,visible:D,treeId:f,backstage:p})],behaviours:Zt([Co(IN,[sr((F,P)=>{Jn.set(F,D)}),St("expand-tree-node",(F,P)=>{const{expanded:z,node:G}=P.event;E.set(z?[...E.get(),G]:E.get().filter(X=>X!==G))})]),Jn.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,P)=>{const z=F.components()[1],G=(X=P,k.map(ue=>ue.type==="leaf"?m4({leaf:ue,selectedId:w,onLeafAction:a,visible:X,treeId:f,backstage:p}):AS({directory:ue,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:X,treeId:f,backstage:p})));var X;P?ql.grow(z):ql.shrink(z),Kn.set(z,G)}})])}},H7=bn("tree-event-id");var $7=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.stream.streams.setup(s,a);return fo([St(s.event,u),qu(()=>a.cancel())].concat(s.cancelEvent.map(f=>[St(f,()=>a.cancel())]).getOr([])))}});const NN=s=>{const a=Bn(null);return Ii({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:u=>{a.set(u)},cancel:()=>{const u=a.get();u!==null&&u.cancel()}})};var U7=Object.freeze({__proto__:null,throttle:NN,init:s=>s.stream.streams.state(s)}),W7=[Zi("stream",gi("mode",{throttle:[Ot("delay"),it("stopEvent",!0),Ks("streams",{setup:(s,a)=>{const u=s.stream,f=Z3(s.onStream,u.delay);return a.setTimer(f),(p,b)=>{f.throttle(p,b),u.stopEvent&&b.stop()}},state:NN})]})),it("event","input"),jo("cancelEvent"),Yu("onStream")];const g4=Ni({fields:W7,name:"streaming",active:$7,state:U7}),TS=(s,a,u)=>{const f=lt.getValue(u);lt.setValue(a,f),h4(a)},OS=(s,a)=>{const u=s.element,f=Rf(u),p=u.dom;Po(u,"type")!=="number"&&a(p,f)},h4=s=>{OS(s,(a,u)=>a.setSelectionRange(u.length,u.length))},p4=ee("alloy.typeahead.itemexecute"),Z7=ee([jo("lazySink"),Ot("fetch"),it("minChars",5),it("responseTime",1e3),Xo("onOpen"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),it("layouts",O.none()),it("eventOrder",{}),Va("model",{},[it("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),it("selectsOver",!0),it("populateFromBrowse",!0)]),Xo("onSetValue"),vl("onExecute"),Xo("onItemExecute"),it("inputClasses",[]),it("inputAttributes",{}),it("inputStyles",{}),it("matchWidth",!0),it("useMinWidth",!1),it("dismissOnBlur",!0),Jg(["openClass"]),jo("initialData"),jo("listRole"),yn("typeaheadBehaviours",[no,lt,g4,Nn,Jn,Vr]),Wi("lazyTypeaheadComp",()=>Bn(O.none)),Wi("previewing",()=>Bn(!0))].concat(AF()).concat(u3())),PN=ee([Zd({schema:[Xg()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(a,u,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(p=>{((b,w,k)=>{if(b.selectsOver){const E=lt.getValue(w),D=b.getDisplayText(E),F=lt.getValue(k);return b.getDisplayText(F).indexOf(D)===0?O.some(()=>{TS(0,w,k),((P,z)=>{OS(P,(G,X)=>G.setSelectionRange(z,X.length))})(w,D.length)}):O.none()}return O.none()})(s.model,p,f).fold(()=>{s.model.selectsOver?(Ss.dehighlight(u,f),s.previewing.set(!0)):s.previewing.set(!1)},b=>{b(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(p=>{s.model.populateFromBrowse&&TS(s.model,p,f),Zo(f.element,"id").each(b=>sn(p.element,"aria-activedescendant",b))})},onExecute:(a,u)=>s.lazyTypeaheadComp.get().map(f=>(Rn(f,p4(),{item:u}),!0)),onHover:(a,u)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&TS(s.model,f,u)})}})})]),j7=Bl({name:"Typeahead",configFields:Z7(),partFields:PN(),factory:(s,a,u,f)=>{const p=(P,z,G)=>{s.previewing.set(!1);const X=Vr.getCoupled(P,"sandbox");if(T.isOpen(X))ns.getCurrent(X).each(ue=>{Ss.getHighlighted(ue).fold(()=>{G(ue)},()=>{Rc(X,ue.element,"keydown",z)})});else{const ue=me=>{ns.getCurrent(me).each(G)};W_(s,w(P),P,X,f,ue,il.HighlightMenuAndItem).get(se)}},b=TF(s),w=P=>z=>z.map(G=>{const X=Ar(G.menus),ue=tn(X,me=>Fn(me.items,we=>we.type==="item"));return lt.getState(P).update(Ye(ue,me=>me.data)),G}),k=P=>ns.getCurrent(P),E="typeaheadevents",D=[no.config({}),lt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:P=>Rf(P.element),getFallbackEntry:P=>({value:P,meta:{}}),setValue:(P,z)=>{zm(P.element,s.model.getDisplayText(z))},...s.initialData.map(P=>iu("initialValue",P)).getOr({})}}),g4.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(P,z)=>{const G=Vr.getCoupled(P,"sandbox");if(no.isFocused(P)&&Rf(P.element).length>=s.minChars){const X=k(G).bind(me=>Ss.getHighlighted(me).map(lt.getValue));s.previewing.set(!0);const ue=me=>{k(G).each(we=>{X.fold(()=>{s.model.selectsOver&&Ss.highlightFirst(we)},fe=>{Ss.highlightBy(we,de=>lt.getValue(de).value===fe.value),Ss.getHighlighted(we).orThunk(()=>(Ss.highlightFirst(we),O.none()))})})};W_(s,w(P),P,G,f,ue,il.HighlightJustMenu).get(se)}},cancelEvent:Pd()}),Nn.config({mode:"special",onDown:(P,z)=>(p(P,z,Ss.highlightFirst),O.some(!0)),onEscape:P=>{const z=Vr.getCoupled(P,"sandbox");return T.isOpen(z)?(T.close(z),O.some(!0)):O.none()},onUp:(P,z)=>(p(P,z,Ss.highlightLast),O.some(!0)),onEnter:P=>{const z=Vr.getCoupled(P,"sandbox"),G=T.isOpen(z);if(G&&!s.previewing.get())return k(z).bind(X=>Ss.getHighlighted(X)).map(X=>(Rn(P,p4(),{item:X}),!0));{const X=lt.getValue(P);return ko(P,Pd()),s.onExecute(z,P,X),G&&T.close(z),O.some(!0)}}}),Jn.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),Vr.config({others:{sandbox:P=>c3(s,P,{onOpen:()=>Jn.on(P),onClose:()=>{s.lazyTypeaheadComp.get().each(z=>_o(z.element,"aria-activedescendant")),Jn.off(P)}})}}),Co(E,[sr(P=>{s.lazyTypeaheadComp.set(O.some(P))}),qu(P=>{s.lazyTypeaheadComp.set(O.none())}),cu(P=>{const z=se;a3(s,w(P),P,f,z,il.HighlightMenuAndItem).get(se)}),St(p4(),(P,z)=>{const G=Vr.getCoupled(P,"sandbox");TS(s.model,P,z.event.item),ko(P,Pd()),s.onItemExecute(P,G,z.event.item,lt.getValue(P)),T.close(G),h4(P)})].concat(s.dismissOnBlur?[St(rp(),P=>{const z=Vr.getCoupled(P,"sandbox");qr(z.element).isNone()&&T.close(z)})]:[]))],F={[Oc()]:[lt.name(),g4.name(),E],...s.eventOrder};return{uid:s.uid,dom:ER(Ps(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...yo(s.typeaheadBehaviours,D)},eventOrder:F}}}),Jb=s=>({...s,toCached:()=>Jb(s.toCached()),bindFuture:a=>Jb(s.bind(u=>u.fold(f=>lg(Bo.error(f)),f=>a(f)))),bindResult:a=>Jb(s.map(u=>u.bind(a))),mapResult:a=>Jb(s.map(u=>u.map(a))),mapError:a=>Jb(s.map(u=>u.mapError(a))),foldResult:(a,u)=>s.map(f=>f.fold(a,u)),withTimeout:(a,u)=>Jb(zp(f=>{let p=!1;const b=setTimeout(()=>{p=!0,f(Bo.error(u()))},a);s.get(w=>{p||(clearTimeout(b),f(w))})}))}),MN=s=>Jb(zp(s)),lw=(s,a,u=[],f,p,b,w)=>{const k=a.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:Zt([Da(()=>!s.enabled||w.isDisabled()),Pi(),Zs.config({}),...b.map(F=>oi.config(w.tooltips.getConfig({tooltipText:w.translate(F)}))).toArray(),Co("button press",[yC("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},D=Ps(E,{dom:f});return Ps(D,{components:p})},BN=(s,a,u,f=[],p)=>{const b={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":p}},w=s.icon.map(E=>sw(E,u.icons)),k=K0([w]);return lw(s,a,f,b,k,s.tooltip,u)},v4=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},LN=(s,a,u,f=[],p=[])=>{const b=u.translate(s.text),w=s.icon.map(P=>sw(P,u.icons)),k=[w.getOrThunk(()=>Fr(b))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),D={tag:"button",classes:[...v4(E),...w.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":b,"data-mce-name":s.text}},F=s.icon.map(ee(b));return lw(s,a,f,D,k,F,u)},FN=(s,a,u,f=[],p=[])=>{const b=LN(s,O.some(a),u,f,p);return Ua.sketch(b)},b4=(s,a)=>u=>{a==="custom"?Rn(u,Jf,{name:s,value:{}}):a==="submit"?ko(u,J2):a==="cancel"?ko(u,_h):console.error("Unknown button type: ",a)},ay=(s,a,u)=>{if(((f,p)=>p==="menu")(0,a)){const f=()=>w,p=s,b={...s,type:"menubutton",search:O.none(),onSetup:k=>(k.setEnabled(s.enabled),se),fetch:DN(p.items,f,u)},w=Cs(iy(b,"tox-tbtn",u,O.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return w.asSpec()}if(((f,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const f=b4(s.name,a),p={...s,borderless:!1};return FN(p,f,u.shared.providers,[])}if(((f,p)=>p==="togglebutton")(0,a))return((f,p,b)=>{var w,k;const E=f.icon.map(de=>qp(de,p.icons)).map(Cs),D=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(w=f.name)!==null&&w!==void 0?w:"",primary:D==="primary",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k,borderless:!1},P=F.tooltip.or(f.text).map(de=>({"aria-label":p.translate(de)})).getOr({}),z=v4(D??"secondary"),G=f.icon.isSome()&&f.text.isSome(),X={tag:"button",classes:[...z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...G?["tox-button--icon-and-text"]:[]],attributes:{...P,...K(b)?{"data-mce-name":b}:{}}},ue=p.translate(f.text.getOr("")),me=Fr(ue),we=[...K0([E.map(de=>de.asSpec())]),...f.text.isSome()?[me]:[]],fe=lw(F,O.some(de=>{Rn(de,Jf,{name:f.name,value:{setIcon:ve=>{E.map(Ce=>Ce.getOpt(de).each(Ee=>{Kn.set(Ee,[qp(ve,p.icons)])}))}}})}),[],X,we,f.tooltip,p);return Ua.sketch(fe)})(s,u.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},K7={type:"separator"},G7=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:se}),y4=(s,a)=>({type:"menuitem",value:a,text:s,meta:{attach:void 0},onAction:se}),VN=(s,a)=>(u=>Ye(u,G7))(((u,f)=>Fn(f,p=>p.type===u))(s,a)),q7=s=>VN("header",s.targets),Y7=s=>VN("anchor",s.targets),zN=s=>O.from(s.anchorTop).map(a=>y4("<top>",a)).toArray(),HN=s=>O.from(s.anchorBottom).map(a=>y4("<bottom>",a)).toArray(),x4=(s,a)=>{const u=s.toLowerCase();return Fn(a,f=>{var p;const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=(p=f.value)!==null&&p!==void 0?p:"";return Qr(b.toLowerCase(),u)||Qr(w.toLowerCase(),u)})},$N=bn("aria-invalid"),X7=(s,a)=>{s.dom.checked=a},Kc=s=>s.dom.checked,br=s=>(a,u,f,p,b)=>hn(u,"name").fold(()=>s(u,p,O.none(),b),w=>a.field(w,s(u,p,hn(f,w),b))),J7={bar:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),collection:br((s,a,u)=>FI(s,a.shared.providers,u)),alertbanner:br((s,a)=>((u,f)=>{const p=vR(u.icon,f.icons);return qd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:p},components:u.url?[Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:f.translate(u.iconTooltip)}},action:b=>Rn(b,Jf,{name:"alert-banner",value:u.url}),buttonBehaviours:Zt([__()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]})})(s,a.shared.providers)),input:br((s,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:O.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),textarea:br((s,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!0,label:f.label,inputMode:O.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:O.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),label:br((s,a,u,f)=>((p,b,w)=>{const k="tox-label",E=p.align==="center"?[`${k}--center`]:[],D=p.align==="end"?[`${k}--end`]:[],F=Cs({dom:{tag:"label",classes:[k,...E,...D]},components:[Fr(b.providers.translate(p.label))]}),P=Ye(p.items,b.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...P],behaviours:Zt([mg(),Kn.config({}),(z=O.none(),U3(z,Ld,Gg)),Nn.config({mode:"acyclic"}),Co("label",[sr(G=>{p.for.each(X=>{w(X).each(ue=>{F.getOpt(G).each(me=>{var we;const fe=(we=Po(ue.element,"id"))!==null&&we!==void 0?we:bn("form-field");sn(ue.element,"id",fe),sn(me.element,"for",fe)})})})})])])};var z})(s,a.shared,f)),iframe:(H4=(s,a,u)=>((f,p,b)=>{const w="tox-dialog__iframe",k=f.transparent?[]:[`${w}--opaque`],E=f.border?["tox-navobj-bordered"]:[],D={...f.label.map(G=>({title:G})).getOr({}),...b.map(G=>({srcdoc:G})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((G,X)=>{const ue=Bn(G.getOr(""));return{getValue:me=>ue.get(),setValue:(me,we)=>{if(ue.get()!==we){const fe=me.element,de=()=>sn(fe,"srcdoc",we);X?t4.fold(ee(e4),ve=>ve.throttle)(fe,we,de):de()}ue.set(we)}}})(b,f.streamContent),P=f.label.map(G=>$p(G,p)),z=As.parts.field({factory:{sketch:G=>G3(O.from(E),{uid:G.uid,dom:{tag:"iframe",attributes:D,classes:[w,...k]},behaviours:Zt([Zs.config({}),no.config({}),Yb(b,F.getValue,F.setValue),yl.config({channels:{[yS]:{onReceive:(X,ue)=>{ue.newFocus.each(me=>{Sa(X.element).each(we=>{(is(X.element,me)?kr:Ir)(we,"tox-navobj-bordered-focus")})})}}}})])})}});return X2(P,z,["tox-form__group--stretched"],[])})(s,a.shared.providers,u),(s,a,u,f,p)=>{const b=Ps(a,{source:"dynamic"});return br(H4)(s,b,u,f,p)}),button:br((s,a)=>((u,f)=>{const p=b4(u.name,"custom");return b=O.none(),w=As.parts.field({factory:Ua,...LN(u,O.some(p),f,[ow(""),mg()])}),X2(b,w,[],[]);var b,w})(s,a.shared.providers)),checkbox:br((s,a,u)=>((f,p,b)=>{const w=P=>(P.element.dom.click(),O.some(!0)),k=As.parts.field({factory:{sketch:_e},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([mg(),ro.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:P=>{Sa(P.element).each(z=>kr(z,"tox-checkbox--disabled"))},onEnabled:P=>{Sa(P.element).each(z=>Ir(z,"tox-checkbox--disabled"))}}),Zs.config({}),no.config({}),U3(b,Kc,X7),Nn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),Co("checkbox-events",[St(Nm(),(P,z)=>{Rn(P,al,{name:f.name})})])])}),E=As.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Fr(p.translate(f.label))],behaviours:Zt([Kb.config({})])}),D=P=>Uc(P==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+P]},p.icons),F=Cs({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[D("checked"),D("unchecked")]});return As.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled()}),Pi()])})})(s,a.shared.providers,u)),colorinput:br((s,a,u)=>((f,p,b,w)=>{const k=As.parts.field({factory:yh,inputClasses:["tox-textfield"],data:w,onSetValue:P=>cg.run(P).get(se),inputBehaviours:Zt([ro.config({disabled:p.providers.isDisabled}),Pi(),Zs.config({}),cg.config({invalidClass:"tox-textbox-field-invalid",getRoot:P=>Sa(P.element),notify:{onValid:P=>{const z=lt.getValue(P);Rn(P,y3,{color:z})}},validator:{validateOnLoad:!1,validate:P=>{const z=lt.getValue(P);if(z.length===0)return lg(Bo.value(!0));{const G=Ti("span");co(G,"background-color",z);const X=Hr(G,"background-color").fold(()=>Bo.error("blah"),ue=>Bo.value(z));return lg(X)}}}})]),selectOnFocus:!1}),E=f.label.map(P=>$p(P,p.providers)),D=(P,z)=>{Rn(P,x3,{value:z})},F=Cs(((P,z)=>Cl.sketch({dom:P.dom,components:P.components,toggleClass:"mce-active",dropdownBehaviours:Zt([Da(z.providers.isDisabled),Pi(),Kb.config({}),Zs.config({})]),layouts:P.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:G=>zp(X=>P.fetch(X)).map(X=>O.from(d3(Ps(Zb(bn("menu-value"),X,ue=>{P.onItemAction(G,ue)},P.columns,P.presets,Yf.CLOSE_ON_EXECUTE,ke,z.providers),{movement:j2(P.columns,P.presets)})))),parts:{menu:E_(0,0,P.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Pr,Nr,Gr],onLtr:()=>[Nr,Pr,Gr]},components:[],fetch:bI(b.getColors(f.storageKey),f.storageKey,b.hasCustomColors()),columns:b.getColorCols(f.storageKey),presets:"color",onItemAction:(P,z)=>{F.getOpt(P).each(G=>{z==="custom"?b.colorPicker(X=>{X.fold(()=>ko(G,UI),ue=>{D(G,ue),KA(f.storageKey,ue)})},"#ffffff"):D(G,z==="remove"?"":z)})}},p));return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:Zt([Co("form-field-events",[St(y3,(P,z)=>{F.getOpt(P).each(G=>{co(G.element,"background-color",z.event.color)}),Rn(P,al,{name:f.name})}),St(x3,(P,z)=>{As.getField(P).each(G=>{lt.setValue(G,z.event.value),ns.getCurrent(P).each(no.focus)})}),St(UI,(P,z)=>{As.getField(P).each(G=>{ns.getCurrent(P).each(no.focus)})})])])})})(s,a.shared,a.colorinput,u)),colorpicker:br((s,a,u)=>((f,p,b)=>{const w=D=>"tox-"+D,k=uN((D=>F=>v(F)?D.translate(N7[F]):D.translate(F))(p),w,p.tooltips.getConfig,(D,F,P=D,z=D)=>Uc(P,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+D],attributes:{title:p.translate(z),"aria-live":"polite",...F.fold(()=>({}),G=>({id:G}))}},p.icons)),E=Cs(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:D=>{Rn(D,Jf,{name:"hex-valid",value:!0})},onInvalidHex:D=>{Rn(D,Jf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Zt([Yb(b,D=>{const F=E.get(D);return ns.getCurrent(F).bind(P=>lt.getValue(P).hex).map(P=>"#"+$s(P,"#")).getOr("")},(D,F)=>{const P=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(G=>gt(G,1)),z=E.get(D);ns.getCurrent(z).fold(()=>{console.log("Can not find form")},G=>{lt.setValue(G,{hex:P.getOr("")}),jp.getField(G,"hex").each(X=>{ko(X,Im())})})}),mg()])}})(0,a.shared.providers,u)),dropzone:br((s,a,u)=>((f,p,b)=>{const w=(X,ue)=>{ue.stop()},k=X=>(ue,me)=>{Mt(X,we=>{we(ue,me)})},E=(X,ue)=>{var me;if(!ro.isDisabled(X)){const we=ue.event.raw;F(X,(me=we.dataTransfer)===null||me===void 0?void 0:me.files)}},D=(X,ue)=>{const me=ue.event.raw.target;F(X,me.files)},F=(X,ue)=>{ue&&(lt.setValue(X,((me,we)=>{const fe=Eh.explode(we.getOption("images_file_types"));return Fn(Ft(me),de=>pt(fe,ve=>Nu(de.name.toLowerCase(),`.${ve.toLowerCase()}`)))})(ue,p)),Rn(X,al,{name:f.name}))},P=Cs({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([Co("input-file-events",[Pm(hi()),Pm(Cf())])])}),z=f.label.map(X=>$p(X,p)),G=As.parts.field({factory:{sketch:X=>({uid:X.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([ow(b.getOr([])),mg(),ro.config({}),Jn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Co("dropzone-events",[St("dragenter",k([w,Jn.toggle])),St("dragleave",k([w,Jn.toggle])),St("dragover",w),St("drop",k([w,E])),St(Nm(),D)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Fr(p.translate("Drop an image here"))]},Ua.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Fr(p.translate("Browse for an image")),P.asSpec()],action:ue=>{P.get(ue).element.dom.click()},buttonBehaviours:Zt([Zs.config({}),Da(p.isDisabled),Pi()])})]}]})}});return X2(z,G,["tox-form__group--stretched"],[])})(s,a.shared.providers,u)),grid:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),listbox:br((s,a,u)=>((f,p,b)=>{const w=pt(f.items,z=>!rw(z)),k=p.shared.providers,E=b.bind(z=>kS(f.items,z)).orThunk(()=>zt(f.items).filter(rw)),D=f.label.map(z=>$p(z,k)),F=As.parts.field({dom:{},factory:{sketch:z=>s4({uid:z.uid,text:E.map(G=>G.text),icon:O.none(),tooltip:O.none(),role:rs(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(G,X)=>{const ue=SS(G,f.name,f.items,lt.getValue(G),w);X(Xb(ue,Yf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ee(se),getApi:ee({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Zs.config({}),Yb(E.map(G=>G.value),G=>Po(G.element,r4),(G,X)=>{kS(f.items,X).each(ue=>{sn(G.element,r4,ue.value),Rn(G,_u,{text:ue.text})})})]},"tox-listbox",p.shared)}}),P={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([D.toArray(),[P]]),fieldBehaviours:Zt([ro.config({disabled:ee(!f.enabled),onDisabled:z=>{As.getField(z).each(ro.disable)},onEnabled:z=>{As.getField(z).each(ro.enable)}})])})})(s,a,u)),selectbox:br((s,a,u)=>((f,p,b)=>{const w=Ye(f.items,P=>({text:p.translate(P.text),value:P.value})),k=f.label.map(P=>$p(P,p)),E=As.parts.field({dom:{},...b.map(P=>({data:P})).getOr({}),selectAttributes:{size:f.size},options:w,factory:B7,selectBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled()}),Zs.config({}),Co("selectbox-change",[St(Nm(),(P,z)=>{Rn(P,al,{name:f.name})})])])}),D=f.size>1?O.none():O.some(Uc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:eo([[E],D.toArray()])};return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([k.toArray(),[F]]),fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:P=>{As.getField(P).each(ro.disable)},onEnabled:P=>{As.getField(P).each(ro.enable)}}),Pi()])})})(s,a.shared.providers,u)),sizeinput:br((s,a)=>((u,f)=>{let p=c4;const b=bn("ratio-event"),w=ue=>Uc(ue,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ue]},f.icons),k=u.label.getOr("Constrain proportions"),E=f.translate(k),D=jc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zs.config({}),oi.config(f.tooltips.getConfig({tooltipText:E}))])}),F=ue=>({dom:{tag:"div",classes:["tox-form__group"]},components:ue}),P=ue=>As.parts.field({factory:yh,inputClasses:["tox-textfield"],inputBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zs.config({}),Co("size-input-events",[St(bs(),(me,we)=>{Rn(me,b,{isField1:ue})}),St(Nm(),(me,we)=>{Rn(me,al,{name:u.name})})])]),selectOnFocus:!1}),z=ue=>({dom:{tag:"label",classes:["tox-label"]},components:[Fr(f.translate(ue))]}),G=jc.parts.field1(F([As.parts.label(z("Width")),P(!0)])),X=jc.parts.field2(F([As.parts.label(z("Height")),P(!1)]));return jc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[G,X,F([z(" "),D])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ue,me,we)=>{a4(lt.getValue(ue)).each(fe=>{p(fe).each(de=>{lt.setValue(me,(ve=>{const Ce={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ee=ve.value.toFixed((ze=ve.unit)in Ce?Ce[ze]:1);var ze;return Ee.indexOf(".")!==-1&&(Ee=Ee.replace(/\.?0*$/,"")),Ee+ve.unit})(de))})})},coupledFieldBehaviours:Zt([ro.config({disabled:()=>!u.enabled||f.isDisabled(),onDisabled:ue=>{jc.getField1(ue).bind(As.getField).each(ro.disable),jc.getField2(ue).bind(As.getField).each(ro.disable),jc.getLock(ue).each(ro.disable)},onEnabled:ue=>{jc.getField1(ue).bind(As.getField).each(ro.enable),jc.getField2(ue).bind(As.getField).each(ro.enable),jc.getLock(ue).each(ro.enable)}}),Pi(),Co("size-input-events2",[St(b,(ue,me)=>{const we=me.event.isField1,fe=we?jc.getField1(ue):jc.getField2(ue),de=we?jc.getField2(ue):jc.getField1(ue),ve=fe.map(lt.getValue).getOr(""),Ce=de.map(lt.getValue).getOr("");p=((Ee,ze)=>{const ot=a4(Ee).toOptional(),Et=a4(ze).toOptional();return Kt(ot,Et,(_t,wt)=>l4(_t,wt.unit).map(Ht=>wt.value/Ht).map(Ht=>{return mn=Ht,kn=wt.unit,Hn=>l4(Hn,kn).map(io=>({value:io*mn,unit:kn}));var mn,kn}).getOr(c4)).getOr(c4)})(ve,Ce)})])])})})(s,a.shared.providers)),slider:br((s,a,u)=>((f,p,b)=>{const w=Xd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(p.translate(f.label))]}),k=Xd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Xd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Xd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:ee(b.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[w,k,E],sliderBehaviours:Zt([mg(),no.config({})]),onChoose:(D,F,P)=>{Rn(D,al,{name:f.name,value:P})},onChange:(D,F,P)=>{Rn(D,al,{name:f.name,value:P})}})})(s,a.shared.providers,u)),urlinput:br((s,a,u)=>((f,p,b,w)=>{const k=p.shared.providers,E=fe=>{const de=lt.getValue(fe);b.addToHistory(de.value,f.filetype)},D={...w.map(fe=>({initialData:fe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$N,type:"url"},minChars:0,responseTime:0,fetch:fe=>{const de=((Ce,Ee,ze)=>{var ot,Et;const _t=lt.getValue(Ee),wt=(Et=(ot=_t==null?void 0:_t.meta)===null||ot===void 0?void 0:ot.text)!==null&&Et!==void 0?Et:_t.value;return ze.getLinkInformation().fold(()=>[],Ht=>{const mn=x4(wt,(Hn=>Ye(Hn,io=>y4(io,io)))(ze.getHistory(Ce)));return Ce==="file"?(kn=[mn,x4(wt,q7(Ht)),x4(wt,eo([zN(Ht),Y7(Ht),HN(Ht)]))],_n(kn,(Hn,io)=>Hn.length===0||io.length===0?Hn.concat(io):Hn.concat(K7,io),[])):mn;var kn})})(f.filetype,fe,b),ve=Xb(de,Yf.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:O.none()});return lg(ve)},getHotspot:fe=>me.getOpt(fe),onSetValue:(fe,de)=>{fe.hasConfigured(cg)&&cg.run(fe).get(se)},typeaheadBehaviours:Zt([...b.getValidationHandler().map(fe=>cg.config({getRoot:de=>Sa(de.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(de,ve)=>{z.getOpt(de).each(Ce=>{sn(Ce.element,"title",k.translate(ve))})}},validator:{validate:de=>{const ve=lt.getValue(de);return MN(Ce=>{fe({type:f.filetype,url:ve.value},Ee=>{if(Ee.status==="invalid"){const ze=Bo.error(Ee.message);Ce(ze)}else{const ze=Bo.value(Ee.message);Ce(ze)}})})},validateOnLoad:!1}})).toArray(),ro.config({disabled:()=>!f.enabled||k.isDisabled()}),Zs.config({}),Co("urlinput-events",[St(Im(),fe=>{const de=Rf(fe.element),ve=de.trim();ve!==de&&zm(fe.element,ve),f.filetype==="file"&&Rn(fe,al,{name:f.name})}),St(Nm(),fe=>{Rn(fe,al,{name:f.name}),E(fe)}),St(rx(),fe=>{Rn(fe,al,{name:f.name}),E(fe)})])]),eventOrder:{[Im()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:fe=>fe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:E_(0,0,"normal")},onExecute:(fe,de,ve)=>{Rn(de,J2,{})},onItemExecute:(fe,de,ve,Ce)=>{E(fe),Rn(fe,al,{name:f.name})}},F=As.parts.field({...D,factory:j7}),P=f.label.map(fe=>$p(fe,k)),z=Cs(((fe,de,ve=fe,Ce=fe)=>Uc(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+fe],attributes:{title:k.translate(Ce),"aria-live":"polite",...de.fold(()=>({}),Ee=>({id:Ee}))}},k.icons))("invalid",O.some($N),"warning")),G=Cs({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),X=b.getUrlPicker(f.filetype),ue=bn("browser.url.event"),me=Cs({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,G.asSpec()],behaviours:Zt([ro.config({disabled:()=>!f.enabled||k.isDisabled()})])}),we=Cs(FN({name:f.name,icon:O.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:O.none(),borderless:!0},fe=>ko(fe,ue),k,[],["tox-browse-url"]));return As.sketch({dom:G_([]),components:P.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:eo([[me.asSpec()],X.map(()=>we.asSpec()).toArray()])}]),fieldBehaviours:Zt([ro.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:fe=>{As.getField(fe).each(ro.disable),we.getOpt(fe).each(ro.disable)},onEnabled:fe=>{As.getField(fe).each(ro.enable),we.getOpt(fe).each(ro.enable)}}),Pi(),Co("url-input-events",[St(ue,fe=>{ns.getCurrent(fe).each(de=>{const ve=lt.getValue(de),Ce={fieldname:f.name,...ve};X.each(Ee=>{Ee(Ce).get(ze=>{lt.setValue(de,ze),Rn(fe,al,{name:f.name})})})})})])])})})(s,a,a.urlinput,u)),customeditor:br(s=>{const a=Es(),u=Cs({dom:{tag:s.tag}}),f=Es(),p=!W3(s)&&s.onFocus.isSome()?[no.config({onFocus:b=>{s.onFocus.each(w=>{w(b.element.dom)})}}),Zs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([Co("custom-editor-events",[sr(b=>{u.getOpt(b).each(w=>{(W3(s)?s.init(w.element.dom):dN.load(s.scriptId,s.scriptUrl).then(k=>k(w.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),a.set(k)})})})]),Yb(O.none(),()=>a.get().fold(()=>f.get().getOr(""),b=>b.getValue()),(b,w)=>{a.get().fold(()=>f.set(w),k=>k.setValue(w))}),mg()].concat(p)),components:[u.asSpec()]}}),htmlpanel:br((s,a)=>((u,f)=>{const p=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],b=Co("htmlpanel",[sr(w=>{u.onInit(w.element.dom)})]);return u.presets==="presentation"?qd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html},containerBehaviours:Zt([oi.config({...f.tooltips.getConfig({tooltipText:"",onShow:w=>{fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>qr(w.element)).each(k=>{Zo(k,"data-mce-tooltip").each(E=>{oi.setComponents(w,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:fr(w.element,"[data-mce-tooltip]:hover").orThunk(()=>qr(w.element).filter(k=>Zo(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:ee([Gr,Er,Nr,ti,Pr,Ms]),onRtl:ee([Gr,Er,Nr,ti,Pr,Ms])},bubble:ic(0,-2,{})})}),b])}):qd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:Zt([Zs.config({}),no.config({}),b])})})(s,a.shared.providers)),imagepreview:br((s,a,u)=>((f,p)=>{const b=Bn(p.getOr({url:""})),w=Cs({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(F=>({src:F.url})).getOr({})}}),k=Cs({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};f.height.each(F=>E.height=F);const D=p.map(F=>({url:F.url,zoom:O.from(F.zoom),cachedWidth:O.from(F.cachedWidth),cachedHeight:O.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Zt([mg(),Yb(D,()=>b.get(),(F,P)=>{const z={url:P.url};P.zoom.each(X=>z.zoom=X),P.cachedWidth.each(X=>z.cachedWidth=X),P.cachedHeight.each(X=>z.cachedHeight=X),b.set(z);const G=()=>{const{cachedWidth:X,cachedHeight:ue,zoom:me}=z;if(!L(X)&&!L(ue)){if(L(me)){const fe=((de,ve,Ce)=>{const Ee=Oi(de),ze=Or(de);return Math.min(Ee/ve,ze/Ce,1)})(F.element,X,ue);z.zoom=fe}const we=((fe,de,ve,Ce,Ee)=>{const ze=ve*Ee,ot=Ce*Ee,Et=Math.max(0,fe/2-ze/2),_t=Math.max(0,de/2-ot/2);return{left:Et.toString()+"px",top:_t.toString()+"px",width:ze.toString()+"px",height:ot.toString()+"px"}})(Oi(F.element),Or(F.element),X,ue,z.zoom);k.getOpt(F).each(fe=>{Ya(fe.element,we)})}};w.getOpt(F).each(X=>{const ue=X.element;var me;P.url!==Po(ue,"src")&&(sn(ue,"src",P.url),Ir(F.element,"tox-imagepreview__loaded")),G(),(me=ue,new Promise((we,fe)=>{const de=()=>{Ce(),we(me)},ve=[Ha(me,"load",de),Ha(me,"error",()=>{Ce(),fe("Unable to load data from image: "+me.dom.src)})],Ce=()=>Mt(ve,Ee=>Ee.unbind());me.dom.complete&&de()})).then(we=>{F.getSystem().isConnected()&&(kr(F.element,"tox-imagepreview__loaded"),z.cachedWidth=we.dom.naturalWidth,z.cachedHeight=we.dom.naturalHeight,G())})})})])}})(s,u)),table:br((s,a)=>((u,f)=>{const p=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ye(w,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(b=u.cells,{dom:{tag:"tbody"},components:Ye(b,k=>({dom:{tag:"tr"},components:Ye(k,p)}))})],behaviours:Zt([Zs.config({}),no.config({})])};var b,w})(s,a.shared.providers)),tree:br((s,a)=>((u,f)=>{const p=u.onLeafAction.getOr(se),b=u.onToggleExpand.getOr(se),w=u.defaultExpandedIds,k=Bn(w),E=Bn(u.defaultSelectedId),D=bn("tree-id"),F=(P,z)=>u.items.map(G=>G.type==="leaf"?m4({leaf:G,selectedId:P,onLeafAction:p,visible:!0,treeId:D,backstage:f}):AS({directory:G,selectedId:P,onLeafAction:p,expandedIds:z,labelTabstopping:!0,treeId:D,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:Zt([Nn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Co(H7,[St("expand-tree-node",(P,z)=>{const{expanded:G,node:X}=z.event;k.set(G?[...k.get(),X]:k.get().filter(ue=>ue!==X)),b(k.get(),{expanded:G,node:X})})]),yl.config({channels:{[`update-active-item-${D}`]:{onReceive:(P,z)=>{E.set(O.some(z.value)),Kn.set(P,F(O.some(z.value),k.get()))}}}}),Kn.config({})])}})(s,a)),panel:br((s,a)=>((u,f)=>({dom:{tag:"div",classes:u.classes},components:Ye(u.items,f.shared.interpreter)}))(s,a))},w4={field:(s,a)=>a,record:ee([])},DS=(s,a,u,f,p)=>{const b=Ps(f,{shared:{interpreter:w=>C4(s,w,u,b,p)}});return C4(s,a,u,b,p)},C4=(s,a,u,f,p)=>hn(J7,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),b=>b(s,a,u,f,p)),UN=(s,a,u,f)=>C4(w4,s,a,u,f),Jd="layout-inset",ly=s=>s.x,RS=(s,a)=>s.x+s.width/2-a.width/2,_4=(s,a)=>s.x+s.width-a.width,ud=s=>s.y,S4=(s,a)=>s.y+s.height-a.height,WN=(s,a)=>s.y+s.height/2-a.height/2,uc=(s,a,u)=>fa(_4(s,a),S4(s,a),u.insetSouthwest(),sh(),"southwest",ma(s,{right:0,bottom:3}),Jd),Jp=(s,a,u)=>fa(ly(s),S4(s,a),u.insetSoutheast(),Jv(),"southeast",ma(s,{left:1,bottom:3}),Jd),dc=(s,a,u)=>fa(_4(s,a),ud(s),u.insetNorthwest(),oh(),"northwest",ma(s,{right:0,top:2}),Jd),cw=(s,a,u)=>fa(ly(s),ud(s),u.insetNortheast(),Xv(),"northeast",ma(s,{left:1,top:2}),Jd),os=(s,a,u)=>fa(RS(s,a),ud(s),u.insetNorth(),OC(),"north",ma(s,{top:2}),Jd),gg=(s,a,u)=>fa(RS(s,a),S4(s,a),u.insetSouth(),Ox(),"south",ma(s,{bottom:3}),Jd),uw=(s,a,u)=>fa(_4(s,a),WN(s,a),u.insetEast(),DC(),"east",ma(s,{right:0}),Jd),k4=(s,a,u)=>fa(ly(s),WN(s,a),u.insetWest(),Dx(),"west",ma(s,{left:1}),Jd),E4=s=>{switch(s){case"north":return os;case"northeast":return cw;case"northwest":return dc;case"south":return gg;case"southeast":return Jp;case"southwest":return uc;case"east":return uw;case"west":return k4}},IS=(s,a,u,f,p)=>rb(f).map(E4).getOr(os)(s,a,u,f,p),Q7=s=>{switch(s){case"north":return gg;case"northeast":return Jp;case"northwest":return uc;case"south":return os;case"southeast":return cw;case"southwest":return dc;case"east":return k4;case"west":return uw}},A4=(s,a,u,f,p)=>rb(f).map(Q7).getOr(os)(s,a,u,f,p),dw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ZN=(s,a,u)=>{const f={maxHeightFunction:lh()};return()=>u()?{type:"node",root:Je(ut(s())),node:O.from(s()),bubble:ic(12,12,dw),layouts:{onRtl:()=>[cw],onLtr:()=>[dc]},overrides:f}:{type:"hotspot",hotspot:a(),bubble:ic(-12,12,dw),layouts:{onRtl:()=>[Nr,Pr,Gr],onLtr:()=>[Pr,Nr,Gr]},overrides:f}},jN=(s,a,u,f)=>{const p={maxHeightFunction:lh()};return()=>f()?{type:"node",root:Je(ut(a())),node:O.from(a()),bubble:ic(12,12,dw),layouts:{onRtl:()=>[os],onLtr:()=>[os]},overrides:p}:s?{type:"node",root:Je(ut(a())),node:O.from(a()),bubble:ic(0,-_c(a()),dw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}:{type:"hotspot",hotspot:u(),bubble:ic(0,0,dw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}},T4=(s,a,u)=>()=>u()?{type:"node",root:Je(ut(s())),node:O.from(s()),layouts:{onRtl:()=>[os],onLtr:()=>[os]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Gr],onLtr:()=>[Gr]}},KN=(s,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const u=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const p=f[0],b=f[f.length-1],w={firstCell:rn(p),lastCell:rn(b)};return O.some(w)}return O.some(Ff.range(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset))}}),NS=s=>a=>({type:"node",root:s(),node:a}),eV=(s,a,u,f)=>{const p=Nb(s),b=()=>rn(s.getBody()),w=()=>rn(s.getContentAreaContainer()),k=()=>p||!f();return{inlineDialog:ZN(w,a,k),inlineBottomDialog:jN(s.inline,w,u,k),banner:T4(w,a,k),cursor:KN(s,b),node:NS(b)}},tV=s=>(a,u)=>{xI(s)(a,u)},nV=s=>()=>XA(s),oV=s=>a=>Wb(s,a),sV=s=>a=>YA(s,a),GN=s=>()=>Gf(s),qN=s=>vo(s,"items"),YN=s=>vo(s,"format"),O4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],D4=s=>_n(s,(a,u)=>{if(Eo(u,"items")){const f=D4(u.items);return{customFormats:a.customFormats.concat(f.customFormats),formats:a.formats.concat([{title:u.title,items:f.formats}])}}if(Eo(u,"inline")||(f=>Eo(f,"block"))(u)||(f=>Eo(f,"selector"))(u)){const f=`custom-${v(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:f,format:u}]),formats:a.formats.concat([{title:u.title,format:f,icon:u.icon}])}}return{...a,formats:a.formats.concat(u)}},{customFormats:[],formats:[]}),XN=s=>H0(s).map(a=>{const u=((f,p)=>{const b=D4(p),w=k=>{Mt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?w(b.customFormats):f.on("init",()=>{w(b.customFormats)}),b.formats})(s,a);return i_(s)?O4.concat(u):u}).getOr(O4),JN=(s,a,u)=>({...s,type:"formatter",isSelected:a(s.format),getStylePreview:u(s.format)}),R4=(s,a,u,f)=>{const p=b=>Ye(b,w=>qN(w)?(k=>{const E=p(k.items);return{...k,type:"submenu",getStyleItems:ee(E)}})(w):YN(w)?(k=>JN(k,u,f))(w):(k=>{const E=wn(k);return E.length===1&&et(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=v(k.name)?k.name:bn(k.title),D=`custom-${E}`,F={...k,type:"formatter",format:D,isSelected:u(D),getStylePreview:f(D)};return s.formatter.register(E,F),F})(w));return p(a)},I4=s=>{let a=0;const u=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Fr(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>a>0?60:300,delayForHide:ee(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(f),onShow:(p,b)=>{a++,f.onShow&&f.onShow(p,b)},onHide:(p,b)=>{a--,f.onHide&&f.onHide(p,b)},onSetup:f.onSetup}),getComponents:u}},QN=Eh.trim,eP=s=>a=>!!((u=>K(u)&&u.nodeType===1)(a)&&(a.contentEditable===s||a.getAttribute("data-mce-contenteditable")===s)),rV=eP("true"),iV=eP("false"),tP=(s,a,u,f,p)=>({type:s,title:a,url:u,level:f,attach:p}),nP=s=>s.innerText||s.textContent,aV=s=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(s)&&dd(s),N4=s=>s&&/^(H[1-6])$/.test(s.nodeName),dd=s=>(a=>{let u=a;for(;u=u.parentNode;){const f=u.contentEditable;if(f&&f!=="inherit")return rV(u)}return!1})(s)&&!iV(s),lV=s=>N4(s)&&dd(s),P4=s=>{var a;const u=(f=>f.id?f.id:bn("h"))(s);return tP("header",(a=nP(s))!==null&&a!==void 0?a:"","#"+u,(f=>N4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=u})},oP=s=>{const a=s.id||s.name,u=nP(s);return tP("anchor",u||"#"+a,"#"+a,0,se)},sP=s=>QN(s.title).length>0,cV=s=>{const a=(u=>Ye(_i(rn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(s);return Fn((u=>Ye(Fn(u,lV),P4))(a).concat((u=>Ye(Fn(u,aV),oP))(a)),sP)},fw="tinymce-url-history",M4=s=>v(s)&&/^https?/.test(s),B4=s=>x(s)&&fs(s,a=>{return!(M(u=a)&&u.length<=5&&To(u,M4));var u}).isNone(),rP=()=>{const s=Zc.getItem(fw);if(s===null)return{};let a;try{a=JSON.parse(s)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+fw+" was not valid JSON",u),{};throw u}return B4(a)?a:(console.log("Local storage "+fw+" was not valid format",a),{})},uV=s=>{const a=rP();return hn(a,s).getOr([])},dV=(s,a)=>{if(!M4(s))return;const u=rP(),f=hn(u,a).getOr([]),p=Fn(f,b=>b!==s);u[a]=[s].concat(p).slice(0,5),(b=>{if(!B4(b))throw new Error(`Bad format for history:
`+JSON.stringify(b));Zc.setItem(fw,JSON.stringify(b))})(u)},iP=s=>!!s,fV=s=>On(Eh.makeMap(s,/[, ]/),iP),PS=s=>O.from(l_(s)),L4=s=>O.from(s).filter(v).getOrUndefined(),aP=s=>({getHistory:uV,addToHistory:dV,getLinkInformation:()=>(a=>c_(a)?O.some({targets:cV(a.getBody()),anchorTop:L4(Y5(a)),anchorBottom:L4(X5(a))}):O.none())(s),getValidationHandler:()=>(a=>O.from(p2(a)))(s),getUrlPicker:a=>((u,f)=>((p,b)=>{const w=(k=>{const E=O.from(v2(k)).filter(iP).map(fV);return PS(k).fold(ke,D=>E.fold(Le,F=>wn(F).length>0&&F))})(p);return I(w)?w?PS(p):O.none():w[b]?PS(p):O.none()})(u,f).map(p=>b=>zp(w=>{const k={filetype:f,fieldname:b.fieldname,...O.from(b.meta).getOr({})};p.call(u,(E,D)=>{if(!v(E))throw new Error("Expected value to be string");if(D!==void 0&&!x(D))throw new Error("Expected meta to be a object");w({value:E,meta:D})},b.value,k)})))(s,a)}),pa=_8,hg=FD,mV=ee([it("shell",!1),Ot("makeItem"),it("setupItem",se),so("listBehaviours",[Kn])]),cy=pu({name:"items",overrides:()=>({behaviours:Zt([Kn.config({})])})}),gV=ee([cy]),F4=Bl({name:ee("CustomList")(),configFields:mV(),partFields:gV(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.listBehaviours,p.behaviours),apis:{setItems:(b,w)=>{var k;(k=b,s.shell?O.some(k):qs(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const D=Kn.contents(E),F=w.length,P=F-D.length,z=P>0?Lt(P,()=>s.makeItem()):[],G=D.slice(F);Mt(G,ue=>Kn.remove(E,ue)),Mt(z,ue=>Kn.append(E,ue));const X=Kn.contents(E);Mt(X,(ue,me)=>{s.setupItem(b,ue,w[me],me)})})}}}},apis:{setItems:(s,a,u)=>{s.setItems(a,u)}}}),Qb=ee([Ot("dom"),it("shell",!0),yn("toolbarBehaviours",[Kn])]),lP=ee([pu({name:"groups",overrides:()=>({behaviours:Zt([Kn.config({})])})})]),Qd=Bl({name:"Toolbar",configFields:Qb(),partFields:lP(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.toolbarBehaviours,p.behaviours),apis:{setGroups:(b,w)=>{var k;(k=b,s.shell?O.some(k):qs(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Kn.set(E,w)})},refresh:se},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)}}}),V4=se,z4=ke,MS=ee([]);var H4,hV=Object.freeze({__proto__:null,setup:V4,isDocked:z4,getBehaviours:MS});const BS=ee(bn("toolbar-height-change")),pg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},cP="tox-tinymce--toolbar-sticky-on",uP="tox-tinymce--toolbar-sticky-off",mw=(s,a)=>et(dr.getModes(s),a),LS=s=>{const a=s.element;Sa(a).each(u=>{const f="padding-"+dr.getModes(s)[0];if(dr.isDocked(s)){const p=Oi(u);co(a,"width",p+"px"),co(u,f,(b=>_c(b)+(parseInt(wr(b,"margin-top"),10)||0)+(parseInt(wr(b,"margin-bottom"),10)||0))(a)+"px")}else ws(a,"width"),ws(u,f)})},$4=(s,a)=>{a?(Ir(s,pg.fadeOutClass),Kr(s,[pg.transitionClass,pg.fadeInClass])):(Ir(s,pg.fadeInClass),Kr(s,[pg.fadeOutClass,pg.transitionClass]))},dP=(s,a)=>{const u=rn(s.getContainer());a?(kr(u,cP),Ir(u,uP)):(kr(u,uP),Ir(u,cP))},fP=(s,a)=>{const u=Es(),f=a.getSink,p=k=>{f().each(E=>k(E.element))},b=k=>{s.inline||LS(k),dP(s,dr.isDocked(k)),k.getSystem().broadcastOn([H()],{}),f().each(E=>E.getSystem().broadcastOn([H()],{}))},w=s.inline?[]:[yl.config({channels:{[BS()]:{onReceive:LS}}})];return[no.config({}),dr.config({contextual:{lazyContext:k=>{const E=_c(k.element),D=s.inline?s.getContentAreaContainer():s.getContainer();return O.from(D).map(F=>{const P=ii(rn(F));return Ip(s,k.element).fold(()=>{const z=P.height-E,G=P.y+(mw(k,"top")?0:E);return Do(P.x,G,P.width,z)},z=>{const G=Od(P,Np(z)),X=mw(k,"top")?G.y:G.y+E;return Do(G.x,X,G.width,G.height-E)})})},onShow:()=>{p(k=>$4(k,!0))},onShown:k=>{p(E=>rc(E,[pg.transitionClass,pg.fadeInClass])),u.get().each(E=>{((D,F)=>{const P=ri(F);fu(P).filter(z=>!is(F,z)).filter(z=>is(z,rn(P.dom.body))||Br(D,z)).each(()=>za(F))})(k.element,E),u.clear()})},onHide:k=>{((E,D)=>qr(E).orThunk(()=>D().toOptional().bind(F=>qr(F.element))))(k.element,f).fold(u.clear,u.set),p(E=>$4(E,!1))},onHidden:()=>{p(k=>rc(k,[pg.transitionClass]))},...pg},lazyViewport:k=>Ip(s,k.element).fold(()=>{const E=Ui(),D=aA(s),F=E.y+(mw(k,"top")?D:0),P=E.height-(mw(k,"bottom")?D:0);return{bounds:Do(E.x,F,E.width,P),optScrollEnv:O.none()}},E=>({bounds:Np(E),optScrollEnv:O.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Nl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var pV=Object.freeze({__proto__:null,setup:(s,a,u)=>{s.inline||(a.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{u().each(dr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{u().each(LS)}),s.on("SkinLoaded",()=>{u().each(f=>{dr.isDocked(f)?dr.reset(f):dr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{u().each(dr.reset)})),s.on("AfterScrollIntoView",f=>{u().each(p=>{dr.refresh(p);const b=p.element;d5(b)&&((w,k)=>{const E=ri(k),D=Yc(k).dom.innerHeight,F=Js(E),P=rn(w.elm),z=hl(P),G=Or(P),X=z.y,ue=X+G,me=Nl(k),we=Or(k),fe=me.top,de=fe+we,ve=Math.abs(fe-F.top)<2,Ce=Math.abs(de-(F.top+D))<2;if(ve&&X<de)vf(F.left,X-we,E);else if(Ce&&ue>fe){const Ee=X-D+G+we;vf(F.left,Ee,E)}})(f,b)})}),s.on("PostRender",()=>{dP(s,!1)})},isDocked:s=>s().map(dr.isDocked).getOr(!1),getBehaviours:fP});const vV=Wn([vi,Zi("items",Tm([Uu([EA,el("items",wi)]),wi]))].concat(ag)),bV=[Lr("text"),Lr("tooltip"),Lr("icon"),Fa("search",!1,Tm([nc,Wn([Lr("placeholder")])],s=>I(s)?s?O.some({placeholder:O.none()}):O.none():O.some(s))),La("fetch"),Qs("onSetup",()=>se)],mP=Wn([vi,...bV]),gP=s=>Cr("menubutton",mP,s),yV=Wn([vi,F2,sd,Fp,RA,RF,Lp,Ac("presets","normal",["normal","color","listpreview"]),LR(1),W0,BR]);var U4=vu({factory:(s,a)=>{const u={focus:Nn.focusIn,setMenus:(f,p)=>{const b=Ye(p,w=>{const k={type:"menubutton",text:w.text,fetch:D=>{D(w.getItems())}},E=gP(k).mapError(D=>Qa(D)).getOrDie();return iy(E,"tox-mbtn",a.backstage,O.some("menuitem"))});Kn.set(f,b)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Zt([Kn.config({}),Co("menubar-events",[sr(f=>{s.onSetup(f)}),St(Tn(),(f,p)=>{fr(f.element,".tox-mbtn--active").each(b=>{Xu(p.event.target,".tox-mbtn").each(w=>{is(b,w)||f.getSystem().getByDom(b).each(k=>{f.getSystem().getByDom(w).each(E=>{Cl.expand(E),Cl.close(k),no.focus(E)})})})})}),St(Z1(),(f,p)=>{p.event.prevFocus.bind(b=>f.getSystem().getByDom(b).toOptional()).each(b=>{p.event.newFocus.bind(w=>f.getSystem().getByDom(w).toOptional()).each(w=>{Cl.isOpen(b)&&(Cl.expand(w),Cl.close(b))})})})]),Nn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),O.some(!0))}),Zs.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ot("dom"),Ot("uid"),Ot("onEscape"),Ot("backstage"),it("onSetup",se)],apis:{focus:(s,a)=>{s.focus(a)},setMenus:(s,a,u)=>{s.setMenus(a,u)}}});const hP="container",xV=[yn("slotBehaviours",[])],W4=s=>"<alloy.field."+s+">",wV=(s,a)=>{const u=F=>$D(s),f=(F,P)=>(z,G)=>qs(z,s,G).map(X=>F(X,G)).getOr(P),p=(F,P)=>Po(F.element,"aria-hidden")!=="true",b=f(p,!1),w=f((F,P)=>{if(p(F)){const z=F.element;co(z,"display","none"),sn(z,"aria-hidden","true"),Rn(F,lu(),{name:P,visible:!1})}}),k=(F=>(P,z)=>{Mt(z,G=>F(P,G))})(w),E=f((F,P)=>{if(!p(F)){const z=F.element;ws(z,"display"),_o(z,"aria-hidden"),Rn(F,lu(),{name:P,visible:!0})}}),D={getSlotNames:u,getSlot:(F,P)=>qs(F,s,P),isShowing:b,hideSlot:w,hideAllSlots:F=>k(F,u()),showSlot:E};return{uid:s.uid,dom:s.dom,components:a,behaviours:Yn(s.slotBehaviours),apis:D}},CV=On({getSlotNames:(s,a)=>s.getSlotNames(a),getSlot:(s,a,u)=>s.getSlot(a,u),isShowing:(s,a,u)=>s.isShowing(a,u),hideSlot:(s,a,u)=>s.hideSlot(a,u),hideAllSlots:(s,a)=>s.hideAllSlots(a),showSlot:(s,a,u)=>s.showSlot(a,u)},s=>r0(s)),_l={...CV,sketch:s=>{const a=(()=>{const b=[];return{slot:(w,k)=>(b.push(w),kE(hP,W4(w),k)),record:ee(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:W4(b)}));return Xx(hP,xV,p,wV,u)}},_V=Wn([sd,F2,Qs("onShow",se),Qs("onHide",se),Lp]),SV=s=>({element:()=>s.element.dom}),FS=(s,a)=>{const u=Ye(wn(a),f=>{const p=a[f],b=Ba((w=>Cr("sidebar",_V,w))(p));return{name:f,getApi:SV,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return Ye(u,f=>{const p=Bn(se);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:z2([Vp(f,p),xh(f,p),St(lu(),(b,w)=>{const k=w.event;J(u,D=>D.name===k.name).each(D=>{(k.visible?D.onShow:D.onHide)(D.getApi(b))})})])})})},pP=s=>_l.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:FS(a,s),slotBehaviours:z2([sr(u=>_l.hideAllSlots(u))])})),VS=(s,a)=>{sn(s,"role",a)},kV=s=>ns.getCurrent(s).bind(a=>ql.isGrowing(a)||ql.hasGrown(a)?ns.getCurrent(a).bind(u=>J(_l.getSlotNames(u),f=>_l.isShowing(u,f))):O.none()),Z4=bn("FixSizeEvent"),j4=bn("AutoSizeEvent");var EV=Object.freeze({__proto__:null,block:(s,a,u,f)=>{sn(s.element,"aria-busy",!0);const p=a.getRoot(s).getOr(s),b=Zt([Nn.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),no.config({})]),w=f(p,b),k=p.getSystem().build(w);Kn.append(p,nl(k)),k.hasConfigured(Nn)&&a.focus&&Nn.focusIn(k),u.isBlocked()||a.onBlock(s),u.blockWith(()=>Kn.remove(p,k))},unblock:(s,a,u)=>{_o(s.element,"aria-busy"),u.isBlocked()&&a.onUnblock(s),u.clear()},isBlocked:(s,a,u)=>u.isBlocked()}),AV=[Qs("getRoot",O.none),ei("focus",!0),Xo("onBlock"),Xo("onUnblock")];const fd=Ni({fields:AV,name:"blocking",apis:EV,state:Object.freeze({__proto__:null,init:()=>{const s=Sc(a=>a.destroy());return Ii({readState:s.isSet,blockWith:a=>{s.set({destroy:a})},clear:s.clear,isBlocked:s.isSet})}})}),K4=s=>ns.getCurrent(s).each(a=>za(a.element,!0)),vP=(s,a,u)=>{const f=Bn(!1),p=Es(),b=k=>{var E;f.get()&&(!(D=>D.type==="focusin")(E=k)||!(E.composed?zt(E.composedPath()):O.from(E.target)).map(rn).filter(lr).exists(D=>tl(D,"mce-pastebin")))&&(k.preventDefault(),K4(a()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",b),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&b(k)})});const w=k=>{k!==f.get()&&(f.set(k),((E,D,F,P)=>{const z=D.element;if(((G,X)=>{const ue="tabindex",me=`data-mce-${ue}`;O.from(G.iframeElement).map(rn).each(we=>{X?(Zo(we,ue).each(fe=>sn(we,me,fe)),sn(we,ue,-1)):(_o(we,ue),Zo(we,me).each(fe=>{sn(we,ue,fe),_o(we,me)}))})})(E,F),F)fd.block(D,(G=>(X,ue)=>({dom:{tag:"div",attributes:{"aria-label":G.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(P)),ws(z,"display"),_o(z,"aria-hidden"),E.hasFocus()&&K4(D);else{const G=ns.getCurrent(D).exists(X=>ah(X.element));fd.unblock(D),co(z,"display","none"),sn(z,"aria-hidden","true"),G&&E.focus()}})(s,a(),k,u.providers),((E,D)=>{E.dispatch("AfterProgressState",{state:D})})(s,k))};s.on("ProgressState",k=>{if(p.on(clearTimeout),ne(k.time)){const E=s_.setEditorTimeout(s,()=>w(k.state),k.time);p.set(E)}else w(k.state),p.clear()})},G4=(s,a,u)=>({within:s,extra:a,withinWidth:u}),q4=(s,a,u)=>{const f=_n(s,(w,k)=>((E,D)=>{const F=u(E);return O.some({element:E,start:D,finish:D+F,width:F})})(k,w.len).fold(ee(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=Fn(f,w=>w.finish<=a),b=fn(p,(w,k)=>w+k.width,0);return{within:p,extra:f.slice(p.length),withinWidth:b}},zS=s=>Ye(s,a=>a.element),bP=(s,a)=>{const u=Ye(a,f=>nl(f));Qd.setGroups(s,u)},yP=(s,a,u)=>{const f=a.builtGroups.get();if(f.length===0)return;const p=gh(s,a,"primary"),b=Vr.getCoupled(s,"overflowGroup");co(p.element,"visibility","hidden");const w=f.concat([b]),k=Vt(w,D=>qr(D.element).bind(F=>D.getSystem().getByDom(F).toOptional()));u([]),bP(p,w);const E=((D,F,P,z)=>{const G=((we,fe,de)=>{const ve=q4(fe,we,de);return ve.extra.length===0?O.some(ve):O.none()})(D,F,P).getOrThunk(()=>q4(F,D-P(z),P)),X=G.within,ue=G.extra,me=G.withinWidth;return ue.length===1&&ue[0].width<=P(z)?((we,fe,de)=>{const ve=zS(we.concat(fe));return G4(ve,[],de)})(X,ue,me):ue.length>=1?((we,fe,de,ve)=>{const Ce=zS(we).concat([de]);return G4(Ce,zS(fe),ve)})(X,ue,z,me):((we,fe,de)=>G4(zS(we),[],de))(X,0,me)})(Oi(p.element),a.builtGroups.get(),D=>Math.ceil(D.element.dom.getBoundingClientRect().width),b);E.extra.length===0?(Kn.remove(p,b),u([])):(bP(p,E.within),u(E.extra)),ws(p.element,"visibility"),Lu(p.element),k.each(no.focus)},xP=ee([yn("splitToolbarBehaviours",[Vr]),Wi("builtGroups",()=>Bn([]))]),TV=ee([Jg(["overflowToggledClass"]),ru("getOverflowBounds"),Ot("lazySink"),Wi("overflowGroups",()=>Bn([])),Xo("onOpened"),Xo("onClosed")].concat(xP())),OV=ee([wl({factory:Qd,schema:Qb(),name:"primary"}),Zd({schema:Qb(),name:"overflow"}),Zd({name:"overflow-button"}),Zd({name:"overflow-group"})]),Y4=ee((s,a)=>{((u,f)=>{const p=Mg.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);co(u,"max-width",p+"px")})(s,Math.floor(a))}),DV=ee([Jg(["toggledClass"]),Ot("lazySink"),La("fetch"),ru("getBounds"),Dr("fireDismissalEventInstead",[it("event",Zg())]),Pf(),Xo("onToggled")]),RV=ee([Zd({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Jn.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),Zd({factory:Qd,schema:Qb(),name:"toolbar",overrides:s=>({toolbarBehaviours:Zt([Nn.config({mode:"cyclic",onEscape:a=>(qs(a,s,"button").each(no.focus),O.none())})])})})]),HS=Es(),uy=(s,a)=>{const u=Vr.getCoupled(s,"toolbarSandbox");T.isOpen(u)?T.close(u):T.open(u,a.toolbar())},gw=(s,a,u,f)=>{const p=u.getBounds.map(w=>w()),b=u.lazySink(s).getOrDie();ga.positionWithinBounds(b,a,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:Y4()}}},p)},$S=(s,a,u,f,p)=>{Qd.setGroups(a,p),gw(s,a,u,f),Jn.on(s)},Th=Bl({name:"FloatingToolbarButton",factory:(s,a,u,f)=>({...Ua.sketch({...f.button(),action:p=>{uy(p,f)},buttonBehaviours:Xn({dump:f.button().buttonBehaviours},[Vr.config({others:{toolbarSandbox:p=>((b,w,k)=>{const E=nh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Zt([Nn.config({mode:"special",onEscape:D=>(T.close(D),O.some(!0))}),T.config({onOpen:(D,F)=>{const P=HS.get().getOr(!1);k.fetch().get(z=>{$S(b,F,k,w.layouts,z),E.link(b.element),P||Nn.focusIn(F)})},onClose:()=>{Jn.off(b),HS.get().getOr(!1)||no.focus(b),E.unlink(b.element)},isPartOf:(D,F,P)=>bl(F,P)||bl(b,P),getAttachPoint:()=>k.lazySink(b).getOrDie()}),yl.config({channels:{...ie({isExtraPart:ke,...k.fireDismissalEventInstead.map(D=>({fireEventInstead:{event:D.event}})).getOr({})}),...Ie({doReposition:()=>{T.getState(Vr.getCoupled(b,"toolbarSandbox")).each(D=>{gw(b,D,k,w.layouts)})}})}})])}})(p,u,s)}})])}),apis:{setGroups:(p,b)=>{T.getState(Vr.getCoupled(p,"toolbarSandbox")).each(w=>{$S(p,w,s,u.layouts,b)})},reposition:p=>{T.getState(Vr.getCoupled(p,"toolbarSandbox")).each(b=>{gw(p,b,s,u.layouts)})},toggle:p=>{uy(p,f)},toggleWithoutFocusing:p=>{((b,w)=>{HS.set(!0),uy(b,w),HS.clear()})(p,f)},getToolbar:p=>T.getState(Vr.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(Vr.getCoupled(p,"toolbarSandbox"))}}),configFields:DV(),partFields:RV(),apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggleWithoutFocusing(a)},getToolbar:(s,a)=>s.getToolbar(a),isOpen:(s,a)=>s.isOpen(a)}}),IV=ee([Ot("items"),Jg(["itemSelector"]),yn("tgroupBehaviours",[Nn])]),NV=ee([UC({name:"items",unit:"item"})]),dy=Bl({name:"ToolbarGroup",configFields:IV(),partFields:NV(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.tgroupBehaviours,[Nn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),US=s=>Ye(s,a=>nl(a)),hw=(s,a,u)=>{yP(s,u,f=>{u.overflowGroups.set(f),a.getOpt(s).each(p=>{Th.setGroups(p,US(f))})})},X4=Bl({name:"SplitFloatingToolbar",configFields:TV(),partFields:OV(),factory:(s,a,u,f)=>{const p=Cs(Th.sketch({fetch:()=>zp(b=>{b(US(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Pr,Nr],onRtl:()=>[Nr,Pr],onBottomLtr:()=>[Ms,ti],onBottomRtl:()=>[ti,Ms]},getBounds:u.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(b,w)=>s[w?"onOpened":"onClosed"](b)}));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[Vr.config({others:{overflowGroup:()=>dy.sketch({...f["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(b,w)=>{s.builtGroups.set(Ye(w,b.getSystem().build)),hw(b,p,s)},refresh:b=>hw(b,p,s),toggle:b=>{p.getOpt(b).each(w=>{Th.toggle(w)})},toggleWithoutFocusing:b=>{p.getOpt(b).each(Th.toggleWithoutFocusing)},isOpen:b=>p.getOpt(b).map(Th.isOpen).getOr(!1),reposition:b=>{p.getOpt(b).each(w=>{Th.reposition(w)})},getOverflow:b=>p.getOpt(b).bind(Th.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a),getOverflow:(s,a)=>s.getOverflow(a)}}),PV=ee([Jg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xo("onOpened"),Xo("onClosed")].concat(xP())),MV=ee([wl({factory:Qd,schema:Qb(),name:"primary"}),wl({factory:Qd,schema:Qb(),name:"overflow",overrides:s=>({toolbarBehaviours:Zt([ql.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:a=>{qs(a,s,"overflow-button").each(u=>{Jn.off(u)}),s.onClosed(a)},onGrown:a=>{s.onOpened(a)},onStartGrow:a=>{qs(a,s,"overflow-button").each(Jn.on)}}),Nn.config({mode:"acyclic",onEscape:a=>(qs(a,s,"overflow-button").each(no.focus),O.some(!0))})])})}),Zd({name:"overflow-button",overrides:s=>({buttonBehaviours:Zt([Jn.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Zd({name:"overflow-group"})]),J4=(s,a,u)=>{qs(s,a,"overflow-button").each(f=>{qs(s,a,"overflow").each(p=>{if(Q4(s,a),ql.hasShrunk(p)){const b=a.onOpened;a.onOpened=w=>{u||Nn.focusIn(p),b(w),a.onOpened=b}}else{const b=a.onClosed;a.onClosed=w=>{u||no.focus(f),b(w),a.onClosed=b}}ql.toggleGrow(p)})})},Q4=(s,a)=>{qs(s,a,"overflow").each(u=>{yP(s,a,f=>{const p=Ye(f,b=>nl(b));Qd.setGroups(u,p)}),qs(s,a,"overflow-button").each(f=>{ql.hasGrown(u)&&Jn.on(f)}),ql.refresh(u)})},eT=Bl({name:"SplitSlidingToolbar",configFields:PV(),partFields:MV(),factory:(s,a,u,f)=>{const p="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[Vr.config({others:{overflowGroup:b=>dy.sketch({...f["overflow-group"](),items:[Ua.sketch({...f["overflow-button"](),action:w=>{ko(b,p)}})]})}}),Co("toolbar-toggle-events",[St(p,b=>{J4(b,s,!1)})])]),apis:{setGroups:(b,w)=>{((k,E)=>{const D=Ye(E,k.getSystem().build);s.builtGroups.set(D)})(b,w),Q4(b,s)},refresh:b=>Q4(b,s),toggle:b=>{J4(b,s,!1)},toggleWithoutFocusing:b=>{J4(b,s,!0)},isOpen:b=>((w,k)=>qs(w,k,"overflow").map(ql.hasGrown).getOr(!1))(b,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},toggle:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a)}}),wP=s=>{const a=s.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[dy.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Zt([Zs.config({}),no.config({})])}},WS=s=>dy.sketch(wP(s)),CP=(s,a)=>{const u=sr(f=>{const p=Ye(s.initGroups,WS);Qd.setGroups(f,p)});return Zt([P_(s.providers.isDisabled),Pi(),Nn.config({mode:a,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Co("toolbar-events",[u])])},_P=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":wP({title:O.none(),items:[]}),"overflow-button":BN({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:CP(s,a)}},BV=s=>{const a=_P(s),u=X4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return X4.sketch({...a,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,p=hl(f),b=qa(f),w=hl(b),k=Math.max(b.dom.scrollHeight,w.height);return Do(p.x+4,w.y,p.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},LV=s=>{const a=eT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=eT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=_P(s);return eT.sketch({...f,components:[a,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([BS()],{type:"opened"}),s.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([BS()],{type:"closed"}),s.onToggled(p,!1)}})},tT=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return Qd.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===td.scrolling?["tox-toolbar--scrolling"]:[])},components:[Qd.parts.groups({})],toolbarBehaviours:CP(s,a)})},SP=[Fp,sd,Lr("tooltip"),Ac("buttonType","secondary",["primary","secondary"]),ei("borderless",!1),La("onAction")],nT={button:[...SP,od,ju("type",["button"])],togglebutton:[...SP,ei("active",!1),ju("type",["togglebutton"])]},FV=[ju("type",["group"]),Ds("buttons",[],gi("type",nT))],VV=gi("type",{...nT,group:FV}),vg=Wn([Ds("buttons",[],VV),La("onShow"),La("onHide")]),kP=(s,a)=>((u,f)=>{var p,b;const w=u.type==="togglebutton",k=u.icon.map(fe=>qp(fe,f.icons)).map(Cs),E={...u,name:w?u.text.getOr(u.icon.getOr("")):(p=u.text)!==null&&p!==void 0?p:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:O.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},D=v4((b=u.buttonType)!==null&&b!==void 0?b:"secondary"),F=w?u.text.map(f.translate):O.some(f.translate(u.text)),P=F.map(Fr),z=E.tooltip.or(F).map(fe=>({"aria-label":f.translate(fe)})).getOr({}),G=k.map(fe=>fe.asSpec()),X=K0([G,P]),ue=u.icon.isSome()&&P.isSome(),me={tag:"button",classes:D.concat(...u.icon.isSome()&&!ue?["tox-button--icon"]:[]).concat(...ue?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:z},we=lw(E,O.some(fe=>{const de=ve=>{k.map(Ce=>Ce.getOpt(fe).each(Ee=>{Kn.set(Ee,[qp(ve,f.icons)])}))};return w?u.onAction({setIcon:de,setActive:ve=>{const Ce=fe.element;ve?(kr(Ce,"tox-button--enabled"),sn(Ce,"aria-pressed",!0)):(Ir(Ce,"tox-button--enabled"),_o(Ce,"aria-pressed"))},isActive:()=>tl(fe.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:de}):void 0}),[],me,X,u.tooltip,f);return Ua.sketch(we)})(s,a),EP=ra().deviceType,oT=EP.isPhone(),va=EP.isTablet();var fy=Bl({name:"silver.View",configFields:[Ot("viewConfig")],partFields:[pu({factory:{sketch:s=>{let a=!1;const u=Ye(s.buttons,f=>f.type==="group"?(a=!0,((p,b)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ye(p.buttons,w=>kP(w,b))}))(f,s.providers)):kP(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...oT||va?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Zt([no.config({}),Nn.config({mode:"flow",selector:"button, .tox-button",focusInside:_b.OnEnterOrSpaceMode})]),components:a?u:[qd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),qd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Ot("buttons"),Ot("providers")],name:"header"}),pu({factory:{sketch:s=>({uid:s.uid,behaviours:Zt([no.config({}),Zs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,a,u,f)=>{const p={getPane:b=>pa.getPart(b,s,"pane"),getOnShow:b=>s.viewConfig.onShow,getOnHide:b=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:a,behaviours:Zt([no.config({}),Nn.config({mode:"cyclic",focusInside:_b.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(s,a)=>s.getPane(a),getOnShow:(s,a)=>s.getOnShow(a),getOnHide:(s,a)=>s.getOnHide(a)}});const zV=(s,a,u)=>ar(a,(f,p)=>{const b=Ba(Cr("view",vg,f));return s.slot(p,fy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[fy.parts.header({buttons:b.buttons,providers:u})]:[],fy.parts.pane({})]}))}),HV=(s,a)=>_l.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:zV(u,s,a),slotBehaviours:z2([sr(f=>_l.hideAllSlots(f))])})),AP=s=>J(_l.getSlotNames(s),a=>_l.isShowing(s,a)),TP=(s,a,u)=>{_l.getSlot(s,a).each(f=>{fy.getPane(f).each(p=>{var b;u(f)((b=p.element.dom,{getContainer:ee(b)}))})})};var ZS=vu({factory:(s,a)=>{const u={setViews:(f,p)=>{Kn.set(f,[HV(p,a.backstage.shared.providers)])},whichView:f=>ns.getCurrent(f).bind(AP),toggleView:(f,p,b,w)=>ns.getCurrent(f).exists(k=>{const E=AP(k),D=E.exists(P=>w===P),F=_l.getSlot(k,w).isSome();return F&&(_l.hideAllSlots(k),D?((P=>{const z=P.element;co(z,"display","none"),sn(z,"aria-hidden","true")})(f),p()):(b(),(P=>{const z=P.element;ws(z,"display"),_o(z,"aria-hidden")})(f),_l.showSlot(k,w),((P,z)=>{TP(P,z,fy.getOnShow)})(k,w)),E.each(P=>((z,G)=>TP(z,G,fy.getOnHide))(k,P))),F})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Zt([Kn.config({}),ns.config({find:f=>{const p=Kn.contents(f);return zt(p)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Ot("backstage")],apis:{setViews:(s,a,u)=>s.setViews(a,u),toggleView:(s,a,u,f,p)=>s.toggleView(a,u,f,p),whichView:(s,a)=>s.whichView(a)}});const $V=hg.optional({factory:U4,name:"menubar",schema:[Ot("backstage")]}),UV=hg.optional({factory:{sketch:s=>F4.sketch({uid:s.uid,dom:s.dom,listBehaviours:Zt([Nn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>tT({type:s.type,uid:bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),O.some(!0))}),setupItem:(a,u,f,p)=>{Qd.setGroups(u,f)},shell:!0})},name:"multiple-toolbar",schema:[Ot("dom"),Ot("onEscape")]}),WV=hg.optional({factory:{sketch:s=>(u=>u.type===td.sliding?LV:u.type===td.floating?BV:tT)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),O.some(!0)),onToggled:(u,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ot("dom"),Ot("onEscape"),Ot("getSink")]}),ZV=hg.optional({factory:{sketch:s=>{const a=s.editor,u=s.sticky?fP:MS;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Zt(u(a,s.sharedBackstage))}}},name:"header",schema:[Ot("dom")]}),jV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ot("dom")]}),KV=hg.optional({name:"socket",schema:[Ot("dom")]}),GV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([Zs.config({}),no.config({}),ql.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{ns.getCurrent(a).each(_l.hideAllSlots),ko(a,j4)},onGrown:a=>{ko(a,j4)},onStartGrow:a=>{Rn(a,Z4,{width:Hr(a.element,"width").getOr("")})},onStartShrink:a=>{Rn(a,Z4,{width:Oi(a.element)+"px"})}}),Kn.config({}),ns.config({find:a=>{const u=Kn.contents(a);return zt(u)}})])}],behaviours:Zt([z3(0),Co("sidebar-sliding-events",[St(Z4,(a,u)=>{co(a.element,"width",u.event.width)}),St(j4,(a,u)=>{ws(a.element,"width")})])])})},name:"sidebar",schema:[Ot("dom")]}),qV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([Kn.config({}),fd.config({focus:!1}),ns.config({find:a=>zt(a.components())})]),components:[]})},name:"throbber",schema:[Ot("dom")]}),YV=hg.optional({factory:ZS,name:"viewWrapper",schema:[Ot("backstage")]}),XV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var er=Bl({name:"OuterContainer",factory:(s,a,u)=>{let f=!1;const p=w=>{Gs(w,".tox-statusbar").each(k=>{wr(k,"display")==="none"&&Po(k,"aria-hidden")==="true"?(ws(k,"display"),_o(k,"aria-hidden")):(co(k,"display","none"),sn(k,"aria-hidden","true"))})},b={getSocket:w=>pa.getPart(w,s,"socket"),setSidebar:(w,k,E)=>{pa.getPart(w,s,"sidebar").each(D=>((F,P,z)=>{ns.getCurrent(F).each(G=>{Kn.set(G,[pP(P)]);const X=z==null?void 0:z.toLowerCase();v(X)&&Eo(P,X)&&ns.getCurrent(G).each(ue=>{_l.showSlot(ue,X),ql.immediateGrow(G),ws(G.element,"width"),VS(F.element,"region")})})})(D,k,E))},toggleSidebar:(w,k)=>{pa.getPart(w,s,"sidebar").each(E=>((D,F)=>{ns.getCurrent(D).each(P=>{ns.getCurrent(P).each(z=>{ql.hasGrown(P)?_l.isShowing(z,F)?(ql.shrink(P),VS(D.element,"presentation")):(_l.hideAllSlots(z),_l.showSlot(z,F),VS(D.element,"region")):(_l.hideAllSlots(z),_l.showSlot(z,F),ql.grow(P),VS(D.element,"region"))})})})(E,k))},whichSidebar:w=>pa.getPart(w,s,"sidebar").bind(kV).getOrNull(),getHeader:w=>pa.getPart(w,s,"header"),getToolbar:w=>pa.getPart(w,s,"toolbar"),setToolbar:(w,k)=>{pa.getPart(w,s,"toolbar").each(E=>{const D=Ye(k,WS);E.getApis().setGroups(E,D)})},setToolbars:(w,k)=>{pa.getPart(w,s,"multiple-toolbar").each(E=>{const D=Ye(k,F=>Ye(F,WS));F4.setItems(E,D)})},refreshToolbar:w=>{pa.getPart(w,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{pa.getPart(w,s,"toolbar").each(k=>{mi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{pa.getPart(w,s,"toolbar").each(k=>{mi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>pa.getPart(w,s,"toolbar").bind(k=>O.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>pa.getPart(w,s,"throbber"),focusToolbar:w=>{pa.getPart(w,s,"toolbar").orThunk(()=>pa.getPart(w,s,"multiple-toolbar")).each(k=>{Nn.focusIn(k)})},setMenubar:(w,k)=>{pa.getPart(w,s,"menubar").each(E=>{U4.setMenus(E,k)})},focusMenubar:w=>{pa.getPart(w,s,"menubar").each(k=>{U4.focus(k)})},setViews:(w,k)=>{pa.getPart(w,s,"viewWrapper").each(E=>{ZS.setViews(E,k)})},toggleView:(w,k)=>pa.getPart(w,s,"viewWrapper").exists(E=>ZS.toggleView(E,()=>b.showMainView(w),()=>b.hideMainView(w),k)),whichView:w=>pa.getPart(w,s,"viewWrapper").bind(ZS.whichView).getOrNull(),hideMainView:w=>{f=b.isToolbarDrawerToggled(w),f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),co(E,"display","none"),sn(E,"aria-hidden","true")})},showMainView:w=>{f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),ws(E,"display"),_o(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:a,apis:b,behaviours:s.behaviours}},configFields:[Ot("dom"),Ot("behaviours")],partFields:[ZV,$V,WV,UV,KV,GV,jV,qV,YV,XV],apis:{getSocket:(s,a)=>s.getSocket(a),setSidebar:(s,a,u,f)=>{s.setSidebar(a,u,f)},toggleSidebar:(s,a,u)=>{s.toggleSidebar(a,u)},whichSidebar:(s,a)=>s.whichSidebar(a),getHeader:(s,a)=>s.getHeader(a),getToolbar:(s,a)=>s.getToolbar(a),setToolbar:(s,a,u)=>{s.setToolbar(a,u)},setToolbars:(s,a,u)=>{s.setToolbars(a,u)},refreshToolbar:(s,a)=>s.refreshToolbar(a),toggleToolbarDrawer:(s,a)=>{s.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(s,a)=>{s.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(s,a)=>s.isToolbarDrawerToggled(a),getThrobber:(s,a)=>s.getThrobber(a),setMenubar:(s,a,u)=>{s.setMenubar(a,u)},focusMenubar:(s,a)=>{s.focusMenubar(a)},focusToolbar:(s,a)=>{s.focusToolbar(a)},setViews:(s,a,u)=>{s.setViews(a,u)},toggleView:(s,a,u)=>s.toggleView(a,u),whichView:(s,a)=>s.whichView(a)}});const OP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},sT=s=>s.split(" "),DP=(s,a)=>{const u={...OP,...a.menus},f=wn(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?sT("file edit view insert format tools table help"):sT(a.menubar===!1?"":a.menubar),b=Fn(p,k=>{const E=Eo(OP,k);return f?E||hn(a.menus,k).exists(D=>Eo(D,"items")):E}),w=Ye(b,k=>{const E=u[k];return((D,F,P)=>{const z=G5(P).split(/[ ,]/);return{text:D.title,getItems:()=>tn(D.items,G=>{const X=G.toLowerCase();return X.trim().length===0||pt(z,ue=>ue===X)?[]:X==="separator"||X==="|"?[{type:"separator"}]:F.menuItems[X]?[F.menuItems[X]]:[]})}})({title:E.title,items:sT(E.items)},a,s)});return Fn(w,k=>k.getItems().length>0&&pt(k.getItems(),E=>v(E)||E.type!=="separator"))},RP=(s,a,u)=>(s.on("remove",()=>u.unload(a)),u.load(a)),rT=(s,a,u,f)=>(s.on("remove",()=>f.unloadRawCss(a)),f.loadRawCss(a,u)),JV=async(s,a)=>{const u="ui/"+m_(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(u);if(!v(f)){const p=s.editorManager.suffix;return RP(s,a+`/skin${p}.css`,s.ui.styleSheetLoader)}rT(s,u,f,s.ui.styleSheetLoader)},QV=async(s,a)=>{var u;if(u=rn(s.getElement()),Wt(u).isSome()){const f="ui/"+m_(s).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(f);if(!v(p)){const b=s.editorManager.suffix;return RP(s,a+`/skin.shadowdom${b}.css`,F0.DOM.styleSheetLoader)}rT(s,f,p,F0.DOM.styleSheetLoader)}},IP=(s,a)=>(async(u,f)=>{const p=()=>{const w=f_(f),k=f.editorManager.suffix;w&&f.contentCSS.push(w+(u?"/content.inline":"/content")+`${k}.css`)};m_(f).fold(p,w=>{const k="ui/"+w+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);v(E)?rT(f,k,E,f.ui.styleSheetLoader):p()});const b=f_(f);if(!Dp(f)&&v(b))return Promise.all([JV(f,b),QV(f,b)]).then()})(s,a).then((u=>{const f=()=>{u._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?f():u.on("init",f)}})(a),((u,f)=>()=>((p,b)=>{p.dispatch("SkinLoadError",b)})(u,{message:"Skin could not be loaded"}))(a)),NP=Ue(IP,!1),ez=Ue(IP,!0),e1=(s,a,u)=>Pu(u)?s.translate(a):s.translate([a,s.translate(u)]),tz=(s,a)=>{const u=(b,w,k,E)=>{const D=s.shared.providers.translate(b.title);if(b.type==="separator")return O.some({type:"separator",text:D});if(b.type==="submenu"){const F=tn(b.getStyleItems(),P=>f(P,w,E));return w===0&&F.length<=0?O.none():O.some({type:"nestedmenuitem",text:D,enabled:F.length>0,getSubmenuItems:()=>tn(b.getStyleItems(),P=>f(P,w,E))})}return O.some({type:"togglemenuitem",text:D,icon:b.icon,active:b.isSelected(E),enabled:!k,onAction:a.onAction(b),...b.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(b,w,k)=>{const E=b.type==="formatter"&&a.isInvalid(b);return w===0?E?[]:u(b,w,!1,k).toArray():u(b,w,E,k).toArray()},p=b=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return tn(b,E=>f(E,k,w))};return{validateItems:p,getFetch:(b,w)=>(k,E)=>{const D=w(),F=p(D);E(Xb(F,Yf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:O.none()}))}}},my=(s,a)=>{const u=a.dataset,f=u.type==="basic"?()=>Ye(u.data,p=>JN(p,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:tz(s,a),getStyleItems:f}},pw=(s,a,u,f,p,b)=>{const{items:w,getStyleItems:k}=my(a,u),E=Bn(u.tooltip);return s4({text:u.icon.isSome()?O.none():u.text,icon:u.icon,ariaLabel:O.some(u.tooltip),tooltip:O.none(),role:O.none(),fetch:w.getFetch(a,k),onSetup:D=>{const F=P=>D.setTooltip(e1(s,f(P.value),P.value));return s.on(p,F),X0(Ub(s,"NodeChange",P=>{const z=P.getComponent();u.updateText(z),ro.set(P.getComponent(),!s.selection.isEditable())})(D),()=>s.off(p,F))},getApi:D=>({getComponent:ee(D),setTooltip:F=>{const P=a.shared.providers.translate(F);sn(D.element,"aria-label",P),E.set(F)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[oi.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(u.tooltip),onShow:D=>{if(u.tooltip!==E.get()){const F=a.shared.providers.translate(E.get());oi.setComponents(D,a.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",a.shared,b)};var t1;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(t1||(t1={}));const iT=(s,a,u)=>{const f=(p=((b,w)=>w===t1.SemiColon?b.replace(/;$/,"").split(";"):b.split(" "))(s.options.get(a),u),Ye(p,b=>{let w=b,k=b;const E=b.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var p;return{type:"basic",data:f}},PP=ee("Alignment {0}"),MP="left",aT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],lT=s=>{const a={type:"basic",data:aT};return{tooltip:e1(s,PP(),MP),text:O.none(),icon:O.some("align-left"),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>O.none,onAction:u=>()=>J(aT,f=>f.format===u.format).each(f=>s.execCommand(f.command)),updateText:u=>{const f=J(aT,p=>s.formatter.match(p.format)).fold(ee(MP),p=>p.title.toLowerCase());Rn(u,cd,{icon:`align-${f}`}),((p,b)=>{p.dispatch("AlignTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},BP=(s,a)=>{const u=a(),f=Ye(u,p=>p.format);return O.from(s.formatter.closest(f)).bind(p=>J(u,b=>b.format===p))},cT=ee("Block {0}"),uT="Paragraph",dT=s=>{const a=iT(s,"block_formats",t1.SemiColon);return{tooltip:e1(s,cT(),uT),text:O.some(uT),icon:O.none(),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>()=>{const f=s.formatter.get(u);return f?O.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(u))}):O.none()},onAction:dI(s),updateText:u=>{const f=BP(s,()=>a.data).fold(ee(uT),p=>p.title);Rn(u,_u,{text:f}),((p,b)=>{p.dispatch("BlocksTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},LP=ee("Font {0}"),fT="System Font",nz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FP=s=>{const a=s.split(/\s*,\s*/);return Ye(a,u=>u.replace(/^['"]+|['"]+$/g,""))},VP=(s,a)=>a.length>0&&To(a,u=>s.indexOf(u.toLowerCase())>-1),zP=s=>{const a=()=>{const f=D=>D?FP(D)[0]:"",p=s.queryCommandValue("FontName"),b=u.data,w=p?p.toLowerCase():"",k=d_(s);return{matchOpt:J(b,D=>{const F=D.format;return F.toLowerCase()===w||f(F).toLowerCase()===f(w).toLowerCase()}).orThunk(()=>rs(((D,F)=>{if(D.indexOf("-apple-system")===0||F.length>0){const P=FP(D.toLowerCase());return VP(P,nz)||VP(P,F)}return!1})(w,k),{title:fT,format:w})),font:p}},u=iT(s,"font_family_formats",t1.SemiColon);return{tooltip:e1(s,LP(),fT),text:O.some(fT),icon:O.none(),isSelectedFor:f=>p=>p.exists(b=>b.format===f),getCurrentValue:()=>{const{matchOpt:f}=a();return f},getPreviewFor:f=>()=>O.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:p,font:b}=a(),w=p.fold(ee(b),k=>k.title);Rn(f,_u,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:w})},dataset:u,shouldHide:!1,isInvalid:ke}},oz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},sz=(()=>{const s="[0-9]+",a="[eE][+-]?"+s,u=p=>`(?:${p})?`,f=["Infinity",s+"\\."+u(s)+u(a),"\\."+s+u(a),s+u(a)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),jS=(s,a)=>O.from(sz.exec(s)).bind(u=>{const f=Number(u[1]),p=u[2];return((b,w)=>pt(w,k=>pt(oz[k],E=>b===E)))(p,a)?O.some({value:f,unit:p}):O.none()}),HP={tab:ee(9),escape:ee(27),enter:ee(13),backspace:ee(8),delete:ee(46),left:ee(37),up:ee(38),right:ee(39),down:ee(40),space:ee(32),home:ee(36),end:ee(35),pageUp:ee(33),pageDown:ee(34)},$P=ee("Font size {0}"),UP="12pt",rz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},WP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},iz=(s,a)=>/[0-9.]+px$/.test(s)?((u,f)=>{const p=Math.pow(10,f);return Math.round(u*p)/p})(72*parseInt(s,10)/96,a||0)+"pt":hn(WP,s).getOr(s),az=s=>hn(rz,s).getOr(""),ZP=s=>{const a=()=>{let p=O.none();const b=f.data,w=s.queryCommandValue("FontSize");if(w)for(let k=3;p.isNone()&&k>=0;k--){const E=iz(w,k),D=az(E);p=J(b,F=>F.format===w||F.format===E||F.format===D)}return{matchOpt:p,size:w}},u=ee(O.none),f=iT(s,"font_size_formats",t1.Space);return{tooltip:e1(s,$P(),UP),text:O.some(UP),icon:O.none(),isSelectedFor:p=>b=>b.exists(w=>w.format===p),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:b,size:w}=a(),k=b.fold(ee(w),E=>E.title);Rn(p,_u,{text:k}),((E,D)=>{E.dispatch("FontSizeTextUpdate",D)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:ke}},jP=s=>Pu(s)?"Formats":"Format {0}",KP=(s,a)=>{const u="Formats";return{tooltip:e1(s,jP(""),""),text:O.some(u),icon:O.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:O.none,getPreviewFor:f=>()=>{const p=s.formatter.get(f);return p!==void 0?O.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):O.none()},onAction:dI(s),updateText:f=>{const p=k=>qN(k)?tn(k.items,p):YN(k)?[{title:k.title,format:k.format}]:[],b=tn(XN(s),p),w=BP(s,ee(b)).fold(ee({title:u,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Rn(f,_u,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:w.tooltipLabel})},shouldHide:K5(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:a}},mT=ee([Ot("toggleClass"),Ot("fetch"),Yu("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),Pf(),Yu("onItemExecute"),jo("lazySink"),Ot("dom"),Xo("onOpen"),yn("splitDropdownBehaviours",[Vr,Nn,no]),it("matchWidth",!1),it("useMinWidth",!1),it("eventOrder",{}),jo("role"),jo("listRole")].concat(u3())),lz=wl({factory:Ua,schema:[Ot("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(Af)},buttonBehaviours:Zt([Jn.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),cz=wl({factory:Ua,schema:[Ot("dom")],name:"button",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(u=>{s.onExecute(u,a)})}})}),uz=ee([lz,cz,pu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ot("text")],name:"aria-descriptor"}),Zd({schema:[Xg()],name:"menu",defaults:s=>({onExecute:(a,u)=>{a.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,a,u)})}})}),AI()]),vw=Bl({name:"SplitDropdown",configFields:mT(),partFields:uz(),factory:(s,a,u,f)=>{const p=D=>{ns.getCurrent(D).each(F=>{Ss.highlightFirst(F),Nn.focusIn(F)})},b=D=>{a3(s,_e,D,f,p,il.HighlightMenuAndItem).get(se)},w=D=>{const F=gh(D,s,"button");return Af(F),O.some(!0)},k={...fo([sr((D,F)=>{qs(D,s,"aria-descriptor").each(P=>{const z=bn("aria");sn(P.element,"id",z),sn(D.element,"aria-describedby",z)})})]),...L0(O.some(b))},E={repositionMenus:D=>{Jn.isOn(D)&&DI(D)}};return{uid:s.uid,dom:s.dom,components:a,apis:E,eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:yo(s.splitDropdownBehaviours,[Vr.config({others:{sandbox:D=>{const F=gh(D,s,"arrow");return c3(s,D,{onOpen:()=>{Jn.on(F),Jn.on(D)},onClose:()=>{Jn.off(F),Jn.off(D)}})}}}),Nn.config({mode:"special",onSpace:w,onEnter:w,onDown:D=>(b(D),O.some(!0))}),no.config({}),Jn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,a)=>s.repositionMenus(a)}}),gT=s=>({isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setText:a=>Rn(s,_u,{text:a}),setIcon:a=>Rn(s,cd,{icon:a})}),dz=s=>({setActive:a=>{Jn.set(s,a)},isActive:()=>Jn.isOn(s),isEnabled:()=>!ro.isDisabled(s),setEnabled:a=>ro.set(s,!a),setText:a=>Rn(s,_u,{text:a}),setIcon:a=>Rn(s,cd,{icon:a})}),GP=(s,a)=>s.map(u=>({"aria-label":a.translate(u)})).getOr({}),hT=bn("focus-button"),pT=(s,a,u,f,p,b)=>{const w=a.map(E=>Cs(o4(E,"tox-tbtn",p))),k=s.map(E=>Cs(qp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...GP(u,p),...K(b)?{"data-mce-name":b}:{}}},components:K0([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Dt()]:["focusing","alloy.base.behaviour",Gp],[ua()]:[Gp,"toolbar-group-button-events"]},buttonBehaviours:Zt([P_(p.isDisabled),Pi(),Co(Gp,[sr((E,D)=>wS(E)),St(_u,(E,D)=>{w.bind(F=>F.getOpt(E)).each(F=>{Kn.set(F,[Fr(p.translate(D.event.text))])})}),St(cd,(E,D)=>{k.bind(F=>F.getOpt(E)).each(F=>{Kn.set(F,[qp(D.event.icon,p.icons)])})}),St(Dt(),(E,D)=>{D.event.prevent(),ko(E,hT)})])].concat(f.getOr([])))}},qP=(s,a,u,f)=>{var p;const b=Bn(se),w=pT(s.icon,s.text,s.tooltip,O.none(),u,f);return Ua.sketch({dom:w.dom,components:w.components,eventOrder:n4,buttonBehaviours:{...Zt([Co("toolbar-button-events",[(k={onAction:s.onAction,getApi:a.getApi},cu((E,D)=>{H2(k,E)(F=>{Rn(E,xS,{buttonApi:F}),k.onAction(F)})})),Vp(a,b),xh(a,b)]),...s.tooltip.map(E=>oi.config(u.tooltips.getConfig({tooltipText:u.translate(E)+s.shortcut.map(D=>` (${M_(D)})`).getOr("")}))).toArray(),P_(()=>!s.enabled||u.isDisabled()),Pi()].concat(a.toolbarButtonBehaviours)),[Gp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[Gp]}});var k},YP=(s,a,u,f)=>qP(s,{toolbarButtonBehaviours:u.length>0?[Co("toolbarButtonWith",u)]:[],getApi:gT,onSetup:s.onSetup},a,f),XP=(s,a,u,f)=>qP(s,{toolbarButtonBehaviours:[Kn.config({}),Jn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[Co("toolbarToggleButtonWith",u)]:[]),getApi:dz,onSetup:s.onSetup},a,f),fz=(s,a,u)=>f=>zp(p=>a.fetch(p)).map(p=>O.from(d3(Ps(Zb(bn("menu-value"),p,b=>{a.onItemAction(s(f),b)},a.columns,a.presets,Yf.CLOSE_ON_EXECUTE,a.select.getOr(ke),u),{movement:j2(a.columns,a.presets),menuBehaviours:z2(a.columns!=="auto"?[]:[sr((b,w)=>{BA(b,4,Bp(a.presets)).each(({numRows:k,numColumns:E})=>{Nn.setGridSize(b,k,E)})})])})))),mz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Qp=(s,a)=>(u,f,p,b)=>{const w=s(u).mapError(k=>Qa(k)).getOrDie();return a(w,f,p,b)},gz={button:Qp(VR,(s,a,u,f)=>((p,b,w)=>YP(p,b,[],w))(s,a.shared.providers,f)),togglebutton:Qp(R_,(s,a,u,f)=>((p,b,w)=>XP(p,b,[],w))(s,a.shared.providers,f)),menubutton:Qp(gP,(s,a,u,f)=>iy(s,"tox-tbtn",a,O.none(),!1,f)),splitbutton:Qp(s=>Cr("SplitButton",yV,s),(s,a,u,f)=>((p,b,w)=>{const k=Bn(p.tooltip.getOr("")),E=P=>({isEnabled:()=>!ro.isDisabled(P),setEnabled:z=>ro.set(P,!z),setIconFill:(z,G)=>{fr(P.element,`svg path[class="${z}"], rect[class="${z}"]`).each(X=>{sn(X,"fill",G)})},setActive:z=>{sn(P.element,"aria-pressed",z),fr(P.element,"span").each(G=>{P.getSystem().getByDom(G).each(X=>Jn.set(X,z))})},isActive:()=>fr(P.element,"span").exists(z=>P.getSystem().getByDom(z).exists(Jn.isOn)),setText:z=>fr(P.element,"span").each(G=>P.getSystem().getByDom(G).each(X=>Rn(X,_u,{text:z}))),setIcon:z=>fr(P.element,"span").each(G=>P.getSystem().getByDom(G).each(X=>Rn(X,cd,{icon:z}))),setTooltip:z=>{const G=b.providers.translate(z);sn(P.element,"aria-label",G),k.set(z)}}),D=Bn(se),F={getApi:E,onSetup:p.onSetup};return vw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...GP(p.tooltip,b.providers),...K(w)?{"data-mce-name":w}:{}}},onExecute:P=>{const z=E(P);z.isEnabled()&&p.onAction(z)},onItemExecute:(P,z,G)=>{},splitDropdownBehaviours:Zt([YR(b.providers.isDisabled),Pi(),Co("split-dropdown-events",[sr((P,z)=>wS(P)),St(hT,no.focus),Vp(F,D),xh(F,D)]),Kb.config({}),...p.tooltip.map(P=>oi.config({...b.providers.tooltips.getConfig({tooltipText:b.providers.translate(P),onShow:z=>{if(k.get()!==P){const G=b.providers.translate(k.get());oi.setComponents(z,b.providers.tooltips.getComponents({tooltipText:G}))}}})})).toArray()]),eventOrder:{[ua()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Oc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:b.getSink,fetch:fz(E,p,b.providers),parts:{menu:E_(0,p.columns,p.presets)},components:[vw.parts.button(pT(p.icon,p.text,O.none(),O.some([Jn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),b.providers)),vw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:vR("chevron-down",b.providers.icons)},buttonBehaviours:Zt([YR(b.providers.isDisabled),Pi(),__()])}),vw.parts["aria-descriptor"]({text:b.providers.translate("To open the popup, press Shift+Enter")})]})})(s,a.shared,f)),grouptoolbarbutton:Qp(s=>Cr("GroupToolbarButton",vV,s),(s,a,u,f)=>{const p=u.ui.registry.getAll().buttons,b={[xl]:a.shared.header.isPositionedAtTop()?Vc.TopToBottom:Vc.BottomToTop};if(Ib(u)===td.floating)return((w,k,E,D,F)=>{const P=k.shared,z=Bn(se),G={toolbarButtonBehaviours:[],getApi:gT,onSetup:w.onSetup},X=[Co("toolbar-group-button-events",[Vp(G,z),xh(G,z)])];return Th.sketch({lazySink:P.getSink,fetch:()=>zp(ue=>{ue(Ye(E(w.items),WS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:pT(w.icon,w.text,w.tooltip,O.some(X),P.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:D}}}})})(s,a,w=>KS(u,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,O.none()),b,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},bw={styles:(s,a)=>{const u={type:"advanced",...a.styles};return pw(s,a,KP(s,u),jP,"StylesTextUpdate","styles")},fontsize:(s,a)=>pw(s,a,ZP(s),$P,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,a)=>((u,f,p,b)=>{let w=O.none();const k=Ub(u,"NodeChange SwitchMode",ve=>{const Ce=ve.getComponent();w=O.some(Ce),p.updateInputValue(Ce),ro.set(Ce,!u.selection.isEditable())}),E=ve=>({getComponent:ee(ve)}),D=Bn(se),F=bn("custom-number-input-events"),P=(ve,Ce,Ee)=>{const ze=w.map(Ht=>lt.getValue(Ht)).getOr(""),ot=p.getNewValue(ze,ve),Et=ze.length-`${ot}`.length,_t=w.map(Ht=>Ht.element.dom.selectionStart-Et),wt=w.map(Ht=>Ht.element.dom.selectionEnd-Et);p.onAction(ot,Ee),w.each(Ht=>{lt.setValue(Ht,ot),Ce&&(_t.each(mn=>Ht.element.dom.selectionStart=mn),wt.each(mn=>Ht.element.dom.selectionEnd=mn))})},z=(ve,Ce)=>P((Ee,ze)=>Ee-ze,ve,Ce),G=(ve,Ce)=>P((Ee,ze)=>Ee+ze,ve,Ce),X=ve=>Sa(ve.element).fold(O.none,Ce=>(za(Ce),O.some(!0))),ue=ve=>ah(ve.element)?(Te(ve.element).each(Ce=>za(Ce)),O.some(!0)):O.none(),me=(ve,Ce,Ee,ze)=>{const ot=Bn(se),Et=f.shared.providers.translate(Ee),_t=bn("altExecuting"),wt=Ub(u,"NodeChange SwitchMode",mn=>{ro.set(mn.getComponent(),!u.selection.isEditable())}),Ht=mn=>{ro.isDisabled(mn)||ve(!0)};return Ua.sketch({dom:{tag:"button",attributes:{"aria-label":Et,"data-mce-name":Ce},classes:ze.concat(Ce)},components:[sw(Ce,f.shared.providers.icons)],buttonBehaviours:Zt([ro.config({}),oi.config(f.shared.providers.tooltips.getConfig({tooltipText:Et})),Co(_t,[Vp({onSetup:wt,getApi:E},ot),xh({getApi:E},ot),St(Sr(),(mn,kn)=>{kn.event.raw.keyCode!==HP.space()&&kn.event.raw.keyCode!==HP.enter()||ro.isDisabled(mn)||ve(!1)}),St(hi(),Ht),St(Re(),Ht)])]),eventOrder:{[Sr()]:[_t,"keying"],[hi()]:[_t,"alloy.base.behaviour"],[Re()]:[_t,"alloy.base.behaviour"],[ua()]:["alloy.base.behaviour",_t,"tooltipping"],[Oc()]:[_t,"tooltipping"]}})},we=Cs(me(ve=>z(!1,ve),"minus","Decrease font size",[])),fe=Cs(me(ve=>G(!1,ve),"plus","Increase font size",[])),de=Cs({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[yh.sketch({inputBehaviours:Zt([ro.config({}),Co(F,[Vp({onSetup:k,getApi:E},D),xh({getApi:E},D)]),Co("input-update-display-text",[St(_u,(ve,Ce)=>{lt.setValue(ve,Ce.event.text)}),St(Zr(),ve=>{p.onAction(lt.getValue(ve))}),St(Nm(),ve=>{p.onAction(lt.getValue(ve))})]),Nn.config({mode:"special",onEnter:ve=>(P(_e,!0,!0),O.some(!0)),onEscape:X,onUp:ve=>(G(!0,!1),O.some(!0)),onDown:ve=>(z(!0,!1),O.some(!0)),onLeft:(ve,Ce)=>(Ce.cut(),O.none()),onRight:(ve,Ce)=>(Ce.cut(),O.none())})])})],behaviours:Zt([no.config({}),Nn.config({mode:"special",onEnter:ue,onSpace:ue,onEscape:X}),Co("input-wrapper-events",[St(Tn(),ve=>{Mt([we,fe],Ce=>{const Ee=rn(Ce.get(ve).element.dom);ah(Ee)&&tb(Ee)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...K(b)?{"data-mce-name":b}:{}}},components:[we.asSpec(),de.asSpec(),fe.asSpec()],behaviours:Zt([no.config({}),Nn.config({mode:"flow",focusInside:_b.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ve=>ah(ve.element)?O.none():(za(ve.element),O.some(!0))})])}})(s,a,(u=>{const f=()=>u.queryCommandValue("FontSize");return{updateInputValue:p=>Rn(p,_u,{text:f()}),onAction:(p,b)=>u.execCommand("FontSize",!1,p,{skip_focus:!b}),getNewValue:(p,b)=>{jS(p,["unsupportedLength","empty"]);const w=f(),k=jS(p,["unsupportedLength","empty"]).or(jS(w,["unsupportedLength","empty"])),E=k.map(G=>G.value).getOr(16),D=lA(u),F=k.map(G=>G.unit).filter(G=>G!=="").getOr(D),P=b(E,(G=>{var X;return(X={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[G])!==null&&X!==void 0?X:{step:1}})(F).step),z=`${(G=>G>=0)(P)?P:E}${F}`;return z!==w&&((G,X)=>{G.dispatch("FontSizeInputTextUpdate",X)})(u,{value:z}),z}}})(s),"fontsizeinput"),fontfamily:(s,a)=>pw(s,a,zP(s),LP,"FontFamilyTextUpdate","fontfamily"),blocks:(s,a)=>pw(s,a,dT(s),cT,"BlocksTextUpdate","blocks"),align:(s,a)=>pw(s,a,lT(s),PP,"AlignTextUpdate","align")},KS=(s,a,u,f)=>{const p=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(D=>{const F=Ye(mz,P=>{const z=Fn(P.items,G=>Eo(D,G)||Eo(bw,G));return{name:P.name,items:z}});return Fn(F,P=>P.items.length>0)})(E):v(k)?(D=>{const F=D.split("|");return Ye(F,P=>({items:P.trim().split(" ")}))})(k):(D=>oe(D,F=>Eo(F,"name")&&Eo(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),b=Ye(p,w=>{const k=tn(w.items,E=>E.trim().length===0?[]:((D,F,P,z,G,X)=>hn(F,P.toLowerCase()).orThunk(()=>X.bind(ue=>Vt(ue,me=>hn(F,me+P.toLowerCase())))).fold(()=>hn(bw,P.toLowerCase()).map(ue=>ue(D,G)),ue=>ue.type!=="grouptoolbarbutton"||z?((me,we,fe,de)=>hn(gz,me.type).fold(()=>(console.error("skipping button defined by",me),O.none()),ve=>O.some(ve(me,we,fe,de))))(ue,G,D,P.toLowerCase()):(console.warn(`Ignoring the '${P}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(s,a.buttons,E,a.allowToolbarGroups,u,f).toArray());return{title:O.from(s.translate(w.name)),items:k}});return Fn(b,w=>w.items.length>0)},JP=(s,a,u,f)=>{const p=a.mainUi.outerContainer,b=u.toolbar,w=u.buttons;if(oe(b,v)){const k=b.map(E=>{const D={toolbar:E,buttons:w,allowToolbarGroups:u.allowToolbarGroups};return KS(s,D,f,O.none())});er.setToolbars(p,k)}else er.setToolbar(p,KS(s,u,f,O.none()))},QP=ra(),hz=QP.os.isiOS()&&QP.os.version.major<=12;var wW=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=a,k=Bn(0),E=b.outerContainer;NP(s);const D=rn(p.targetNode),F=Je(ut(D));xt(D,b.mothership),((X,ue,me)=>{bh(X)&&xt(me.mainUi.mothership.element,me.popupUi.mothership),jx(ue,me.dialogUi.mothership)})(s,F,a),s.on("SkinLoaded",()=>{er.setSidebar(E,u.sidebar,u_(s)),JP(s,a,u,f),k.set(s.getWin().innerWidth),er.setMenubar(E,DP(s,u)),er.setViews(E,u.views),((X,ue)=>{const{uiMotherships:me}=ue,we=X.dom;let fe=X.getWin();const de=X.getDoc().documentElement,ve=Bn(Xs(fe.innerWidth,fe.innerHeight)),Ce=Bn(Xs(de.offsetWidth,de.offsetHeight)),Ee=()=>{const _t=ve.get();_t.left===fe.innerWidth&&_t.top===fe.innerHeight||(ve.set(Xs(fe.innerWidth,fe.innerHeight)),$b(X))},ze=()=>{const _t=X.getDoc().documentElement,wt=Ce.get();wt.left===_t.offsetWidth&&wt.top===_t.offsetHeight||(Ce.set(Xs(_t.offsetWidth,_t.offsetHeight)),$b(X))},ot=_t=>{((wt,Ht)=>{wt.dispatch("ScrollContent",Ht)})(X,_t)};we.bind(fe,"resize",Ee),we.bind(fe,"scroll",ot);const Et=Lx(rn(X.getBody()),"load",ze);X.on("hide",()=>{Mt(me,_t=>{co(_t.element,"display","none")})}),X.on("show",()=>{Mt(me,_t=>{ws(_t.element,"display")})}),X.on("NodeChange",ze),X.on("remove",()=>{Et.unbind(),we.unbind(fe,"resize",Ee),we.unbind(fe,"scroll",ot),fe=null})})(s,a)});const P=er.getSocket(E).getOrDie("Could not find expected socket element");if(hz){Ya(P.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const X=((me,we)=>{let fe=null;return{cancel:()=>{R(fe)||(clearTimeout(fe),fe=null)},throttle:(...de)=>{R(fe)&&(fe=setTimeout(()=>{fe=null,me.apply(null,de)},20))}}})(()=>{s.dispatch("ScrollContent")}),ue=Ha(P.element,"scroll",X.throttle);s.on("remove",ue.unbind)}qR(s,a),s.addCommand("ToggleSidebar",(X,ue)=>{er.toggleSidebar(E,ue),(me=>{me.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var X;return(X=er.whichSidebar(E))!==null&&X!==void 0?X:""}),s.addCommand("ToggleView",(X,ue)=>{if(er.toggleView(E,ue)){const me=E.element;b.mothership.broadcastOn([B()],{target:me}),Mt(w,we=>{we.broadcastOn([B()],{target:me})}),R(er.whichView(E))&&(s.focus(),s.nodeChanged(),er.refreshToolbar(E)),(we=>{we.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var X;return(X=er.whichView(E))!==null&&X!==void 0?X:""});const z=Ib(s);z!==td.sliding&&z!==td.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const X=s.getWin().innerWidth;X!==k.get()&&(er.refreshToolbar(a.mainUi.outerContainer),k.set(X))});const G={setEnabled:X=>{zb(a,!X)},isEnabled:()=>!ro.isDisabled(E)};return{iframeContainer:P.element.dom,editorContainer:E.element.dom,api:G}}});const yw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?O.some(parseInt(""+s,10)):O.none(),ev=s=>ne(s)?s+"px":s,xw=(s,a,u)=>{const f=a.filter(b=>s<b),p=u.filter(b=>s>b);return f.or(p).getOr(s)},vT=s=>{const a=g2(s),u=h2(s),f=z0(s);return yw(a).map(p=>xw(p,u,f))},{ToolbarLocation:bT,ToolbarMode:e6}=w2,pz=(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=u,k=F0.DOM,E=Nb(s),D=vh(s),F=z0(s).or(vT(s)),P=f.shared.header,z=P.isPositionedAtTop,G=Ib(s),X=G===e6.sliding||G===e6.floating,ue=Bn(!1),me=()=>ue.get()&&!s.removed,we=Ce=>X?Ce.fold(ee(0),Ee=>Ee.components().length>1?Or(Ee.components()[1].element):0):0,fe=()=>{Mt(w,Ce=>{Ce.broadcastOn([H()],{})})},de=Ce=>{if(!me())return;E||p.on(ot=>{const Et=F.getOrThunk(()=>yi().width-na(a).left-10);co(ot.element,"max-width",Et+"px")});const Ee=Js(),ze=!(E||E||!(Nl(b.outerContainer.element).left+Xa(b.outerContainer.element)>=window.innerWidth-40||Hr(b.outerContainer.element,"width").isSome())||(co(b.outerContainer.element,"position","absolute"),co(b.outerContainer.element,"left","0px"),ws(b.outerContainer.element,"width"),0));if(X&&er.refreshToolbar(b.outerContainer),!E){const ot=Js(),Et=rs(Ee.left!==ot.left,Ee);((_t,wt)=>{p.on(Ht=>{const mn=er.getToolbar(b.outerContainer),kn=we(mn),Hn=ii(a),io=((So,Jo)=>bh(So)?dp(Jo):O.none())(s,b.outerContainer.element),Lo=io.fold(()=>Hn.x,So=>{const Jo=ii(So);return is(So,vn())?Hn.x:Hn.x-Jo.x}),tr=rs(_t,Math.ceil(b.outerContainer.element.dom.getBoundingClientRect().width)).filter(So=>So>150).map(So=>{const Jo=wt.getOr(Js()),jn=window.innerWidth-(Lo-Jo.left),gr=Math.max(Math.min(So,jn),150);return jn<So&&co(b.outerContainer.element,"width",gr+"px"),{width:gr+"px"}}).getOr({width:"max-content"}),mr={position:"absolute",left:Math.round(Lo)+"px",top:io.fold(()=>z()?Math.max(Hn.y-Or(Ht.element)+kn,0):Hn.bottom,So=>{var Jo;const jn=ii(So),gr=(Jo=So.dom.scrollTop)!==null&&Jo!==void 0?Jo:0,Ls=is(So,vn())?Math.max(Hn.y-Or(Ht.element)+kn,0):Hn.y-jn.y+gr-Or(Ht.element)+kn;return z()?Ls:Hn.bottom})+"px"};Ya(b.outerContainer.element,{...mr,...tr})})})(ze,Et),Et.each(_t=>{vf(_t.left,ot.top)})}D&&p.on(Ce),fe()},ve=()=>!(E||!D||!me())&&p.get().exists(Ce=>{const Ee=P.getDockingMode(),ze=(Et=>{switch(Op(s)){case bT.auto:const _t=er.getToolbar(b.outerContainer),wt=we(_t),Ht=Or(Et.element)-wt,mn=ii(a);if(mn.y>Ht)return"top";{const kn=qa(a),Hn=Math.max(kn.dom.scrollHeight,Or(kn));return mn.bottom<Hn-Ht||Ui().bottom<mn.bottom-Ht?"bottom":"top"}case bT.bottom:return"bottom";case bT.top:default:return"top"}})(Ce);return ze!==Ee&&(ot=ze,p.on(Et=>{dr.setModes(Et,[ot]),P.setDockingMode(ot);const _t=z()?Vc.TopToBottom:Vc.BottomToTop;sn(Et.element,xl,_t)}),!0);var ot});return{isVisible:me,isPositionedAtTop:z,show:()=>{ue.set(!0),co(b.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),Mt(w,Ce=>{ws(Ce.element,"display")}),ve(),bh(s)?de(Ce=>dr.isDocked(Ce)?dr.reset(Ce):dr.refresh(Ce)):de(dr.refresh)},hide:()=>{ue.set(!1),co(b.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),Mt(w,Ce=>{co(Ce.element,"display","none")})},update:de,updateMode:()=>{ve()&&de(dr.reset)},repositionPopups:fe}},t6=(s,a)=>{const u=ii(s);return{pos:a?u.y:u.bottom,bounds:u}};var vz=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b}=a,w=Es(),k=rn(p.targetNode),E=pz(s,k,a,f,w),D=q5(s);ez(s);const F=()=>{if(w.isSet())return void E.show();w.set(er.getHeader(b.outerContainer).getOrDie());const z=h_(s);bh(s)?(xt(k,b.mothership),xt(k,a.popupUi.mothership)):jx(z,b.mothership),jx(z,a.dialogUi.mothership);const G=()=>{JP(s,a,u,f),er.setMenubar(b.outerContainer,DP(s,u)),E.show(),((X,ue,me,we)=>{const fe=Bn(t6(ue,me.isPositionedAtTop())),de=ze=>{const{pos:ot,bounds:Et}=t6(ue,me.isPositionedAtTop()),{pos:_t,bounds:wt}=fe.get(),Ht=Et.height!==wt.height||Et.width!==wt.width;fe.set({pos:ot,bounds:Et}),Ht&&$b(X,ze),me.isVisible()&&(_t!==ot?me.update(dr.reset):Ht&&(me.updateMode(),me.repositionPopups()))};we||(X.on("activate",me.show),X.on("deactivate",me.hide)),X.on("SkinLoaded ResizeWindow",()=>me.update(dr.reset)),X.on("NodeChange keydown",ze=>{requestAnimationFrame(()=>de(ze))});let ve=0;const Ce=Z3(()=>me.update(dr.refresh),33);X.on("ScrollWindow",()=>{const ze=Js().left;ze!==ve&&(ve=ze,Ce.throttle()),me.updateMode()}),bh(X)&&X.on("ElementScroll",ze=>{me.update(dr.refresh)});const Ee=kc();Ee.set(Lx(rn(X.getBody()),"load",ze=>de(ze.raw))),X.on("remove",()=>{Ee.clear()})})(s,k,E,D),s.nodeChanged()};D?s.once("SkinLoaded",G):G()};s.on("show",F),s.on("hide",E.hide),D||(s.on("focus",F),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||D)&&F()}),qR(s,a);const P={show:F,hide:E.hide,setEnabled:z=>{zb(a,!z)},isEnabled:()=>!ro.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:P}}});const n6="contexttoolbar-hide",o6=(s,a)=>St(xS,(u,f)=>{const p=(b=>({hide:()=>ko(b,Mv()),getValue:()=>lt.getValue(b)}))(s.get(u));a.onAction(p,f.event.buttonApi)}),bz=(s,a)=>{const u=s.label.fold(()=>({}),b=>({"aria-label":b})),f=Cs(yh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:Zt([Nn.config({mode:"special",onEnter:b=>p.findPrimary(b).map(w=>(Af(w),!0)),onLeft:(b,w)=>(w.cut(),O.none()),onRight:(b,w)=>(w.cut(),O.none())})])})),p=((b,w,k)=>{const E=Ye(w,D=>Cs(((F,P,z)=>(G=>G.type==="contextformtogglebutton")(P)?((G,X,ue)=>{const{primary:me,...we}=X.original,fe=Ba(R_({...we,type:"togglebutton",onAction:se}));return XP(fe,ue,[o6(G,X)])})(F,P,z):((G,X,ue)=>{const{primary:me,...we}=X.original,fe=Ba(VR({...we,type:"button",onAction:se}));return YP(fe,ue,[o6(G,X)])})(F,P,z))(b,D,k)));return{asSpecs:()=>Ye(E,D=>D.asSpec()),findPrimary:D=>Vt(w,(F,P)=>F.primary?O.from(E[P]).bind(z=>z.getOpt(D)).filter(We(ro.isDisabled)):O.none())}})(f,s.commands,a);return[{title:O.none(),items:[f.asSpec()]},{title:O.none(),items:p.asSpecs()}]},s6=(s,a,u)=>a.bottom-s.y>=u&&s.bottom-a.y>=u,yT=s=>{const a=(u=>{const f=u.getBoundingClientRect();if(f.height<=0&&f.width<=0){const p=Ne(rn(u.startContainer),u.startOffset).element;return(Ca(p)?_a(p):O.some(p)).filter(lr).map(b=>b.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const u=Js();return Do(u.left+a.left,u.top+a.top,a.width,a.height)}{const u=hl(rn(s.getBody()));return Do(u.x+a.left,u.y+a.top,a.width,a.height)}},r6=(s,a,u,f=0)=>{const p=yi(window),b=ii(rn(s.getContentAreaContainer())),w=b2(s)||y2(s)||x2(s),{x:k,width:E}=((D,F,P)=>{const z=Math.max(D.x+P,F.x);return{x:z,width:Math.min(D.right-P,F.right)-z}})(b,p,f);if(s.inline&&!w)return Do(k,p.y,E,p.height);{const D=a.header.isPositionedAtTop(),{y:F,bottom:P}=((z,G,X,ue,me,we)=>{const fe=rn(z.getContainer()),de=fr(fe,".tox-editor-header").getOr(fe),ve=ii(de),Ce=ve.y>=G.bottom,Ee=ue&&!Ce;if(z.inline&&Ee)return{y:Math.max(ve.bottom+we,X.y),bottom:X.bottom};if(z.inline&&!Ee)return{y:X.y,bottom:Math.min(ve.y-we,X.bottom)};const ze=me==="line"?ii(fe):G;return Ee?{y:Math.max(ve.bottom+we,X.y),bottom:Math.min(ze.bottom-we,X.bottom)}:{y:Math.max(ze.y+we,X.y),bottom:Math.min(ve.y-we,X.bottom)}})(s,b,p,D,u,f);return Do(k,F,E,P-F)}},xT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},n1={maxHeightFunction:lh(),maxWidthFunction:Y4()},tv=s=>s==="node",yz=(s,a,u,f,p)=>{const b=yT(s),w=f.lastElement().exists(k=>is(u,k));return((k,E)=>{const D=k.selection.getRng(),F=Ne(rn(D.startContainer),D.startOffset);return D.startContainer===D.endContainer&&D.startOffset===D.endOffset-1&&is(F.element,E)})(s,u)?w?IS:os:w?((k,E,D)=>{const F=Hr(k,"position");co(k,"position",E);const P=s6(b,ii(a),-20)&&!f.isReposition()?A4:IS;return F.each(z=>co(k,"position",z)),P})(a,f.getMode()):(f.getMode()==="fixed"?p.y+Js().top:p.y)+(Or(a)+12)<=b.y?os:gg},i6=(s,a,u,f)=>{const p=w=>(k,E,D,F,P)=>({...yz(s,F,w,u,P)({...k,y:P.y,height:P.height},E,D,F,P),alwaysFit:!0}),b=w=>tv(f)?[p(w)]:[];return a?{onLtr:w=>[Gr,Nr,Pr,ti,Ms,Er].concat(b(w)),onRtl:w=>[Gr,Pr,Nr,Ms,ti,Er].concat(b(w))}:{onLtr:w=>[Er,Gr,ti,Nr,Ms,Pr].concat(b(w)),onRtl:w=>[Er,Gr,Ms,Pr,ti,Nr].concat(b(w))}},GS=(s,a)=>{const u=Fn(a,b=>b.predicate(s.dom)),{pass:f,fail:p}=oo(u,b=>b.type==="contexttoolbar");return{contextToolbars:f,contextForms:p}},qS=(s,a)=>{const u={},f=[],p=[],b={},w={},k=wn(s);return Mt(k,E=>{const D=s[E];D.type==="contextform"?((F,P)=>{const z=Ba(Cr("ContextForm",zF,P));u[F]=z,z.launch.map(G=>{b["form:"+F]={...P.launch,type:G.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(z)}}}),z.scope==="editor"?p.push(z):f.push(z),w[F]=z})(E,D):D.type==="contexttoolbar"&&((F,P)=>{var z;(z=P,Cr("ContextToolbar",HR,z)).each(G=>{P.scope==="editor"?p.push(G):f.push(G),w[F]=G})})(E,D)}),{forms:u,inNodeScope:f,inEditorScope:p,lookupTable:w,formNavigators:b}},a6=bn("forward-slide"),gy=bn("backward-slide"),o1=bn("change-slide-event"),wT="tox-pop--resizing",CT="tox-pop--transition",xz=(s,a,u,f)=>{const p=f.backstage,b=p.shared,w=ra().deviceType.isTouch,k=Es(),E=Es(),D=Es(),F=Ki((Ee=>{const ze=Bn([]);return vr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ot=>{ze.set([]),vr.getContent(ot).each(Et=>{ws(Et.element,"visibility")}),Ir(ot.element,wT),ws(ot.element,"width")},inlineBehaviours:Zt([Co("context-toolbar-events",[Tf(Nv(),(ot,Et)=>{Et.event.raw.propertyName==="width"&&(Ir(ot.element,wT),ws(ot.element,"width"))}),St(o1,(ot,Et)=>{const _t=ot.element;ws(_t,"width");const wt=Oi(_t);vr.setContent(ot,Et.event.contents),kr(_t,wT);const Ht=Oi(_t);co(_t,"width",wt+"px"),vr.getContent(ot).each(mn=>{Et.event.focus.bind(kn=>(za(kn),qr(_t))).orThunk(()=>(Nn.focusIn(mn),fu(ut(_t))))}),setTimeout(()=>{co(ot.element,"width",Ht+"px")},0)}),St(a6,(ot,Et)=>{vr.getContent(ot).each(_t=>{ze.set(ze.get().concat([{bar:_t,focus:fu(ut(ot.element))}]))}),Rn(ot,o1,{contents:Et.event.forwardContents,focus:O.none()})}),St(gy,(ot,Et)=>{vt(ze.get()).each(_t=>{ze.set(ze.get().slice(0,ze.get().length-1)),Rn(ot,o1,{contents:nl(_t.bar),focus:_t.focus})})})]),Nn.config({mode:"special",onEscape:ot=>vt(ze.get()).fold(()=>Ee.onEscape(),Et=>(ko(ot,gy),O.some(!0)))})]),lazySink:()=>Bo.value(Ee.sink)})})({sink:u,onEscape:()=>(s.focus(),O.some(!0))})),P=()=>{const Ee=D.get().getOr("node"),ze=tv(Ee)?1:0;return r6(s,b,Ee,ze)},z=()=>!(s.removed||w()&&p.isContextMenuOpen()),G=()=>{if(z()){const Ee=P(),ze=or(D.get(),"node")?((ot,Et)=>Et.filter(_t=>un(_t)&&dl(_t)).map(hl).getOrThunk(()=>yT(ot)))(s,k.get()):yT(s);return Ee.height<=0||!s6(ze,Ee,.01)}return!0},X=()=>{k.clear(),E.clear(),D.clear(),vr.hide(F)},ue=()=>{if(vr.isOpen(F)){const Ee=F.element;ws(Ee,"display"),G()?co(Ee,"display","none"):(E.set(0),vr.reposition(F))}},me=Ee=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ee],behaviours:Zt([Nn.config({mode:"acyclic"}),Co("pop-dialog-wrap-events",[sr(ze=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Nn.focusIn(ze))}),qu(ze=>{s.shortcuts.remove("ctrl+F9")})])])}),we=oa(()=>qS(a,Ee=>{const ze=fe([Ee]);Rn(F,a6,{forwardContents:me(ze)})})),fe=Ee=>{const{buttons:ze}=s.ui.registry.getAll(),ot={...ze,...we().formNavigators},Et=Ib(s)===td.scrolling?td.scrolling:td.default,_t=eo(Ye(Ee,wt=>wt.type==="contexttoolbar"?((Ht,mn)=>KS(s,{buttons:Ht,toolbar:mn.items,allowToolbarGroups:!1},f.backstage,O.some(["form:"])))(ot,wt):((Ht,mn)=>bz(Ht,mn))(wt,b.providers)));return tT({type:Et,uid:bn("context-toolbar"),initGroups:_t,onEscape:O.none,cyclicKeying:!0,providers:b.providers})},de=(Ee,ze)=>{if(Ce.cancel(),!z())return;const ot=fe(Ee),Et=Ee[0].position,_t=((Ht,mn)=>{const kn=Ht==="node"?b.anchors.node(mn):b.anchors.cursor(),Hn=((io,Lo,tr,mr)=>Lo==="line"?{bubble:ic(12,0,xT),layouts:{onLtr:()=>[d0],onRtl:()=>[f0]},overrides:n1}:{bubble:ic(0,12,xT,1/12),layouts:i6(io,tr,mr,Lo),overrides:n1})(s,Ht,w(),{lastElement:k.get,isReposition:()=>or(E.get(),0),getMode:()=>ga.getMode(u)});return Ps(kn,Hn)})(Et,ze);D.set(Et),E.set(1);const wt=F.element;ws(wt,"display"),(Ht=>or(Kt(Ht,k.get(),is),!0))(ze)||(Ir(wt,CT),ga.reset(u,F)),vr.showWithinBounds(F,me(ot),{anchor:_t,transition:{classes:[CT],mode:"placement"}},()=>O.some(P())),ze.fold(k.clear,k.set),G()&&co(wt,"display","none")};let ve=!1;const Ce=Z3(()=>{!s.hasFocus()||s.removed||ve||(tl(F.element,CT)?Ce.throttle():((Ee,ze)=>{const ot=rn(ze.getBody()),Et=wt=>is(wt,ot),_t=rn(ze.selection.getNode());return(wt=>!Et(wt)&&!Br(ot,wt))(_t)?O.none():((wt,Ht,mn)=>{const kn=GS(wt,Ht);if(kn.contextForms.length>0)return O.some({elem:wt,toolbars:[kn.contextForms[0]]});{const Hn=GS(wt,mn);if(Hn.contextForms.length>0)return O.some({elem:wt,toolbars:[Hn.contextForms[0]]});if(kn.contextToolbars.length>0||Hn.contextToolbars.length>0){const io=(Lo=>{if(Lo.length<=1)return Lo;{const tr=jn=>pt(Lo,gr=>gr.position===jn),mr=jn=>Fn(Lo,gr=>gr.position===jn),So=tr("selection"),Jo=tr("node");if(So||Jo){if(Jo&&So){const jn=mr("node"),gr=Ye(mr("selection"),Ls=>({...Ls,position:"node"}));return jn.concat(gr)}return mr(So?"selection":"node")}return mr("line")}})(kn.contextToolbars.concat(Hn.contextToolbars));return O.some({elem:wt,toolbars:io})}return O.none()}})(_t,Ee.inNodeScope,Ee.inEditorScope).orThunk(()=>((wt,Ht,mn)=>wt(Ht)?O.none():Ug(Ht,kn=>{if(lr(kn)){const{contextToolbars:Hn,contextForms:io}=GS(kn,mn.inNodeScope),Lo=io.length>0?io:(tr=>{if(tr.length<=1)return tr;{const mr=So=>J(tr,Jo=>Jo.position===So);return mr("selection").orThunk(()=>mr("node")).orThunk(()=>mr("line")).map(So=>So.position).fold(()=>[],So=>Fn(tr,Jo=>Jo.position===So))}})(Hn);return Lo.length>0?O.some({elem:kn,toolbars:Lo}):O.none()}return O.none()},wt))(Et,_t,Ee))})(we(),s).fold(X,Ee=>{de(Ee.toolbars,O.some(Ee.elem))}))},17);s.on("init",()=>{s.on("remove",X),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ue),s.on("click keyup focus SetContent",Ce.throttle),s.on(n6,X),s.on("contexttoolbar-show",Ee=>{const ze=we();hn(ze.lookupTable,Ee.toolbarKey).each(ot=>{de([ot],rs(Ee.target!==s,Ee.target)),vr.getContent(F).each(Nn.focusIn)})}),s.on("focusout",Ee=>{s_.setEditorTimeout(s,()=>{qr(u.element).isNone()&&qr(F.element).isNone()&&X()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&X()}),s.on("ExecCommand",({command:Ee})=>{Ee.toLowerCase()==="toggleview"&&X()}),s.on("AfterProgressState",Ee=>{Ee.state?X():s.hasFocus()&&Ce.throttle()}),s.on("dragstart",()=>{ve=!0}),s.on("dragend drop",()=>{ve=!1}),s.on("NodeChange",Ee=>{qr(F.element).fold(Ce.throttle,se)})})},l6=(s,a)=>{const u=()=>{const f=a.getOptions(s),p=a.getCurrent(s).map(a.hash),b=Es();return Ye(f,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=F=>{F&&(b.on(P=>P.setActive(!1)),b.set(k)),k.setActive(F)};E(or(p,a.hash(w)));const D=a.watcher(s,w,E);return()=>{b.clear(),D()}},onAction:()=>a.setCurrent(s,w)}))};s.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:f=>f(u()),onSetup:a.onToolbarSetup}),s.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:u,onSetup:a.onMenuSetup})},wz=s=>{l6(s,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:nR,hash:u=>((f,p)=>jS(f,["fixed","relative","empty"]).map(({value:b,unit:w})=>b+w))(u).getOr(u),display:_e,watcher:(u,f,p)=>u.formatter.formatChanged("lineheight",p,!1,{value:f}).unbind,getCurrent:u=>O.from(u.queryCommandValue("LineHeight")),setCurrent:(u,f)=>u.execCommand("LineHeight",!1,f),onToolbarSetup:Mi(a),onMenuSetup:Mi(a)}))(s)),(a=>O.from(rA(a)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:ee(u),hash:f=>L(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,p,b)=>{var w;return f.formatter.formatChanged("lang",b,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:f=>{const p=rn(f.selection.getNode());return Wg(p,b=>O.some(b).filter(lr).bind(w=>Zo(w,"lang").map(k=>({code:k,customCode:Zo(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,p)=>f.execCommand("Lang",!1,p),onToolbarSetup:f=>{const p=kc();return f.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",f.setActive,!0)),X0(p.clear,Mi(a)(f))},onMenuSetup:Mi(a)})))(s).each(a=>l6(s,a))},Cz=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),ww=(s,a)=>u=>{u.setActive(a.get());const f=p=>{a.set(p.state),u.setActive(p.state)};return s.on("PastePlainTextToggle",f),X0(()=>s.off("PastePlainTextToggle",f),Mi(s)(u))},_T=(s,a)=>()=>{s.execCommand("mceToggleFormat",!1,a)},ST=s=>{(a=>{(u=>{Eh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,p)=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Xf(u,f.name),onAction:_T(u,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const p="h"+f,b=`Access+${f}`;u.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+f,onSetup:Xf(u,p),onAction:_T(u,p),shortcut:b})}})(a),(u=>{Eh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.action),shortcut:f.shortcut})}),Eh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Mi(u),onAction:cc(u,f.action)})})})(a),(u=>{Eh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.action),onSetup:Xf(u,f.name)})})})(a)})(s),(a=>{Eh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:cc(a,u.action)})}),Eh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Mi(a),onAction:cc(a,u.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Mi(a),onAction:_T(a,"code")})})(s)},YS=(s,a)=>Ub(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!s.mode.isReadOnly()&&s.undoManager[a]())}),_z=s=>Ub(s,"VisualAid",a=>{a.setActive(s.hasVisual)}),Sz=(s,a)=>{(u=>{Mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.cmd),onSetup:Xf(u,f.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Mi(u),onAction:cc(u,"JustifyNone")})})(s),ST(s),((u,f)=>{((p,b)=>{const w=my(b,lT(p));p.ui.registry.addNestedMenuItem("align",{text:b.shared.providers.translate("Align"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=my(b,zP(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:b.shared.providers.translate("Fonts"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w={type:"advanced",...b.styles},k=my(b,KP(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Mi(p),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(u,f),((p,b)=>{const w=my(b,dT(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=my(b,ZP(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f)})(s,a),(u=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:YS(f,"hasUndo"),onAction:cc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:YS(f,"hasRedo"),onAction:cc(f,"redo")})})(u),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:YS(f,"hasUndo"),onAction:cc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:YS(f,"hasRedo"),onAction:cc(f,"redo"),shortcut:"Meta+Y"})})(u)})(s),(u=>{(k=>{k.addCommand("mceApplyTextcolor",(E,D)=>{((F,P,z)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(P,{value:z}),F.nodeChanged()})})(k,E,D)}),k.addCommand("mceRemoveTextcolor",E=>{((D,F)=>{D.undoManager.transact(()=>{D.focus(),D.formatter.remove(F,{value:null},void 0,!0),D.nodeChanged()})})(k,E)})})(u);const f=hI(u),p=pI(u),b=Bn(f),w=Bn(p);o3(u,"forecolor","forecolor",b),o3(u,"backcolor","hilitecolor",w),Q0(u,"forecolor","forecolor","Text color",b),Q0(u,"backcolor","hilitecolor","Background color",w)})(s),(u=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:cc(f,"mceToggleVisualAid")})})(u),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:_z(f),onAction:cc(f,"mceToggleVisualAid")})})(u)})(s),(u=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Cz(f),onAction:cc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Mi(f),onAction:cc(f,"indent")})})(u)})(s),wz(s),(u=>{const f=Bn(eR(u)),p=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:ww(u,f)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:ww(u,f)})})(s)},c6=s=>v(s)?s.split(/[ ,]/):s,u6=s=>a=>a.options.get(s),d6=u6("contextmenu_never_use_native"),kz=u6("contextmenu_avoid_overlap"),kT=s=>{const a=s.ui.registry.getAll().contextMenus,u=s.options.get("contextmenu");return s.options.isSet("contextmenu")?u:Fn(u,f=>Eo(a,f))},Cw=(s,a)=>({type:"makeshift",x:s,y:a}),f6=s=>s.type==="longpress"||s.type.indexOf("touch")===0,Ez=(s,a)=>a.type==="contextmenu"||a.type==="longpress"?s.inline?(u=>{if(f6(u)){const f=u.touches[0];return Cw(f.pageX,f.pageY)}return Cw(u.pageX,u.pageY)})(a):((u,f)=>{const p=F0.DOM.getPos(u);return((b,w,k)=>Cw(b.x+w,b.y+k))(f,p.x,p.y)})(s.getContentAreaContainer(),(u=>{if(f6(u)){const f=u.touches[0];return Cw(f.clientX,f.clientY)}return Cw(u.clientX,u.clientY)})(a)):m6(s),m6=s=>({type:"selection",root:rn(s.selection.getNode())}),g6=(s,a,u)=>{switch(u){case"node":return(f=>({type:"node",node:O.some(rn(f.selection.getNode())),root:rn(f.getBody())}))(s);case"point":return Ez(s,a);case"selection":return m6(s)}},h6=(s,a,u,f,p,b)=>{const w=u(),k=g6(s,a,b);Xb(w,Yf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}).map(E=>{a.preventDefault(),vr.showMenuAt(p,{anchor:k},{menu:{markers:Bb("normal")},data:E})})},p6={onLtr:()=>[Gr,Nr,Pr,ti,Ms,Er,os,gg,cw,Jp,dc,uc],onRtl:()=>[Gr,Pr,Nr,Ms,ti,Er,os,gg,dc,uc,cw,Jp]},Az={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Tz=(s,a,u,f,p,b)=>{const w=ra(),k=w.os.isiOS(),E=w.os.isMacOS(),D=w.os.isAndroid(),F=w.deviceType.isTouch(),P=()=>{const z=u();((G,X,ue,me,we,fe,de)=>{const ve=((Ce,Ee,ze)=>{const ot=g6(Ce,Ee,ze);return{bubble:ic(0,ze==="point"?12:0,Az),layouts:p6,overrides:{maxWidthFunction:Y4(),maxHeightFunction:lh()},...ot}})(G,X,fe);Xb(ue,Yf.CLOSE_ON_EXECUTE,me,{isHorizontalMenu:!0,search:O.none()}).map(Ce=>{X.preventDefault();const Ee=de?il.HighlightMenuAndItem:il.HighlightNone;vr.showMenuWithinBounds(we,{anchor:ve},{menu:{markers:Bb("normal"),highlightOnOpen:Ee},data:Ce,type:"horizontal"},()=>O.some(r6(G,me.shared,fe==="node"?"node":"selection"))),G.dispatch(n6)})})(s,a,z,f,p,b,!(D||k||E&&F))};if((E||k)&&b!=="node"){const z=()=>{(G=>{const X=G.selection.getRng(),ue=()=>{s_.setEditorTimeout(G,()=>{G.selection.setRng(X)},10),fe()};G.once("touchend",ue);const me=de=>{de.preventDefault(),de.stopImmediatePropagation()};G.on("mousedown",me,!0);const we=()=>fe();G.once("longpresscancel",we);const fe=()=>{G.off("touchend",ue),G.off("longpresscancel",we),G.off("mousedown",me)}})(s),P()};((G,X)=>{const ue=G.selection;if(ue.isCollapsed()||X.touches.length<1)return!1;{const me=X.touches[0],we=ue.getRng();return Hx(G.getWin(),Ff.domRange(we)).exists(fe=>fe.left<=me.clientX&&fe.right>=me.clientX&&fe.top<=me.clientY&&fe.bottom>=me.clientY)}})(s,a)?z():(s.once("selectionchange",z),s.once("touchend",()=>s.off("selectionchange",z)))}else P()},v6=s=>v(s)?s==="|":s.type==="separator",ET={type:"separator"},b6=s=>{const a=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(v(s))return s;switch(s.type){case"separator":return ET;case"submenu":return{type:"nestedmenuitem",...a(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return v(f)?f:Ye(f,b6)}};default:const u=s;return{type:"menuitem",...a(u),onAction:Me(u.onAction)}}},AT=(s,a)=>{if(a.length===0)return s;const u=vt(s).filter(f=>!v6(f)).fold(()=>[],f=>[ET]);return s.concat(u).concat(a).concat([ET])},s1=(s,a)=>!(u=>u.type==="longpress"||Eo(u,"touches"))(a)&&(a.button!==2||a.target===s.getBody()&&a.pointerType===""),y6=(s,a)=>s1(s,a)?s.selection.getStart(!0):a.target,Oz=(s,a,u)=>{const f=ra().deviceType.isTouch,p=Ki(vr.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>s.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissContextMenu",[St(Zg(),(k,E)=>{T.close(k),s.focus()})])])})),b=()=>vr.hide(p),w=k=>{if(d6(s)&&k.preventDefault(),((D,F)=>F.ctrlKey&&!d6(D))(s,k)||(D=>kT(D).length===0)(s))return;const E=((D,F)=>{const P=kz(D),z=s1(D,F)?"selection":"point";if(ul(P)){const G=y6(D,F);return ty(rn(G),P)?"node":z}return z})(s,k);(f()?Tz:h6)(s,k,()=>{const D=y6(s,k),F=s.ui.registry.getAll(),P=kT(s);return((z,G,X)=>{const ue=_n(G,(me,we)=>hn(z,we.toLowerCase()).map(fe=>{const de=fe.update(X);if(v(de)&&ul(Cc(de)))return AT(me,de.split(" "));if(M(de)&&de.length>0){const ve=Ye(de,b6);return AT(me,ve)}return me}).getOrThunk(()=>me.concat([we])),[]);return ue.length>0&&v6(ue[ue.length-1])&&ue.pop(),ue})(F.contextMenus,P,D)},u,p,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,b),s.on("longpress contextmenu",w)})},TT=jl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),r1=s=>a=>a.translate(-s.left,-s.top),fc=s=>a=>a.translate(s.left,s.top),Qf=s=>(a,u)=>_n(s,(f,p)=>p(f),Xs(a,u)),_w=(s,a,u)=>s.fold(Qf([fc(u),r1(a)]),Qf([r1(a)]),Qf([])),hy=(s,a,u)=>s.fold(Qf([fc(u)]),Qf([]),Qf([fc(a)])),x6=(s,a,u)=>s.fold(Qf([]),Qf([r1(u)]),Qf([fc(a),r1(u)])),w6=(s,a,u)=>{const f=s.fold((p,b)=>({position:O.some("absolute"),left:O.some(p+"px"),top:O.some(b+"px")}),(p,b)=>({position:O.some("absolute"),left:O.some(p-u.left+"px"),top:O.some(b-u.top+"px")}),(p,b)=>({position:O.some("fixed"),left:O.some(p+"px"),top:O.some(b+"px")}));return{right:O.none(),bottom:O.none(),...f}},OT=(s,a,u,f)=>{const p=(b,w)=>(k,E)=>{const D=b(a,u,f);return w(k.getOr(D.left),E.getOr(D.top))};return s.fold(p(x6,Sw),p(hy,Oh),p(_w,i1))},Sw=TT.offset,Oh=TT.absolute,i1=TT.fixed,C6=(s,a)=>{const u=Po(s,a);return L(u)?NaN:parseInt(u,10)},_6=(s,a,u,f,p,b)=>{const w=((D,F,P,z)=>((G,X)=>{const ue=G.element,me=C6(ue,X.leftAttr),we=C6(ue,X.topAttr);return isNaN(me)||isNaN(we)?O.none():O.some(Xs(me,we))})(D,F).fold(()=>P,G=>i1(G.left+z.left,G.top+z.top)))(s,a,u,f),k=a.mustSnap?k6(s,a,w,p,b):E6(s,a,w,p,b),E=_w(w,p,b);return((D,F,P)=>{const z=D.element;sn(z,F.leftAttr,P.left+"px"),sn(z,F.topAttr,P.top+"px")})(s,a,E),k.fold(()=>({coord:i1(E.left,E.top),extra:O.none()}),D=>({coord:D.output,extra:D.extra}))},S6=(s,a,u,f)=>Vt(s,p=>{const b=p.sensor;return((k,E,D,F,P,z)=>{const G=hy(k,P,z),X=hy(E,P,z);return Math.abs(G.left-X.left)<=D&&Math.abs(G.top-X.top)<=F})(a,b,p.range.left,p.range.top,u,f)?O.some({output:OT(p.output,a,u,f),extra:p.extra}):O.none()}),k6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return S6(b,u,f,p).orThunk(()=>_n(b,(k,E)=>{const D=E.sensor,F=((P,z,G,X,ue,me)=>{const we=hy(P,ue,me),fe=hy(z,ue,me),de=Math.abs(we.left-fe.left),ve=Math.abs(we.top-fe.top);return Xs(de,ve)})(u,D,E.range.left,E.range.top,f,p);return k.deltas.fold(()=>({deltas:O.some(F),snap:O.some(E)}),P=>(F.left+F.top)/2<=(P.left+P.top)/2?{deltas:O.some(F),snap:O.some(E)}:k)},{deltas:O.none(),snap:O.none()}).snap.map(k=>({output:OT(k.output,u,f,p),extra:k.extra})))},E6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return S6(b,u,f,p)};var A6=Object.freeze({__proto__:null,snapTo:(s,a,u,f)=>{const p=a.getTarget(s.element);if(a.repositionTarget){const b=ri(s.element),w=Js(b),k=Of(p),E=((F,P,z)=>({coord:OT(F.output,F.output,P,z),extra:F.extra}))(f,w,k),D=w6(E.coord,0,k);fl(p,D)}}});const DT="data-initial-z-index",T6=(s,a)=>{s.getSystem().addToGui(a),(u=>{_a(u.element).filter(lr).each(f=>{Hr(f,"z-index").each(p=>{sn(f,DT,p)}),co(f,"z-index",wr(u.element,"z-index"))})})(a)},Dz=s=>{(a=>{_a(a.element).filter(lr).each(u=>{Zo(u,DT).fold(()=>ws(u,"z-index"),f=>co(u,"z-index",f)),_o(u,DT)})})(s),s.getSystem().removeFromGui(s)},O6=(s,a,u)=>s.getSystem().build(qd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:u}));var Rz=Dr("snaps",[Ot("getSnapPoints"),Xo("onSensor"),Ot("leftAttr"),Ot("topAttr"),it("lazyViewport",Ui),it("mustSnap",!1)]);const RT=[it("useFixed",ke),Ot("blockerClass"),it("getTarget",_e),it("onDrag",se),it("repositionTarget",!0),it("onDrop",se),Qs("getBounds",Ui),Rz],IT=s=>{return(a=Hr(s,"left"),u=Hr(s,"top"),f=Hr(s,"position"),a.isSome()&&u.isSome()&&f.isSome()?O.some(((p,b,w)=>(w==="fixed"?i1:Sw)(parseInt(p,10),parseInt(b,10)))(a.getOrDie(),u.getOrDie(),f.getOrDie())):O.none()).getOrThunk(()=>{const p=Nl(s);return Oh(p.left,p.top)});var a,u,f},D6=(s,a)=>({bounds:s.getBounds(),height:_c(a.element),width:Xa(a.element)}),NT=(s,a,u,f,p)=>{const b=u.update(f,p),w=u.getStartData().getOrThunk(()=>D6(a,s));b.each(k=>{((E,D,F,P)=>{const z=D.getTarget(E.element);if(D.repositionTarget){const G=ri(E.element),X=Js(G),ue=Of(z),me=IT(z),we=((de,ve,Ce,Ee,ze,ot,Et)=>((_t,wt,Ht,mn,kn)=>{const Hn=kn.bounds,io=hy(wt,Ht,mn),Lo=Pc(io.left,Hn.x,Hn.x+Hn.width-kn.width),tr=Pc(io.top,Hn.y,Hn.y+Hn.height-kn.height),mr=Oh(Lo,tr);return wt.fold(()=>{const So=x6(mr,Ht,mn);return Sw(So.left,So.top)},ee(mr),()=>{const So=_w(mr,Ht,mn);return i1(So.left,So.top)})})(0,ve.fold(()=>{const _t=(wt=Ce,Ht=ot.left,mn=ot.top,wt.fold((Hn,io)=>Sw(Hn+Ht,io+mn),(Hn,io)=>Oh(Hn+Ht,io+mn),(Hn,io)=>i1(Hn+Ht,io+mn)));var wt,Ht,mn;const kn=_w(_t,Ee,ze);return i1(kn.left,kn.top)},_t=>{const wt=_6(de,_t,Ce,ot,Ee,ze);return wt.extra.each(Ht=>{_t.onSensor(de,Ht)}),wt.coord}),Ee,ze,Et))(E,D.snaps,me,X,ue,P,F),fe=w6(we,0,ue);fl(z,fe)}D.onDrag(E,z,P)})(s,a,w,k)})},PT=(s,a,u,f)=>{a.each(Dz),u.snaps.each(b=>{((w,k)=>{((E,D)=>{const F=E.element;_o(F,D.leftAttr),_o(F,D.topAttr)})(w,k)})(s,b)});const p=u.getTarget(s.element);f.reset(),u.onDrop(s,p)},MT=s=>(a,u)=>{const f=p=>{u.setStartData(D6(a,p))};return fo([St(Bv(),p=>{u.getStartData().each(()=>f(p))}),...s(a,u,f)])};var Iz=Object.freeze({__proto__:null,getData:s=>O.from(Xs(s.x,s.y)),getDelta:(s,a)=>Xs(a.left-s.left,a.top-s.top)});const R6=(s,a,u)=>[St(Dt(),(f,p)=>{if(p.event.raw.button!==0)return;p.stop();const b=()=>PT(f,O.some(E),s,a),w=f3(b,200),k={drop:b,delayDrop:w.schedule,forceDrop:b,move:D=>{w.cancel(),NT(f,s,a,Iz,D)}},E=O6(f,s.blockerClass,(D=>fo([St(Dt(),D.forceDrop),St(lo(),D.drop),St(Zn(),(F,P)=>{D.move(P.event)}),St(po(),D.delayDrop)]))(k));u(f),T6(f,E)})],Nz=[...RT,Ks("dragger",{handlers:MT(R6)})];var I6=Object.freeze({__proto__:null,getData:s=>{const a=s.raw.touches;return a.length===1?(u=>{const f=u[0];return O.some(Xs(f.clientX,f.clientY))})(a):O.none()},getDelta:(s,a)=>Xs(a.left-s.left,a.top-s.top)});const N6=(s,a,u)=>{const f=Es(),p=b=>{PT(b,f.get(),s,a),f.clear()};return[St(W(),(b,w)=>{w.stop();const k=()=>p(b),E={drop:k,delayDrop:se,forceDrop:k,move:F=>{NT(b,s,a,I6,F)}},D=O6(b,s.blockerClass,(F=>fo([St(W(),F.forceDrop),St(Re(),F.drop),St($e(),F.drop),St(re(),(P,z)=>{F.move(z.event)})]))(E));f.set(D),u(b),T6(b,D)}),St(re(),(b,w)=>{w.stop(),NT(b,s,a,I6,w.event)}),St(Re(),(b,w)=>{w.stop(),p(b)}),St($e(),p)]},Pz=Nz,P6=[...RT,Ks("dragger",{handlers:MT(N6)})],M6=[...RT,Ks("dragger",{handlers:MT((s,a,u)=>[...R6(s,a,u),...N6(s,a,u)])})];var Mz=Object.freeze({__proto__:null,mouse:Pz,touch:P6,mouseOrTouch:M6}),Bz=Object.freeze({__proto__:null,init:()=>{let s=O.none(),a=O.none();const u=ee({});return Ii({readState:u,reset:()=>{s=O.none(),a=O.none()},update:(f,p)=>f.getData(p).bind(b=>((w,k)=>{const E=s.map(D=>w.getDelta(D,k));return s=O.some(k),E})(f,b)),getStartData:()=>a,setStartData:f=>{a=O.some(f)}})}});const a1=CC({branchKey:"mode",branches:Mz,name:"dragging",active:{events:(s,a)=>s.dragger.handlers(s,a)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:O.from(s.extra)})},state:Bz,apis:A6}),B6=(s,a,u,f,p,b)=>s.fold(()=>a1.snap({sensor:Oh(u-20,f-20),range:Xs(p,b),output:Oh(O.some(u),O.some(f)),extra:{td:a}}),w=>{const k=u-20,E=f-20,D=w.element.dom.getBoundingClientRect();return a1.snap({sensor:Oh(k,E),range:Xs(40,40),output:Oh(O.some(u-D.width/2),O.some(f-D.height/2)),extra:{td:a}})}),L6=(s,a,u)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,p)=>{const b=p.td;((w,k)=>w.exists(E=>is(E,k)))(a.get(),b)||(a.set(b),u(b))},mustSnap:!0}),F6=s=>Cs(Ua.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([a1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),Kb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),V6=(s,a)=>{const u=Bn([]),f=Bn([]),p=Bn(!1),b=Es(),w=Es(),k=fe=>{const de=hl(fe);return B6(P.getOpt(a),fe,de.x,de.y,de.width,de.height)},E=fe=>{const de=hl(fe);return B6(z.getOpt(a),fe,de.right,de.bottom,de.width,de.height)},D=L6(()=>Ye(u.get(),fe=>k(fe)),b,fe=>{w.get().each(de=>{s.dispatch("TableSelectorChange",{start:fe,finish:de})})}),F=L6(()=>Ye(f.get(),fe=>E(fe)),w,fe=>{b.get().each(de=>{s.dispatch("TableSelectorChange",{start:de,finish:fe})})}),P=F6(D),z=F6(F),G=Ki(P.asSpec()),X=Ki(z.asSpec()),ue=(fe,de,ve,Ce)=>{const Ee=ve(de);a1.snapTo(fe,Ee),((ze,ot,Et,_t)=>{const wt=ot.dom.getBoundingClientRect();ws(ze.element,"display");const Ht=Yc(rn(s.getBody())).dom.innerHeight,mn=wt[Ce]<0,kn=((Hn,io)=>Hn[Ce]>io)(wt,Ht);(mn||kn)&&co(ze.element,"display","none")})(fe,de)},me=fe=>ue(G,fe,k,"top"),we=fe=>ue(X,fe,E,"bottom");if(ra().deviceType.isTouch()){const fe=de=>Ye(de,rn);s.on("TableSelectionChange",de=>{p.get()||($f(a,G),$f(a,X),p.set(!0));const ve=rn(de.start),Ce=rn(de.finish);b.set(ve),w.set(Ce),O.from(de.otherCells).each(Ee=>{u.set(fe(Ee.upOrLeftCells)),f.set(fe(Ee.downOrRightCells)),me(ve),we(Ce)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{b.get().each(me),w.get().each(we)}),s.on("TableSelectionClear",()=>{p.get()&&(sl(G),sl(X),p.set(!1)),b.clear(),w.clear()})}},z6=(s,a,u)=>{var f;const p=(f=a.delimiter)!==null&&f!==void 0?f:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Nn.config({mode:"flow",selector:"div[role=button]"}),ro.config({disabled:u.isDisabled}),Pi(),Zs.config({}),Kn.config({}),Co("elementPathEvents",[sr((b,w)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Nn.focusIn(b)),s.on("NodeChange",k=>{const E=(F=>{const P=[];let z=F.length;for(;z-- >0;){const X=F[z];if(X.nodeType===1&&(G=X).nodeName!=="BR"&&!G.getAttribute("data-mce-bogus")&&G.getAttribute("data-mce-type")!=="bookmark"){const ue=uI(s,X);if(ue.isDefaultPrevented()||P.push({name:ue.name,element:X}),ue.isPropagationStopped())break}}var G;return P})(k.parents),D=E.length>0?_n(E,(F,P,z)=>{const G=((X,ue,me)=>Ua.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":me}},components:[Fr(X)],action:we=>{s.focus(),s.selection.select(ue),s.nodeChanged()},buttonBehaviours:Zt([oi.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",ue.nodeName.toLowerCase()]),onShow:(we,fe)=>{((de,ve)=>{const Ce=O.from(Po(de,"id")).getOrThunk(()=>{const Ee=bn("aria");return sn(ve,"id",Ee),Ee});sn(de,"aria-describedby",Ce)})(we.element,fe.element)},onHide:we=>{var fe;fe=we.element,_o(fe,"aria-describedby")}})}),Da(u.isDisabled),Pi()])}))(P.name,P.element,z);return z===0?F.concat([G]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Fr(` ${p} `)]},G])},[]):[];Kn.set(b,D)})})])]),components:[]}};var Dh;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Dh||(Dh={}));const XS=(s,a,u)=>{const f=rn(s.getContainer()),p=((b,w,k,E,D)=>{const F={height:xw(E+w.top,V0(b),r_(b))};return k===Dh.Both&&(F.width=xw(D+w.left,h2(b),z0(b))),F})(s,a,u,Or(f),Oi(f));An(p,(b,w)=>{ne(b)&&co(f,w,ev(b))}),(b=>{b.dispatch("ResizeEditor")})(s)},JS=(s,a,u,f)=>{const p=Xs(20*u,20*f);return XS(s,p,a),O.some(!0)},H6=(s,a)=>{const u=()=>{const f=[],p=cA(s),b=Q5(s),w=$c(s)||s.hasPlugin("wordcount");return b&&f.push(z6(s,{},a)),p&&f.push((()=>{const k=M_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Fr(nd.translate(["Press {0} for help",k]))]}})()),w&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,D)=>{const F=(P,z,G)=>Kn.set(P,[Fr(D.translate(["{0} "+G,z[G]]))]);return Ua.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([Da(D.isDisabled),Pi(),Zs.config({}),Kn.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Co("wordcount-events",[cu(P=>{const z=lt.getValue(P),G=z.mode==="words"?"characters":"words";lt.setValue(P,{mode:G,count:z.count}),F(P,z.count,G)}),sr(P=>{E.on("wordCountUpdate",z=>{const{mode:G}=lt.getValue(P);lt.setValue(P,{mode:G,count:z.wordCount}),F(P,z.wordCount,G)})})])]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,a)),$c(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Zt([no.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const D="tox-statusbar__text-container-3-cols";return w||b?w&&!b?[D,E]:[D,k]:[D,"tox-statusbar__text-container--space-around"]}return[w&&!b?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=u(),p=((b,w)=>{const k=(D=>{const F=ha(D);return F===!1?Dh.None:F==="both"?Dh.Both:Dh.Vertical})(b);if(k===Dh.None)return O.none();const E=k===Dh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(Uc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[a1.config({mode:"mouse",repositionTarget:!1,onDrag:(D,F,P)=>XS(b,P,k),blockerClass:"tox-blocker"}),Nn.config({mode:"special",onLeft:()=>JS(b,k,-1,0),onRight:()=>JS(b,k,1,0),onUp:()=>JS(b,k,0,-1),onDown:()=>JS(b,k,0,1)}),Zs.config({}),no.config({}),oi.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(s,a);return f.concat(p.toArray())})()}},$6=(s,a)=>a.get().getOrDie(`UI for ${s} has not been rendered`),Lz=(s,a)=>{const u=s.inline,f=u?vz:wW,p=vh(s)?pV:hV,b=(()=>{const Ee=Es(),ze=Es(),ot=Es();return{dialogUi:Ee,popupUi:ze,mainUi:ot,getUiMotherships:()=>{const Et=Ee.get().map(wt=>wt.mothership),_t=ze.get().map(wt=>wt.mothership);return Et.fold(()=>_t.toArray(),wt=>_t.fold(()=>[wt],Ht=>is(wt.element,Ht.element)?[wt]:[wt,Ht]))},lazyGetInOuterOrDie:(Et,_t)=>()=>ot.get().bind(wt=>_t(wt.outerContainer)).getOrDie(`Could not find ${Et} element in OuterContainer`)}})(),w=Es(),k=Es(),E=Es(),D=ra().deviceType.isTouch()?["tox-platform-touch"]:[],F=uA(s),P=Ib(s),z=Cs({dom:{tag:"div",classes:["tox-anchorbar"]}}),G=Cs({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),X=()=>b.mainUi.get().map(Ee=>Ee.outerContainer).bind(er.getHeader),ue=b.lazyGetInOuterOrDie("anchor bar",z.getOpt),me=b.lazyGetInOuterOrDie("bottom anchor bar",G.getOpt),we=b.lazyGetInOuterOrDie("toolbar",er.getToolbar),fe=b.lazyGetInOuterOrDie("throbber",er.getThrobber),de=((Ee,ze,ot,Et)=>{const _t=Bn(!1),wt=(Jo=>{const jn=Bn(uA(Jo)?"bottom":"top");return{isPositionedAtTop:()=>jn.get()==="top",getDockingMode:jn.get,setDockingMode:jn.set}})(ze),Ht={icons:()=>ze.ui.registry.getAll().icons,menuItems:()=>ze.ui.registry.getAll().menuItems,translate:nd.translate,isDisabled:()=>ze.mode.isReadOnly()||!ze.ui.isEnabled(),getOption:ze.options.get,tooltips:I4(Ee.dialog)},mn=aP(ze),kn=(Jo=>{const jn=Yi=>()=>Jo.formatter.match(Yi),gr=Yi=>()=>{const Bi=Jo.formatter.get(Yi);return Bi!==void 0?O.some({tag:Bi.length>0&&(Bi[0].inline||Bi[0].block)||"div",styles:Jo.dom.parseStyle(Jo.formatter.getCssText(Yi))}):O.none()},Ls=Bn([]),Wa=Bn([]),Za=Bn(!1);return Jo.on("PreInit",Yi=>{const Bi=XN(Jo),Rh=R4(Jo,Bi,jn,gr);Ls.set(Rh)}),Jo.on("addStyleModifications",Yi=>{const Bi=R4(Jo,Yi.items,jn,gr);Wa.set(Bi),Za.set(Yi.replace)}),{getData:()=>{const Yi=Za.get()?[]:Ls.get(),Bi=Wa.get();return Yi.concat(Bi)}}})(ze),Hn=(Jo=>({colorPicker:tV(Jo),hasCustomColors:nV(Jo),getColors:oV(Jo),getColorCols:sV(Jo)}))(ze),io=(Jo=>({isDraggableModal:GN(Jo)}))(ze),Lo={shared:{providers:Ht,anchors:eV(ze,ot,Et,wt.isPositionedAtTop),header:wt},urlinput:mn,styles:kn,colorinput:Hn,dialog:io,isContextMenuOpen:()=>_t.get(),setContextMenuState:Jo=>_t.set(Jo)},tr=Jo=>O.none(),mr={...Lo,shared:{...Lo.shared,interpreter:Jo=>UN(Jo,{},mr,tr),getSink:Ee.popup}},So={...Lo,shared:{...Lo.shared,interpreter:Jo=>UN(Jo,{},So,tr),getSink:Ee.dialog}};return{popup:mr,dialog:So}})({popup:()=>Bo.fromOption(b.popupUi.get().map(Ee=>Ee.sink),"(popup) UI has not been rendered"),dialog:()=>Bo.fromOption(b.dialogUi.get().map(Ee=>Ee.sink),"UI has not been rendered")},s,ue,me),ve=()=>{const Ee=(()=>{const Lo={attributes:{[xl]:F?Vc.BottomToTop:Vc.TopToBottom}},tr=er.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:de.popup,onEscape:()=>{s.focus()}}),mr=er.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:de.popup.shared.getSink,providers:de.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Bi=>{((Rh,xy)=>{Rh.dispatch("ToggleToolbarDrawer",{state:xy})})(s,Bi)},type:P,lazyToolbar:we,lazyHeader:()=>X().getOrDie("Could not find header element"),...Lo}),So=er.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:de.popup.shared.providers,onEscape:()=>{s.focus()},type:P}),Jo=x2(s),jn=y2(s),gr=b2(s),Ls=tR(s),Wa=er.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Za=Jo||jn||gr,Yi=Ls?[Wa,tr]:[tr];return er.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Za?[]:["tox-editor-header--empty"]),...Lo},components:eo([gr?Yi:[],Jo?[So]:jn?[mr]:[],Nb(s)?[]:[z.asSpec()]]),sticky:vh(s),editor:s,sharedBackstage:de.popup.shared})})(),ze={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[er.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),er.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ot=er.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:de.popup}),Et=er.parts.viewWrapper({backstage:de.popup}),_t=J5(s)&&!u?O.some(H6(s,de.popup.shared.providers)):O.none(),wt=eo([F?[]:[Ee],u?[]:[ze],F?[Ee]:[]]),Ht=er.parts.editorContainer({components:eo([wt,u?[]:[G.asSpec()]])}),mn=p_(s),kn={role:"application",...nd.isRtl()?{dir:"rtl"}:{},...mn?{"aria-hidden":"true"}:{}},Hn=Ki(er.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(D),styles:{visibility:"hidden",...mn?{opacity:"0",border:"0"}:{}},attributes:kn},components:[Ht,...u?[]:[Et,..._t.toArray()],ot],behaviours:Zt([Pi(),ro.config({disableClass:"tox-tinymce--disabled"}),Nn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),io=K_(Hn);return w.set(io),{mothership:io,outerContainer:Hn}},Ce=Ee=>{const ze=ev((Et=>(wt=>{const Ht=m2(wt),mn=V0(wt),kn=r_(wt);return yw(Ht).map(Hn=>xw(Hn,mn,kn))})(Et).getOr(m2(Et)))(s)),ot=ev((Et=>vT(Et).getOr(g2(Et)))(s));return s.inline||(Il("div","width",ot)&&co(Ee.element,"width",ot),Il("div","height",ze)?co(Ee.element,"height",ze):co(Ee.element,"height","400px")),ze};return{popups:{backstage:de.popup,getMothership:()=>$6("popups",E)},dialogs:{backstage:de.dialog,getMothership:()=>$6("dialogs",k)},renderUI:()=>{const Ee=ve(),ze=(()=>{const Et=h_(s),_t=is(vn(),Et)&&wr(Et,"display")==="grid",wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D),attributes:{...nd.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(X)})])},Ht={dom:{styles:{width:document.body.clientWidth+"px"}},events:fo([St(Sf(),Hn=>{co(Hn.element,"width",document.body.clientWidth+"px")})])},mn=Ki(Ps(wt,_t?Ht:{})),kn=K_(mn);return k.set(kn),{sink:mn,mothership:kn}})(),ot=bh(s)?(()=>{const Et={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(D),attributes:{...nd.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(X),getBounds:()=>a.getPopupSinkBounds()})])},_t=Ki(Et),wt=K_(_t);return E.set(wt),{sink:_t,mothership:wt}})():(Et=>(E.set(Et.mothership),Et))(ze);return b.dialogUi.set(ze),b.popupUi.set(ot),b.mainUi.set(Ee),(Et=>{const{mainUi:_t,popupUi:wt,uiMotherships:Ht}=Et;On(a_(s),(jn,gr)=>{s.ui.registry.addGroupToolbarButton(gr,jn)});const{buttons:mn,menuItems:kn,contextToolbars:Hn,sidebars:io,views:Lo}=s.ui.registry.getAll(),tr=g_(s),mr={menuItems:kn,menus:Rp(s),menubar:ph(s),toolbar:tr.getOrThunk(()=>$0(s)),allowToolbarGroups:P===td.floating,buttons:mn,sidebar:io,views:Lo};var So;So=_t.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{er.focusMenubar(So)}),s.addShortcut("alt+F10","focus toolbar",()=>{er.focusToolbar(So)}),s.addCommand("ToggleToolbarDrawer",(jn,gr)=>{gr!=null&&gr.skipFocus?er.toggleToolbarDrawerWithoutFocusing(So):er.toggleToolbarDrawer(So)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>er.isToolbarDrawerToggled(So)),((jn,gr,Ls)=>{const Wa=(gs,wg)=>{Mt([gr,...Ls],tf=>{tf.broadcastEvent(gs,wg)})},Za=(gs,wg)=>{Mt([gr,...Ls],tf=>{tf.broadcastOn([gs],wg)})},Yi=gs=>Za(B(),{target:gs.target}),Bi=Pa(),Rh=Ha(Bi,"touchstart",Yi),xy=Ha(Bi,"touchmove",gs=>Wa(En(),gs)),nv=Ha(Bi,"touchend",gs=>Wa(au(),gs)),Ih=Ha(Bi,"mousedown",Yi),Mw=Ha(Bi,"mouseup",gs=>{gs.raw.button===0&&Za(U(),{target:gs.target})}),ov=gs=>Za(B(),{target:rn(gs.target)}),yg=gs=>{gs.button===0&&Za(U(),{target:rn(gs.target)})},c1=()=>{Mt(jn.editorManager.get(),gs=>{jn!==gs&&gs.dispatch("DismissPopups",{relatedTarget:jn})})},u1=gs=>Wa(Bv(),Hd(gs)),wy=gs=>{Za(H(),{}),Wa(Sf(),Hd(gs))},ak=ut(rn(jn.getElement())),Bw=Lx(ak,"scroll",gs=>{requestAnimationFrame(()=>{if(jn.getContainer()!=null){const wg=Ip(jn,gr.element).map(tf=>[tf.element,...tf.others]).getOr([]);pt(wg,tf=>is(tf,gs.target))&&(jn.dispatch("ElementScroll",{target:gs.target.dom}),Wa(ip(),gs))}})}),sv=()=>Za(H(),{}),xg=gs=>{gs.state&&Za(B(),{target:rn(jn.getContainer())})},Nh=gs=>{Za(B(),{target:rn(gs.relatedTarget.getContainer())})},Lw=gs=>jn.dispatch("focusin",gs),Fw=gs=>jn.dispatch("focusout",gs);jn.on("PostRender",()=>{jn.on("click",ov),jn.on("tap",ov),jn.on("mouseup",yg),jn.on("mousedown",c1),jn.on("ScrollWindow",u1),jn.on("ResizeWindow",wy),jn.on("ResizeEditor",sv),jn.on("AfterProgressState",xg),jn.on("DismissPopups",Nh),Mt([gr,...Ls],gs=>{gs.element.dom.addEventListener("focusin",Lw),gs.element.dom.addEventListener("focusout",Fw)})}),jn.on("remove",()=>{jn.off("click",ov),jn.off("tap",ov),jn.off("mouseup",yg),jn.off("mousedown",c1),jn.off("ScrollWindow",u1),jn.off("ResizeWindow",wy),jn.off("ResizeEditor",sv),jn.off("AfterProgressState",xg),jn.off("DismissPopups",Nh),Mt([gr,...Ls],gs=>{gs.element.dom.removeEventListener("focusin",Lw),gs.element.dom.removeEventListener("focusout",Fw)}),Ih.unbind(),Rh.unbind(),xy.unbind(),nv.unbind(),Mw.unbind(),Bw.unbind()}),jn.on("detach",()=>{Mt([gr,...Ls],xE),Mt([gr,...Ls],gs=>gs.destroy())})})(s,_t.mothership,Ht),p.setup(s,de.popup.shared,X),Sz(s,de.popup),Oz(s,de.popup.shared.getSink,de.popup),(jn=>{const{sidebars:gr}=jn.ui.registry.getAll();Mt(wn(gr),Ls=>{const Wa=gr[Ls],Za=()=>or(O.from(jn.queryCommandValue("ToggleSidebar")),Ls);jn.ui.registry.addToggleButton(Ls,{icon:Wa.icon,tooltip:Wa.tooltip,onAction:Yi=>{jn.execCommand("ToggleSidebar",!1,Ls),Yi.setActive(Za())},onSetup:Yi=>{Yi.setActive(Za());const Bi=()=>Yi.setActive(Za());return jn.on("ToggleSidebar",Bi),()=>{jn.off("ToggleSidebar",Bi)}}})})})(s),vP(s,fe,de.popup.shared),xz(s,Hn,wt.sink,{backstage:de.popup}),V6(s,wt.sink);const Jo={targetNode:s.getElement(),height:Ce(_t.outerContainer)};return f.render(s,Et,mr,de.popup,Jo)})({popupUi:ot,dialogUi:ze,mainUi:Ee,uiMotherships:b.getUiMotherships()})}}},Fz=ee([Ot("lazySink"),jo("dragBlockClass"),Qs("getBounds",Ui),it("useTabstopAt",Le),it("firstTabstop",0),it("eventOrder",{}),yn("modalBehaviours",[Nn]),vl("onExecute"),Aa("onEscape")]),BT={sketch:_e},LT=ee([pu({name:"draghandle",overrides:(s,a)=>({behaviours:Zt([a1.config({mode:"mouse",getTarget:u=>$m(u,'[role="dialog"]').getOr(u),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:s.getDragBounds})])})}),wl({schema:[Ot("dom")],name:"title"}),wl({factory:BT,schema:[Ot("dom")],name:"close"}),wl({factory:BT,schema:[Ot("dom")],name:"body"}),pu({factory:BT,schema:[Ot("dom")],name:"footer"}),Zd({factory:{sketch:(s,a)=>({...s,dom:a.dom,components:a.components})},schema:[it("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),it("components",[])],name:"blocker"})]),Mr=Bl({name:"ModalDialog",configFields:Fz(),partFields:LT(),factory:(s,a,u,f)=>{const p=Es(),b=bn("modal-events"),w={...s.eventOrder,[ua()]:[b].concat(s.eventOrder["alloy.system.attached"]||[])},k=ra();return{uid:s.uid,dom:s.dom,components:a,apis:{show:E=>{p.set(E);const D=s.lazySink(E).getOrDie(),F=f.blocker(),P=D.getSystem().build({...F,components:F.components.concat([nl(E)]),behaviours:Zt([no.config({}),Co("dialog-blocker-events",[Tf(bs(),()=>{fd.isBlocked(E)||Nn.focusIn(E)})])])});$f(D,P),Nn.focusIn(E)},hide:E=>{p.clear(),_a(E.element).each(D=>{E.getSystem().getByDom(D).each(F=>{sl(F)})})},getBody:E=>gh(E,s,"body"),getFooter:E=>qs(E,s,"footer"),setIdle:E=>{fd.unblock(E)},setBusy:(E,D)=>{fd.block(E,D)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:yo(s.modalBehaviours,[Kn.config({}),Nn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),fd.config({getRoot:p.get}),Co(b,[sr(E=>{const D=gh(E,s,"title").element,F=(P=>P.dom.textContent)(D);k.os.isMacOS()&&K(F)?sn(E.element,"aria-label",F):((P,z)=>{const G=Zo(P,"id").fold(()=>{const X=bn("dialog-label");return sn(z,"id",X),X},_e);sn(P,"aria-labelledby",G)})(E.element,D)})])])}},apis:{show:(s,a)=>{s.show(a)},hide:(s,a)=>{s.hide(a)},getBody:(s,a)=>s.getBody(a),getFooter:(s,a)=>s.getFooter(a),setBusy:(s,a,u)=>{s.setBusy(a,u)},setIdle:(s,a)=>{s.setIdle(a)}}}),Vz=Wn([vi,EA].concat(Vb)),kw=nc,FT=[NA("button"),sd,Ac("align","end",["start","end"]),O_,rd,$g("buttonType",["primary","secondary"])],QS=[...FT,od],VT=[ju("type",["submit","cancel","custom"]),...QS],zz=[ju("type",["menu"]),Fp,F2,sd,el("items",Vz),...FT],Hz=[...FT,ju("type",["togglebutton"]),F2,sd,Fp,ei("active",!1)],U6=gi("type",{submit:VT,cancel:VT,custom:VT,menu:zz,togglebutton:Hz}),$z=[vi,od,ju("level",["info","warn","error","success"]),OA,it("url","")],zT=Wn($z),HT=[vi,od,rd,NA("button"),sd,xW,$g("buttonType",["primary","secondary","toolbar"]),O_],$T=Wn(HT),py=[vi,EA],qi=py.concat([DA]),Uz=py.concat([AA,rd]),Wz=Wn(Uz),W6=nc,Z6=qi.concat([LR("auto")]),Zz=Wn(Z6),jz=Uu([Lb,od,OA]),Kz=qi.concat([Zl("storageKey","default")]),Gz=Wn(Kz),qz=wi,Yz=Wn(qi),Xz=wi,j6=py.concat([Zl("tag","textarea"),_r("scriptId"),_r("scriptUrl"),ru("onFocus"),Fa("settings",void 0,$1)]),Jz=py.concat([Zl("tag","textarea"),La("init")]),Qz=xf(s=>Cr("customeditor.old",xi(Jz),s).orThunk(()=>Cr("customeditor.new",xi(j6),s))),e9=wi,K6=Wn(qi),UT=$u(Hu),G6=s=>[vi,sp("columns"),s],q6=[vi,_r("html"),Ac("presets","presentation",["presentation","document"]),Qs("onInit",se),ei("stretched",!1)],Y6=Wn(q6),X6=qi.concat([ei("border",!1),ei("sandboxed",!0),ei("streamContent",!1),ei("transparent",!0)]),WT=Wn(X6),t9=wi,ZT=Wn(py.concat([Lr("height")])),vy=Wn([_r("url"),wf("zoom"),wf("cachedWidth"),wf("cachedHeight")]),J6=qi.concat([Lr("inputMode"),Lr("placeholder"),ei("maximized",!1),rd]),Q6=Wn(J6),eM=wi,n9=s=>[vi,AA,s,Ac("align","start",["start","center","end"]),Lr("for")],o9=[od,Lb],ek=[od,el("items",op(0,()=>tM))],tM=Tm([Wn(o9),Wn(ek)]),s9=qi.concat([el("items",tM),rd]),nM=Wn(s9),oM=wi,jT=qi.concat([Dm("items",[od,Lb]),Wr("size",1),rd]),sM=Wn(jT),Yl=wi,rM=qi.concat([ei("constrain",!0),rd]),r9=Wn(rM),iM=Wn([_r("width"),_r("height")]),aM=py.concat([AA,Wr("min",0),Wr("max",0)]),i9=Wn(aM),a9=Id,l9=[vi,el("header",wi),el("cells",$u(wi))],lM=Wn(l9),bg=qi.concat([Lr("placeholder"),ei("maximized",!1),rd]),KT=Wn(bg),cM=wi,Ew=[ju("type",["directory","leaf"]),TA,_r("id"),Ur("menu",mP)],tk=Wn(Ew),c9=Ew.concat([el("children",op(0,()=>Zu("type",{directory:uM,leaf:tk})))]),uM=Wn(c9),u9=Zu("type",{directory:uM,leaf:tk}),d9=[vi,el("items",u9),ru("onLeafAction"),ru("onToggleExpand"),Ds("defaultExpandedIds",[],wi),Lr("defaultSelectedId")],f9=Wn(d9),m9=qi.concat([Ac("filetype","file",["image","media","file"]),rd,Lr("picker_text")]),g9=Wn(m9),dM=Wn([Lb,Wc]),GT=s=>ai("items","items",{tag:"required",process:{}},$u(xf(a=>Cr(`Checking item of ${s}`,ef,a).fold(u=>Bo.error(Qa(u)),u=>Bo.value(u))))),ef=Am(()=>{return Zu("type",{alertbanner:zT,bar:Wn((s=GT("bar"),[vi,s])),button:$T,checkbox:Wz,colorinput:Gz,colorpicker:Yz,dropzone:K6,grid:Wn(G6(GT("grid"))),iframe:WT,input:Q6,listbox:nM,selectbox:sM,sizeinput:r9,slider:i9,textarea:KT,urlinput:g9,customeditor:Qz,htmlpanel:Y6,imagepreview:ZT,collection:Zz,label:Wn(n9(GT("label"))),table:lM,tree:f9,panel:fM});var s}),nk=[vi,it("classes",[]),el("items",ef)],fM=Wn(nk),h9=[NA("tab"),TA,el("items",ef)],mM=[vi,Dm("tabs",h9)],gM=Wn(mM),qT=QS,ok=U6,Aw=Wn([_r("title"),Zi("body",Zu("type",{panel:fM,tabpanel:gM})),Zl("size","normal"),Ds("buttons",[],ok),it("initialData",{}),Qs("onAction",se),Qs("onChange",se),Qs("onSubmit",se),Qs("onClose",se),Qs("onCancel",se),Qs("onTabChange",se)]),Tw=Wn([ju("type",["cancel","custom"]),...qT]),hM=Wn([_r("title"),_r("url"),wf("height"),wf("width"),U1("buttons",Tw),Qs("onAction",se),Qs("onCancel",se),Qs("onClose",se),Qs("onMessage",se)]),sk=s=>x(s)?[s].concat(tn(Ar(s),sk)):M(s)?tn(s,sk):[],pM=s=>v(s.type)&&v(s.name),vM={checkbox:W6,colorinput:qz,colorpicker:Xz,dropzone:UT,input:eM,iframe:t9,imagepreview:vy,selectbox:Yl,sizeinput:iM,slider:a9,listbox:oM,size:iM,textarea:cM,urlinput:dM,customeditor:e9,collection:jz,togglemenuitem:kw},p9=s=>{const a=(f=>Fn(sk(f),pM))(s),u=tn(a,f=>(p=>O.from(vM[p.type]))(f).fold(()=>[],p=>[Zi(f.name,p)]));return Wn(u)},bM=s=>{var a;return{internalDialog:Ba(Cr("dialog",Aw,s)),dataValidator:p9(s),initialData:(a=s.initialData)!==null&&a!==void 0?a:{}}},l1={open:(s,a)=>{const u=bM(a);return s(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(s,a)=>s(Ba(Cr("dialog",hM,a))),redial:s=>bM(s)};var v9=Object.freeze({__proto__:null,events:(s,a)=>{const u=(f,p)=>{s.updateState.each(b=>{const w=b(f,p);a.set(w)}),s.renderComponents.each(b=>{const w=b(p,a.get());(s.reuseDom?XE:Tb)(f,w)})};return fo([St(oc(),(f,p)=>{const b=p;if(!b.universal){const w=s.channel;et(b.channels,w)&&u(f,b.data)}}),sr((f,p)=>{s.initialData.each(b=>{u(f,b)})})])}}),b9=Object.freeze({__proto__:null,getState:(s,a,u)=>u}),yM=[Ot("channel"),jo("renderComponents"),jo("updateState"),jo("initialData"),ei("reuseDom",!0)];const mc=Ni({fields:yM,name:"reflecting",active:v9,apis:b9,state:Object.freeze({__proto__:null,init:()=>{const s=Bn(O.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(O.none())}}})}),xM=s=>{const a=[],u={};return An(s,(f,p)=>{f.fold(()=>{a.push(p)},b=>{u[p]=b})}),a.length>0?Bo.error(a):Bo.value(u)},wM=(s,a,u,f)=>{const p=Cs(jp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Ye(s.items,k=>DS(w,k,a,u,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(sy)}),(b=p,ns.config({find:b.getOpt})),$3(p,{postprocess:w=>xM(w).fold(k=>(console.error(k),{}),_e)}),Co("dialog-body-panel",[St(bs(),(w,k)=>{w.getSystem().broadcastOn([yS],{newFocus:O.some(k.event.target)})})])])};var b},y9=vu({name:"TabButton",configFields:[it("uid",void 0),Ot("value"),ai("dom","dom",Yo(()=>({attributes:{role:"tab",id:bn("aria"),"aria-selected":"false"}})),Ml()),jo("action"),it("domModification",{}),yn("tabButtonBehaviours",[no,Nn,lt]),Ot("view")],factory:(s,a)=>({uid:s.uid,dom:s.dom,components:s.components,events:L0(s.action),behaviours:yo(s.tabButtonBehaviours,[no.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),CM=ee([Ot("tabs"),Ot("dom"),it("clickToDismiss",!1),yn("tabbarBehaviours",[Ss,Nn]),Jg(["tabClass","selectedClass"])]),Ow=UC({factory:y9,name:"tabs",unit:"tab",overrides:s=>{const a=(f,p)=>{Ss.dehighlight(f,p),Rn(f,Ut(),{tabbar:f,button:p})},u=(f,p)=>{Ss.highlight(f,p),Rn(f,ap(),{tabbar:f,button:p})};return{action:f=>{const p=f.getSystem().getByUid(s.uid).getOrDie(),b=Ss.isHighlighted(p,f);(b&&s.clickToDismiss?a:b?se:u)(p,f)},domModification:{classes:[s.markers.tabClass]}}}}),x9=ee([Ow]),YT=Bl({name:"Tabbar",configFields:CM(),partFields:x9(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:yo(s.tabbarBehaviours,[Ss.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(p,b)=>{sn(b.element,"aria-selected","true")},onDehighlight:(p,b)=>{sn(b.element,"aria-selected","false")}}),Nn.config({mode:"flow",getInitial:p=>Ss.getHighlighted(p).map(b=>b.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),w9=vu({name:"Tabview",configFields:[yn("tabviewBehaviours",[Kn])],factory:(s,a)=>({uid:s.uid,dom:s.dom,behaviours:yo(s.tabviewBehaviours,[Kn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),C9=ee([it("selectFirst",!0),Xo("onChangeTab"),Xo("onDismissTab"),it("tabs",[]),yn("tabSectionBehaviours",[])]),_9=wl({factory:YT,schema:[Ot("dom"),Ec("markers",[Ot("tabClass"),Ot("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),S9=wl({factory:w9,name:"tabview"}),_M=ee([_9,S9]),by=Bl({name:"TabSection",configFields:C9(),partFields:_M(),factory:(s,a,u,f)=>{const p=(b,w)=>{qs(b,s,"tabbar").each(k=>{w(k).each(Af)})};return{uid:s.uid,dom:s.dom,components:a,behaviours:Yn(s.tabSectionBehaviours),events:fo(eo([s.selectFirst?[sr((b,w)=>{p(b,Ss.getFirst)})]:[],[St(ap(),(b,w)=>{(k=>{const E=lt.getValue(k);qs(k,s,"tabview").each(D=>{J(s.tabs,F=>F.value===E).each(F=>{const P=F.view();Zo(k.element,"id").each(z=>{sn(D.element,"aria-labelledby",z)}),Kn.set(D,P),s.onChangeTab(D,k,P)})})})(w.event.button)}),St(Ut(),(b,w)=>{const k=w.event.button;s.onDismissTab(b,k)})]])),apis:{getViewItems:b=>qs(b,s,"tabview").map(w=>Kn.contents(w)).getOr([]),showTab:(b,w)=>{p(b,k=>{const E=Ss.getCandidates(k);return J(E,D=>lt.getValue(D)===w).filter(D=>!Ss.isHighlighted(k,D))})}}}},apis:{getViewItems:(s,a)=>s.getViewItems(a),showTab:(s,a,u)=>{s.showTab(a,u)}}}),XT=(s,a)=>{co(s,"height",a+"px"),co(s,"flex-basis",a+"px")},yy=(s,a,u)=>{$m(s,'[role="dialog"]').each(f=>{fr(f,'[role="tablist"]').each(p=>{u.get().map(b=>(co(a,"height","0"),co(a,"flex-basis","0"),Math.min(b,((w,k,E)=>{const D=qa(w).dom,F=$m(w,".tox-dialog-wrap").getOr(w);let P;P=wr(F,"position")==="fixed"?Math.max(D.clientHeight,window.innerHeight):Math.max(D.offsetHeight,D.scrollHeight);const z=Or(k),G=k.dom.offsetLeft>=E.dom.offsetLeft+Oi(E)?Math.max(Or(E),z):z,X=parseInt(wr(w,"margin-top"),10)||0,ue=parseInt(wr(w,"margin-bottom"),10)||0;return P-(Or(w)+X+ue-G)})(f,a,p)))).each(b=>{XT(a,b)})})})},em=s=>fr(s,'[role="tabpanel"]'),rk="send-data-to-section",JT="send-data-to-view",SM=(s,a,u,f)=>{const p=Bn({}),b=F=>{const P=lt.getValue(F),z=xM(P).getOr({}),G=p.get(),X=Ps(G,z);p.set(X)},w=F=>{const P=p.get();lt.setValue(F,P)},k=Bn(null),E=Ye(s.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Fr(u.shared.providers.translate(F.title))],view:()=>[jp.sketch(P=>({dom:{tag:"div",classes:["tox-form"]},components:Ye(F.items,z=>DS(P,z,a,u,f)),formBehaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(sy)}),Co("TabView.form.events",[sr(w),qu(b)]),yl.config({channels:Nd([{key:rk,value:{onReceive:b}},{key:JT,value:{onReceive:w}}])})])}))]})),D=(F=>{const P=Es();return{extraEvents:[sr(G=>{const X=G.element;em(X).each(ue=>{co(ue,"visibility","hidden"),G.getSystem().getByDom(ue).toOptional().each(me=>{const we=((de,ve,Ce)=>Ye(de,(Ee,ze)=>{Kn.set(Ce,de[ze].view());const ot=ve.dom.getBoundingClientRect();return Kn.set(Ce,[]),ot.height}))(F,ue,me);(de=>zt(he(de,(ve,Ce)=>ve>Ce?-1:ve<Ce?1:0)))(we).fold(P.clear,P.set)}),yy(X,ue,P),ws(ue,"visibility"),((me,we)=>{zt(me).each(fe=>by.showTab(we,fe.value))})(F,G),requestAnimationFrame(()=>{yy(X,ue,P)})})}),St(Sf(),G=>{const X=G.element;em(X).each(ue=>{yy(X,ue,P)})}),St(q_,(G,X)=>{const ue=G.element;em(ue).each(me=>{const we=fu(ut(me));co(me,"visibility","hidden");const fe=Hr(me,"height").map(ve=>parseInt(ve,10));ws(me,"height"),ws(me,"flex-basis");const de=me.dom.getBoundingClientRect().height;fe.forall(ve=>de>ve)?(P.set(de),yy(ue,me,P)):fe.each(ve=>{XT(me,ve)}),ws(me,"visibility"),we.each(za)})})],selectFirst:!1}})(E);return by.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,P,z)=>{const G=lt.getValue(P);Rn(F,LI,{name:G,oldName:k.get()}),k.set(G)},tabs:E,components:[by.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[YT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([Zs.config({})])}),by.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:D.selectFirst,tabSectionBehaviours:Zt([Co("tabpanel",D.extraEvents),Nn.config({mode:"acyclic"}),ns.config({find:F=>zt(by.getViewItems(F))}),Yb(O.none(),F=>(F.getSystem().broadcastOn([rk],{}),p.get()),(F,P)=>{p.set(P),F.getSystem().broadcastOn([JT],{})})])})},ik=(s,a,u,f,p,b)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Zt([z3(0),mc.config({channel:`${mN}-${a}`,updateState:(w,k)=>O.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[SM(k,w.initialData,f,b)]:[wM(k,w.initialData,f,b)]},initialData:s})])}),kM=Kf.deviceType.isTouch(),Dw=(s,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,a]}),QT=(s,a)=>Mr.parts.close(Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:s,buttonBehaviours:Zt([Zs.config({})])})),eO=()=>Mr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),EM=(s,a)=>Mr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:og(`<p>${hR(a.translate(s))}</p>`)}]}]}),AM=s=>Mr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),TM=(s,a)=>[qd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),qd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],tO=s=>{const a="tox-dialog",u=a+"-wrap",f=u+"__backdrop",p=a+"__disable-scroll";return Mr.sketch({lazySink:s.lazySink,onEscape:b=>(s.onEscape(b),O.some(!0)),useTabstopAt:b=>!sy(b),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[a].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:og(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:kM?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:Zt([no.config({}),Co("dialog-events",s.dialogEvents.concat([Tf(bs(),(b,w)=>{fd.isBlocked(b)||Nn.focusIn(b)}),St(Z1(),(b,w)=>{b.getSystem().broadcastOn([yS],{newFocus:w.event.newFocus})})])),Co("scroll-lock",[sr(()=>{kr(vn(),p)}),qu(()=>{Ir(vn(),p)})]),...s.extraBehaviours]),eventOrder:{[pl()]:["dialog-events"],[ua()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Oc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},OM=s=>Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Zt([Zs.config({}),oi.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[Uc("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:a=>{ko(a,_h)}}),nO=(s,a,u,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(p=>({id:p})).getOr({})}},components:[],behaviours:Zt([mc.config({channel:`${Y3}-${a}`,initialData:s,renderComponents:p=>[Fr(f.translate(p.title))]})])}),oO=()=>({dom:og('<div class="tox-dialog__draghandle"></div>')}),DM=(s,a,u)=>((f,p,b)=>{const w=Mr.parts.title(nO(f,p,O.none(),b)),k=Mr.parts.draghandle(oO()),E=Mr.parts.close(OM(b)),D=[w].concat(f.draggable?[k]:[]).concat([E]);return qd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:D})})({title:u.shared.providers.translate(s),draggable:u.dialog.isDraggableModal()},a,u.shared.providers),RM=(s,a,u,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),IM=(s,a,u)=>({onClose:()=>u.closeWindow(),onBlock:f=>{const p=fr(s().element,".tox-dialog__header").map(b=>Or(b));Mr.setBusy(s(),(b,w)=>RM(f.message,w,a,p))},onUnblock:()=>{Mr.setIdle(s())}}),Rw="tox-dialog--fullscreen",sO="tox-dialog--width-lg",rO="tox-dialog--width-md",Iw=s=>{switch(s){case"large":return O.some(sO);case"medium":return O.some(rO);default:return O.none()}},iO=(s,a)=>{const u=rn(a.element.dom);tl(u,Rw)||(rc(u,[sO,rO]),Iw(s).each(f=>kr(u,f)))},NM=(s,a)=>{const u=rn(s.element.dom),f=Bd(u),p=J(f,b=>b===sO||b===rO).or(Iw(a));((b,w)=>{Mt(w,k=>{((E,D)=>{Kg(E)?E.dom.classList.toggle(D):((F,P)=>et(Fv(F),P)?lx(F,P):G1(F,P))(E,D),Vv(E)})(b,k)})})(u,[Rw,...p.toArray()])},PM=(s,a,u)=>Ki(tO({...s,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[ow({}),...s.extraBehaviours],onEscape:f=>{ko(f,_h)},dialogEvents:a,eventOrder:{[oc()]:[mc.name(),yl.name()],[ua()]:["scroll-lock",mc.name(),"messages","dialog-events","alloy.base.behaviour"],[Oc()]:["alloy.base.behaviour","dialog-events","messages",mc.name(),"scroll-lock"]}})),Nw=(s,a={})=>Ye(s,u=>u.type==="menu"?(f=>{const p=Ye(f.items,b=>{const w=hn(a,b.name).getOr(Bn(!1));return{...b,storage:w}});return{...f,items:p}})(u):u),MM=s=>_n(s,(a,u)=>u.type==="menu"?_n(u.items,(f,p)=>(f[p.name]=p.storage,f),a):a,{}),aO=(s,a)=>[jg(bs(),P7),s(Up,(u,f,p,b)=>{fu(ut(b.element)).fold(se,tb),a.onClose(),f.onClose()}),s(_h,(u,f,p,b)=>{f.onCancel(u),ko(b,Up)}),St(p3,(u,f)=>a.onUnblock()),St(h3,(u,f)=>a.onBlock(f.event))],BM=(s,a,u)=>{const f=(b,w)=>St(b,(k,E)=>{p(k,(D,F)=>{w(s(),D,E.event,k)})}),p=(b,w)=>{mc.getState(b).get().each(k=>{w(k.internalDialog,b)})};return[...aO(f,a),f(J2,(b,w)=>w.onSubmit(b)),f(al,(b,w,k)=>{w.onChange(b,{name:k.name})}),f(Jf,(b,w,k,E)=>{const D=()=>E.getSystem().isConnected()?Nn.focusIn(E):void 0,F=G=>Tr(G,"disabled")||Zo(G,"aria-disabled").exists(X=>X==="true"),P=ut(E.element),z=fu(P);w.onAction(b,{name:k.name,value:k.value}),fu(P).fold(D,G=>{F(G)||z.exists(X=>Br(G,X)&&F(X))?D():u().toOptional().filter(X=>!Br(X.element,G)).each(D)})}),f(LI,(b,w,k)=>{w.onTabChange(b,{newTabName:k.name,oldTabName:k.oldName})}),qu(b=>{const w=s();lt.setValue(b,w.getData())})]},k9=(s,a)=>{const u=a.map(b=>b.footerButtons).getOr([]),f=oo(u,b=>b.align==="start"),p=(b,w)=>qd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:Ye(w,k=>k.memento.asSpec())});return[p("start",f.pass),p("end",f.fail)]},LM=(s,a,u)=>({dom:og('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([mc.config({channel:`${gN}-${a}`,initialData:s,updateState:(f,p)=>{const b=Ye(p.buttons,w=>{const k=Cs(((E,D)=>ay(E,E.type,D))(w,u));return{name:w.name,align:w.align,memento:k}});return O.some({lookupByName:w=>((k,E,D)=>J(E,F=>F.name===D).bind(F=>F.memento.getOpt(k)))(f,b,w),footerButtons:b})},renderComponents:k9})])}),lO=(s,a,u)=>Mr.parts.footer(LM(s,a,u)),Pw=(s,a)=>{if(s.getRoot().getSystem().isConnected()){const u=ns.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return jp.getField(u,a).orThunk(()=>s.getFooter().bind(p=>mc.getState(p).get()).bind(p=>p.lookupByName(a)))}return O.none()},FM=(s,a,u)=>{const f=b=>{const w=s.getRoot();w.getSystem().isConnected()&&b(w)},p={getData:()=>{const b=s.getRoot(),w=b.getSystem().isConnected()?s.getFormWrapper():b;return{...lt.getValue(w),...On(u,k=>k.get())}},setData:b=>{f(w=>{const k=p.getData(),E=Ps(k,b),D=((P,z)=>{const G=P.getRoot();return mc.getState(G).get().map(X=>Ba(Cr("data",X.dataValidator,z))).getOr(z)})(s,E),F=s.getFormWrapper();lt.setValue(F,D),An(u,(P,z)=>{Eo(E,z)&&P.set(E[z])})})},setEnabled:(b,w)=>{Pw(s,b).each(w?ro.enable:ro.disable)},focus:b=>{Pw(s,b).each(no.focus)},block:b=>{if(!v(b))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(w=>{Rn(w,h3,{message:b})})},unblock:()=>{f(b=>{ko(b,p3)})},showTab:b=>{f(w=>{const k=s.getBody();mc.getState(k).get().exists(E=>E.isTabPanel())&&ns.getCurrent(k).each(E=>{by.showTab(E,b)})})},redial:b=>{f(w=>{const k=s.getId(),E=a(b),D=Nw(E.internalDialog.buttons,u);w.getSystem().broadcastOn([`${Kp}-${k}`],E),w.getSystem().broadcastOn([`${Y3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${mN}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${gN}-${k}`],{...E.internalDialog,buttons:D}),p.setData(E.initialData)})},close:()=>{f(b=>{ko(b,Up)})},toggleFullscreen:s.toggleFullscreen};return p},VM=(s,a,u,f=!1,p)=>{const b=bn("dialog"),w=bn("dialog-label"),k=bn("dialog-content"),E=s.internalDialog,D=Bn(E.size),F=Iw(D.get()).toArray(),P=Cs(((Ce,Ee,ze,ot)=>qd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:[nO(Ce,Ee,O.some(ze),ot),oO(),OM(ot)],containerBehaviours:Zt([a1.config({mode:"mouse",blockerClass:"blocker",getTarget:Et=>Xu(Et,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},b,w,u.shared.providers)),z=Cs(((Ce,Ee,ze,ot,Et,_t)=>ik(Ce,Ee,O.some(ze),ot,Et,_t))({body:E.body,initialData:E.initialData},b,k,u,f,Ce=>Pw(de,Ce))),G=Nw(E.buttons),X=MM(G),ue=rs(G.length!==0,Cs(((Ce,Ee,ze)=>LM(Ce,Ee,ze))({buttons:G},b,u))),me=BM(()=>ve,{onBlock:Ce=>{fd.block(fe,(Ee,ze)=>{const ot=P.getOpt(fe).map(Et=>Or(Et.element));return RM(Ce.message,ze,u.shared.providers,ot)})},onUnblock:()=>{fd.unblock(fe)},onClose:()=>a.closeWindow()},u.shared.getSink),we=ra().os,fe=Ki({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...we.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[oc()]:[mc.name(),yl.name()],[pl()]:["execute-on-form"],[ua()]:["reflecting","execute-on-form"]},behaviours:Zt([Nn.config({mode:"cyclic",onEscape:Ce=>(ko(Ce,Up),O.some(!0)),useTabstopAt:Ce=>!sy(Ce)&&(Ga(Ce)!=="button"||Po(Ce,"disabled")!=="disabled"),firstTabstop:1}),mc.config({channel:`${Kp}-${b}`,updateState:(Ce,Ee)=>(D.set(Ee.internalDialog.size),iO(Ee.internalDialog.size,Ce),p(),O.some(Ee)),initialData:s}),no.config({}),Co("execute-on-form",me.concat([Tf(bs(),(Ce,Ee)=>{Nn.focusIn(Ce)}),St(Z1(),(Ce,Ee)=>{Ce.getSystem().broadcastOn([yS],{newFocus:Ee.event.newFocus})})])),fd.config({getRoot:()=>O.some(fe)}),Kn.config({}),ow({})]),components:[P.asSpec(),z.asSpec(),...ue.map(Ce=>Ce.asSpec()).toArray()]}),de={getId:ee(b),getRoot:ee(fe),getFooter:()=>ue.map(Ce=>Ce.get(fe)),getBody:()=>z.get(fe),getFormWrapper:()=>{const Ce=z.get(fe);return ns.getCurrent(Ce).getOr(Ce)},toggleFullscreen:()=>{NM(fe,D.get())}},ve=FM(de,a.redial,X);return{dialog:fe,instanceApi:ve}};var cO=tinymce.util.Tools.resolve("tinymce.util.URI");const E9=["insertContent","setContent","execCommand","close","block","unblock"],uO=s=>x(s)&&E9.indexOf(s.mceAction)!==-1,A9=(s,a,u,f)=>{const p=bn("dialog"),b=DM(s.title,p,f),w=(we=>{const fe={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[G3(O.none(),{dom:{tag:"iframe",attributes:{src:we.url}},behaviours:Zt([Zs.config({}),no.config({})])})]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(sy)})])};return Mr.parts.body(fe)})(s),k=s.buttons.bind(we=>we.length===0?O.none():O.some(lO({buttons:we},p,f))),E=((we,fe)=>{const de=(Ce,Ee)=>St(Ce,(ze,ot)=>{ve(ze,(Et,_t)=>{Ee(me,Et,ot.event,ze)})}),ve=(Ce,Ee)=>{mc.getState(Ce).get().each(ze=>{Ee(ze,Ce)})};return[...aO(de,fe),de(Jf,(Ce,Ee,ze)=>{Ee.onAction(Ce,{name:ze.name})})]})(0,IM(()=>ue,f.shared.providers,a)),D={...s.height.fold(()=>({}),we=>({height:we+"px","max-height":we+"px"})),...s.width.fold(()=>({}),we=>({width:we+"px","max-width":we+"px"}))},F=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],P=new cO(s.url,{base_uri:new cO(window.location.href)}),z=`${P.protocol}://${P.host}${P.port?":"+P.port:""}`,G=kc(),X=[mc.config({channel:`${Kp}-${p}`,updateState:(we,fe)=>O.some(fe),initialData:s}),Co("messages",[sr(()=>{const we=Ha(rn(window),"message",fe=>{if(P.isSameOrigin(new cO(fe.raw.origin))){const de=fe.raw.data;uO(de)?((ve,Ce,Ee)=>{switch(Ee.mceAction){case"insertContent":ve.insertContent(Ee.content);break;case"setContent":ve.setContent(Ee.content);break;case"execCommand":const ze=!!I(Ee.ui)&&Ee.ui;ve.execCommand(Ee.cmd,ze,Ee.value);break;case"close":Ce.close();break;case"block":Ce.block(Ee.message);break;case"unblock":Ce.unblock()}})(u,me,de):(ve=>!uO(ve)&&x(ve)&&Eo(ve,"mceAction"))(de)&&s.onMessage(me,de)}});G.set(we)}),qu(G.clear)]),yl.config({channels:{[X3]:{onReceive:(we,fe)=>{fr(we.element,"iframe").each(de=>{const ve=de.dom.contentWindow;K(ve)&&ve.postMessage(fe,z)})}}}})],ue=PM({id:p,header:b,body:w,footer:k,extraClasses:F,extraBehaviours:X,extraStyles:D},E,f),me=(we=>{const fe=de=>{we.getSystem().isConnected()&&de(we)};return{block:de=>{if(!v(de))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");fe(ve=>{Rn(ve,h3,{message:de})})},unblock:()=>{fe(de=>{ko(de,p3)})},close:()=>{fe(de=>{ko(de,Up)})},sendMessage:de=>{fe(ve=>{ve.getSystem().broadcastOn([X3],de)})}}})(ue);return{dialog:ue,instanceApi:me}},dO=(s,a)=>Ba(Cr("data",a,s)),zM=s=>ty(s,".tox-alert-dialog")||ty(s,".tox-confirm-dialog"),T9=(s,a,u)=>a&&u?[]:[dr.config({contextual:{lazyContext:()=>O.some(ii(rn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Ip(s,f.element).map(p=>({bounds:Np(p),optScrollEnv:O.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:Nl(p.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})],O9=s=>{const a=s.editor,u=vh(a),f=(E=>{const D=E.shared;return{open:(F,P)=>{const z=()=>{Mr.hide(me),P()},G=Cs(ay({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",E)),X=eO(),ue=QT(z,D.providers),me=Ki(tO({lazySink:()=>D.getSink(),header:Dw(X,ue),body:EM(F,D.providers),footer:O.some(AM(TM([],[G.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,z)],eventOrder:{}}));Mr.show(me);const we=G.get(me);no.focus(we)}}})(s.backstages.dialog),p=(E=>{const D=E.shared;return{open:(F,P)=>{const z=de=>{Mr.hide(we),P(de)},G=Cs(ay({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",E)),X=ay({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",E),ue=eO(),me=QT(()=>z(!1),D.providers),we=Ki(tO({lazySink:()=>D.getSink(),header:Dw(ue,me),body:EM(F,D.providers),footer:O.some(AM(TM([],[X,G.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,()=>z(!1)),St(J2,()=>z(!0))],eventOrder:{}}));Mr.show(we);const fe=G.get(we);no.focus(fe)}}})(s.backstages.dialog),b=(E,D)=>l1.open((F,P,z)=>{const G=P,X=((ue,me,we)=>{const fe=bn("dialog"),de=ue.internalDialog,ve=DM(de.title,fe,we),Ce=Bn(de.size),Ee=Iw(Ce.get()).toArray(),ze=((io,Lo,tr,mr)=>{const So=ik(io,Lo,O.none(),tr,!1,mr);return Mr.parts.body(So)})({body:de.body,initialData:de.initialData},fe,we,io=>Pw(kn,io)),ot=Nw(de.buttons),Et=MM(ot),_t=rs(ot.length!==0,lO({buttons:ot},fe,we)),wt=BM(()=>Hn,IM(()=>mn,we.shared.providers,me),we.shared.getSink),Ht={id:fe,header:ve,body:ze,footer:_t,extraClasses:Ee,extraBehaviours:[mc.config({channel:`${Kp}-${fe}`,updateState:(io,Lo)=>(Ce.set(Lo.internalDialog.size),iO(Lo.internalDialog.size,io),O.some(Lo)),initialData:ue})],extraStyles:{}},mn=PM(Ht,wt,we),kn={getId:ee(fe),getRoot:ee(mn),getBody:()=>Mr.getBody(mn),getFooter:()=>Mr.getFooter(mn),getFormWrapper:()=>{const io=Mr.getBody(mn);return ns.getCurrent(io).getOr(io)},toggleFullscreen:()=>{NM(mn,Ce.get())}},Hn=FM(kn,me.redial,Et);return{dialog:mn,instanceApi:Hn}})({dataValidator:z,initialData:G,internalDialog:F},{redial:l1.redial,closeWindow:()=>{Mr.hide(X.dialog),D(X.instanceApi)}},s.backstages.dialog);return Mr.show(X.dialog),X.instanceApi.setData(G),X.instanceApi},E),w=(E,D,F,P)=>l1.open((z,G,X)=>{const ue=dO(G,X),me=Es(),we=s.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(Ce=>{vr.reposition(Ce),u&&we||dr.refresh(Ce)}),de=VM({dataValidator:X,initialData:ue,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(vr.hide),a.off("ResizeEditor",fe),me.clear(),F(de.instanceApi)}},s.backstages.popup,P.ariaAttrs,fe),ve=Ki(vr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:P.persistent?{event:"doNotDismissYet"}:{},...we?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(Ce,Ee)=>{ko(de.dialog,_h)})]),...T9(a,u,we)]),isExtraPart:(Ce,Ee)=>zM(Ee)}));return me.set(ve),vr.showWithinBounds(ve,nl(de.dialog),{anchor:D},()=>{const Ce=a.inline?vn():rn(a.getContainer()),Ee=ii(Ce);return O.some(Ee)}),u&&we||(dr.refresh(ve),a.on("ResizeEditor",fe)),de.instanceApi.setData(ue),Nn.focusIn(de.dialog),de.instanceApi},E),k=(E,D,F,P)=>l1.open((z,G,X)=>{const ue=dO(G,X),me=Es(),we=s.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(Ce=>{vr.reposition(Ce),dr.refresh(Ce)}),de=VM({dataValidator:X,initialData:ue,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(vr.hide),a.off("ResizeEditor ScrollWindow ElementScroll",fe),me.clear(),F(de.instanceApi)}},s.backstages.popup,P.ariaAttrs,fe),ve=Ki(vr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:P.persistent?{event:"doNotDismissYet"}:{},...we?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(Ce,Ee)=>{ko(de.dialog,_h)})]),dr.config({contextual:{lazyContext:()=>O.some(ii(rn(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Ce=>Ip(a,Ce.element).map(Ee=>({bounds:Np(Ee),optScrollEnv:O.some({currentScrollTop:Ee.element.dom.scrollTop,scrollElmTop:Nl(Ee.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]),isExtraPart:(Ce,Ee)=>zM(Ee)}));return me.set(ve),vr.showWithinBounds(ve,nl(de.dialog),{anchor:D},()=>s.backstages.popup.shared.getSink().toOptional().bind(Ce=>{const Ee=Ip(a,Ce.element).map(Et=>Np(Et)).getOr(Ui()),ze=ii(rn(a.getContentAreaContainer())),ot=Od(ze,Ee);return O.some(Do(ot.x,ot.y,ot.width,ot.height-15))})),dr.refresh(ve),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",fe),de.instanceApi.setData(ue),Nn.focusIn(de.dialog),de.instanceApi},E);return{open:(E,D,F)=>{if(!L(D)){if(D.inline==="toolbar")return w(E,s.backstages.popup.shared.anchors.inlineDialog(),F,D);if(D.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),F,D);if(D.inline==="cursor")return w(E,s.backstages.popup.shared.anchors.cursor(),F,D)}return b(E,F)},openUrl:(E,D)=>((F,P)=>l1.openUrl(z=>{const G=A9(z,{closeWindow:()=>{Mr.hide(G.dialog),P(G.instanceApi)}},a,s.backstages.dialog);return Mr.show(G.dialog),G.instanceApi},F))(E,D),alert:(E,D)=>{f.open(E,D)},close:E=>{E.close()},confirm:(E,D)=>{p.open(E,D)}}};tp.add("silver",s=>{(k=>{j5(k),(E=>{const D=E.options.register,F=z=>oe(z,v)?{value:qF(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},P=z=>ne(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};D("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),D("color_map_background",{processor:F}),D("color_map_foreground",{processor:F}),D("color_cols",{processor:P,default:H_(E)}),D("color_cols_foreground",{processor:P,default:gI(E,GA)}),D("color_cols_background",{processor:P,default:gI(E,qA)}),D("custom_colors",{processor:"boolean",default:!0}),D("color_default_foreground",{processor:"string",default:Z2}),D("color_default_background",{processor:"string",default:Z2})})(k),(E=>{const D=E.options.register;D("contextmenu_avoid_overlap",{processor:"string",default:""}),D("contextmenu_never_use_native",{processor:"boolean",default:!1}),D("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:v(F)||oe(F,v)?{value:c6(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let a=()=>Ui();const{dialogs:u,popups:f,renderUI:p}=Lz(s,{getPopupSinkBounds:()=>a()});NI(s,f.backstage.shared);const b=O9({editor:s,backstages:{popup:f.backstage,dialog:u.backstage}}),w=Es();return{renderUI:()=>{const k=p();return Ip(s,f.getMothership().element).each(E=>{a=()=>Np(E)}),k},getWindowManagerImpl:ee(b),getNotificationManagerImpl:()=>yR(s,{backstage:f.backstage},f.getMothership(),w)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>_=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&(H=U=T,(te=String).prototype.isPrototypeOf(H)||((ie=U.constructor)===null||ie===void 0?void 0:ie.name)===te.name)?"string":B;var H,U,te,ie})(_)===y,l=y=>_=>typeof _===y,d=y=>_=>y===_,g=r("string"),v=r("object"),x=r("array"),S=d(null),M=l("boolean"),R=d(void 0),I=y=>!(_=>_==null)(y),L=l("function"),$=l("number"),K=()=>{},Y=y=>()=>y,ne=y=>y,oe=(y,_)=>y===_;function se(y,..._){return(...T)=>{const B=_.concat(T);return y.apply(null,B)}}const Me=y=>_=>!y(_),xe=y=>y(),ee=Y(!1),_e=Y(!0);class le{constructor(_,T){this.tag=_,this.value=T}static some(_){return new le(!0,_)}static none(){return le.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?le.some(_(this.value)):le.none()}bind(_){return this.tag?_(this.value):le.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:le.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return I(_)?le.some(_):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const Ue=Array.prototype.slice,We=Array.prototype.indexOf,qe=Array.prototype.push,st=(y,_)=>{return T=y,B=_,We.call(T,B)>-1;var T,B},ke=(y,_)=>{for(let T=0,B=y.length;T<B;T++)if(_(y[T],T))return!0;return!1},Le=(y,_)=>{const T=[];for(let B=0;B<y;B++)T.push(_(B));return T},O=(y,_)=>{const T=y.length,B=new Array(T);for(let H=0;H<T;H++){const U=y[H];B[H]=_(U,H)}return B},Ke=(y,_)=>{for(let T=0,B=y.length;T<B;T++)_(y[T],T)},ct=(y,_)=>{const T=[],B=[];for(let H=0,U=y.length;H<U;H++){const te=y[H];(_(te,H)?T:B).push(te)}return{pass:T,fail:B}},$t=(y,_)=>{const T=[];for(let B=0,H=y.length;B<H;B++){const U=y[B];_(U,B)&&T.push(U)}return T},Jt=(y,_,T)=>(((B,H)=>{for(let U=B.length-1;U>=0;U--)H(B[U],U)})(y,(B,H)=>{T=_(T,B,H)}),T),et=(y,_,T)=>(Ke(y,(B,H)=>{T=_(T,B,H)}),T),pt=(y,_)=>((T,B,H)=>{for(let U=0,te=T.length;U<te;U++){const ie=T[U];if(B(ie,U))return le.some(ie);if(H(ie,U))break}return le.none()})(y,_,ee),Lt=(y,_)=>{for(let T=0,B=y.length;T<B;T++)if(_(y[T],T))return le.some(T);return le.none()},tt=y=>{const _=[];for(let T=0,B=y.length;T<B;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);qe.apply(_,y[T])}return _},Ye=(y,_)=>tt(O(y,_)),Mt=(y,_)=>{for(let T=0,B=y.length;T<B;++T)if(_(y[T],T)!==!0)return!1;return!0},oo=(y,_)=>{const T={};for(let B=0,H=y.length;B<H;B++){const U=y[B];T[String(U)]=_(U,B)}return T},Fn=(y,_)=>_>=0&&_<y.length?le.some(y[_]):le.none(),fn=y=>Fn(y,0),_n=y=>Fn(y,y.length-1),J=(y,_)=>{for(let T=0;T<y.length;T++){const B=_(y[T],T);if(B.isSome())return B}return le.none()},xs=Object.keys,eo=Object.hasOwnProperty,tn=(y,_)=>{const T=xs(y);for(let B=0,H=T.length;B<H;B++){const U=T[B];_(y[U],U)}},To=(y,_)=>je(y,(T,B)=>({k:B,v:_(T,B)})),je=(y,_)=>{const T={};return tn(y,(B,H)=>{const U=_(B,H);T[U.k]=U.v}),T},ae=(y,_)=>{const T=[];return tn(y,(B,H)=>{T.push(_(B,H))}),T},be=y=>ae(y,ne),Be=(y,_)=>eo.call(y,_),he=typeof window<"u"?window:Function("return this;")(),gt=(y,_)=>((T,B)=>{let H=B??he;for(let U=0;U<T.length&&H!=null;++U)H=H[T[U]];return H})(y.split("."),_),zt=Object.getPrototypeOf,vt=y=>{const _=gt("ownerDocument.defaultView",y);return v(y)&&((T=>((B,H)=>{const U=((te,ie)=>gt(te,ie))(B,H);if(U==null)throw new Error(B+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(zt(y).constructor.name))},Ft=y=>y.dom.nodeName.toLowerCase(),Vt=y=>y.dom.nodeType,wn=y=>_=>Vt(_)===y,cn=y=>Vt(y)===8||Ft(y)==="#comment",An=y=>On(y)&&vt(y.dom),On=wn(1),wo=wn(3),Oo=wn(9),Ho=wn(11),cs=y=>_=>On(_)&&Ft(_)===y,ar=(y,_,T)=>{if(!(g(T)||M(T)||$(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},fs=(y,_,T)=>{ar(y.dom,_,T)},Ar=(y,_)=>{const T=y.dom;tn(_,(B,H)=>{ar(T,H,B)})},hn=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},Eo=(y,_)=>le.from(hn(y,_)),vo=(y,_)=>{y.dom.removeAttribute(_)},or=y=>et(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),ea=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Kt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return ea(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return ea(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return ea(T)},fromDom:ea,fromPoint:(y,_,T)=>le.from(y.dom.elementFromPoint(_,T)).map(ea)},mi=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(_);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(_);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(_);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},rs=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Ul=(y,_)=>{const T=_===void 0?document:_.dom;return rs(T)?le.none():le.from(T.querySelector(y)).map(Kt.fromDom)},$s=(y,_)=>y.dom===_.dom,Qr=(y,_)=>{const T=y.dom,B=_.dom;return T!==B&&T.contains(B)},bm=mi,Nu=y=>Kt.fromDom(y.dom.ownerDocument),Cc=y=>Oo(y)?y:Nu(y),ul=y=>le.from(y.dom.parentNode).map(Kt.fromDom),Pu=y=>le.from(y.dom.parentElement).map(Kt.fromDom),Os=(y,_)=>{const T=L(_)?_:ee;let B=y.dom;const H=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const U=B.parentNode,te=Kt.fromDom(U);if(H.push(te),T(te)===!0)break;B=U}return H},ao=y=>le.from(y.dom.previousSibling).map(Kt.fromDom),Wl=y=>le.from(y.dom.nextSibling).map(Kt.fromDom),Ti=y=>O(y.dom.childNodes,Kt.fromDom),Mu=(y,_)=>{const T=y.dom.childNodes;return le.from(T[_]).map(Kt.fromDom)},rn=(y,_)=>{ul(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},Bu=(y,_)=>{Wl(y).fold(()=>{ul(y).each(T=>{hr(T,_)})},T=>{rn(T,_)})},ym=(y,_)=>{(B=>Mu(B,0))(y).fold(()=>{hr(y,_)},B=>{y.dom.insertBefore(_.dom,B.dom)})},hr=(y,_)=>{y.dom.appendChild(_.dom)},xm=(y,_)=>{rn(y,_),hr(_,y)},Ga=(y,_)=>{Ke(_,(T,B)=>{const H=B===0?y:_[B-1];Bu(H,T)})},Ol=(y,_)=>{Ke(_,T=>{hr(y,T)})},dl=y=>{y.dom.textContent="",Ke(Ti(y),_=>{lr(_)})},lr=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},Ca=y=>{const _=Ti(y);_.length>0&&Ga(y,_),lr(y)},Dl=(y,_)=>Kt.fromDom(y.dom.cloneNode(_)),wm=y=>Dl(y,!1),Gc=y=>Dl(y,!0),qc=(y,_)=>{const T=Kt.fromTag(_),B=or(y);return Ar(T,B),T},uf=["tfoot","thead","tbody","colgroup"],Sd=(y,_,T)=>({element:y,rowspan:_,colspan:T}),is=(y,_,T)=>({element:y,cells:_,section:T}),Br=(y,_,T)=>({element:y,isNew:_,isLocked:T}),ri=(y,_,T,B)=>({element:y,cells:_,section:T,isNew:B}),Cm=y=>Kt.fromDom(y.dom.host),qa=y=>{const _=wo(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const te=(ye=>Kt.fromDom(ye.dom.getRootNode()))(U);return Ho(ie=te)&&I(ie.dom.host)?le.some(te):le.none();var ie})(Kt.fromDom(_)).fold(()=>T.body.contains(_),(B=qa,H=Cm,U=>B(H(U))));var B,H},Yc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Kt.fromDom(_)},_a=(y,_)=>{let T=[];return Ke(Ti(y),B=>{_(B)&&(T=T.concat([B])),T=T.concat(_a(B,_))}),T},Sa=(y,_,T)=>((B,H,U)=>$t(Os(B,U),te=>mi(te,_)))(y,0,T),Xc=(y,_)=>((T,B)=>$t(Ti(T),H=>mi(H,_)))(y),Ns=(y,_)=>((T,B)=>{const H=B===void 0?document:B.dom;return rs(H)?[]:O(H.querySelectorAll(T),Kt.fromDom)})(_,y);var cr=(y,_,T,B,H)=>y(T,B)?le.some(T):L(H)&&H(T)?le.none():_(T,B,H);const Te=(y,_,T)=>{let B=y.dom;const H=L(T)?T:ee;for(;B.parentNode;){B=B.parentNode;const U=Kt.fromDom(B);if(_(U))return le.some(U);if(H(U))break}return le.none()},nt=(y,_,T)=>cr((B,H)=>H(B),Te,y,_,T),Ne=(y,_,T)=>Te(y,B=>mi(B,_),T),mt=(y,_)=>((T,B)=>pt(T.dom.childNodes,H=>{return U=Kt.fromDom(H),mi(U,_);var U}).map(Kt.fromDom))(y),ut=(y,_)=>Ul(_,y),Je=(y,_,T)=>cr((B,H)=>mi(B,H),Ne,y,_,T),Wt=(y,_,T=oe)=>y.exists(B=>T(B,_)),nn=y=>{const _=[],T=B=>{_.push(B)};for(let B=0;B<y.length;B++)y[B].each(T);return _},un=(y,_)=>y?le.some(_):le.none(),vn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,an=(y,_,T=0,B)=>{const H=y.indexOf(_,T);return H!==-1&&(!!R(B)||H+_.length<=B)},ho=(y,_)=>vn(y,_,0),sn=(y,_)=>vn(y,_,y.length-_.length),ks=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),Po=y=>y.length>0,Zo=y=>y.style!==void 0&&L(y.style.getPropertyValue),Tr=(y,_,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Zo(y)&&y.style.setProperty(_,T)},_o=(y,_,T)=>{const B=y.dom;Tr(B,_,T)},Rl=(y,_)=>{const T=y.dom;tn(_,(B,H)=>{Tr(T,H,B)})},ta=(y,_)=>{const T=y.dom,B=window.getComputedStyle(T).getPropertyValue(_);return B!==""||qa(y)?B:co(T,_)},co=(y,_)=>Zo(y)?y.style.getPropertyValue(_):"",Ya=(y,_)=>{const T=y.dom,B=co(T,_);return le.from(B).filter(H=>H.length>0)},fl=(y,_)=>{((T,B)=>{Zo(T)&&T.style.removeProperty(B)})(y.dom,_),Wt(Eo(y,"style").map(ks),"")&&vo(y,"style")},wr=(y,_,T=0)=>Eo(y,_).map(B=>parseInt(B,10)).getOr(T),kd=(y,_)=>wr(y,_,1),Hr=y=>cs("col")(y)?wr(y,"span",1)>1:kd(y,"colspan")>1,df=(y,_)=>parseInt(ta(y,_),10),Il=Y(10),ws=Y(10),Lu=(y,_)=>_m(y,_,_e),_m=(y,_,T)=>Ye(Ti(y),B=>mi(B,_)?T(B)?[B]:[]:_m(B,_,T)),Jh=(y,_)=>((T,B,H=ee)=>H(B)?le.none():st(T,Ft(B))?le.some(B):Ne(B,T.join(","),U=>mi(U,"table")||H(U)))(["td","th"],y,_),Or=y=>Lu(y,"th,td"),_c=y=>mi(y,"colgroup")?Xc(y,"col"):Ye(Sm(y),_=>Xc(_,"col")),ml=(y,_)=>Je(y,"table",_),Xs=y=>Lu(y,"tr"),Sm=y=>ml(y).fold(Y([]),_=>Xc(_,"colgroup")),Nl=(y,_)=>O(y,T=>{if(Ft(T)==="colgroup"){const B=O(_c(T),H=>{const U=wr(H,"span",1);return Sd(H,1,U)});return is(T,B,"colgroup")}{const B=O(Or(T),H=>{const U=wr(H,"rowspan",1),te=wr(H,"colspan",1);return Sd(H,U,te)});return is(T,B,_(T))}}),na=y=>ul(y).map(_=>{const T=Ft(_);return(B=>st(uf,B))(T)?T:"tbody"}).getOr("tbody"),Mg=y=>{const _=Xs(y),T=[...Sm(y),..._];return Nl(T,na)},Oi=y=>{let _,T=!1;return(...B)=>(T||(T=!0,_=y.apply(null,B)),_)},Xa=()=>oa(0,0),oa=(y,_)=>({major:y,minor:_}),Pl={nu:oa,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Xa():((B,H)=>{const U=((ie,ye)=>{for(let Ie=0;Ie<ie.length;Ie++){const Ze=ie[Ie];if(Ze.test(ye))return Ze}})(B,H);if(!U)return{major:0,minor:0};const te=ie=>Number(H.replace(U,"$"+ie));return oa(te(1),te(2))})(y,T)},unknown:Xa},Qh=(y,_)=>{const T=String(_).toLowerCase();return pt(y,B=>B.search(T))},Mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jc=y=>_=>an(_,y),Ed=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>an(y,"edge/")&&an(y,"chrome")&&an(y,"safari")&&an(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mo],search:y=>an(y,"chrome")&&!an(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>an(y,"msie")||an(y,"trident")},{name:"Opera",versionRegexes:[Mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jc("firefox")},{name:"Safari",versionRegexes:[Mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(an(y,"safari")||an(y,"mobile/"))&&an(y,"applewebkit")}],Fu=[{name:"Windows",search:Jc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>an(y,"iphone")||an(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Jc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jc("linux"),versionRegexes:[]},{name:"Solaris",search:Jc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Jc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sv={browsers:Y(Ed),oses:Y(Fu)},ex="Edge",B1="Chromium",L1="Opera",vC="Firefox",ep="Safari",F1=y=>{const _=y.current,T=y.version,B=H=>()=>_===H;return{current:_,version:T,isEdge:B(ex),isChromium:B(B1),isIE:B("IE"),isOpera:B(L1),isFirefox:B(vC),isSafari:B(ep)}},Xt=()=>F1({current:void 0,version:Pl.unknown()}),ff=F1,mf="Windows",V1="Android",sa="Linux",gf="macOS",Bg="Solaris",tx="FreeBSD",nx="ChromeOS",kv=y=>{const _=y.current,T=y.version,B=H=>()=>_===H;return{current:_,version:T,isWindows:B(mf),isiOS:B("iOS"),isAndroid:B(V1),isMacOS:B(gf),isLinux:B(sa),isSolaris:B(Bg),isFreeBSD:B(tx),isChromeOS:B(nx)}},ox=()=>kv({current:void 0,version:Pl.unknown()}),z1=kv,sx=y=>window.matchMedia(y).matches;let Lg=Oi(()=>((y,_,T)=>{const B=Sv.browsers(),H=Sv.oses(),U=_.bind(ye=>((Ie,Ze)=>J(Ze.brands,De=>{const Pe=De.brand.toLowerCase();return pt(Ie,Ve=>{var rt;return Pe===((rt=Ve.brand)===null||rt===void 0?void 0:rt.toLowerCase())}).map(Ve=>({current:Ve.name,version:Pl.nu(parseInt(De.version,10),0)}))}))(B,ye)).orThunk(()=>((ye,Ie)=>Qh(ye,Ie).map(Ze=>{const De=Pl.detect(Ze.versionRegexes,Ie);return{current:Ze.name,version:De}}))(B,y)).fold(Xt,ff),te=((ye,Ie)=>Qh(ye,Ie).map(Ze=>{const De=Pl.detect(Ze.versionRegexes,Ie);return{current:Ze.name,version:De}}))(H,y).fold(ox,z1),ie=((ye,Ie,Ze,De)=>{const Pe=ye.isiOS()&&/ipad/i.test(Ze)===!0,Ve=ye.isiOS()&&!Pe,rt=ye.isiOS()||ye.isAndroid(),at=rt||De("(pointer:coarse)"),Tt=Pe||!Ve&&rt&&De("(min-device-width:768px)"),Rt=Ve||rt&&!Tt,At=Ie.isSafari()&&ye.isiOS()&&/safari/i.test(Ze)===!1,Pt=!Rt&&!Tt&&!At;return{isiPad:Y(Pe),isiPhone:Y(Ve),isTablet:Y(Tt),isPhone:Y(Rt),isTouch:Y(at),isAndroid:ye.isAndroid,isiOS:ye.isiOS,isWebView:Y(At),isDesktop:Y(Pt)}})(te,U,y,T);return{browser:U,os:te,deviceType:ie}})(window.navigator.userAgent,le.from(window.navigator.userAgentData),sx));const H1=()=>Lg(),hf=(y,_)=>{const T=H=>{const U=_(H);if(U<=0||U===null){const te=ta(H,y);return parseFloat(te)||0}return U},B=(H,U)=>et(U,(te,ie)=>{const ye=ta(H,ie),Ie=ye===void 0?0:parseInt(ye,10);return isNaN(Ie)?te:te+Ie},0);return{set:(H,U)=>{if(!$(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const te=H.dom;Zo(te)&&(te.style[y]=U+"px")},get:T,getOuter:T,aggregate:B,max:(H,U,te)=>{const ie=B(H,te);return U>ie?U-ie:0}}},pf=(y,_,T)=>((B,H)=>(U=>{const te=parseFloat(U);return isNaN(te)?le.none():le.some(te)})(B).getOr(H))(ta(y,_),T),ra=hf("width",y=>y.dom.offsetWidth),gl=y=>ra.get(y),Fg=y=>ra.getOuter(y),qo=y=>((_,T)=>{const B=_.dom,H=B.getBoundingClientRect().width||B.offsetWidth;return T==="border-box"?H:((U,te,ie,ye)=>te-pf(U,`padding-${ie}`,0)-pf(U,`padding-${ye}`,0)-pf(U,`border-${ie}-width`,0)-pf(U,`border-${ye}-width`,0))(_,H,"left","right")})(y,"content-box"),Ad=(y,_,T)=>{const B=y.cells,H=B.slice(0,_),U=B.slice(_),te=H.concat(T).concat(U);return Na(y,te)},Vg=(y,_,T)=>Ad(y,_,[T]),zg=(y,_,T)=>{y.cells[_]=T},Na=(y,_)=>ri(y.element,_,y.section,y.isNew),$r=(y,_)=>y.cells[_],ur=(y,_)=>$r(y,_).element,$i=y=>y.cells.length,Js=y=>{const _=ct(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},vf=(y,_,T)=>{const B=O(y.cells,T);return ri(_(y.element),B,y.section,!0)},km="data-snooker-locked-cols",yi=y=>Eo(y,km).bind(_=>le.from(_.match(/\d+/g))).map(_=>oo(_,_e)),Pa=y=>{const _=et(Js(y).rows,(B,H)=>(Ke(H.cells,(U,te)=>{U.isLocked&&(B[te]=!0)}),B),{}),T=ae(_,(B,H)=>parseInt(H,10));return((B,H)=>{const U=Ue.call(B,0);return U.sort(void 0),U})(T)},ka=(y,_)=>y+","+_,Qc=(y,_)=>{const T=Ye(y.all,B=>B.cells);return $t(T,_)},Td=y=>{const _={},T=[],B=fn(y).map(Pe=>Pe.element).bind(ml).bind(yi).getOr({});let H=0,U=0,te=0;const{pass:ie,fail:ye}=ct(y,Pe=>Pe.section==="colgroup");Ke(ye,Pe=>{const Ve=[];Ke(Pe.cells,rt=>{let at=0;for(;_[ka(te,at)]!==void 0;)at++;const Tt=((At,Pt)=>Be(At,Pt)&&At[Pt]!==void 0&&At[Pt]!==null)(B,at.toString()),Rt=((At,Pt,Gt,Qt,lt,yn)=>({element:At,rowspan:Pt,colspan:Gt,row:Qt,column:lt,isLocked:yn}))(rt.element,rt.rowspan,rt.colspan,te,at,Tt);for(let At=0;At<rt.colspan;At++)for(let Pt=0;Pt<rt.rowspan;Pt++){const Gt=at+At,Qt=ka(te+Pt,Gt);_[Qt]=Rt,U=Math.max(U,Gt+1)}Ve.push(Rt)}),H++,T.push(is(Pe.element,Ve,Pe.section)),te++});const{columns:Ie,colgroups:Ze}=_n(ie).map(Pe=>{const Ve=(at=>{const Tt={};let Rt=0;return Ke(at.cells,At=>{const Pt=At.colspan;Le(Pt,Gt=>{const Qt=Rt+Gt;Tt[Qt]=((lt,yn,Yn)=>({element:lt,colspan:yn,column:Yn}))(At.element,Pt,Qt)}),Rt+=Pt}),Tt})(Pe);return{colgroups:[((at,Tt)=>({element:at,columns:Tt}))(Pe.element,be(Ve))],columns:Ve}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Pe,Ve)=>({rows:Pe,columns:Ve}))(H,U),access:_,all:T,columns:Ie,colgroups:Ze}},Do=y=>{const _=Mg(y);return Td(_)},ii=Td,hl=(y,_,T)=>le.from(y.access[ka(_,T)]),Od=(y,_,T)=>{const B=Qc(y,H=>T(_,H.element));return B.length>0?le.some(B[0]):le.none()},Ui=Qc,Bn=y=>Ye(y.all,_=>_.cells),Sc=y=>be(y.columns),kc=y=>xs(y.columns).length>0,Es=(y,_)=>le.from(y.columns[_]),tp=(y,_=_e)=>{const T=y.grid,B=Le(T.columns,ne),H=Le(T.rows,ne);return O(B,U=>Ev(()=>Ye(H,te=>hl(y,te,U).filter(ie=>ie.column===U).toArray()),te=>te.colspan===1&&_(te.element),()=>hl(y,0,U)))},Ev=(y,_,T)=>{const B=y();return pt(B,_).orThunk(()=>le.from(B[0]).orThunk(T)).map(H=>H.element)},Dd=y=>{const _=y.grid,T=Le(_.rows,ne),B=Le(_.columns,ne);return O(T,H=>Ev(()=>Ye(B,U=>hl(y,H,U).filter(te=>te.row===H).fold(Y([]),te=>[te])),U=>U.rowspan===1,()=>hl(y,H,0)))},Bo=(y,_)=>T=>Ma(T)==="rtl"?_:y,Ma=y=>ta(y,"direction")==="rtl"?"rtl":"ltr",np=hf("height",y=>{const _=y.dom;return qa(y)?_.getBoundingClientRect().height:_.offsetHeight}),Rd=y=>np.get(y),Av=y=>np.getOuter(y),eu=(y,_)=>({left:y,top:_,translate:(T,B)=>eu(y+T,_+B)}),Ja=eu,tu=(y,_)=>y!==void 0?y:_!==void 0?_:0,bf=y=>{const _=y.dom.ownerDocument,T=_.body,B=_.defaultView,H=_.documentElement;if(T===y.dom)return Ja(T.offsetLeft,T.offsetTop);const U=tu(B==null?void 0:B.pageYOffset,H.scrollTop),te=tu(B==null?void 0:B.pageXOffset,H.scrollLeft),ie=tu(H.clientTop,T.clientTop),ye=tu(H.clientLeft,T.clientLeft);return Fe(y).translate(te-ye,U-ie)},Fe=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Ja(T.offsetLeft,T.offsetTop):qa(y)?(B=>{const H=B.getBoundingClientRect();return Ja(H.left,H.top)})(_):Ja(0,0)},Em=(y,_)=>({row:y,y:_}),Ps=(y,_)=>({col:y,x:_}),Tv=y=>bf(y).left+Fg(y),Hg=y=>bf(y).left,nu=(y,_)=>Ps(y,Hg(_)),Yo=(y,_)=>Ps(y,Tv(_)),ia=y=>bf(y).top,Vu=(y,_)=>Em(y,ia(_)),tc=(y,_)=>Em(y,ia(_)+Av(_)),zu=(y,_,T)=>{if(T.length===0)return[];const B=O(T.slice(1),(U,te)=>U.map(ie=>y(te,ie))),H=T[T.length-1].map(U=>_(T.length-1,U));return B.concat([H])},Hu={delta:ne,positions:y=>zu(Vu,tc,y),edge:ia},aa=Bo({delta:ne,edge:Hg,positions:y=>zu(nu,Yo,y)},{delta:y=>-y,edge:Tv,positions:y=>zu(Yo,nu,y)}),yf={delta:(y,_)=>aa(_).delta(y,_),positions:(y,_)=>aa(_).positions(y,_),edge:y=>aa(y).edge(y)},Am={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ov=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=H=>`(?:${H})?`,B=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),xi=/(\d+(\.\d+)?)%/,Wn=/(\d+(\.\d+)?)px|em/,$u=cs("col"),Tm=cs("tr"),la=(y,_,T)=>{const B=Pu(y).getOrThunk(()=>Yc(Nu(y)));return _(y)/T(B)*100},Uu=(y,_)=>{_o(y,"width",_+"px")},Ml=(y,_)=>{_o(y,"width",_+"%")},Wu=(y,_)=>{_o(y,"height",_+"px")},Id=y=>{const _=(T=>{return pf(B=T,"height",B.dom.offsetHeight)+"px";var B})(y);return _?((T,B,H,U)=>{const te=parseFloat(T);return sn(T,"%")&&Ft(B)!=="table"?((ie,ye,Ie,Ze)=>{const De=ml(ie).map(Pe=>{const Ve=Ie(Pe);return Math.floor(ye/100*Ve)}).getOr(ye);return Ze(ie,De),De})(B,te,H,U):te})(_,y,Rd,Wu):Rd(y)},wi=(y,_)=>Ya(y,_).orThunk(()=>Eo(y,_).map(T=>T+"px")),nc=y=>wi(y,"width"),ou=y=>la(y,gl,qo),Om=y=>{return $u(y)?gl(y):pf(_=y,"width",_.dom.offsetWidth);var _},$1=y=>Tm(y)?Rd(y):((_,T,B)=>B(_)/kd(_,"rowspan"))(y,0,Id),Zu=(y,_,T)=>{_o(y,"width",_+T)},xf=y=>la(y,gl,qo)+"%",Dv=Y(xi),Cr=cs("col"),Ba=y=>nc(y).getOrThunk(()=>Om(y)+"px"),Ea=y=>{return(_=y,wi(_,"height")).getOrThunk(()=>$1(y)+"px");var _},Qa=(y,_,T,B,H,U)=>y.filter(B).fold(()=>U(((te,ie)=>{if(ie<0||ie>=te.length-1)return le.none();const ye=te[ie].fold(()=>{const Ze=(De=>{const Pe=Ue.call(De,0);return Pe.reverse(),Pe})(te.slice(0,ie));return J(Ze,(De,Pe)=>De.map(Ve=>({value:Ve,delta:Pe+1})))},Ze=>le.some({value:Ze,delta:0})),Ie=te[ie+1].fold(()=>{const Ze=te.slice(ie+1);return J(Ze,(De,Pe)=>De.map(Ve=>({value:Ve,delta:Pe+1})))},Ze=>le.some({value:Ze,delta:1}));return ye.bind(Ze=>Ie.map(De=>{const Pe=De.delta+Ze.delta;return Math.abs(De.value-Ze.value)/Pe}))})(T,_)),te=>H(te)),gi=(y,_,T,B)=>{const H=tp(y),U=kc(y)?(ye=>O(Sc(ye),Ie=>le.from(Ie.element)))(y):H,te=[le.some(yf.edge(_))].concat(O(yf.positions(H,_),ye=>ye.map(Ie=>Ie.x))),ie=Me(Hr);return O(U,(ye,Ie)=>Qa(ye,Ie,te,ie,Ze=>{if((Pe=>{const Ve=H1().browser,rt=Ve.isChromium()||Ve.isFirefox();return!Cr(Pe)||rt})(Ze))return T(Ze);{const Pe=(De=H[Ie])!=null?ne(De):le.none();return Qa(Pe,Ie,te,ie,Ve=>B(le.some(gl(Ve))),B)}var De},B))},op=y=>y.map(_=>_+"px").getOr(""),ai=(y,_,T)=>gi(y,_,Om,B=>B.getOrThunk(T.minCellWidth)),Wi=(y,_,T,B)=>{const H=Dd(y),U=O(y.all,ie=>le.some(ie.element)),te=[le.some(Hu.edge(_))].concat(O(Hu.positions(H,_),ie=>ie.map(ye=>ye.y)));return O(U,(ie,ye)=>Qa(ie,ye,te,_e,T,B))},su=(y,_)=>()=>qa(y)?_(y):parseFloat(Ya(y,"width").getOr("0")),Ot=y=>{const _=su(y,B=>parseFloat(xf(B))),T=su(y,gl);return{width:_,pixelWidth:T,getWidths:(B,H)=>((U,te,ie)=>gi(U,te,ou,ye=>ye.fold(()=>ie.minCellWidth(),Ie=>Ie/ie.pixelWidth()*100)))(B,y,H),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,H)=>[100-B],minCellWidth:()=>Il()/T()*100,setElementWidth:Ml,adjustTableWidth:B=>{const H=_();Ml(y,H+B/100*H)},isRelative:!0,label:"percent"}},Zi=y=>{const _=su(y,gl);return{width:_,pixelWidth:_,getWidths:(T,B)=>ai(T,y,B),getCellDelta:ne,singleColumnWidth:(T,B)=>[Math.max(Il(),T+B)-T],minCellWidth:Il,setElementWidth:Uu,adjustTableWidth:T=>{const B=_()+T;Uu(y,B)},isRelative:!1,label:"pixel"}},sp=y=>nc(y).fold(()=>(_=>{const T=su(_,gl),B=Y(0);return{width:T,pixelWidth:T,getWidths:(H,U)=>ai(H,_,U),getCellDelta:B,singleColumnWidth:Y([0]),minCellWidth:B,setElementWidth:K,adjustTableWidth:K,isRelative:!0,label:"none"}})(y),_=>((T,B)=>Dv().exec(B)!==null?Ot(T):Zi(T))(y,_)),_r=Zi,ju=Ot,La=(y,_,T)=>{const B=y[T].element,H=Kt.fromTag("td");hr(H,Kt.fromTag("br")),(_?hr:ym)(B,H)},Ec=((y,_)=>{const T=B=>y(B)?le.from(B.dom.nodeValue):le.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,H)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=H}}})(wo),Dm=y=>Ec.get(y),el=y=>Ec.getOption(y),jo=(y,_)=>Ec.set(y,_),Ur=y=>Ft(y)==="img"?1:el(y).fold(()=>Ti(y).length,_=>_.length),wf=["img","br"],Lr=y=>el(y).filter(_=>_.trim().length!==0||_.indexOf(" ")>-1).isSome()||st(wf,Ft(y))||(_=>An(_)&&hn(_,"contenteditable")==="false")(y),$g=y=>((_,T)=>{const B=H=>{for(let U=0;U<H.childNodes.length;U++){const te=Kt.fromDom(H.childNodes[U]);if(T(te))return le.some(te);const ie=B(H.childNodes[U]);if(ie.isSome())return ie}return le.none()};return B(_.dom)})(y,Lr),ru=y=>U1(y,Lr),U1=(y,_)=>{const T=B=>{const H=Ti(B);for(let U=H.length-1;U>=0;U--){const te=H[U];if(_(te))return le.some(te);const ie=T(te);if(ie.isSome())return ie}return le.none()};return T(y)},Dr={scope:["row","col"]},it=y=>()=>{const _=Kt.fromTag("td",y.dom);return hr(_,Kt.fromTag("br",y.dom)),_},Fa=y=>()=>Kt.fromTag("col",y.dom),Wr=y=>()=>Kt.fromTag("colgroup",y.dom),Zl=y=>()=>Kt.fromTag("tr",y.dom),Ac=(y,_,T)=>{const B=((H,U)=>{const te=qc(H,U),ie=Ti(Gc(H));return Ol(te,ie),te})(y,_);return tn(T,(H,U)=>{H===null?vo(B,U):fs(B,U,H)}),B},ei=y=>y,Qs=(y,_,T)=>{const B=(H,U)=>{((te,ie)=>{const ye=te.dom,Ie=ie.dom;Zo(ye)&&Zo(Ie)&&(Ie.style.cssText=ye.style.cssText)})(H.element,U),fl(U,"height"),H.colspan!==1&&fl(U,"width")};return{col:H=>{const U=Kt.fromTag(Ft(H.element),_.dom);return B(H,U),y(H.element,U),U},colgroup:Wr(_),row:Zl(_),cell:H=>{const U=Kt.fromTag(Ft(H.element),_.dom),te=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ie=te.length>0?((ye,Ie,Ze)=>$g(ye).map(De=>{const Pe=Ze.join(","),Ve=Sa(De,Pe,rt=>$s(rt,ye));return Jt(Ve,(rt,at)=>{const Tt=wm(at);return hr(rt,Tt),Tt},Ie)}).getOr(Ie))(H.element,U,te):U;return hr(ie,Kt.fromTag("br")),B(H,U),((ye,Ie)=>{tn(Dr,(Ze,De)=>Eo(ye,De).filter(Pe=>st(Ze,Pe)).each(Pe=>fs(Ie,De,Pe)))})(H.element,U),y(H.element,U),U},replace:Ac,colGap:Fa(_),gap:it(_)}},Ds=y=>({col:Fa(y),colgroup:Wr(y),row:Zl(y),cell:it(y),replace:ei,colGap:Fa(y),gap:it(y)}),Va=y=>_=>_.options.get(y),jl="100%",iu=y=>{var _;const T=y.dom,B=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return qo(Kt.fromDom(B))+"px"},Nd=y=>le.from(y.options.get("table_clone_elements")),Rm=Va("table_header_type"),Ug=Va("table_column_resizing"),Wg=y=>Ug(y)==="preservetable",Rv=y=>Ug(y)==="resizetable",Iv=Va("table_sizing_mode"),Ku=y=>Iv(y)==="relative",N=y=>Iv(y)==="fixed",W=y=>Iv(y)==="responsive",re=Va("table_resize_bars"),Re=Va("table_style_by_css"),$e=Va("table_merge_content_on_paste"),Dt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((B,H)=>W(B)||Re(B)?H:N(B)?{...H,width:iu(B)}:{...H,width:jl})(y,T)},Zn=Va("table_use_colgroups"),po=y=>Je(y,"[contenteditable]"),lo=(y,_=!1)=>qa(y)?y.dom.isContentEditable:po(y).fold(Y(_),T=>Tn(T)==="true"),Tn=y=>y.dom.contentEditable,bs=y=>Kt.fromDom(y.getBody()),Zr=y=>_=>$s(_,bs(y)),Sr=y=>{vo(y,"data-mce-style");const _=T=>vo(T,"data-mce-style");Ke(Or(y),_),Ke(_c(y),_),Ke(Xs(y),_)},Tc=y=>Kt.fromDom(y.selection.getStart()),Im=y=>y.getBoundingClientRect().width,Nm=y=>y.getBoundingClientRect().height,hi=y=>(_,T)=>{const B=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return le.from(B).filter(Po)},bC=hi("width"),Nv=hi("height"),W1=y=>nt(y,cs("table")).exists(lo),ca=(y,_)=>{const T=_.column,B=_.column+_.colspan-1,H=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&B>=y.startCol&&H<=y.finishRow&&U>=y.startRow},Rr=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,Di=(y,_,T)=>{const B=Od(y,_,$s),H=Od(y,T,$s);return B.bind(U=>H.map(te=>{return ie=U,ye=te,{startRow:Math.min(ie.row,ye.row),startCol:Math.min(ie.column,ye.column),finishRow:Math.max(ie.row+ie.rowspan-1,ye.row+ye.rowspan-1),finishCol:Math.max(ie.column+ie.colspan-1,ye.column+ye.colspan-1)};var ie,ye}))},Gu=(y,_,T)=>Di(y,_,T).map(B=>{const H=Ui(y,se(ca,B));return O(H,U=>U.element)}),rp=(y,_)=>Od(y,_,(T,B)=>Qr(B,T)).map(T=>T.element),rx=(y,_,T)=>{const B=pl(y);return Gu(B,_,T)},oc=(y,_,T,B,H)=>{const U=pl(y),te=$s(y,T)?le.some(_):rp(U,_),ie=$s(y,H)?le.some(B):rp(U,B);return te.bind(ye=>ie.bind(Ie=>Gu(U,ye,Ie)))},pl=Do;var Pv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cf=()=>({up:Y({selector:Ne,closest:Je,predicate:Te,all:Os}),down:Y({selector:Ns,predicate:_a}),styles:Y({get:ta,getRaw:Ya,set:_o,remove:fl}),attrs:Y({get:hn,set:fs,remove:vo,copyTo:(y,_)=>{const T=or(y);Ar(_,T)}}),insert:Y({before:rn,after:Bu,afterAll:Ga,append:hr,appendAll:Ol,prepend:ym,wrap:xm}),remove:Y({unwrap:Ca,remove:lr}),create:Y({nu:Kt.fromTag,clone:y=>Kt.fromDom(y.dom.cloneNode(!1)),text:Kt.fromText}),query:Y({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:ao,nextSibling:Wl}),property:Y({children:Ti,name:Ft,parent:ul,document:y=>Cc(y).dom,isText:wo,isComment:cn,isElement:On,isSpecial:y=>{const _=Ft(y);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>On(y)?Eo(y,"lang"):le.none(),getText:Dm,setText:jo,isBoundary:y=>!!On(y)&&(Ft(y)==="body"||st(Pv,Ft(y))),isEmptyTag:y=>!!On(y)&&st(["br","img","hr","input"],Ft(y)),isNonEditable:y=>On(y)&&hn(y,"contenteditable")==="false"}),eq:$s,is:bm});const aE=(y,_,T,B)=>{const H=_(y,T);return Jt(B,(U,te)=>{const ie=_(y,te);return Mv(y,U,ie)},H)},Mv=(y,_,T)=>_.bind(B=>T.filter(se(y.eq,B))),Pd=Cf(),_f=(y,_)=>((T,B,H)=>H.length>0?((U,te,ie,ye)=>ye(U,te,ie[0],ie.slice(1)))(T,B,H,aE):le.none())(Pd,(T,B)=>y(B),_),En=y=>Ne(y,"table"),au=(y,_,T)=>{const B=H=>U=>T!==void 0&&T(U)||$s(U,H);return $s(y,_)?le.some({boxes:le.some([y]),start:y,finish:_}):En(y).bind(H=>En(_).bind(U=>{if($s(H,U))return le.some({boxes:rx(H,y,_),start:y,finish:_});if(Qr(H,U)){const te=Sa(_,"td,th",B(H)),ie=te.length>0?te[te.length-1]:_;return le.some({boxes:oc(H,y,H,_,U),start:y,finish:ie})}if(Qr(U,H)){const te=Sa(y,"td,th",B(U)),ie=te.length>0?te[te.length-1]:y;return le.some({boxes:oc(U,y,H,_,U),start:y,finish:ie})}return((te,ie,ye)=>((Ie,Ze,De,Pe=ee)=>{const Ve=[Ze].concat(Ie.up().all(Ze)),rt=[De].concat(Ie.up().all(De)),at=Pt=>Lt(Pt,Pe).fold(()=>Pt,Gt=>Pt.slice(0,Gt+1)),Tt=at(Ve),Rt=at(rt),At=pt(Tt,Pt=>ke(Rt,((Gt,Qt)=>se(Gt.eq,Qt))(Ie,Pt)));return{firstpath:Tt,secondpath:Rt,shared:At}})(Pd,te,ie,void 0))(y,_).shared.bind(te=>Je(te,"table",T).bind(ie=>{const ye=Sa(_,"td,th",B(ie)),Ie=ye.length>0?ye[ye.length-1]:_,Ze=Sa(y,"td,th",B(ie)),De=Ze.length>0?Ze[Ze.length-1]:y;return le.some({boxes:oc(ie,y,H,_,U),start:De,finish:Ie})}))}))},Bv=(y,_)=>{const T=Ns(y,_);return T.length>0?le.some(T):le.none()},Sf=(y,_,T)=>ut(y,_).bind(B=>ut(y,T).bind(H=>_f(En,[B,H]).map(U=>({first:B,last:H,table:U})))),ua=(y,_,T,B,H)=>((U,te)=>pt(U,ie=>mi(ie,te)))(y,H).bind(U=>((te,ie,ye)=>ml(te).bind(Ie=>((Ze,De,Pe,Ve)=>Od(Ze,De,$s).bind(rt=>{const at=Pe>0?rt.row+rt.rowspan-1:rt.row,Tt=Ve>0?rt.column+rt.colspan-1:rt.column;return hl(Ze,at+Pe,Tt+Ve).map(Rt=>Rt.element)}))(pl(Ie),te,ie,ye)))(U,_,T).bind(te=>((ie,ye)=>Ne(ie,"table").bind(Ie=>ut(Ie,ye).bind(Ze=>au(Ze,ie).bind(De=>De.boxes.map(Pe=>({boxes:Pe,start:De.start,finish:De.finish}))))))(te,B))),Oc=(y,_)=>Bv(y,_),Zg=(y,_,T)=>Sf(y,_,T).bind(B=>{const H=ye=>$s(y,ye),U="thead,tfoot,tbody,table",te=Ne(B.first,U,H),ie=Ne(B.last,U,H);return te.bind(ye=>ie.bind(Ie=>$s(ye,Ie)?((Ze,De,Pe)=>((Ve,rt,at)=>Di(Ve,rt,at).bind(Tt=>((Rt,At)=>{let Pt=!0;const Gt=se(Rr,At);for(let Qt=At.startRow;Qt<=At.finishRow;Qt++)for(let lt=At.startCol;lt<=At.finishCol;lt++)Pt=Pt&&hl(Rt,Qt,lt).exists(Gt);return Pt?le.some(At):le.none()})(Ve,Tt)))(pl(Ze),De,Pe))(B.table,B.first,B.last):le.none()))}),kf=ne,Z1=y=>{const _=(T,B)=>Eo(T,B).exists(H=>parseInt(H,10)>1);return y.length>0&&Mt(y,T=>_(T,"rowspan")||_(T,"colspan"))?le.some(y):le.none()},lu=(y,_,T)=>_.length<=1?le.none():Zg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:_})),ip="data-mce-selected",ap="data-mce-first-selected",Ut="data-mce-last-selected",ix="["+ip+"]",Ef={selected:ip,selectedSelector:"td["+ip+"],th["+ip+"]",firstSelected:ap,firstSelectedSelector:"td["+ap+"],th["+ap+"]",lastSelected:Ut,lastSelectedSelector:"td["+Ut+"],th["+Ut+"]"},ko=(y,_,T)=>({element:T,mergable:lu(_,y,Ef),unmergable:Z1(y),selection:kf(y)}),Rn=y=>(_,T)=>{const B=Ft(_),H=B==="col"||B==="colgroup"?ml(U=_).bind(te=>Oc(te,Ef.firstSelectedSelector)).fold(Y(U),te=>te[0]):_;var U;return Je(H,y,T)},Af=Rn("th,td,caption"),pr=Rn("th,td"),Dc=y=>{return _=y.model.table.getSelectedCells(),O(_,Kt.fromDom);var _},Rc=(y,_)=>{y.on("BeforeGetContent",T=>{const B=H=>{T.preventDefault(),(U=>ml(U[0]).map(te=>{const ie=((ye,Ie)=>{const Ze=Pt=>mi(Pt.element,Ie),De=Gc(ye),Pe=Mg(De),Ve=sp(ye),rt=ii(Pe),at=((Pt,Gt)=>{const Qt=Pt.grid.columns;let lt=Pt.grid.rows,yn=Qt,Yn=0,yo=0;const so=[],Xn=[];return tn(Pt.access,bo=>{if(so.push(bo),Gt(bo)){Xn.push(bo);const Ko=bo.row,ni=Ko+bo.rowspan-1,Ta=bo.column,Gi=Ta+bo.colspan-1;Ko<lt?lt=Ko:ni>Yn&&(Yn=ni),Ta<yn?yn=Ta:Gi>yo&&(yo=Gi)}}),((bo,Ko,ni,Ta,Gi,ac)=>({minRow:bo,minCol:Ko,maxRow:ni,maxCol:Ta,allCells:Gi,selectedCells:ac}))(lt,yn,Yn,yo,so,Xn)})(rt,Ze),Tt="th:not("+Ie+"),td:not("+Ie+")",Rt=_m(De,"th,td",Pt=>mi(Pt,Tt));Ke(Rt,lr),((Pt,Gt,Qt,lt)=>{const yn=$t(Pt,so=>so.section!=="colgroup"),Yn=Gt.grid.columns,yo=Gt.grid.rows;for(let so=0;so<yo;so++){let Xn=!1;for(let bo=0;bo<Yn;bo++)so<Qt.minRow||so>Qt.maxRow||bo<Qt.minCol||bo>Qt.maxCol||(hl(Gt,so,bo).filter(lt).isNone()?La(yn,Xn,so):Xn=!0)}})(Pe,rt,at,Ze);const At=((Pt,Gt,Qt,lt)=>{if(lt.minCol===0&&Gt.grid.columns===lt.maxCol+1)return 0;const yn=ai(Gt,Pt,Qt),Yn=et(yn,(Xn,bo)=>Xn+bo,0),yo=et(yn.slice(lt.minCol,lt.maxCol+1),(Xn,bo)=>Xn+bo,0),so=yo/Yn*Qt.pixelWidth()-Qt.pixelWidth();return Qt.getCellDelta(so)})(ye,Do(ye),Ve,at);return((Pt,Gt,Qt,lt)=>{tn(Qt.columns,Yn=>{(Yn.column<Gt.minCol||Yn.column>Gt.maxCol)&&lr(Yn.element)});const yn=$t(Lu(Pt,"tr"),Yn=>Yn.dom.childElementCount===0);Ke(yn,lr),Gt.minCol!==Gt.maxCol&&Gt.minRow!==Gt.maxRow||Ke(Lu(Pt,"th,td"),Yn=>{vo(Yn,"rowspan"),vo(Yn,"colspan")}),vo(Pt,km),vo(Pt,"data-snooker-col-series"),sp(Pt).adjustTableWidth(lt)})(De,at,rt,At),De})(te,ix);return Sr(ie),[ie]}))(H).each(U=>{T.content=T.format==="text"?(te=>O(te,ie=>ie.dom.innerText).join(""))(U):((te,ie)=>O(ie,ye=>te.selection.serializer.serialize(ye.dom,{})).join(""))(y,U)})};if(T.selection===!0){const H=(U=>$t(Dc(U),te=>mi(te,Ef.selectedSelector)))(y);H.length>=1&&B(H)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=Dc(y);fn(B).each(H=>{ml(H).each(U=>{const te=$t(((ye,Ie)=>{const Ze=document.createElement("div");return Ze.innerHTML=ye,Ti(Kt.fromDom(Ze))})(T.content),ye=>Ft(ye)!=="meta"),ie=cs("table");if($e(y)&&te.length===1&&ie(te[0])){T.preventDefault();const ye=Kt.fromDom(y.getDoc()),Ie=Ds(ye),Ze=((De,Pe,Ve)=>({element:De,clipboard:Pe,generators:Ve}))(H,te[0],Ie);_.pasteCells(U,Ze).each(()=>{y.focus()})}})})}})},fo=(y,_)=>({element:y,offset:_}),lp=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(B=>lp(y,B,T).orThunk(()=>le.some(B))):le.none(),yC=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,St=(y,_)=>{const T=lp(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return fo(T,yC(y,T));const B=y.property().children(T);return B.length>0?St(y,B[B.length-1]):fo(T,yC(y,T))},ax=St,cp=Cf(),up=(y,_)=>{Hr(y)||(B=>nc(B).bind(H=>{return U=H,te=["fixed","relative","empty"],le.from(Ov.exec(U)).bind(ie=>{const ye=Number(ie[1]),Ie=ie[2];return((Ze,De)=>ke(De,Pe=>ke(Am[Pe],Ve=>Ze===Ve)))(Ie,te)?le.some({value:ye,unit:Ie}):le.none()});var U,te}))(y).each(B=>{const H=B.value/2;Zu(y,H,B.unit),Zu(_,H,B.unit)})},jg=y=>O(y,Y(0)),Pm=(y,_,T,B,H)=>H(y.slice(0,_)).concat(B).concat(H(y.slice(T))),xC=y=>(_,T,B,H)=>{if(y(B)){const U=Math.max(H,_[T]-Math.abs(B)),te=Math.abs(U-_[T]);return B>=0?te:-te}return B},Tf=xC(y=>y<0),sr=xC(_e),qu=()=>{const y=(T,B,H,U)=>{const te=(100+H)/100,ie=Math.max(U,(T[B]+H)/te);return O(T,(ye,Ie)=>(Ie===B?ie:ye/te)-ye)},_=(T,B,H,U,te,ie)=>ie?y(T,B,U,te):((ye,Ie,Ze,De,Pe)=>{const Ve=Tf(ye,Ie,De,Pe);return Pm(ye,Ie,Ze+1,[Ve,0],jg)})(T,B,H,U,te);return{resizeTable:(T,B)=>T(B),clampTableDelta:Tf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,B,H,U,te,ie,ye)=>_(T,H,U,te,ie,ye),calcRightEdgeDeltas:(T,B,H,U,te,ie)=>{if(ie)return y(T,H,U,te);{const ye=Tf(T,H,U,te);return jg(T.slice(0,H)).concat([ye])}},calcRedestributedWidths:(T,B,H,U)=>{if(U){const te=(B+H)/B,ie=O(T,ye=>ye/te);return{delta:100*te-100,newSizes:ie}}return{delta:H,newSizes:T}}}},j1=()=>{const y=(_,T,B,H,U)=>{const te=sr(_,H>=0?B:T,H,U);return Pm(_,T,B+1,[te,-te],jg)};return{resizeTable:(_,T,B)=>{B&&_(T)},clampTableDelta:(_,T,B,H,U)=>{if(U){if(B>=0)return B;{const te=et(_,(ie,ye)=>ie+ye-H,0);return Math.max(-te,B)}}return Tf(_,T,B,H)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,B,H,U,te)=>y(_,B,H,U,te),calcRightEdgeDeltas:(_,T,B,H,U,te)=>{if(te)return jg(_);{const ie=H/_.length;return O(_,Y(ie))}},calcRedestributedWidths:(_,T,B,H)=>({delta:0,newSizes:_})}},cu=y=>Do(y).grid,Mm=cs("th"),sc=y=>Mt(y,_=>Mm(_.element)),jr=(y,_)=>y&&_?"sectionCells":y?"section":"cells",Lv=y=>{const _=y.section==="thead",T=Wt(Ri(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:jr(_,T)}:{type:"body"}},Ri=y=>{const _=$t(y,T=>Mm(T.element));return _.length===0?le.some("td"):_.length===y.length?le.some("th"):le.none()},K1=(y,_,T)=>Br(T(y.element,_),!0,y.isLocked),Ic=(y,_)=>y.section!==_?ri(y.element,y.cells,_,y.isNew):y,Ii=()=>({transformRow:Ic,transformCell:(y,_,T)=>{const B=T(y.element,_),H=Ft(B)!=="td"?((U,te)=>{const ie=qc(U,"td");Bu(U,ie);const ye=Ti(U);return Ol(ie,ye),lr(U),ie})(B):B;return Br(H,y.isNew,y.isLocked)}}),Zt=()=>({transformRow:Ic,transformCell:K1}),Bm=()=>({transformRow:(y,_)=>Ic(y,_==="thead"?"tbody":_),transformCell:K1}),Ni=Ii,wC=Zt,CC=Bm,lE=()=>({transformRow:ne,transformCell:K1}),Md=(y,_,T,B)=>{T===B?vo(y,_):fs(y,_,T)},Kg=(y,_,T)=>{_n(Xc(y,_)).fold(()=>ym(y,T),B=>Bu(B,T))},Fv=(y,_)=>{const T=[],B=[],H=Pe=>O(Pe,Ve=>{Ve.isNew&&T.push(Ve.element);const rt=Ve.element;return dl(rt),Ke(Ve.cells,at=>{at.isNew&&B.push(at.element),Md(at.element,"colspan",at.colspan,1),Md(at.element,"rowspan",at.rowspan,1),hr(rt,at.element)}),rt}),U=Pe=>Ye(Pe,Ve=>O(Ve.cells,rt=>(Md(rt.element,"span",rt.colspan,1),rt.element))),te=(Pe,Ve)=>{const rt=((Tt,Rt)=>{const At=mt(Tt,Rt).getOrThunk(()=>{const Pt=Kt.fromTag(Rt,Nu(Tt).dom);return Rt==="thead"?Kg(Tt,"caption,colgroup",Pt):Rt==="colgroup"?Kg(Tt,"caption",Pt):hr(Tt,Pt),Pt});return dl(At),At})(y,Ve),at=(Ve==="colgroup"?U:H)(Pe);Ol(rt,at)},ie=(Pe,Ve)=>{Pe.length>0?te(Pe,Ve):(rt=>{mt(y,rt).each(lr)})(Ve)},ye=[],Ie=[],Ze=[],De=[];return Ke(_,Pe=>{switch(Pe.section){case"thead":ye.push(Pe);break;case"tbody":Ie.push(Pe);break;case"tfoot":Ze.push(Pe);break;case"colgroup":De.push(Pe)}}),ie(De,"colgroup"),ie(ye,"thead"),ie(Ie,"tbody"),ie(Ze,"tfoot"),{newRows:T,newCells:B}},G1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return Lt(y,B=>!_(T.element,B.element)).getOr(y.length)},lx=(y,_)=>{const T=O(y,B=>O(B.cells,ee));return O(y,(B,H)=>{const U=Ye(B.cells,(te,ie)=>{if(T[H][ie]===!1){const Pe=((Ve,rt,at,Tt)=>{const Rt=((Qt,lt)=>Qt[lt])(Ve,rt),At=Rt.section==="colgroup",Pt=G1(Rt.cells.slice(at),Tt),Gt=At?1:G1(((Qt,lt)=>O(Qt,yn=>$r(yn,lt)))(Ve.slice(rt),at),Tt);return{colspan:Pt,rowspan:Gt}})(y,H,ie,_);return((Ve,rt,at,Tt)=>{for(let Rt=Ve;Rt<Ve+at;Rt++)for(let At=rt;At<rt+Tt;At++)T[Rt][At]=!0})(H,ie,Pe.rowspan,Pe.colspan),[(ye=te.element,Ie=Pe.rowspan,Ze=Pe.colspan,De=te.isNew,{element:ye,rowspan:Ie,colspan:Ze,isNew:De})]}return[];var ye,Ie,Ze,De});return((te,ie,ye,Ie)=>({element:te,cells:ie,section:ye,isNew:Ie}))(B.element,U,B.section,B.isNew)})},kr=(y,_,T)=>{const B=[];Ke(y.colgroups,H=>{const U=[];for(let te=0;te<y.grid.columns;te++){const ie=Es(y,te).map(ye=>Br(ye.element,T,!1)).getOrThunk(()=>Br(_.colGap(),!0,!1));U.push(ie)}B.push(ri(H.element,U,"colgroup",T))});for(let H=0;H<y.grid.rows;H++){const U=[];for(let ye=0;ye<y.grid.columns;ye++){const Ie=hl(y,H,ye).map(Ze=>Br(Ze.element,T,Ze.isLocked)).getOrThunk(()=>Br(_.gap(),!0,!1));U.push(Ie)}const te=y.all[H],ie=ri(te.element,U,te.section,T);B.push(ie)}return B},Vv=y=>lx(y,$s),Ir=(y,_)=>J(y.all,T=>pt(T.cells,B=>$s(_,B.element))),tl=(y,_,T)=>{const B=O(_.selection,U=>Jh(U).bind(te=>Ir(y,te)).filter(T)),H=nn(B);return un(H.length>0,H)},Kr=(y,_,T,B,H)=>(U,te,ie,ye)=>{const Ie=Do(U),Ze=le.from(ye==null?void 0:ye.section).getOrThunk(lE);return _(Ie,te).map(De=>{const Pe=((at,Tt)=>kr(at,Tt,!1))(Ie,ie),Ve=y(Pe,De,$s,H(ie),Ze),rt=Pa(Ve.grid);return{info:De,grid:Vv(Ve.grid),cursor:Ve.cursor,lockedColumns:rt}}).bind(De=>{const Pe=Fv(U,De.grid),Ve=le.from(ye==null?void 0:ye.sizing).getOrThunk(()=>sp(U)),rt=le.from(ye==null?void 0:ye.resize).getOrThunk(j1);return T(U,De.grid,De.info,{sizing:Ve,resize:rt,section:Ze}),B(U),vo(U,km),De.lockedColumns.length>0&&fs(U,km,De.lockedColumns.join(",")),le.some({cursor:De.cursor,newRows:Pe.newRows,newCells:Pe.newCells})})},rc=(y,_)=>tl(y,_,_e).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),Bd=(y,_)=>tl(y,_,_e),ji=(y,_)=>tl(y,_,T=>!T.isLocked),zv=(y,_)=>Mt(_,T=>((B,H)=>Ir(B,H).exists(U=>!U.isLocked))(y,T)),dp=(y,_,T,B)=>{const H=Js(y).rows;let U=!0;for(let te=0;te<H.length;te++)for(let ie=0;ie<$i(H[0]);ie++){const ye=H[te],Ie=$r(ye,ie),Ze=T(Ie.element,_);Ze&&!U?zg(ye,ie,Br(B(),!0,Ie.isLocked)):Ze&&(U=!1)}return y},Of=y=>{const _=U=>U(y),T=Y(y),B=()=>H,H={tag:!0,inner:y,fold:(U,te)=>te(y),isValue:_e,isError:ee,map:U=>fp.value(U(y)),mapError:B,bind:_,exists:_,forall:_,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:U=>{U(y)},toOptional:()=>le.some(y)};return H},_C=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(H,U)=>H(y),isValue:ee,isError:_e,map:_,mapError:H=>fp.error(H(y)),bind:_,exists:ee,forall:_e,getOr:ne,or:ne,getOrThunk:xe,orThunk:xe,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:K,toOptional:le.none};var B;return T},fp={value:Of,error:_C,fromOption:(y,_)=>y.fold(()=>_C(_),Of)},cx=(y,_)=>({rowDelta:0,colDelta:$i(y[0])-$i(_[0])}),q1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),Hv=(y,_,T,B)=>{const H=_.section==="colgroup"?T.col:T.cell;return Le(y,U=>Br(H(),!0,B(U)))},Y1=(y,_,T,B)=>{const H=y[y.length-1];return y.concat(Le(_,()=>{const U=H.section==="colgroup"?T.colgroup:T.row,te=vf(H,U,ne),ie=Hv(te.cells.length,te,T,ye=>Be(B,ye.toString()));return Na(te,ie)}))},ux=(y,_,T,B)=>O(y,H=>{const U=Hv(_,H,T,ee);return Ad(H,B,U)}),Lm=(y,_,T)=>{const B=_.colDelta<0?ux:ne,H=_.rowDelta<0?Y1:ne,U=Pa(y),te=$i(y[0]),ie=ke(U,Ze=>Ze===te-1),ye=B(y,Math.abs(_.colDelta),T,ie?te-1:te),Ie=Pa(ye);return H(ye,Math.abs(_.rowDelta),T,oo(Ie,_e))},cE=(y,_,T,B)=>{const H=se(B,$r(y[_],T).element),U=y[_];return y.length>1&&$i(U)>1&&(T>0&&H(ur(U,T-1))||T<U.cells.length-1&&H(ur(U,T+1))||_>0&&H(ur(y[_-1],T))||_<y.length-1&&H(ur(y[_+1],T)))},X1=(y,_,T)=>$t(T,B=>B>=y.column&&B<=$i(_[0])+y.column),J1=(y,_,T,B,H)=>{((Ie,Ze,De,Pe)=>{Ze>0&&Ze<Ie[0].cells.length&&Ke(Ie,Ve=>{const rt=Ve.cells[Ze-1];let at=0;const Tt=Pe();for(;Ve.cells.length>Ze+at&&De(rt.element,Ve.cells[Ze+at].element);)zg(Ve,Ze+at,Br(Tt,!0,Ve.cells[Ze+at].isLocked)),at++})})(_,y,H,B.cell);const U=q1(T,_),te=Lm(T,U,B),ie=q1(_,te),ye=Lm(_,ie,B);return O(ye,(Ie,Ze)=>Ad(Ie,y,te[Ze].cells))},dx=(y,_,T,B,H)=>{((At,Pt,Gt,Qt)=>{const lt=Js(At).rows;if(Pt>0&&Pt<lt.length){const yn=((Yn,yo)=>et(Yn,(so,Xn)=>ke(so,bo=>yo(bo.element,Xn.element))?so:so.concat([Xn]),[]))(lt[Pt-1].cells,Gt);Ke(yn,Yn=>{let yo=le.none();for(let so=Pt;so<lt.length;so++)for(let Xn=0;Xn<$i(lt[0]);Xn++){const bo=lt[so],Ko=$r(bo,Xn);Gt(Ko.element,Yn.element)&&(yo.isNone()&&(yo=le.some(Qt())),yo.each(ni=>{zg(bo,Xn,Br(ni,!0,Ko.isLocked))}))}})}})(_,y,H,B.cell);const U=Pa(_),te=cx(_,T),ie={...te,colDelta:te.colDelta-U.length},ye=Lm(_,ie,B),{cols:Ie,rows:Ze}=Js(ye),De=Pa(ye),Pe=cx(T,_),Ve={...Pe,colDelta:Pe.colDelta+De.length},rt=(Tt=B,Rt=De,O(T,At=>et(Rt,(Pt,Gt)=>{const Qt=Hv(1,At,Tt,_e)[0];return Vg(Pt,Gt,Qt)},At))),at=Lm(rt,Ve,B);var Tt,Rt;return[...Ie,...Ze.slice(0,y),...at,...Ze.slice(y,Ze.length)]},fx=(y,_,T,B,H)=>{const{rows:U,cols:te}=Js(y),ie=U.slice(0,_),ye=U.slice(_);return[...te,...ie,((Ie,Ze,De,Pe)=>vf(Ie,Ve=>Pe(Ve,De),Ze))(U[T],(Ie,Ze)=>_>0&&_<U.length&&B(ur(U[_-1],Ze),ur(U[_],Ze))?$r(U[_],Ze):Br(H(Ie.element,B),!0,Ie.isLocked),B,H),...ye]},$v=(y,_,T,B,H)=>O(y,U=>{const te=_>0&&_<$i(U)&&B(ur(U,_-1),ur(U,_)),ie=((ye,Ie,Ze,De,Pe,Ve,rt)=>{if(Ze!=="colgroup"&&De)return $r(ye,Ie);{const at=$r(ye,Pe);return Br(rt(at.element,Ve),!0,!1)}})(U,_,U.section,te,T,B,H);return Vg(U,_,ie)}),mx=(y,_,T,B)=>((H,U,te,ie)=>ur(H[U],te)!==void 0&&U>0&&ie(ur(H[U-1],te),ur(H[U],te)))(y,_,T,B)||((H,U,te)=>U>0&&te(ur(H,U-1),ur(H,U)))(y[_],T,B),gx=(y,_,T,B)=>{const H=U=>(te=>te==="row"?(ie=>kd(ie,"rowspan")>1)(_):Hr(_))(U)?`${U}group`:U;return y?Mm(_)?H(T):null:B&&Mm(_)?H(T==="row"?"col":"row"):null},Uv=(y,_,T)=>Br(T(y.element,_),!0,y.isLocked),mp=(y,_,T,B,H,U,te)=>O(y,(ie,ye)=>((Ie,Ze)=>{const De=Ie.cells,Pe=O(De,(Ve,rt)=>{if((at=>ke(_,Tt=>T(at.element,Tt.element)))(Ve)){const at=te(Ve,ye,rt)?H(Ve,T,B):Ve;return U(at,ye,rt).each(Tt=>{var Rt,At;Rt=at.element,At={scope:le.from(Tt)},tn(At,(Pt,Gt)=>{Pt.fold(()=>{vo(Rt,Gt)},Qt=>{ar(Rt.dom,Gt,Qt)})})}),at}return Ve});return ri(Ie.element,Pe,Ie.section,Ie.isNew)})(ie)),hx=(y,_,T)=>Ye(y,(B,H)=>mx(y,H,_,T)?[]:[$r(B,_)]),Wv=(y,_,T,B,H)=>{const U=Js(y).rows,te=Ye(_,Ze=>hx(U,Ze,B)),ie=O(U,Ze=>sc(Ze.cells)),ye=((Ze,De)=>Mt(De,ne)&&sc(Ze)?_e:(Pe,Ve,rt)=>!(Ft(Pe.element)==="th"&&De[Ve]))(te,ie);return mp(y,te,B,H,Uv,((Ze,De)=>(Pe,Ve)=>le.some(gx(Ze,Pe.element,"row",De[Ve])))(T,ie),ye)},Zv=(y,_,T,B)=>{const H=Js(y).rows,U=O(_,te=>$r(H[te.row],te.column));return mp(y,U,T,B,Uv,le.none,_e)},Fm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return Ke(y,(B,H)=>{const U=xs(B);if(U.length!==1)throw new Error("one and only one name per case");const te=U[0],ie=B[te];if(T[te]!==void 0)throw new Error("duplicate key detected:"+te);if(te==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ie))throw new Error("case arguments must be an array");_.push(te),T[te]=(...ye)=>{const Ie=ye.length;if(Ie!==ie.length)throw new Error("Wrong number of arguments to case "+te+". Expected "+ie.length+" ("+ie+"), got "+Ie);return{fold:(...Ze)=>{if(Ze.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ze.length);return Ze[H].apply(null,ye)},match:Ze=>{const De=xs(Ze);if(_.length!==De.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+De.join(","));if(!Mt(_,Pe=>st(De,Pe)))throw new Error("Not all branches were specified when using match. Specified: "+De.join(", ")+`
Required: `+_.join(", "));return Ze[te].apply(null,ye)},log:Ze=>{console.log(Ze,{constructors:_,constructor:te,params:ye})}}}}),T},gp={...Fm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},px=(y,_,T)=>{const B=((H,U)=>kc(H)?((te,ie)=>{const ye=Sc(te);return O(ye,(Ie,Ze)=>({element:Ie.element,width:ie[Ze],colspan:Ie.colspan}))})(H,U):((te,ie)=>{const ye=Bn(te);return O(ye,Ie=>{const Ze=((De,Pe,Ve)=>{let rt=0;for(let at=De;at<Pe;at++)rt+=Ve[at]!==void 0?Ve[at]:0;return rt})(Ie.column,Ie.column+Ie.colspan,ie);return{element:Ie.element,width:Ze,colspan:Ie.colspan}})})(H,U))(y,_);Ke(B,H=>{T.setElementWidth(H.element,H.width)})},Ld=(y,_,T,B,H)=>{const U=Do(y),te=H.getCellDelta(_),ie=H.getWidths(U,H),ye=T===U.grid.columns-1,Ie=B.clampTableDelta(ie,T,te,H.minCellWidth(),ye),Ze=((Pe,Ve,rt,at,Tt)=>{const Rt=Pe.slice(0),At=((Gt,Qt)=>Gt.length===0?gp.none():Gt.length===1?gp.only(0):Qt===0?gp.left(0,1):Qt===Gt.length-1?gp.right(Qt-1,Qt):Qt>0&&Qt<Gt.length-1?gp.middle(Qt-1,Qt,Qt+1):gp.none())(Pe,Ve),Pt=Y(O(Rt,Y(0)));return At.fold(Pt,Gt=>at.singleColumnWidth(Rt[Gt],rt),(Gt,Qt)=>Tt.calcLeftEdgeDeltas(Rt,Gt,Qt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt,lt)=>Tt.calcMiddleDeltas(Rt,Gt,Qt,lt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt)=>Tt.calcRightEdgeDeltas(Rt,Gt,Qt,rt,at.minCellWidth(),at.isRelative))})(ie,T,Ie,H,B),De=O(Ze,(Pe,Ve)=>Pe+ie[Ve]);px(U,De,H),B.resizeTable(H.adjustTableWidth,Ie,ye)},Gg=(y,_,T)=>{const B=Do(y),H=((ye,Ie)=>Wi(ye,Ie,$1,Ze=>Ze.getOrThunk(ws)))(B,y),U=O(H,(ye,Ie)=>T===Ie?Math.max(_+ye,ws()):ye),te=((ye,Ie)=>O(ye.all,(Ze,De)=>({element:Ze.element,height:Ie[De]})))(B,U);Ke(te,ye=>{Wu(ye.element,ye.height)}),Ke(Bn(B),ye=>{(Ie=>{fl(Ie,"height")})(ye.element)});const ie=Jt(U,(ye,Ie)=>ye+Ie,0);Wu(y,ie)},qg=y=>et(y,(_,T)=>ke(_,B=>B.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),Fd=cs("col"),Df=cs("colgroup"),jv=y=>Ft(y)==="tr"||Df(y),uE=y=>({element:y,colspan:wr(y,"colspan",1),rowspan:wr(y,"rowspan",1)}),Kv=y=>Eo(y,"scope").map(_=>_.substr(0,3)),Nc=(y,_=uE)=>{const T=H=>{if(jv(H))return Df((U={element:H}).element)?y.colgroup(U):y.row(U);{const te=H,ie=(ye=>Fd(ye.element)?y.col(ye):y.cell(ye))(_(te));return B=le.some({item:te,replacement:ie}),ie}var U};let B=le.none();return{getOrInit:(H,U)=>B.fold(()=>T(H),te=>U(H,te.item)?te.replacement:T(H))}},SC=y=>_=>{const T=[],B=H=>{const U=y==="td"?{scope:null}:{},te=_.replace(H,y,U);return T.push({item:H,sub:te}),te};return{replaceOrInit:(H,U)=>{if(jv(H)||Fd(H))return H;{const te=H;return((ie,ye)=>pt(T,Ie=>ye(Ie.item,ie)))(te,U).fold(()=>B(te),ie=>U(H,ie.item)?ie.sub:B(te))}}}},vx=y=>({unmerge:_=>{const T=Kv(_);return T.each(B=>fs(_,"scope",B)),()=>{const B=y.cell({element:_,colspan:1,rowspan:1});return fl(B,"width"),fl(_,"width"),T.each(H=>fs(B,"scope",H)),B}},merge:_=>(fl(_[0],"width"),(()=>{const T=nn(O(_,Kv));if(T.length===0)return le.none();{const B=T[0],H=["row","col"];return ke(T,U=>U!==B&&st(H,U))?le.none():le.from(B)}})().fold(()=>vo(_[0],"scope"),T=>fs(_[0],"scope",T+"group")),Y(_[0]))}),Yg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],da=Cf(),Xg=y=>((_,T)=>{const B=_.property().name(T);return st(Yg,B)})(da,y),Jg=y=>((_,T)=>{const B=_.property().name(T);return st(["ol","ul"],B)})(da,y),Q1=y=>{const _=cs("br"),T=H=>ru(H).bind(U=>{const te=Wl(U).map(ie=>!!Xg(ie)||!!((ye,Ie)=>st(["br","img","hr","input"],ye.property().name(Ie)))(da,ie)&&Ft(ie)!=="img").getOr(!1);return ul(U).map(ie=>{return te===!0||Ft(ye=ie)==="li"||Te(ye,Jg).isSome()||_(U)||Xg(ie)&&!$s(H,ie)?[]:[Kt.fromTag("br")];var ye})}).getOr([]),B=(()=>{const H=Ye(y,U=>{const te=Ti(U);return(ie=>Mt(ie,ye=>_(ye)||wo(ye)&&Dm(ye).trim().length===0))(te)?[]:te.concat(T(U))});return H.length===0?[Kt.fromTag("br")]:H})();dl(y[0]),Ol(y[0],B)},Xo=y=>lo(y,!0),vl=y=>{Or(y).length===0&&lr(y)},Yu=(y,_)=>({grid:y,cursor:_}),Aa=(y,_,T)=>{const B=((H,U,te)=>{var ie,ye;const Ie=Js(H).rows;return le.from((ye=(ie=Ie[U])===null||ie===void 0?void 0:ie.cells[te])===null||ye===void 0?void 0:ye.element).filter(Xo).orThunk(()=>(Ze=>J(Ze,De=>J(De.cells,Pe=>{const Ve=Pe.element;return un(Xo(Ve),Ve)})))(Ie))})(y,_,T);return Yu(y,B)},Ks=y=>et(y,(_,T)=>ke(_,B=>B.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),Gv=(y,_)=>(T,B,H,U,te)=>{const ie=Ks(B),ye=O(ie,Ze=>Ze.row),Ie=((Ze,De,Pe,Ve,rt,at,Tt)=>{const{cols:Rt,rows:At}=Js(Ze),Pt=At[De[0]],Gt=Ye(De,so=>((Xn,bo,Ko)=>{const ni=Xn[bo];return Ye(ni.cells,(Ta,Gi)=>mx(Xn,bo,Gi,Ko)?[]:[Ta])})(At,so,rt)),Qt=O(Pt.cells,(so,Xn)=>sc(hx(At,Xn,rt))),lt=[...At];Ke(De,so=>{lt[so]=Tt.transformRow(At[so],Pe)});const yn=[...Rt,...lt],Yn=((so,Xn)=>Mt(Xn,ne)&&sc(so.cells)?_e:(bo,Ko,ni)=>!(Ft(bo.element)==="th"&&Xn[ni]))(Pt,Qt),yo=((so,Xn)=>(bo,Ko,ni)=>le.some(gx(so,bo.element,"col",Xn[ni])))(Ve,Qt);return mp(yn,Gt,rt,at,Tt.transformCell,yo,Yn)})(T,ye,y,_,H,U.replaceOrInit,te);return Aa(Ie,B[0].row,B[0].column)},kC=Gv("thead",!0),dE=Gv("tbody",!1),dr=Gv("tfoot",!1),e0=(y,_,T)=>{const B=((U,te)=>Nl(U,()=>te))(y,T.section),H=ii(B);return kr(H,_,!0)},bx=(y,_,T,B)=>((H,U,te,ie)=>{const ye=ii(U),Ie=ie.getWidths(ye,ie);px(ye,Ie,ie)})(0,_,0,B.sizing),Vm=(y,_,T,B)=>((H,U,te,ie,ye)=>{const Ie=ii(U),Ze=ie.getWidths(Ie,ie),De=ie.pixelWidth(),{newSizes:Pe,delta:Ve}=ye.calcRedestributedWidths(Ze,De,te.pixelDelta,ie.isRelative);px(Ie,Pe,ie),ie.adjustTableWidth(Ve)})(0,_,T,B.sizing,B.resize),Pc=(y,_)=>ke(_,T=>T.column===0&&T.isLocked),hp=(y,_)=>ke(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),bn=(y,_)=>{const T=tp(y),B=qg(_);return et(B,(H,U)=>H+T[U.column].map(Fg).getOr(0),0)},uu=y=>(_,T)=>Bd(_,T).filter(B=>!(y?Pc:hp)(_,B)).map(B=>({details:B,pixelDelta:bn(_,B)})),yx=y=>(_,T)=>rc(_,T).filter(B=>!(y?Pc:hp)(_,B.cells)),t0=SC("th"),pp=SC("td"),n0=Kr((y,_,T,B)=>{const H=_[0].row,U=Ks(_),te=Jt(U,(ie,ye)=>({grid:fx(ie.grid,H,ye.row+ie.delta,T,B.getOrInit),delta:ie.delta+1}),{grid:y,delta:0}).grid;return Aa(te,H,_[0].column)},Bd,K,K,Nc),Qg=Kr((y,_,T,B)=>{const H=Ks(_),U=H[H.length-1],te=U.row+U.rowspan,ie=Jt(H,(ye,Ie)=>fx(ye,te,Ie.row,T,B.getOrInit),y);return Aa(ie,te,_[0].column)},Bd,K,K,Nc),Mc=Kr((y,_,T,B)=>{const H=_.details,U=qg(H),te=U[0].column,ie=Jt(U,(ye,Ie)=>({grid:$v(ye.grid,te,Ie.column+ye.delta,T,B.getOrInit),delta:ye.delta+1}),{grid:y,delta:0}).grid;return Aa(ie,H[0].row,te)},uu(!0),Vm,K,Nc),fE=Kr((y,_,T,B)=>{const H=_.details,U=H[H.length-1],te=U.column+U.colspan,ie=qg(H),ye=Jt(ie,(Ie,Ze)=>$v(Ie,te,Ze.column,T,B.getOrInit),y);return Aa(ye,H[0].row,te)},uu(!1),Vm,K,Nc),o0=Kr((y,_,T,B)=>{const H=qg(_.details),U=((ie,ye)=>Ye(ie,Ie=>{const Ze=Ie.cells,De=Jt(ye,(Pe,Ve)=>Ve>=0&&Ve<Pe.length?Pe.slice(0,Ve).concat(Pe.slice(Ve+1)):Pe,Ze);return De.length>0?[ri(Ie.element,De,Ie.section,Ie.isNew)]:[]}))(y,O(H,ie=>ie.column)),te=U.length>0?U[0].cells.length-1:0;return Aa(U,H[0].row,Math.min(H[0].column,te))},(y,_)=>ji(y,_).map(T=>({details:T,pixelDelta:-bn(y,T)})),Vm,vl,Nc),xx=Kr((y,_,T,B)=>{const H=Ks(_),U=((ie,ye,Ie)=>{const{rows:Ze,cols:De}=Js(ie);return[...De,...Ze.slice(0,ye),...Ze.slice(Ie+1)]})(y,H[0].row,H[H.length-1].row),te=Math.max(Js(U).rows.length-1,0);return Aa(U,Math.min(_[0].row,te),_[0].column)},Bd,K,vl,Nc),s0=Kr((y,_,T,B)=>{const H=qg(_),U=O(H,ie=>ie.column),te=Wv(y,U,!0,T,B.replaceOrInit);return Aa(te,_[0].row,_[0].column)},ji,K,K,t0),wx=Kr((y,_,T,B)=>{const H=qg(_),U=O(H,ie=>ie.column),te=Wv(y,U,!1,T,B.replaceOrInit);return Aa(te,_[0].row,_[0].column)},ji,K,K,pp),Cx=Kr(kC,ji,K,K,t0),r0=Kr(dE,ji,K,K,pp),_x=Kr(dr,ji,K,K,pp),Sx=Kr((y,_,T,B)=>{const H=Zv(y,_,T,B.replaceOrInit);return Aa(H,_[0].row,_[0].column)},ji,K,K,t0),EC=Kr((y,_,T,B)=>{const H=Zv(y,_,T,B.replaceOrInit);return Aa(H,_[0].row,_[0].column)},ji,K,K,pp),mE=Kr((y,_,T,B)=>{const H=_.cells;Q1(H);const U=((te,ie,ye,Ie)=>{const Ze=Js(te).rows;if(Ze.length===0)return te;for(let De=ie.startRow;De<=ie.finishRow;De++)for(let Pe=ie.startCol;Pe<=ie.finishCol;Pe++){const Ve=Ze[De],rt=$r(Ve,Pe).isLocked;zg(Ve,Pe,Br(Ie(),!1,rt))}return te})(y,_.bounds,0,B.merge(H));return Yu(U,le.from(H[0]))},(y,_)=>((T,B)=>B.mergable)(0,_).filter(T=>zv(y,T.cells)),bx,K,vx),qv=Kr((y,_,T,B)=>{const H=Jt(_,(U,te)=>dp(U,te,T,B.unmerge(te)),y);return Yu(H,le.from(_[0]))},(y,_)=>((T,B)=>B.unmergable)(0,_).filter(T=>zv(y,T)),bx,K,vx),kx=Kr((y,_,T,B)=>{const H=((ie,ye)=>{const Ie=Do(ie);return kr(Ie,ye,!0)})(_.clipboard,_.generators);var U,te;return((ie,ye,Ie,Ze,De)=>{const Pe=Pa(ye),Ve=((Rt,At,Pt)=>{const Gt=$i(At[0]),Qt=Js(At).cols.length+Rt.row,lt=Le(Gt-Rt.column,yn=>yn+Rt.column);return{row:Qt,column:pt(lt,yn=>Mt(Pt,Yn=>Yn!==yn)).getOr(Gt-1)}})(ie,ye,Pe),rt=Js(Ie).rows,at=X1(Ve,rt,Pe);return((Rt,At,Pt)=>{if(Rt.row>=At.length||Rt.column>$i(At[0]))return fp.error("invalid start address out of table bounds, row: "+Rt.row+", column: "+Rt.column);const Gt=At.slice(Rt.row),Qt=Gt[0].cells.slice(Rt.column),lt=$i(Pt[0]),yn=Pt.length;return fp.value({rowDelta:Gt.length-yn,colDelta:Qt.length-lt})})(Ve,ye,rt).map(Rt=>{const At={...Rt,colDelta:Rt.colDelta-at.length},Pt=Lm(ye,At,Ze),Gt=Pa(Pt),Qt=X1(Ve,rt,Gt);return((lt,yn,Yn,yo,so,Xn)=>{const bo=lt.row,Ko=lt.column,ni=bo+Yn.length,Ta=Ko+$i(Yn[0])+Xn.length,Gi=oo(Xn,_e);for(let ac=bo;ac<ni;ac++){let Jm=0;for(let Oa=Ko;Oa<Ta;Oa++){if(Gi[Oa]){Jm++;continue}cE(yn,ac,Oa,so)&&dp(yn,ur(yn[ac],Oa),so,yo.cell);const Qu=Oa-Ko-Jm,Sp=$r(Yn[ac-bo],Qu),Wf=Sp.element,kp=yo.replace(Wf);zg(yn[ac],Oa,Br(kp,!0,Sp.isLocked))}}return yn})(Ve,Pt,rt,Ze,De,Qt)})})((U=_.row,te=_.column,{row:U,column:te}),y,H,_.generators,T).fold(()=>Yu(y,le.some(_.element)),ie=>Aa(ie,_.row,_.column))},(y,_)=>Jh(_.element).bind(T=>Ir(y,T).map(B=>({...B,generators:_.generators,clipboard:_.clipboard}))),bx,K,Nc),eh=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[0].column,te=H[_.cells[0].row],ie=e0(_.clipboard,_.generators,te),ye=J1(U,y,ie,_.generators,T);return Aa(ye,_.cells[0].row,_.cells[0].column)},yx(!0),K,K,Nc),gE=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,te=H[_.cells[0].row],ie=e0(_.clipboard,_.generators,te),ye=J1(U,y,ie,_.generators,T);return Aa(ye,_.cells[0].row,U)},yx(!1),K,K,Nc),hE=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[0].row,te=H[U],ie=e0(_.clipboard,_.generators,te),ye=dx(U,y,ie,_.generators,T);return Aa(ye,_.cells[0].row,_.cells[0].column)},rc,K,K,Nc),Rf=Kr((y,_,T,B)=>{const H=Js(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,te=H[_.cells[0].row],ie=e0(_.clipboard,_.generators,te),ye=dx(U,y,ie,_.generators,T);return Aa(ye,U,_.cells[0].column)},rc,K,K,Nc),zm=(y,_)=>{const T=Do(y);return Bd(T,_).bind(B=>{const H=B[B.length-1],U=B[0].column,te=H.column+H.colspan,ie=tt(O(T.all,ye=>$t(ye.cells,Ie=>Ie.column>=U&&Ie.column<te)));return Ri(ie)}).getOr("")},i0=(y,_)=>{const T=Do(y);return Bd(T,_).bind(Ri).getOr("")},AC=(y,_)=>{const T=Do(y);return Bd(T,_).bind(B=>{const H=B[B.length-1],U=B[0].row,te=H.row+H.rowspan;return(ie=>{const ye=O(ie,De=>Lv(De).type),Ie=st(ye,"header"),Ze=st(ye,"footer");if(Ie||Ze){const De=st(ye,"body");return!Ie||De||Ze?Ie||De||!Ze?le.none():le.some("footer"):le.some("header")}return le.some("body")})(T.all.slice(U,te))}).getOr("")},Ex=(y,_)=>y.dispatch("NewRow",{node:_}),Yv=(y,_)=>y.dispatch("NewCell",{node:_}),Vd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},a0={structure:!1,style:!0},pi={structure:!0,style:!1},Fr={structure:!0,style:!0},If=(y,_)=>Ku(y)?ju(_):N(y)?_r(_):sp(_),Ax=(y,_,T)=>{const B=Ze=>Ft(bs(Ze))==="table",H=Nd(y),U=Rv(y)?K:up,te=Ze=>{switch(Rm(y)){case"section":return Ni();case"sectionCells":return wC();case"cells":return CC();default:return((De,Pe)=>{var Ve;switch((Ve=Do(De),J(Ve.all,rt=>{const at=Lv(rt);return at.type==="header"?le.from(at.subType):le.none()})).getOr(Pe)){case"section":return Ii();case"sectionCells":return Zt();case"cells":return Bm()}})(Ze,"section")}},ie=(Ze,De,Pe,Ve)=>(rt,at,Tt=!1)=>{Sr(rt);const Rt=Kt.fromDom(y.getDoc()),At=Qs(Pe,Rt,H),Pt={sizing:If(y,rt),resize:Rv(y)?qu():j1(),section:te(rt)};return De(rt)?Ze(rt,at,At,Pt).bind(Gt=>{_.refresh(rt.dom),Ke(Gt.newRows,lt=>{Ex(y,lt.dom)}),Ke(Gt.newCells,lt=>{Yv(y,lt.dom)});const Qt=((lt,yn)=>yn.cursor.fold(()=>{const Yn=Or(lt);return fn(Yn).filter(qa).map(yo=>{T.clearSelectedCells(lt.dom);const so=y.dom.createRng();return so.selectNode(yo.dom),y.selection.setRng(so),fs(yo,"data-mce-selected","1"),so})},Yn=>{const yo=ax(cp,Yn),so=y.dom.createRng();return so.setStart(yo.element.dom,yo.offset),so.setEnd(yo.element.dom,yo.offset),y.selection.setRng(so),T.clearSelectedCells(lt.dom),le.some(so)}))(rt,Gt);return qa(rt)&&(Sr(rt),Tt||Vd(y,rt.dom,Ve)),Qt.map(lt=>({rng:lt,effect:Ve}))}):le.none()},ye=ie(xx,Ze=>!B(y)||cu(Ze).rows>1,K,pi),Ie=ie(o0,Ze=>!B(y)||cu(Ze).columns>1,K,pi);return{deleteRow:ye,deleteColumn:Ie,insertRowsBefore:ie(n0,_e,K,pi),insertRowsAfter:ie(Qg,_e,K,pi),insertColumnsBefore:ie(Mc,_e,U,pi),insertColumnsAfter:ie(fE,_e,U,pi),mergeCells:ie(mE,_e,K,pi),unmergeCells:ie(qv,_e,K,pi),pasteColsBefore:ie(eh,_e,K,pi),pasteColsAfter:ie(gE,_e,K,pi),pasteRowsBefore:ie(hE,_e,K,pi),pasteRowsAfter:ie(Rf,_e,K,pi),pasteCells:ie(kx,_e,K,Fr),makeCellsHeader:ie(Sx,_e,K,pi),unmakeCellsHeader:ie(EC,_e,K,pi),makeColumnsHeader:ie(s0,_e,K,pi),unmakeColumnsHeader:ie(wx,_e,K,pi),makeRowsHeader:ie(Cx,_e,K,pi),makeRowsBody:ie(r0,_e,K,pi),makeRowsFooter:ie(_x,_e,K,pi),getTableRowType:AC,getTableCellType:i0,getTableColType:zm}},l0=(y,_,T)=>{const B=wr(y,_,1);T===1||B<=1?vo(y,_):fs(y,_,Math.min(T,B))},Ki=(y,_)=>T=>{const B=T.column+T.colspan-1,H=T.column;return B>=y&&H<_},nl=Fm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),th=(y,_,T)=>{const B=T.substring(0,T.length-y.length),H=parseFloat(B);return B===H.toString()?_(H):nl.invalid(T)},Nf={...nl,from:y=>sn(y,"%")?th("%",nl.percent,y):sn(y,"px")?th("px",nl.pixels,y):nl.invalid(y)},Hm=(y,_,T)=>{const B=Nf.from(T),H=Mt(y,U=>U==="0px")?((U,te)=>{const ie=U.fold(()=>Y(""),ye=>Y(ye/te+"px"),()=>Y(100/te+"%"));return Le(te,ie)})(B,y.length):((U,te,ie)=>U.fold(()=>te,ye=>((Ie,Ze,De)=>{const Pe=De/Ze;return O(Ie,Ve=>Nf.from(Ve).fold(()=>Ve,rt=>rt*Pe+"px",rt=>rt/100*De+"px"))})(te,ie,ye),ye=>((Ie,Ze)=>O(Ie,De=>Nf.from(De).fold(()=>De,Pe=>Pe/Ze*100+"%",Pe=>Pe+"%")))(te,ie)))(B,y,_);return Tx(H)},c0=(y,_)=>y.length===0?_:Jt(y,(T,B)=>Nf.from(B).fold(Y(0),ne,ne)+T,0),TC=(y,_)=>Nf.from(y).fold(Y(y),T=>T+_+"px",T=>T+_+"%"),Tx=y=>{if(y.length===0)return y;const _=Jt(y,(B,H)=>{const U=Nf.from(H).fold(()=>({value:H,remainder:0}),te=>((ie,ye)=>{const Ie=Math.floor(ie);return{value:Ie+"px",remainder:ie-Ie}})(te),te=>({value:te+"%",remainder:0}));return{output:[U.value].concat(B.output),remainder:B.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([TC(T[T.length-1],Math.round(_.remainder))])},$m=Nf.from,Gs=(y,_,T)=>{const B=Do(y),H=B.all,U=Bn(B),te=Sc(B);_.each(ie=>{const ye=$m(ie).fold(Y("px"),Y("px"),Y("%")),Ie=gl(y),Ze=((Pe,Ve)=>gi(Pe,Ve,Ba,op))(B,y),De=Hm(Ze,Ie,ie);kc(B)?((Pe,Ve,rt)=>{Ke(Ve,(at,Tt)=>{const Rt=c0([Pe[Tt]],Il());_o(at.element,"width",Rt+rt)})})(De,te,ye):((Pe,Ve,rt)=>{Ke(Ve,at=>{const Tt=Pe.slice(at.column,at.colspan+at.column),Rt=c0(Tt,Il());_o(at.element,"width",Rt+rt)})})(De,U,ye),_o(y,"width",ie)}),T.each(ie=>{const ye=Rd(y),Ie=((Ze,De)=>Wi(Ze,De,Ea,op))(B,y);((Ze,De,Pe)=>{Ke(Pe,Ve=>{fl(Ve.element,"height")}),Ke(De,(Ve,rt)=>{_o(Ve.element,"height",Ze[rt])})})(Hm(Ie,ye,ie),H,U),_o(y,"height",ie)})},u0=y=>nc(y).exists(_=>xi.test(_)),fr=y=>nc(y).exists(_=>Wn.test(_)),Xu=y=>nc(y).isNone(),du=y=>{vo(y,"width"),vo(y,"height")},nh=y=>{const _=xf(y);Gs(y,le.some(_),le.none()),du(y)},bl=y=>{const _=(T=>gl(T)+"px")(y);Gs(y,le.some(_),le.none()),du(y)},fa=y=>{fl(y,"width");const _=_c(y),T=_.length>0?_:Or(y);Ke(T,B=>{fl(B,"width"),du(B)}),du(y)},Um={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xv=(y,_,T,B)=>Le(y,H=>((U,te,ie,ye)=>{const Ie=Kt.fromTag("tr");for(let Ze=0;Ze<U;Ze++){const De=Kt.fromTag(ye<te||Ze<ie?"th":"td");Ze<ie&&fs(De,"scope","row"),ye<te&&fs(De,"scope","col"),hr(De,Kt.fromTag("br")),hr(Ie,De)}return Ie})(_,T,B,H)),oh=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},Jv=(y,_,T,B,H)=>{const U=(ie=>{const ye=ie.options,Ie=ye.get("table_default_styles");return ye.isSet("table_default_styles")?Ie:((Ze,De)=>W(Ze)||!Re(Ze)?De:N(Ze)?{...De,width:iu(Ze)}:{...De,width:jl})(ie,Ie)})(y),te={styles:U,attributes:Dt(y),colGroups:Zn(y)};return y.undoManager.ignore(()=>{const ie=((Ie,Ze,De,Pe,Ve,rt=Um)=>{const at=Kt.fromTag("table"),Tt=Ve!=="cells";Rl(at,rt.styles),Ar(at,rt.attributes),rt.colGroups&&hr(at,(Gt=>{const Qt=Kt.fromTag("colgroup");return Le(Gt,()=>hr(Qt,Kt.fromTag("col"))),Qt})(Ze));const Rt=Math.min(Ie,De);if(Tt&&De>0){const Gt=Kt.fromTag("thead");hr(at,Gt);const Qt=Xv(De,Ze,Ve==="sectionCells"?Rt:0,Pe);Ol(Gt,Qt)}const At=Kt.fromTag("tbody");hr(at,At);const Pt=Xv(Tt?Ie-Rt:Ie,Ze,Tt?0:De,Pe);return Ol(At,Pt),at})(T,_,H,B,Rm(y),te);fs(ie,"data-mce-id","__mce");const ye=(Ie=>{const Ze=Kt.fromTag("div"),De=Kt.fromDom(Ie.dom.cloneNode(!0));return hr(Ze,De),(Pe=>Pe.dom.innerHTML)(Ze)})(ie);y.insertContent(ye),y.addVisual()}),ut(bs(y),'table[data-mce-id="__mce"]').map(ie=>(N(y)?bl(ie):W(y)?fa(ie):(Ku(y)||(ye=>g(ye)&&ye.indexOf("%")!==-1)(U.width))&&nh(ie),Sr(ie),vo(ie,"data-mce-id"),((ye,Ie)=>{Ke(Ns(Ie,"tr"),Ze=>{Ex(ye,Ze.dom),Ke(Ns(Ze,"th,td"),De=>{Yv(ye,De.dom)})})})(y,ie),((ye,Ie)=>{ut(Ie,"td,th").each(se(oh,ye))})(y,ie),ie.dom)).getOrNull()};var sh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const OC="x-tinymce/dom-table-",Ox=OC+"rows",Dx=OC+"columns",DC=y=>{const _=sh.FakeClipboardItem(y);sh.write([_])},ma=y=>{var _;const T=(_=sh.read())!==null&&_!==void 0?_:[];return J(T,B=>le.from(B.getType(y)))},Wm=y=>{ma(y).isSome()&&sh.clear()},RC=y=>{y.fold(ol,_=>DC({[Ox]:_}))},Bc=()=>ma(Ox),ol=()=>Wm(Ox),rh=y=>{y.fold(IC,_=>DC({[Dx]:_}))},vp=()=>ma(Dx),IC=()=>Wm(Dx),Nr=y=>Af(Tc(y),Zr(y)).filter(W1),Pr=(y,_)=>{const T=Zr(y),B=De=>ml(De,T),H=De=>(Pe=>pr(Tc(Pe),Zr(Pe)).filter(W1))(y).bind(Pe=>B(Pe).map(Ve=>De(Ve,Pe))),U=De=>{y.focus()},te=(De,Pe=!1)=>H((Ve,rt)=>{const at=ko(Dc(y),Ve,rt);De(Ve,at,Pe).each(U)}),ie=()=>H((De,Pe)=>((Ve,rt,at)=>{const Tt=Do(Ve);return Bd(Tt,rt).bind(Rt=>{const At=kr(Tt,at,!1),Pt=Js(At).rows.slice(Rt[0].row,Rt[Rt.length-1].row+Rt[Rt.length-1].rowspan),Gt=Ye(Pt,lt=>{const yn=$t(lt.cells,Yn=>!Yn.isLocked);return yn.length>0?[{...lt,cells:yn}]:[]}),Qt=Vv(Gt);return un(Qt.length>0,Qt)}).map(Rt=>O(Rt,At=>{const Pt=wm(At.element);return Ke(At.cells,Gt=>{const Qt=Gc(Gt.element);Md(Qt,"colspan",Gt.colspan,1),Md(Qt,"rowspan",Gt.rowspan,1),hr(Pt,Qt)}),Pt}))})(De,ko(Dc(y),De,Pe),Qs(K,Kt.fromDom(y.getDoc()),le.none()))),ye=()=>H((De,Pe)=>((Ve,rt)=>{const at=Do(Ve);return ji(at,rt).map(Tt=>{const Rt=Tt[Tt.length-1],At=Tt[0].column,Pt=Rt.column+Rt.colspan,Gt=((lt,yn,Yn)=>{if(kc(lt)){const yo=$t(Sc(lt),Ki(yn,Yn)),so=O(yo,bo=>{const Ko=Gc(bo.element);return l0(Ko,"span",Yn-yn),Ko}),Xn=Kt.fromTag("colgroup");return Ol(Xn,so),[Xn]}return[]})(at,At,Pt),Qt=((lt,yn,Yn)=>O(lt.all,yo=>{const so=$t(yo.cells,Ki(yn,Yn)),Xn=O(so,Ko=>{const ni=Gc(Ko.element);return l0(ni,"colspan",Yn-yn),ni}),bo=Kt.fromTag("tr");return Ol(bo,Xn),bo}))(at,At,Pt);return[...Gt,...Qt]})})(De,ko(Dc(y),De,Pe))),Ie=(De,Pe)=>Pe().each(Ve=>{const rt=O(Ve,at=>Gc(at));H((at,Tt)=>{const Rt=Ds(Kt.fromDom(y.getDoc())),At=((Pt,Gt,Qt,lt)=>({selection:kf(Pt),clipboard:Qt,generators:lt}))(Dc(y),0,rt,Rt);De(at,At).each(U)})}),Ze=De=>(Pe,Ve)=>((rt,at)=>Be(rt,at)?le.from(rt[at]):le.none())(Ve,"type").each(rt=>{te(De(rt),Ve.no_events)});tn({mceTableSplitCells:()=>te(_.unmergeCells),mceTableMergeCells:()=>te(_.mergeCells),mceTableInsertRowBefore:()=>te(_.insertRowsBefore),mceTableInsertRowAfter:()=>te(_.insertRowsAfter),mceTableInsertColBefore:()=>te(_.insertColumnsBefore),mceTableInsertColAfter:()=>te(_.insertColumnsAfter),mceTableDeleteCol:()=>te(_.deleteColumn),mceTableDeleteRow:()=>te(_.deleteRow),mceTableCutCol:()=>ye().each(De=>{rh(De),te(_.deleteColumn)}),mceTableCutRow:()=>ie().each(De=>{RC(De),te(_.deleteRow)}),mceTableCopyCol:()=>ye().each(De=>rh(De)),mceTableCopyRow:()=>ie().each(De=>RC(De)),mceTablePasteColBefore:()=>Ie(_.pasteColsBefore,vp),mceTablePasteColAfter:()=>Ie(_.pasteColsAfter,vp),mceTablePasteRowBefore:()=>Ie(_.pasteRowsBefore,Bc),mceTablePasteRowAfter:()=>Ie(_.pasteRowsAfter,Bc),mceTableDelete:()=>Nr(y).each(De=>{ml(De,T).filter(Me(T)).each(Pe=>{const Ve=Kt.fromText("");if(Bu(Pe,Ve),lr(Pe),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const rt=y.dom.createRng();rt.setStart(Ve.dom,0),rt.setEnd(Ve.dom,0),y.selection.setRng(rt),y.nodeChanged()}})}),mceTableCellToggleClass:(De,Pe)=>{H(Ve=>{const rt=Dc(y),at=Mt(rt,Rt=>y.formatter.match("tablecellclass",{value:Pe},Rt.dom)),Tt=at?y.formatter.remove:y.formatter.apply;Ke(rt,Rt=>Tt("tablecellclass",{value:Pe},Rt.dom)),Vd(y,Ve.dom,a0)})},mceTableToggleClass:(De,Pe)=>{H(Ve=>{y.formatter.toggle("tableclass",{value:Pe},Ve.dom),Vd(y,Ve.dom,a0)})},mceTableToggleCaption:()=>{Nr(y).each(De=>{ml(De,T).each(Pe=>{mt(Pe,"caption").fold(()=>{const Ve=Kt.fromTag("caption");hr(Ve,Kt.fromText("Caption")),((rt,at,Tt)=>{Mu(rt,0).fold(()=>{hr(rt,at)},Rt=>{rn(Rt,at)})})(Pe,Ve),y.selection.setCursorLocation(Ve.dom,0)},Ve=>{cs("caption")(De)&&Ul("td",Pe).each(rt=>y.selection.setCursorLocation(rt.dom,0)),lr(Ve)}),Vd(y,Pe.dom,pi)})})},mceTableSizingMode:(De,Pe)=>(Ve=>Nr(y).each(rt=>{W(y)||N(y)||Ku(y)||ml(rt,T).each(at=>{Ve!=="relative"||u0(at)?Ve!=="fixed"||fr(at)?Ve!=="responsive"||Xu(at)||fa(at):bl(at):nh(at),Sr(at),Vd(y,at.dom,pi)})}))(Pe),mceTableCellType:Ze(De=>De==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:Ze(De=>De==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:Ze(De=>{switch(De){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(De,Pe)=>y.addCommand(Pe,De)),y.addCommand("mceInsertTable",(De,Pe)=>{((Ve,rt,at,Tt={})=>{const Rt=At=>$(At)&&At>0;if(Rt(rt)&&Rt(at)){const At=Tt.headerRows||0,Pt=Tt.headerColumns||0;return Jv(Ve,at,rt,Pt,At)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Pe.rows,Pe.columns,Pe.options)}),y.addCommand("mceTableApplyCellStyle",(De,Pe)=>{const Ve=Tt=>"tablecell"+Tt.toLowerCase().replace("-","");if(!v(Pe))return;const rt=$t(Dc(y),W1);if(rt.length===0)return;const at=((Tt,Rt)=>{const At={};return((Pt,Gt,Qt,lt)=>{tn(Pt,(yn,Yn)=>{(Gt(yn,Yn)?Qt:lt)(yn,Yn)})})(Tt,Rt,(Pt=>(Gt,Qt)=>{Pt[Qt]=Gt})(At),K),At})(Pe,(Tt,Rt)=>y.formatter.has(Ve(Rt))&&g(Tt));(Tt=>{for(const Rt in Tt)if(eo.call(Tt,Rt))return!1;return!0})(at)||(tn(at,(Tt,Rt)=>{const At=Ve(Rt);Ke(rt,Pt=>{Tt===""?y.formatter.remove(At,{value:null},Pt.dom,!0):y.formatter.apply(At,{value:Tt},Pt.dom)})}),B(rt[0]).each(Tt=>Vd(y,Tt.dom,a0)))})},ti=Fm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ms={before:ti.before,on:ti.on,after:ti.after,cata:(y,_,T,B)=>y.fold(_,T,B),getStart:y=>y.fold(ne,ne,ne)},Er=(y,_)=>({selection:y,kill:_}),Gr=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},d0=(y,_)=>{const T=y.document.createRange();return f0(T,_),T},f0=(y,_)=>y.selectNodeContents(_.dom),Rx=(y,_,T)=>{const B=y.document.createRange();var H;return H=B,_.fold(U=>{H.setStartBefore(U.dom)},(U,te)=>{H.setStart(U.dom,te)},U=>{H.setStartAfter(U.dom)}),((U,te)=>{te.fold(ie=>{U.setEndBefore(ie.dom)},(ie,ye)=>{U.setEnd(ie.dom,ye)},ie=>{U.setEndAfter(ie.dom)})})(B,T),B},Qv=(y,_,T,B,H)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(B.dom,H),U},Ix=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),ih=Fm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),m0=(y,_,T)=>_(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset),g0=(y,_)=>{const T=((B,H)=>H.match({domRange:U=>({ltr:Y(U),rtl:le.none}),relative:(U,te)=>({ltr:Oi(()=>Rx(B,U,te)),rtl:Oi(()=>le.some(Rx(B,te,U)))}),exact:(U,te,ie,ye)=>({ltr:Oi(()=>Qv(B,U,te,ie,ye)),rtl:Oi(()=>le.some(Qv(B,ie,ye,U,te)))})}))(y,_);return((B,H)=>{const U=H.ltr();return U.collapsed?H.rtl().filter(te=>te.collapsed===!1).map(te=>ih.rtl(Kt.fromDom(te.endContainer),te.endOffset,Kt.fromDom(te.startContainer),te.startOffset)).getOrThunk(()=>m0(0,ih.ltr,U)):m0(0,ih.ltr,U)})(0,T)},Nx=(y,_)=>g0(y,_).match({ltr:(T,B,H,U)=>{const te=y.document.createRange();return te.setStart(T.dom,B),te.setEnd(H.dom,U),te},rtl:(T,B,H,U)=>{const te=y.document.createRange();return te.setStart(H.dom,U),te.setEnd(T.dom,B),te}});ih.ltr,ih.rtl;const eb=(y,_,T,B)=>({start:y,soffset:_,finish:T,foffset:B}),yl=(y,_,T,B)=>({start:Ms.on(y,_),finish:Ms.on(T,B)}),Px=(y,_)=>{const T=Nx(y,_);return eb(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset)},za=yl,tb=(y,_,T,B,H)=>$s(T,B)?le.none():au(T,B,_).bind(U=>{const te=U.boxes.getOr([]);return te.length>1?(H(y,te,U.start,U.finish),le.some(Er(le.some(za(T,0,T,Ur(T))),!0))):le.none()}),ah=(y,_)=>({item:y,mode:_}),fu=(y,_,T,B=qr)=>y.property().parent(_).map(H=>ah(H,B)),qr=(y,_,T,B=Zm)=>T.sibling(y,_).map(H=>ah(H,B)),Zm=(y,_,T,B=Zm)=>{const H=y.property().children(_);return T.first(H).map(U=>ah(U,B))},Mx=[{current:fu,next:qr,fallback:le.none()},{current:qr,next:Zm,fallback:le.some(fu)},{current:Zm,next:Zm,fallback:le.some(qr)}],Bx=(y,_,T,B,H=Mx)=>pt(H,U=>U.current===T).bind(U=>U.current(y,_,B,U.next).orThunk(()=>U.fallback.bind(te=>Bx(y,_,te,B)))),nb=(y,_,T,B,H,U)=>Bx(y,_,B,H).bind(te=>U(te.item)?le.none():T(te.item)?le.some(te.item):nb(y,te.item,T,te.mode,H,U)),zd=y=>_=>y.property().children(_).length===0,pE=(y,_,T,B)=>nb(y,_,T,qr,{sibling:(H,U)=>H.query().prevSibling(U),first:H=>H.length>0?le.some(H[H.length-1]):le.none()},B),ob=(y,_,T,B)=>nb(y,_,T,qr,{sibling:(H,U)=>H.query().nextSibling(U),first:H=>H.length>0?le.some(H[0]):le.none()},B),jm=Cf(),NC=(y,_)=>((T,B,H)=>pE(T,B,zd(T),H))(jm,y,_),sb=(y,_)=>((T,B,H)=>ob(T,B,zd(T),H))(jm,y,_),rb=Fm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),h0=y=>Je(y,"tr"),bp={...rb,verify:(y,_,T,B,H,U,te)=>Je(B,"td,th",te).bind(ie=>Je(_,"td,th",te).map(ye=>$s(ie,ye)?$s(B,ie)&&Ur(ie)===H?U(ye):rb.none("in same cell"):_f(h0,[ie,ye]).fold(()=>((Ie,Ze,De)=>{const Pe=Ie.getRect(Ze),Ve=Ie.getRect(De);return Ve.right>Pe.left&&Ve.left<Pe.right})(y,ye,ie)?rb.success():U(ye),Ie=>U(ye)))).getOr(rb.none("default")),cata:(y,_,T,B,H)=>y.fold(_,T,B,H)},p0=cs("br"),Ha=(y,_,T)=>_(y,T).bind(B=>wo(B)&&Dm(B).trim().length===0?Ha(B,_,T):le.some(B)),Lx=(y,_,T,B)=>((H,U)=>Mu(H,U).filter(p0).orThunk(()=>Mu(H,U-1).filter(p0)))(_,T).bind(H=>B.traverse(H).fold(()=>Ha(H,B.gather,y).map(B.relative),U=>(te=>ul(te).bind(ie=>{const ye=Ti(ie);return((Ie,Ze)=>Lt(Ie,se($s,Ze)))(ye,te).map(Ie=>((Ze,De,Pe,Ve)=>({parent:Ze,children:De,element:Pe,index:Ve}))(ie,ye,te,Ie))}))(U).map(te=>Ms.on(te.parent,te.index)))),Hd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),ib=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Ju=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),ab=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),lb=(y,_)=>le.some(y.getRect(_)),Km=(y,_,T)=>On(_)?lb(y,_).map(ab):wo(_)?((B,H,U)=>U>=0&&U<Ur(H)?B.getRangedRect(H,U,H,U+1):U>0?B.getRangedRect(H,U-1,H,U):le.none())(y,_,T).map(ab):le.none(),lh=(y,_)=>On(_)?lb(y,_).map(ab):wo(_)?y.getRangedRect(_,0,_,Ur(_)).map(ab):le.none(),Lc=Fm([{none:[]},{retry:["caret"]}]),cb=(y,_,T)=>nt(_,Xg).fold(ee,B=>lh(y,B).exists(H=>((U,te)=>U.left<te.left||Math.abs(te.right-U.left)<1||U.left>te.right)(T,H))),vE={point:y=>y.bottom,adjuster:(y,_,T,B,H)=>{const U=Hd(H,5);return Math.abs(T.bottom-B.bottom)<1||T.top>H.bottom?Lc.retry(U):T.top===H.bottom?Lc.retry(Hd(H,1)):cb(y,_,H)?Lc.retry(Ju(U,5,0)):Lc.none()},move:Hd,gather:sb},ic=(y,_,T,B,H)=>H===0?le.some(B):((U,te,ie)=>U.elementFromPoint(te,ie).filter(ye=>Ft(ye)==="table").isSome())(y,B.left,_.point(B))?((U,te,ie,ye,Ie)=>ic(U,te,ie,te.move(ye,5),Ie))(y,_,T,B,H-1):y.situsFromPoint(B.left,_.point(B)).bind(U=>U.start.fold(le.none,te=>lh(y,te).bind(ie=>_.adjuster(y,te,ie,T,B).fold(le.none,ye=>ic(y,_,T,ye,H-1))).orThunk(()=>le.some(B)),le.none)),$d=(y,_,T)=>{const B=y.move(T,5),H=ic(_,y,T,B,100).getOr(B);return((U,te,ie)=>U.point(te)>ie.getInnerHeight()?le.some(U.point(te)-ie.getInnerHeight()):U.point(te)<0?le.some(-U.point(te)):le.none())(y,H,_).fold(()=>_.situsFromPoint(H.left,y.point(H)),U=>(_.scrollBy(0,U),_.situsFromPoint(H.left,y.point(H)-U)))},Fc={tryUp:se($d,{point:y=>y.top,adjuster:(y,_,T,B,H)=>{const U=ib(H,5);return Math.abs(T.top-B.top)<1||T.bottom<H.top?Lc.retry(U):T.bottom===H.top?Lc.retry(ib(H,1)):cb(y,_,H)?Lc.retry(Ju(U,5,0)):Lc.none()},move:ib,gather:NC}),tryDown:se($d,vE),getJumpSize:Y(5)},Fx=(y,_,T)=>y.getSelection().bind(B=>((H,U,te,ie)=>(p0(U)?((Ie,Ze,De)=>De.traverse(Ze).orThunk(()=>Ha(Ze,De.gather,Ie)).map(De.relative))(H,U,ie):Lx(H,U,te,ie)).map(Ie=>({start:Ie,finish:Ie})))(_,B.finish,B.foffset,T).fold(()=>le.some(fo(B.finish,B.foffset)),H=>{const U=y.fromSitus(H);return te=bp.verify(y,B.finish,B.foffset,U.finish,U.foffset,T.failure,_),bp.cata(te,ie=>le.none(),()=>le.none(),ie=>le.some(fo(ie,0)),ie=>le.some(fo(ie,Ur(ie))));var te})),Ci=(y,_,T,B,H,U)=>U===0?le.none():bE(y,_,T,B,H).bind(te=>{const ie=y.fromSitus(te),ye=bp.verify(y,T,B,ie.finish,ie.foffset,H.failure,_);return bp.cata(ye,()=>le.none(),()=>le.some(te),Ie=>$s(T,Ie)&&B===0?Vc(y,T,B,ib,H):Ci(y,_,Ie,0,H,U-1),Ie=>$s(T,Ie)&&B===Ur(Ie)?Vc(y,T,B,Hd,H):Ci(y,_,Ie,Ur(Ie),H,U-1))}),Vc=(y,_,T,B,H)=>Km(y,_,T).bind(U=>xl(y,H,B(U,Fc.getJumpSize()))),xl=(y,_,T)=>{const B=H1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?_.retry(y,T):le.none()},bE=(y,_,T,B,H)=>Km(y,T,B).bind(U=>xl(y,H,U)),Pf=(y,_,T,B,H)=>Je(B,"td,th",_).bind(U=>Je(U,"table",_).bind(te=>((ie,ye)=>Te(ie,Ie=>ul(Ie).exists(Ze=>$s(Ze,ye)),void 0).isSome())(H,te)?((ie,ye,Ie)=>Fx(ie,ye,Ie).bind(Ze=>Ci(ie,ye,Ze.element,Ze.offset,Ie,20).map(ie.fromSitus)))(y,_,T).bind(ie=>Je(ie.finish,"td,th",_).map(ye=>({start:U,finish:ye,range:ie}))):le.none())),Ud=(y,_,T,B,H,U)=>U(B,_).orThunk(()=>Pf(y,_,T,B,H).map(te=>{const ie=te.range;return Er(le.some(za(ie.start,ie.soffset,ie.finish,ie.foffset)),!0)})),yp=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(B=>{const H=Ns(B,"tr");return $s(T,H[0])?((U,te,ie)=>pE(jm,U,ye=>ru(ye).isSome(),ie))(B,0,_).map(U=>{const te=Ur(U);return Er(le.some(za(U,te,U,te)),!0)}):le.none()})),Gm=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(B=>{const H=Ns(B,"tr");return $s(T,H[H.length-1])?((U,te,ie)=>ob(jm,U,ye=>$g(ye).isSome(),ie))(B,0,_).map(U=>Er(le.some(za(U,0,U,0)),!0)):le.none()})),Kl=(y,_,T,B,H,U,te)=>Pf(y,T,B,H,U).bind(ie=>tb(_,T,ie.start,ie.finish,te)),v0=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},b0=()=>{const y=(_=>{const T=v0(le.none()),B=()=>T.get().each(_);return{clear:()=>{B(),T.set(le.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:H=>{B(),T.set(le.some(H))}}})(K);return{...y,on:_=>y.get().each(_)}},ub=(y,_)=>Je(y,"td,th",_),y0=y=>Pu(y).exists(lo),PC={traverse:Wl,gather:sb,relative:Ms.before,retry:Fc.tryDown,failure:bp.failedDown},db={traverse:ao,gather:NC,relative:Ms.before,retry:Fc.tryUp,failure:bp.failedUp},Wd=y=>_=>_===y,fb=Wd(38),ch=Wd(40),uh=y=>y>=37&&y<=40,Mf={isBackward:Wd(37),isForward:Wd(39)},Bf={isBackward:Wd(39),isForward:Wd(37)},mb=Fm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lf={domRange:mb.domRange,relative:mb.relative,exact:mb.exact,exactFromRange:y=>mb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:B=>Kt.fromDom(B.startContainer),relative:(B,H)=>Ms.getStart(B),exact:(B,H,U,te)=>B}))(y);return Kt.fromDom(Cc(_).dom.defaultView)},range:eb},Ff=(y,_)=>{const T=Ft(y);return T==="input"?Ms.after(y):st(["br","img"],T)?_===0?Ms.before(y):Ms.after(y):Ms.on(y,_)},Vf=y=>le.from(y.getSelection()),dh=(y,_)=>{Vf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},x0=(y,_,T,B,H)=>{const U=Qv(y,_,T,B,H);dh(y,U)},xp=(y,_)=>g0(y,_).match({ltr:(T,B,H,U)=>{x0(y,T,B,H,U)},rtl:(T,B,H,U)=>{Vf(y).each(te=>{if(te.setBaseAndExtent)te.setBaseAndExtent(T.dom,B,H.dom,U);else if(te.extend)try{((ie,ye,Ie,Ze,De,Pe)=>{ye.collapse(Ie.dom,Ze),ye.extend(De.dom,Pe)})(0,te,T,B,H,U)}catch{x0(y,H,U,T,B)}else x0(y,H,U,T,B)})}}),w0=(y,_,T,B,H)=>{const U=((te,ie,ye,Ie)=>{const Ze=Ff(te,ie),De=Ff(ye,Ie);return Lf.relative(Ze,De)})(_,T,B,H);xp(y,U)},Vx=(y,_,T)=>{const B=((H,U)=>{const te=H.fold(Ms.before,Ff,Ms.after),ie=U.fold(Ms.before,Ff,Ms.after);return Lf.relative(te,ie)})(_,T);xp(y,B)},wp=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return le.some(eb(Kt.fromDom(_.startContainer),_.startOffset,Kt.fromDom(T.endContainer),T.endOffset))}return le.none()},_i=y=>{if(y.anchorNode===null||y.focusNode===null)return wp(y);{const _=Kt.fromDom(y.anchorNode),T=Kt.fromDom(y.focusNode);return((B,H,U,te)=>{const ie=((Ie,Ze,De,Pe)=>{const Ve=Nu(Ie).dom.createRange();return Ve.setStart(Ie.dom,Ze),Ve.setEnd(De.dom,Pe),Ve})(B,H,U,te),ye=$s(B,U)&&H===te;return ie.collapsed&&!ye})(_,y.anchorOffset,T,y.focusOffset)?le.some(eb(_,y.anchorOffset,T,y.focusOffset)):wp(y)}},zx=(y,_,T=!0)=>{const B=(T?d0:Gr)(y,_);dh(y,B)},MC=y=>(_=>Vf(_).filter(T=>T.rangeCount>0).bind(_i))(y).map(_=>Lf.exact(_.start,_.soffset,_.finish,_.foffset)),Hx=(y,_,T)=>((B,H,U)=>((te,ie,ye)=>te.caretPositionFromPoint?((Ie,Ze,De)=>{var Pe;return le.from((Pe=Ie.caretPositionFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,Ze,De)).bind(Ve=>{if(Ve.offsetNode===null)return le.none();const rt=Ie.createRange();return rt.setStart(Ve.offsetNode,Ve.offset),rt.collapse(),le.some(rt)})})(te,ie,ye):te.caretRangeFromPoint?((Ie,Ze,De)=>{var Pe;return le.from((Pe=Ie.caretRangeFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,Ze,De))})(te,ie,ye):le.none())(B.document,H,U).map(te=>eb(Kt.fromDom(te.startContainer),te.startOffset,Kt.fromDom(te.endContainer),te.endOffset)))(y,_,T),$x=y=>({elementFromPoint:(_,T)=>Kt.fromPoint(Kt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,B,H)=>{const U=Lf.exact(_,T,B,H);return((te,ie)=>(ye=>{const Ie=ye.getClientRects(),Ze=Ie.length>0?Ie[0]:ye.getBoundingClientRect();return Ze.width>0||Ze.height>0?le.some(Ze).map(Ix):le.none()})(Nx(te,ie)))(y,U)},getSelection:()=>MC(y).map(_=>Px(y,_)),fromSitus:_=>{const T=Lf.relative(_.start,_.finish);return Px(y,T)},situsFromPoint:(_,T)=>Hx(y,_,T).map(B=>yl(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(_=>{Vf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{MC(y).each(T=>T.fold(B=>B.collapse(_),(B,H)=>{const U=_?B:H;Vx(y,U,U)},(B,H,U,te)=>{const ie=_?B:U,ye=_?H:te;w0(y,ie,ye,ie,ye)}))},setSelection:_=>{w0(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{Vx(y,_,T)},selectNode:_=>{zx(y,_,!1)},selectContents:_=>{zx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,H=T.body.scrollTop||T.documentElement.scrollTop;return Ja(B,H)})(Kt.fromDom(y.document)).top,scrollBy:(_,T)=>{((B,H,U)=>{const te=(U!==void 0?U.dom:document).defaultView;te&&te.scrollBy(B,H)})(_,T,Kt.fromDom(y.document))}}),zf=(y,_)=>({rows:y,cols:_}),C0=y=>nt(y,An).exists(lo),gb=(y,_)=>C0(y)||C0(_),Ux=y=>y.dom.classList!==void 0,yE=(y,_)=>((T,B,H)=>{const U=((te,ie)=>{const ye=hn(te,ie);return ye===void 0||ye===""?[]:ye.split(" ")})(T,B).concat([H]);return fs(T,B,U.join(" ")),!0})(y,"class",_),Hf=(y,_)=>{Ux(y)?y.dom.classList.add(_):yE(y,_)},hb=(y,_)=>Ux(y)&&y.dom.classList.contains(_),BC=()=>({tag:"none"}),LC=y=>({tag:"multiple",elements:y}),mu=y=>({tag:"single",element:y}),Wx=y=>{const _=Kt.fromDom((ie=>{if(I(ie.target)){const ye=Kt.fromDom(ie.target);if(On(ye)&&I(ye.dom.shadowRoot)&&ie.composed&&ie.composedPath){const Ie=ie.composedPath();if(Ie)return fn(Ie)}}return le.from(ie.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),B=()=>y.preventDefault(),H=(U=B,te=T,(...ie)=>U(te.apply(null,ie)));var U,te;return((ie,ye,Ie,Ze,De,Pe,Ve)=>({target:ie,x:ye,y:Ie,stop:Ze,prevent:De,kill:Pe,raw:Ve}))(_,y.clientX,y.clientY,T,B,H,y)},_0=(y,_,T,B)=>{y.dom.removeEventListener(_,T,B)},FC=_e,fh=(y,_,T)=>((B,H,U,te)=>((ie,ye,Ie,Ze,De)=>{const Pe=((Ve,rt)=>at=>{Ve(at)&&rt(Wx(at))})(Ie,Ze);return ie.dom.addEventListener(ye,Pe,De),{unbind:se(_0,ie,ye,Pe,De)}})(B,H,U,te,!1))(y,_,FC,T),Cp=Wx,pb=y=>!hb(Kt.fromDom(y.target),"ephox-snooker-resizer-bar"),VC=(y,_)=>{const T=(H=Ef.selectedSelector,{get:()=>Oc(Kt.fromDom(y.getBody()),H).fold(()=>pr(Tc(y),Zr(y)).fold(BC,mu),LC)}),B=((U,te,ie)=>{const ye=Pe=>{vo(Pe,U.selected),vo(Pe,U.firstSelected),vo(Pe,U.lastSelected)},Ie=Pe=>{fs(Pe,U.selected,"1")},Ze=Pe=>{De(Pe),ie()},De=Pe=>{const Ve=Ns(Pe,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);Ke(Ve,ye)};return{clearBeforeUpdate:De,clear:Ze,selectRange:(Pe,Ve,rt,at)=>{Ze(Pe),Ke(Ve,Ie),fs(rt,U.firstSelected,"1"),fs(at,U.lastSelected,"1"),te(Ve,rt,at)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(Ef,(U,te,ie)=>{ml(te).each(ye=>{const Ie=O(U,Ve=>Ve.dom),Ze=Nd(y),De=Qs(K,Kt.fromDom(y.getDoc()),Ze),Pe=((Ve,rt,at)=>{const Tt=Do(Ve);return Bd(Tt,rt).map(Rt=>{const At=kr(Tt,at,!1),{rows:Pt}=Js(At),Gt=((lt,yn)=>{const Yn=lt.slice(0,yn[yn.length-1].row+1),yo=Vv(Yn);return Ye(yo,so=>{const Xn=so.cells.slice(0,yn[yn.length-1].column+1);return O(Xn,bo=>bo.element)})})(Pt,Rt),Qt=((lt,yn)=>{const Yn=lt.slice(yn[0].row+yn[0].rowspan-1,lt.length),yo=Vv(Yn);return Ye(yo,so=>{const Xn=so.cells.slice(yn[0].column+yn[0].colspan-1,so.cells.length);return O(Xn,bo=>bo.element)})})(Pt,Rt);return{upOrLeftCells:Gt,downOrRightCells:Qt}})})(ye,{selection:Dc(y)},De).map(Ve=>To(Ve,rt=>O(rt,at=>at.dom))).getOrUndefined();((Ve,rt,at,Tt,Rt)=>{Ve.dispatch("TableSelectionChange",{cells:rt,start:at,finish:Tt,otherCells:Rt})})(y,Ie,te.dom,ie.dom,Pe)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var H;return y.on("init",U=>{const te=y.getWin(),ie=bs(y),ye=Zr(y),Ie=((at,Tt,Rt,At)=>{const Pt=((Gt,Qt,lt,yn)=>{const Yn=b0(),yo=Yn.clear,so=Xn=>{Yn.on(bo=>{yn.clearBeforeUpdate(Qt),ub(Xn.target,lt).each(Ko=>{au(bo,Ko,lt).each(ni=>{const Ta=ni.boxes.getOr([]);if(Ta.length===1){const Gi=Ta[0],ac=Tn(Gi)==="false",Jm=Wt(po(Xn.target),Gi,$s);ac&&Jm&&yn.selectRange(Qt,Ta,Gi,Gi)}else Ta.length>1&&(yn.selectRange(Qt,Ta,ni.start,ni.finish),Gt.selectContents(Ko))})})})};return{clearstate:yo,mousedown:Xn=>{yn.clear(Qt),ub(Xn.target,lt).filter(y0).each(Yn.set)},mouseover:Xn=>{so(Xn)},mouseup:Xn=>{so(Xn),yo()}}})($x(at),Tt,Rt,At);return{clearstate:Pt.clearstate,mousedown:Pt.mousedown,mouseover:Pt.mouseover,mouseup:Pt.mouseup}})(te,ie,ye,B),Ze=((at,Tt,Rt,At)=>{const Pt=$x(at),Gt=()=>(At.clear(Tt),le.none());return{keydown:(Qt,lt,yn,Yn,yo,so)=>{const Xn=Qt.raw,bo=Xn.which,Ko=Xn.shiftKey===!0;return Bv(Tt,At.selectedSelector).fold(()=>(uh(bo)&&!Ko&&At.clearBeforeUpdate(Tt),uh(bo)&&Ko&&!gb(lt,Yn)?le.none:ch(bo)&&Ko?se(Kl,Pt,Tt,Rt,PC,Yn,lt,At.selectRange):fb(bo)&&Ko?se(Kl,Pt,Tt,Rt,db,Yn,lt,At.selectRange):ch(bo)?se(Ud,Pt,Rt,PC,Yn,lt,Gm):fb(bo)?se(Ud,Pt,Rt,db,Yn,lt,yp):le.none),Ta=>{const Gi=ac=>()=>J(ac,Oa=>((Qu,Sp,Wf,kp,D0)=>ua(kp,Qu,Sp,D0.firstSelectedSelector,D0.lastSelectedSelector).map(Zf=>(D0.clearBeforeUpdate(Wf),D0.selectRange(Wf,Zf.boxes,Zf.start,Zf.finish),Zf.boxes)))(Oa.rows,Oa.cols,Tt,Ta,At)).fold(()=>Sf(Tt,At.firstSelectedSelector,At.lastSelectedSelector).map(Oa=>{const Qu=ch(bo)||so.isForward(bo)?Ms.after:Ms.before;return Pt.setRelativeSelection(Ms.on(Oa.first,0),Qu(Oa.table)),At.clear(Tt),Er(le.none(),!0)}),Oa=>le.some(Er(le.none(),!0)));return uh(bo)&&Ko&&!gb(lt,Yn)?le.none:ch(bo)&&Ko?Gi([zf(1,0)]):fb(bo)&&Ko?Gi([zf(-1,0)]):so.isBackward(bo)&&Ko?Gi([zf(0,-1),zf(-1,0)]):so.isForward(bo)&&Ko?Gi([zf(0,1),zf(1,0)]):uh(bo)&&!Ko?Gt:le.none})()},keyup:(Qt,lt,yn,Yn,yo)=>Bv(Tt,At.selectedSelector).fold(()=>{const so=Qt.raw,Xn=so.which;return so.shiftKey===!0&&uh(Xn)&&gb(lt,Yn)?((bo,Ko,ni,Ta,Gi,ac,Jm)=>$s(ni,Gi)&&Ta===ac?le.none():Je(ni,"td,th",Ko).bind(Oa=>Je(Gi,"td,th",Ko).bind(Qu=>tb(bo,Ko,Oa,Qu,Jm))))(Tt,Rt,lt,yn,Yn,yo,At.selectRange):le.none()},le.none)}})(te,ie,ye,B),De=((at,Tt,Rt,At)=>{const Pt=$x(at);return(Gt,Qt)=>{At.clearBeforeUpdate(Tt),au(Gt,Qt,Rt).each(lt=>{const yn=lt.boxes.getOr([]);At.selectRange(Tt,yn,lt.start,lt.finish),Pt.selectContents(Qt),Pt.collapseSelection()})}})(te,ie,ye,B);y.on("TableSelectorChange",at=>De(at.start,at.finish));const Pe=(at,Tt)=>{(Rt=>Rt.raw.shiftKey===!0)(at)&&(Tt.kill&&at.kill(),Tt.selection.each(Rt=>{const At=Lf.relative(Rt.start,Rt.finish),Pt=Nx(te,At);y.selection.setRng(Pt)}))},Ve=at=>at.button===0,rt=(()=>{const at=v0(Kt.fromDom(ie)),Tt=v0(0);return{touchEnd:Rt=>{const At=Kt.fromDom(Rt.target);if(cs("td")(At)||cs("th")(At)){const Pt=at.get(),Gt=Tt.get();$s(Pt,At)&&Rt.timeStamp-Gt<300&&(Rt.preventDefault(),De(At,At))}at.set(At),Tt.set(Rt.timeStamp)}}})();y.on("dragstart",at=>{Ie.clearstate()}),y.on("mousedown",at=>{Ve(at)&&pb(at)&&Ie.mousedown(Cp(at))}),y.on("mouseover",at=>{var Tt;(Tt=at).buttons!==void 0&&!(1&Tt.buttons)||!pb(at)||Ie.mouseover(Cp(at))}),y.on("mouseup",at=>{Ve(at)&&pb(at)&&Ie.mouseup(Cp(at))}),y.on("touchend",rt.touchEnd),y.on("keyup",at=>{const Tt=Cp(at);if(Tt.raw.shiftKey&&uh(Tt.raw.which)){const Rt=y.selection.getRng(),At=Kt.fromDom(Rt.startContainer),Pt=Kt.fromDom(Rt.endContainer);Ze.keyup(Tt,At,Rt.startOffset,Pt,Rt.endOffset).each(Gt=>{Pe(Tt,Gt)})}}),y.on("keydown",at=>{const Tt=Cp(at);_.hide();const Rt=y.selection.getRng(),At=Kt.fromDom(Rt.startContainer),Pt=Kt.fromDom(Rt.endContainer),Gt=Bo(Mf,Bf)(Kt.fromDom(y.selection.getStart()));Ze.keydown(Tt,At,Rt.startOffset,Pt,Rt.endOffset,Gt).each(Qt=>{Pe(Tt,Qt)}),_.show()}),y.on("NodeChange",()=>{const at=y.selection,Tt=Kt.fromDom(at.getStart()),Rt=Kt.fromDom(at.getEnd());_f(ml,[Tt,Rt]).fold(()=>B.clear(ie),K)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Ef.firstSelected),y.serializer.addTempAttr(Ef.lastSelected)}),{getSelectedCells:()=>((U,te,ie,ye)=>{switch(U.tag){case"none":return te();case"single":return(Ie=>[Ie.dom])(U.element);case"multiple":return(Ie=>O(Ie,Ze=>Ze.dom))(U.elements)}})(T.get(),Y([])),clearSelectedCells:U=>B.clear(Kt.fromDom(U))}},gu=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=$t(_,B=>B!==T)},trigger:(...T)=>{const B={};Ke(y,(H,U)=>{B[H]=T[U]}),Ke(_,H=>{H(B)})}}},qm=y=>({registry:To(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:To(y,_=>_.trigger)}),vb=y=>y.slice(0).sort(),bb=(y,_)=>{const T=$t(_,B=>!st(y,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+vb(B).join(", "))})(T)},S0=y=>((_,T)=>((B,H,U)=>{if(H.length===0)throw new Error("You must specify at least one required field.");return((te,ie)=>{if(!x(ie))throw new Error("The "+te+" fields must be an array. Was: "+ie+".");Ke(ie,ye=>{if(!g(ye))throw new Error("The value "+ye+" in the "+te+" fields was not a string.")})})("required",H),(te=>{const ie=vb(te);pt(ie,(ye,Ie)=>Ie<ie.length-1&&ye===ie[Ie+1]).each(ye=>{throw new Error("The field: "+ye+" occurs more than once in the combined fields: ["+ie.join(", ")+"].")})})(H),te=>{const ie=xs(te);Mt(H,Ie=>st(ie,Ie))||((Ie,Ze)=>{throw new Error("All required keys ("+vb(Ie).join(", ")+") were not specified. Specified keys were: "+vb(Ze).join(", ")+".")})(H,ie),B(H,ie);const ye=$t(H,Ie=>!U.validate(te[Ie],Ie));return ye.length>0&&((Ie,Ze)=>{throw new Error("All values need to be of type: "+Ze+". Keys ("+vb(Ie).join(", ")+") were not.")})(ye,U.label),te}})(_,T,{validate:L,label:"function"}))(bb,y),yb=S0(["compare","extract","mutate","sink"]),ga=S0(["element","start","stop","destroy"]),k0=S0(["forceDrop","drop","move","delayDrop"]),Ym=()=>{const y=(()=>{const B=qm({move:gu(["info"])});return{onEvent:K,reset:K,events:B.registry}})(),_=(()=>{let B=le.none();const H=qm({move:gu(["info"])});return{onEvent:(U,te)=>{te.extract(U).each(ie=>{((Ie,Ze)=>{const De=B.map(Pe=>Ie.compare(Pe,Ze));return B=le.some(Ze),De})(te,ie).each(Ie=>{H.trigger.move(Ie)})})},reset:()=>{B=le.none()},events:H.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(B,H)=>{T.onEvent(B,H)},events:_.events}},Xm=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},xb=Xm("ephox-dragster").resolve;var E0=yb({compare:(y,_)=>Ja(_.left-y.left,_.top-y.top),extract:y=>le.some(Ja(y.x,y.y)),sink:(y,_)=>{const T=(ie=>{const ye={layerClass:xb("blocker"),...ie},Ie=Kt.fromTag("div");return fs(Ie,"role","presentation"),Rl(Ie,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Hf(Ie,xb("blocker")),Hf(Ie,ye.layerClass),{element:Y(Ie),destroy:()=>{lr(Ie)}}})(_),B=fh(T.element(),"mousedown",y.forceDrop),H=fh(T.element(),"mouseup",y.drop),U=fh(T.element(),"mousemove",y.move),te=fh(T.element(),"mouseout",y.delayDrop);return ga({element:T.element,start:ie=>{hr(ie,T.element())},stop:()=>{lr(T.element())},destroy:()=>{T.destroy(),H.unbind(),U.unbind(),te.unbind(),B.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const mh=Xm("ephox-snooker").resolve,$f=mh("resizer-bar"),Zx=mh("resizer-rows"),A0=mh("resizer-cols"),sl=y=>{const _=Ns(y.parent(),"."+$f);Ke(_,lr)},Uf=(y,_,T)=>{const B=y.origin();Ke(_,H=>{H.each(U=>{const te=T(B,U);Hf(te,$f),hr(y.parent(),te)})})},jx=(y,_,T,B,H)=>{const U=bf(T),te=_.isResizable,ie=B.length>0?Hu.positions(B,T):[],ye=ie.length>0?((De,Pe)=>Ye(De.all,(Ve,rt)=>Pe(Ve.element)?[rt]:[]))(y,te):[];((De,Pe,Ve,rt)=>{Uf(De,Pe,(at,Tt)=>{const Rt=((At,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Rl(yn,{position:"absolute",left:Pt+"px",top:Gt-3.5+"px",height:"7px",width:Qt+"px"}),Ar(yn,{"data-row":At,role:"presentation"}),yn})(Tt.row,Ve.left-at.left,Tt.y-at.top,rt);return Hf(Rt,Zx),Rt})})(_,$t(ie,(De,Pe)=>ke(ye,Ve=>Pe===Ve)),U,Fg(T));const Ie=H.length>0?yf.positions(H,T):[],Ze=Ie.length>0?((De,Pe)=>{const Ve=[];return Le(De.grid.columns,rt=>{Es(De,rt).map(at=>at.element).forall(Pe)&&Ve.push(rt)}),$t(Ve,rt=>{const at=Ui(De,Tt=>Tt.column===rt);return Mt(at,Tt=>Pe(Tt.element))})})(y,te):[];((De,Pe,Ve,rt)=>{Uf(De,Pe,(at,Tt)=>{const Rt=((At,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Rl(yn,{position:"absolute",left:Pt-3.5+"px",top:Gt+"px",height:lt+"px",width:"7px"}),Ar(yn,{"data-column":At,role:"presentation"}),yn})(Tt.col,Tt.x-at.left,Ve.top-at.top,0,rt);return Hf(Rt,A0),Rt})})(_,$t(Ie,(De,Pe)=>ke(Ze,Ve=>Pe===Ve)),U,Av(T))},xt=(y,_)=>{if(sl(y),y.isResizable(_)){const T=Do(_),B=Dd(T),H=tp(T);jx(T,y,_,B,H)}},_p=(y,_)=>{const T=Ns(y.parent(),"."+$f);Ke(T,_)},xE=y=>{_p(y,_=>{_o(_,"display","none")})},zC=y=>{_p(y,_=>{_o(_,"display","block")})},T0=mh("resizer-bar-dragging"),hu=y=>{const _=(()=>{const De=qm({drag:gu(["xDelta","yDelta","target"])});let Pe=le.none();const Ve=(()=>{const rt=qm({drag:gu(["xDelta","yDelta"])});return{mutate:(at,Tt)=>{rt.trigger.drag(at,Tt)},events:rt.registry}})();return Ve.events.drag.bind(rt=>{Pe.each(at=>{De.trigger.drag(rt.xDelta,rt.yDelta,at)})}),{assign:rt=>{Pe=le.some(rt)},get:()=>Pe,mutate:Ve.mutate,events:De.registry}})(),T=((De,Pe={})=>{var Ve;return((rt,at,Tt)=>{let Rt=!1;const At=qm({start:gu([]),stop:gu([])}),Pt=Ym(),Gt=()=>{yn.stop(),Pt.isOn()&&(Pt.off(),At.trigger.stop())},Qt=((Yn,yo)=>{let so=null;const Xn=()=>{S(so)||(clearTimeout(so),so=null)};return{cancel:Xn,throttle:(...bo)=>{Xn(),so=setTimeout(()=>{so=null,Yn.apply(null,bo)},200)}}})(Gt);Pt.events.move.bind(Yn=>{at.mutate(rt,Yn.info)});const lt=Yn=>(...yo)=>{Rt&&Yn.apply(null,yo)},yn=at.sink(k0({forceDrop:Gt,drop:lt(Gt),move:lt(Yn=>{Qt.cancel(),Pt.onEvent(Yn,at)}),delayDrop:lt(Qt.throttle)}),Tt);return{element:yn.element,go:Yn=>{yn.start(Yn),Pt.on(),At.trigger.start()},on:()=>{Rt=!0},off:()=>{Rt=!1},isActive:()=>Rt,destroy:()=>{yn.destroy()},events:At.registry}})(De,(Ve=Pe.mode)!==null&&Ve!==void 0?Ve:E0,Pe)})(_,{});let B=le.none();const H=(De,Pe)=>le.from(hn(De,Pe));_.events.drag.bind(De=>{H(De.target,"data-row").each(Pe=>{const Ve=df(De.target,"top");_o(De.target,"top",Ve+De.yDelta+"px")}),H(De.target,"data-column").each(Pe=>{const Ve=df(De.target,"left");_o(De.target,"left",Ve+De.xDelta+"px")})});const U=(De,Pe)=>df(De,Pe)-wr(De,"data-initial-"+Pe,0);T.events.stop.bind(()=>{_.get().each(De=>{B.each(Pe=>{H(De,"data-row").each(Ve=>{const rt=U(De,"top");vo(De,"data-initial-top"),Ze.trigger.adjustHeight(Pe,rt,parseInt(Ve,10))}),H(De,"data-column").each(Ve=>{const rt=U(De,"left");vo(De,"data-initial-left"),Ze.trigger.adjustWidth(Pe,rt,parseInt(Ve,10))}),xt(y,Pe)})})});const te=(De,Pe)=>{Ze.trigger.startAdjust(),_.assign(De),fs(De,"data-initial-"+Pe,df(De,Pe)),Hf(De,T0),_o(De,"opacity","0.2"),T.go(y.parent())},ie=fh(y.parent(),"mousedown",De=>{var Pe;Pe=De.target,hb(Pe,Zx)&&te(De.target,"top"),(Ve=>hb(Ve,A0))(De.target)&&te(De.target,"left")}),ye=De=>$s(De,y.view()),Ie=fh(y.view(),"mouseover",De=>{var Pe;(Pe=De.target,Je(Pe,"table",ye).filter(lo)).fold(()=>{qa(De.target)&&sl(y)},Ve=>{T.isActive()&&(B=le.some(Ve),xt(y,Ve))})}),Ze=qm({adjustHeight:gu(["table","delta","row"]),adjustWidth:gu(["table","delta","column"]),startAdjust:gu([])});return{destroy:()=>{ie.unbind(),Ie.unbind(),T.destroy(),sl(y)},refresh:De=>{xt(y,De)},on:T.on,off:T.off,hideBars:se(xE,y),showBars:se(zC,y),events:Ze.registry}},O0=y=>I(y)&&y.nodeName==="TABLE",wb="bar-",Kx=y=>hn(y,"data-mce-resize")!=="false",Gx=y=>{const _=b0(),T=b0(),B=b0();let H,U,te,ie;const ye=De=>If(y,De),Ie=()=>Wg(y)?j1():qu(),Ze=(De,Pe,Ve,rt)=>{const at=(At=>{return ho(Pt=At,"corner-")?((Gt,Qt)=>Gt.substring(7))(Pt):Pt;var Pt})(Pe),Tt=sn(at,"e"),Rt=ho(at,"n");if(U===""&&nh(De),ie===""&&(At=>{const Pt=(Gt=>Rd(Gt)+"px")(At);Gs(At,le.none(),le.some(Pt)),du(At)})(De),Ve!==H&&U!==""){_o(De,"width",U);const At=Ie(),Pt=ye(De),Gt=Wg(y)||Tt?(Qt=>cu(Qt).columns)(De)-1:0;Ld(De,Ve-H,Gt,At,Pt)}else if((At=>/^(\d+(\.\d+)?)%$/.test(At))(U)){const At=parseFloat(U.replace("%",""));_o(De,"width",Ve*At/H+"%")}if((At=>/^(\d+(\.\d+)?)px$/.test(At))(U)&&(At=>{const Pt=Do(At);kc(Pt)||Ke(Or(At),Gt=>{const Qt=ta(Gt,"width");_o(Gt,"width",Qt),vo(Gt,"width")})})(De),rt!==te&&ie!==""){_o(De,"height",ie);const At=Rt?0:(Pt=>cu(Pt).rows)(De)-1;Gg(De,rt-te,At)}};return y.on("init",()=>{const De=((Pe,Ve)=>Pe.inline?((rt,at,Tt)=>({parent:Y(at),view:Y(rt),origin:Y(Ja(0,0)),isResizable:Tt}))(Kt.fromDom(Pe.getBody()),(()=>{const rt=Kt.fromTag("div");return Rl(rt,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(Yc(Kt.fromDom(document)),rt),rt})(),Ve):((rt,at)=>{const Tt=Oo(rt)?(Rt=>Kt.fromDom(Cc(Rt).dom.documentElement))(rt):rt;return{parent:Y(Tt),view:Y(rt),origin:Y(Ja(0,0)),isResizable:at}})(Kt.fromDom(Pe.getDoc()),Ve))(y,Kx);if(B.set(De),(Pe=>{const Ve=Pe.options.get("object_resizing");return st(Ve.split(","),"table")})(y)&&re(y)){const Pe=((Ve,rt,at)=>{const Tt=Hu,Rt=yf,At=hu(Ve),Pt=qm({beforeResize:gu(["table","type"]),afterResize:gu(["table","type"]),startDrag:gu([])});return At.events.adjustHeight.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"row");const lt=Tt.delta(Gt.delta,Qt);Gg(Qt,lt,Gt.row),Pt.trigger.afterResize(Qt,"row")}),At.events.startAdjust.bind(Gt=>{Pt.trigger.startDrag()}),At.events.adjustWidth.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"col");const lt=Rt.delta(Gt.delta,Qt),yn=at(Qt);Ld(Qt,lt,Gt.column,rt,yn),Pt.trigger.afterResize(Qt,"col")}),{on:At.on,off:At.off,refreshBars:At.refresh,hideBars:At.hideBars,showBars:At.showBars,destroy:At.destroy,events:Pt.registry}})(De,Ie(),ye);Pe.on(),Pe.events.startDrag.bind(Ve=>{_.set(y.selection.getRng())}),Pe.events.beforeResize.bind(Ve=>{const rt=Ve.table.dom;((at,Tt,Rt,At,Pt)=>{at.dispatch("ObjectResizeStart",{target:Tt,width:Rt,height:At,origin:Pt})})(y,rt,Im(rt),Nm(rt),wb+Ve.type)}),Pe.events.afterResize.bind(Ve=>{const rt=Ve.table,at=rt.dom;Sr(rt),_.on(Tt=>{y.selection.setRng(Tt),y.focus()}),((Tt,Rt,At,Pt,Gt)=>{Tt.dispatch("ObjectResized",{target:Rt,width:At,height:Pt,origin:Gt})})(y,at,Im(at),Nm(at),wb+Ve.type),y.undoManager.add()}),T.set(Pe)}}),y.on("ObjectResizeStart",De=>{const Pe=De.target;if(O0(Pe)){const Ve=Kt.fromDom(Pe);Ke(y.dom.select(".mce-clonedresizable"),rt=>{y.dom.addClass(rt,"mce-"+Ug(y)+"-columns")}),!fr(Ve)&&N(y)?bl(Ve):!u0(Ve)&&Ku(y)&&nh(Ve),Xu(Ve)&&ho(De.origin,wb)&&nh(Ve),H=De.width,U=W(y)?"":bC(y,Pe).getOr(""),te=De.height,ie=Nv(y,Pe).getOr("")}}),y.on("ObjectResized",De=>{const Pe=De.target;if(O0(Pe)){const Ve=Kt.fromDom(Pe),rt=De.origin;(at=>ho(at,"corner-"))(rt)&&Ze(Ve,rt,De.width,De.height),Sr(Ve),Vd(y,Ve.dom,a0)}}),y.on("SwitchMode",()=>{T.on(De=>{y.mode.isReadOnly()?De.hideBars():De.showBars()})}),y.on("dragstart dragend",De=>{T.on(Pe=>{De.type==="dragstart"?(Pe.hideBars(),Pe.off()):(Pe.on(),Pe.showBars())})}),y.on("remove",()=>{T.on(De=>{De.destroy()}),B.on(De=>{((Pe,Ve)=>{Pe.inline&&lr(Ve.parent())})(y,De)})}),{refresh:De=>{T.on(Pe=>Pe.refreshBars(Kt.fromDom(De)))},hide:()=>{T.on(De=>De.hideBars())},show:()=>{T.on(De=>De.showBars())}}},wE=y=>{(H=>{const U=H.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:te=>{const ie=st(["section","cells","sectionCells","auto"],te);return ie?{value:te,valid:ie}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:te=>{const ie=st(["preservetable","resizetable"],te);return ie?{value:te,valid:ie}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=Gx(y),T=VC(y,_),B=Ax(y,_,T);return Pr(y,B),((H,U)=>{const te=Zr(H),ie=ye=>pr(Tc(H)).bind(Ie=>ml(Ie,te).map(Ze=>{const De=ko(Dc(H),Ze,Ie);return ye(Ze,De)})).getOr("");tn({mceTableRowType:()=>ie(U.getTableRowType),mceTableCellType:()=>ie(U.getTableCellType),mceTableColType:()=>ie(U.getTableColType)},(ye,Ie)=>H.addQueryValueHandler(Ie,ye))})(y,B),Rc(y,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};n.add("dom",y=>({table:wE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivität",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbündig ausrichten","Align right":"Rechtsbündig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blöcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzählung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schließen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhältnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Währung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrün","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltürkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte löschen","Delete row":"Zeile löschen","Delete table":"Tabelle löschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht unterstützt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbestätigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wörter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menüleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgrößen","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fußzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grün","Green component":"Grünanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"Überschrift 1","Heading 2":"Überschrift 2","Heading 3":"Überschrift 3","Heading 4":"Überschrift 4","Heading 5":"Überschrift 5","Heading 6":"Überschrift 6",Headings:"Überschriften",Height:"Höhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrößern",Inline:"Zeichenformate",Insert:"Einfügen","Insert Template":"Vorlage einfügen","Insert accordion":"","Insert column after":"Neue Spalte danach einfügen","Insert column before":"Neue Spalte davor einfügen","Insert date/time":"Datum/Uhrzeit einfügen","Insert image":"Bild einfügen","Insert link (if link plugin activated)":"Link einfügen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfügen","Insert row before":"Neue Zeile davor einfügen","Insert table":"Tabelle einfügen","Insert template...":"Vorlage einfügen...","Insert video":"Video einfügen","Insert/Edit code sample":"Codebeispiel einfügen/bearbeiten","Insert/edit image":"Bild einfügen/bearbeiten","Insert/edit link":"Link einfügen/bearbeiten","Insert/edit media":"Medien einfügen/bearbeiten","Insert/edit video":"Video einfügen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungültiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungültige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrün","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner römischer Buchstabe","Match case":"Groß-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nächste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschütztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog öffnen","Open link":"Link öffnen","Open link in...":"Link öffnen in...","Open popup menu for split buttons":"Öffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfügen","Paste as text":"Als Text einfügen","Paste column after":"Spalte danach einfügen","Paste column before":"Spalte davor einfügen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfügen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefügt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfügen oder eingeben","Paste row after":"Zeile danach einfügen","Paste row before":"Zeile davor einfügen","Paste your embed code below:":"Fügen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anführungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drücken Sie Alt+0 für Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drücken Sie Alt+F9 für das Menü. Drücken Sie Alt+F10 für die Symbolleiste. Drücken Sie Alt+0 für Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswählen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blöcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgröße",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Möchten Sie das dazu benötigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Möchten Sie das dazu benötigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergänzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drücken Sie Umschalt+Eingabe, um das Popup-Fenster zu öffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Türkis",Underline:"Unterstrichen",Undo:"Rückgängig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Großbuchstaben","Upper Roman":"Großer römischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gültig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Weiß",Width:"Breite","Word count":"Anzahl der Wörter",Words:"Wörter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die Änderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser unterstützt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Währungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrückungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Türkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0} Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wörter"});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(N,W,re)=>{var Re;return re(N,W.prototype)?!0:((Re=N.constructor)===null||Re===void 0?void 0:Re.name)===W.name},l=N=>{const W=typeof N;return N===null?"null":W==="object"&&Array.isArray(N)?"array":W==="object"&&r(N,String,(re,Re)=>Re.isPrototypeOf(re))?"string":W},d=N=>W=>l(W)===N,g=N=>W=>typeof W===N,v=d("string"),x=d("object"),S=d("array"),M=g("boolean"),R=N=>N==null,I=N=>!R(N),L=g("function"),$=g("number"),K=()=>{},Y=(N,W)=>re=>N(W(re)),ne=N=>()=>N,oe=(N,W)=>N===W;function se(N,...W){return(...re)=>{const Re=W.concat(re);return N.apply(null,Re)}}const Me=N=>W=>!N(W),xe=ne(!1);class ee{constructor(W,re){this.tag=W,this.value=re}static some(W){return new ee(!0,W)}static none(){return ee.singletonNone}fold(W,re){return this.tag?re(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?ee.some(W(this.value)):ee.none()}bind(W){return this.tag?W(this.value):ee.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:ee.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return I(W)?ee.some(W):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ee.singletonNone=new ee(!1);const _e=Array.prototype.slice,le=Array.prototype.indexOf,Ue=Array.prototype.push,We=(N,W)=>le.call(N,W),qe=(N,W)=>We(N,W)>-1,st=(N,W)=>{for(let re=0,Re=N.length;re<Re;re++){const $e=N[re];if(W($e,re))return!0}return!1},ke=(N,W)=>{const re=N.length,Re=new Array(re);for(let $e=0;$e<re;$e++){const Dt=N[$e];Re[$e]=W(Dt,$e)}return Re},Le=(N,W)=>{for(let re=0,Re=N.length;re<Re;re++){const $e=N[re];W($e,re)}},O=(N,W)=>{const re=[];for(let Re=0,$e=N.length;Re<$e;Re++){const Dt=N[Re];W(Dt,Re)&&re.push(Dt)}return re},Ke=(N,W)=>{if(N.length===0)return[];{let re=W(N[0]);const Re=[];let $e=[];for(let Dt=0,Zn=N.length;Dt<Zn;Dt++){const po=N[Dt],lo=W(po);lo!==re&&(Re.push($e),$e=[]),re=lo,$e.push(po)}return $e.length!==0&&Re.push($e),Re}},ct=(N,W,re)=>(Le(N,(Re,$e)=>{re=W(re,Re,$e)}),re),$t=(N,W,re)=>{for(let Re=0,$e=N.length;Re<$e;Re++){const Dt=N[Re];if(W(Dt,Re))return ee.some(Dt);if(re(Dt,Re))break}return ee.none()},Jt=(N,W)=>$t(N,W,xe),et=N=>{const W=[];for(let re=0,Re=N.length;re<Re;++re){if(!S(N[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+N);Ue.apply(W,N[re])}return W},pt=(N,W)=>et(ke(N,W)),Lt=N=>{const W=_e.call(N,0);return W.reverse(),W},tt=(N,W)=>W>=0&&W<N.length?ee.some(N[W]):ee.none(),Ye=N=>tt(N,0),Mt=N=>tt(N,N.length-1),oo=(N,W)=>{const re=[],Re=L(W)?$e=>st(re,Dt=>W(Dt,$e)):$e=>qe(re,$e);for(let $e=0,Dt=N.length;$e<Dt;$e++){const Zn=N[$e];Re(Zn)||re.push(Zn)}return re},Fn=(N,W,re=oe)=>N.exists(Re=>re(Re,W)),fn=(N,W,re=oe)=>_n(N,W,re).getOr(N.isNone()&&W.isNone()),_n=(N,W,re)=>N.isSome()&&W.isSome()?ee.some(re(N.getOrDie(),W.getOrDie())):ee.none(),J=8,xs=11,eo=1,tn=3,To=(N,W)=>{const Re=(W||document).createElement("div");if(Re.innerHTML=N,!Re.hasChildNodes()||Re.childNodes.length>1){const $e="HTML does not have a single root node";throw console.error($e,N),new Error($e)}return be(Re.childNodes[0])},je=(N,W)=>{const Re=(W||document).createElement(N);return be(Re)},ae=(N,W)=>{const Re=(W||document).createTextNode(N);return be(Re)},be=N=>{if(N==null)throw new Error("Node cannot be null or undefined");return{dom:N}},he={fromHtml:To,fromTag:je,fromText:ae,fromDom:be,fromPoint:(N,W,re)=>ee.from(N.dom.elementFromPoint(W,re)).map(be)},gt=(N,W)=>{const re=N.dom;if(re.nodeType!==eo)return!1;{const Re=re;if(Re.matches!==void 0)return Re.matches(W);if(Re.msMatchesSelector!==void 0)return Re.msMatchesSelector(W);if(Re.webkitMatchesSelector!==void 0)return Re.webkitMatchesSelector(W);if(Re.mozMatchesSelector!==void 0)return Re.mozMatchesSelector(W);throw new Error("Browser lacks native selectors")}},zt=(N,W)=>N.dom===W.dom,vt=(N,W)=>{const re=N.dom,Re=W.dom;return re===Re?!1:re.contains(Re)},Ft=gt,Vt=typeof window<"u"?window:Function("return this;")(),wn=(N,W)=>{let re=W??Vt;for(let Re=0;Re<N.length&&re!==void 0&&re!==null;++Re)re=re[N[Re]];return re},cn=(N,W)=>{const re=N.split(".");return wn(re,W)},An=(N,W)=>cn(N,W),On=(N,W)=>{const re=An(N,W);if(re==null)throw new Error(N+" not available on this browser");return re},wo=Object.getPrototypeOf,Oo=N=>On("HTMLElement",N),Ho=N=>{const W=cn("ownerDocument.defaultView",N);return x(N)&&(Oo(W).prototype.isPrototypeOf(N)||/^HTML\w*Element$/.test(wo(N).constructor.name))},cs=N=>N.dom.nodeName.toLowerCase(),ar=N=>N.dom.nodeType,fs=N=>W=>ar(W)===N,Ar=N=>ar(N)===J||cs(N)==="#comment",hn=N=>Eo(N)&&Ho(N.dom),Eo=fs(eo),vo=fs(tn),or=fs(xs),ea=N=>W=>Eo(W)&&cs(W)===N,Kt=N=>ee.from(N.dom.parentNode).map(he.fromDom),mi=N=>ee.from(N.dom.parentElement).map(he.fromDom),rs=N=>ee.from(N.dom.nextSibling).map(he.fromDom),Ul=N=>ke(N.dom.childNodes,he.fromDom),$s=(N,W)=>{const re=N.dom.childNodes;return ee.from(re[W]).map(he.fromDom)},Qr=N=>$s(N,0),bm=N=>$s(N,N.dom.childNodes.length-1),Nu=N=>or(N)&&I(N.dom.host),Cc=N=>he.fromDom(N.dom.getRootNode()),ul=N=>{const W=Cc(N);return Nu(W)?ee.some(W):ee.none()},Pu=N=>he.fromDom(N.dom.host),Os=N=>{const W=vo(N)?N.dom.parentNode:N.dom;if(W==null||W.ownerDocument===null)return!1;const re=W.ownerDocument;return ul(he.fromDom(W)).fold(()=>re.body.contains(W),Y(Os,Pu))};var ao=(N,W,re,Re,$e)=>N(re,Re)?ee.some(re):L($e)&&$e(re)?ee.none():W(re,Re,$e);const Wl=(N,W,re)=>{let Re=N.dom;const $e=L(re)?re:xe;for(;Re.parentNode;){Re=Re.parentNode;const Dt=he.fromDom(Re);if(W(Dt))return ee.some(Dt);if($e(Dt))break}return ee.none()},Ti=(N,W,re)=>ao(($e,Dt)=>Dt($e),Wl,N,W,re),Mu=(N,W,re)=>Wl(N,Re=>gt(Re,W),re),rn=(N,W,re)=>ao(($e,Dt)=>gt($e,Dt),Mu,N,W,re),Bu=N=>rn(N,"[contenteditable]"),ym=(N,W=!1)=>Os(N)?N.dom.isContentEditable:Bu(N).fold(ne(W),re=>hr(re)==="true"),hr=N=>N.dom.contentEditable,xm=(N,W)=>{Kt(N).each(Re=>{Re.dom.insertBefore(W.dom,N.dom)})},Ga=(N,W)=>{rs(N).fold(()=>{Kt(N).each($e=>{dl($e,W)})},Re=>{xm(Re,W)})},Ol=(N,W)=>{Qr(N).fold(()=>{dl(N,W)},Re=>{N.dom.insertBefore(W.dom,Re.dom)})},dl=(N,W)=>{N.dom.appendChild(W.dom)},lr=(N,W)=>{Le(W,re=>{xm(N,re)})},Ca=(N,W)=>{Le(W,re=>{dl(N,re)})},Dl=N=>{N.dom.textContent="",Le(Ul(N),W=>{wm(W)})},wm=N=>{const W=N.dom;W.parentNode!==null&&W.parentNode.removeChild(W)};var Gc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),qc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),uf=tinymce.util.Tools.resolve("tinymce.util.VK");const Sd=N=>ke(N,he.fromDom),is=Object.keys,Br=(N,W)=>{const re=is(N);for(let Re=0,$e=re.length;Re<$e;Re++){const Dt=re[Re],Zn=N[Dt];W(Zn,Dt)}},ri=N=>(W,re)=>{N[re]=W},Cm=(N,W,re,Re)=>{Br(N,($e,Dt)=>{(W($e,Dt)?re:Re)($e,Dt)})},qa=(N,W)=>{const re={};return Cm(N,W,ri(re),K),re},Yc=(N,W,re)=>{if(v(re)||M(re)||$(re))N.setAttribute(W,re+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",re,":: Element ",N),new Error("Attribute value was not simple")},_a=(N,W)=>{const re=N.dom;Br(W,(Re,$e)=>{Yc(re,$e,Re)})},Sa=N=>ct(N.dom.attributes,(W,re)=>(W[re.name]=re.value,W),{}),Xc=(N,W)=>he.fromDom(N.dom.cloneNode(W)),Ns=N=>Xc(N,!0),cr=(N,W)=>{const re=he.fromTag(W),Re=Sa(N);return _a(re,Re),re},Te=(N,W)=>{const re=cr(N,W);Ga(N,re);const Re=Ul(N);return Ca(re,Re),wm(N),re};var nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const mt=N=>W=>I(W)&&W.nodeName.toLowerCase()===N,ut=N=>W=>I(W)&&N.test(W.nodeName),Je=N=>I(N)&&N.nodeType===3,Wt=N=>I(N)&&N.nodeType===1,nn=ut(/^(OL|UL|DL)$/),un=ut(/^(OL|UL)$/),vn=mt("ol"),an=ut(/^(LI|DT|DD)$/),ho=ut(/^(DT|DD)$/),sn=ut(/^(TH|TD)$/),ks=mt("br"),Po=N=>{var W;return((W=N.parentNode)===null||W===void 0?void 0:W.firstChild)===N},Zo=(N,W)=>I(W)&&W.nodeName in N.schema.getTextBlockElements(),Tr=(N,W)=>I(N)&&N.nodeName in W,_o=(N,W)=>I(W)&&W.nodeName in N.schema.getVoidElements(),Rl=(N,W)=>ks(W)?N.isBlock(W.nextSibling)&&!ks(W.previousSibling):!1,ta=(N,W,re)=>{const Re=N.isEmpty(W);return re&&N.select("span[data-mce-type=bookmark]",W).length>0?!1:Re},co=(N,W)=>N.isChildOf(W,N.getRoot()),Ya=N=>W=>W.options.get(N),fl=N=>{const W=N.options.register;W("lists_indent_on_tab",{processor:"boolean",default:!0})},wr=Ya("lists_indent_on_tab"),kd=Ya("forced_root_block"),Hr=Ya("forced_root_block_attrs"),df=(N,W,re={})=>{const Re=N.dom,$e=N.schema.getBlockElements(),Dt=Re.createFragment(),Zn=kd(N),po=Hr(N);let lo,Tn,bs=!1;for(Tn=Re.create(Zn,{...po,...re.style?{style:re.style}:{}}),Tr(W.firstChild,$e)||Dt.appendChild(Tn);lo=W.firstChild;){const Zr=lo.nodeName;!bs&&(Zr!=="SPAN"||lo.getAttribute("data-mce-type")!=="bookmark")&&(bs=!0),Tr(lo,$e)?(Dt.appendChild(lo),Tn=null):(Tn||(Tn=Re.create(Zn,po),Dt.appendChild(Tn)),Tn.appendChild(lo))}return!bs&&Tn&&Tn.appendChild(Re.create("br",{"data-mce-bogus":"1"})),Dt},Il=nt.DOM,ws=(N,W,re)=>{const Re=Tn=>{const bs=Tn.parentNode;bs&&Ne.each($e,Zr=>{bs.insertBefore(Zr,re.parentNode)}),Il.remove(Tn)},$e=Il.select('span[data-mce-type="bookmark"]',W),Dt=df(N,re),Zn=Il.createRng();Zn.setStartAfter(re),Zn.setEndAfter(W);const po=Zn.extractContents();for(let Tn=po.firstChild;Tn;Tn=Tn.firstChild)if(Tn.nodeName==="LI"&&N.dom.isEmpty(Tn)){Il.remove(Tn);break}N.dom.isEmpty(po)||Il.insertAfter(po,W),Il.insertAfter(Dt,W);const lo=re.parentElement;lo&&ta(N.dom,lo)&&Re(lo),Il.remove(re),ta(N.dom,W)&&Il.remove(W)},Lu=ea("dd"),_m=ea("dt"),Jh=(N,W)=>{Lu(W)?Te(W,"dt"):_m(W)&&mi(W).each(re=>ws(N,re.dom,W.dom))},Or=N=>{_m(N)&&Te(N,"dd")},_c=(N,W,re)=>{W==="Indent"?Le(re,Or):Le(re,Re=>Jh(N,Re))},ml=(N,W)=>{if(Je(N))return{container:N,offset:W};const re=Gc.getNode(N,W);return Je(re)?{container:re,offset:W>=N.childNodes.length?re.data.length:0}:re.previousSibling&&Je(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&Je(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:N,offset:W}},Xs=N=>{const W=N.cloneRange(),re=ml(N.startContainer,N.startOffset);W.setStart(re.container,re.offset);const Re=ml(N.endContainer,N.endOffset);return W.setEnd(Re.container,Re.offset),W},Sm=["OL","UL","DL"],Nl=Sm.join(","),na=(N,W)=>{const re=W||N.selection.getStart(!0);return N.dom.getParent(re,Nl,Ed(N,re))},Mg=(N,W)=>I(N)&&W.length===1&&W[0]===N,Oi=N=>O(N.querySelectorAll(Nl),nn),Xa=N=>{const W=na(N),re=N.selection.getSelectedBlocks();return Mg(W,re)?Oi(W):O(re,Re=>nn(Re)&&W!==Re)},oa=(N,W)=>{const re=Ne.map(W,Re=>{const $e=N.dom.getParent(Re,"li,dd,dt",Ed(N,Re));return $e||Re});return oo(re)},Pl=N=>{const W=N.selection.getSelectedBlocks();return O(oa(N,W),an)},Qh=N=>O(Pl(N),ho),Mo=(N,W)=>{const re=N.dom.getParents(W,"TD,TH");return re.length>0?re[0]:N.getBody()},Jc=(N,W)=>!nn(W)&&!an(W)&&st(Sm,re=>N.isValidChild(W.nodeName,re)),Ed=(N,W)=>{const re=N.dom.getParents(W,N.dom.isBlock),Re=Dt=>Dt.nodeName.toLowerCase()!==kd(N);return Jt(re,Dt=>Re(Dt)&&Jc(N.schema,Dt)).getOr(N.getBody())},Fu=N=>Kt(N).exists(W=>an(W.dom)&&Qr(W).exists(re=>!nn(re.dom))&&bm(W).exists(re=>!nn(re.dom))),Sv=(N,W)=>{const re=N.dom.getParents(W,"ol,ul",Ed(N,W));return Mt(re)},ex=N=>{const W=Sv(N,N.selection.getStart()),re=O(N.selection.getSelectedBlocks(),un);return W.toArray().concat(re)},B1=N=>{const W=N.selection.getStart();return N.dom.getParents(W,"ol,ul",Ed(N,W))},L1=N=>{const W=ex(N),re=B1(N);return Jt(re,Re=>Fu(he.fromDom(Re))).fold(()=>vC(N,W),Re=>[Re])},vC=(N,W)=>{const re=ke(W,Re=>Sv(N,Re).getOr(Re));return oo(re)},ep=N=>/\btox\-/.test(N.className),F1=(N,W)=>$t(N,nn,sn).exists(re=>re.nodeName===W&&!ep(re)),Xt=(N,W)=>W!==null&&!N.dom.isEditable(W),ff=N=>{const W=na(N);return Xt(N,W)},mf=(N,W)=>{const re=N.dom.getParent(W,"ol,ul,dl");return Xt(N,re)},V1=(N,W)=>{const re=N.selection.getNode();return W({parents:N.dom.getParents(re),element:re}),N.on("NodeChange",W),()=>N.off("NodeChange",W)},sa=(N,W)=>{const Re=document.createDocumentFragment();return Le(N,$e=>{Re.appendChild($e.dom)}),he.fromDom(Re)},gf=(N,W,re)=>N.dispatch("ListMutation",{action:W,element:re}),tx=(N=>W=>W.replace(N,""))(/^\s+|\s+$/g),nx=N=>N.length>0,kv=N=>!nx(N),ox=N=>N.style!==void 0&&L(N.style.getPropertyValue),z1=(N,W,re)=>{if(!v(re))throw console.error("Invalid call to CSS.set. Property ",W,":: Value ",re,":: Element ",N),new Error("CSS value must be a string: "+re);ox(N)&&N.style.setProperty(W,re)},sx=(N,W,re)=>{const Re=N.dom;z1(Re,W,re)},Lg=N=>Ft(N,"OL,UL"),H1=N=>Ft(N,"LI"),hf=N=>Qr(N).exists(Lg),pf=N=>bm(N).exists(Lg),ra=N=>"listAttributes"in N,gl=N=>"isComment"in N,Fg=N=>"isFragment"in N,qo=N=>N.depth>0,Ad=N=>N.isSelected,Vg=N=>{const W=Ul(N),re=pf(N)?W.slice(0,-1):W;return ke(re,Ns)},zg=(N,W,re)=>Kt(N).filter(Eo).map(Re=>({depth:W,dirty:!1,isSelected:re,content:Vg(N),itemAttributes:Sa(N),listAttributes:Sa(Re),listType:cs(Re),isInPreviousLi:!1})),Na=(N,W)=>{dl(N.item,W.list)},$r=N=>{for(let W=1;W<N.length;W++)Na(N[W-1],N[W])},ur=(N,W)=>{_n(Mt(N),Ye(W),Na)},$i=(N,W)=>{const re={list:he.fromTag(W,N),item:he.fromTag("li",N)};return dl(re.list,re.item),re},Js=(N,W,re)=>{const Re=[];for(let $e=0;$e<re;$e++)Re.push($i(N,ra(W)?W.listType:W.parentListType));return Re},vf=(N,W)=>{for(let re=0;re<N.length-1;re++)sx(N[re].item,"list-style-type","none");Mt(N).each(re=>{ra(W)&&(_a(re.list,W.listAttributes),_a(re.item,W.itemAttributes)),Ca(re.item,W.content)})},km=(N,W)=>{cs(N.list)!==W.listType&&(N.list=Te(N.list,W.listType)),_a(N.list,W.listAttributes)},yi=(N,W,re)=>{const Re=he.fromTag("li",N);return _a(Re,W),Ca(Re,re),Re},Pa=(N,W)=>{dl(N.list,W),N.item=W},ka=(N,W,re)=>{const Re=W.slice(0,re.depth);return Mt(Re).each($e=>{if(ra(re)){const Dt=yi(N,re.itemAttributes,re.content);Pa($e,Dt),km($e,re)}else if(Fg(re))Ca($e.item,re.content);else{const Dt=he.fromHtml(`<!--${re.content}-->`);dl($e.list,Dt)}}),Re},Qc=(N,W,re)=>{const Re=Js(N,re,re.depth-W.length);return $r(Re),vf(Re,re),ur(W,Re),W.concat(Re)},Td=(N,W)=>{let re=ee.none();const Re=ct(W,($e,Dt,Zn)=>gl(Dt)?Zn===0?(re=ee.some(Dt),$e):ka(N,$e,Dt):Dt.depth>$e.length?Qc(N,$e,Dt):ka(N,$e,Dt),[]);return re.each($e=>{const Dt=he.fromHtml(`<!--${$e.content}-->`);Ye(Re).each(Zn=>{Ol(Zn.list,Dt)})}),Ye(Re).map($e=>$e.list)},Do=(N,W)=>{switch(N){case"Indent":W.depth++;break;case"Outdent":W.depth--;break;case"Flatten":W.depth=0}W.dirty=!0},ii=(N,W)=>{ra(N)&&ra(W)&&(N.listType=W.listType,N.listAttributes={...W.listAttributes})},hl=N=>{N.listAttributes=qa(N.listAttributes,(W,re)=>re!=="start")},Od=(N,W)=>{const re=N[W].depth,Re=Dt=>Dt.depth===re&&!Dt.dirty,$e=Dt=>Dt.depth<re;return $t(Lt(N.slice(0,W)),Re,$e).orThunk(()=>$t(N.slice(W+1),Re,$e))},Ui=N=>(Le(N,(W,re)=>{Od(N,re).fold(()=>{W.dirty&&ra(W)&&hl(W)},Re=>ii(W,Re))}),N),Bn=N=>{let W=N;return{get:()=>W,set:$e=>{W=$e}}},Sc=(N,W,re,Re)=>{var $e;if(Ar(Re))return[{depth:N+1,content:($e=Re.dom.nodeValue)!==null&&$e!==void 0?$e:"",dirty:!1,isSelected:!1,isComment:!0}];W.each(po=>{zt(po.start,Re)&&re.set(!0)});const Dt=zg(Re,N,re.get());W.each(po=>{zt(po.end,Re)&&re.set(!1)});const Zn=bm(Re).filter(Lg).map(po=>Es(N,W,re,po)).getOr([]);return Dt.toArray().concat(Zn)},kc=(N,W,re,Re)=>Qr(Re).filter(Lg).fold(()=>Sc(N,W,re,Re),$e=>{const Dt=ct(Ul(Re),(Zn,po,lo)=>{if(lo===0)return Zn;if(H1(po))return Zn.concat(Sc(N,W,re,po));{const Tn={isFragment:!0,depth:N,content:[po],isSelected:!1,dirty:!1,parentListType:cs($e)};return Zn.concat(Tn)}},[]);return Es(N,W,re,$e).concat(Dt)}),Es=(N,W,re,Re)=>pt(Ul(Re),$e=>{const Dt=Lg($e)?Es:kc,Zn=N+1;return Dt(Zn,W,re,$e)}),tp=(N,W)=>{const re=Bn(!1),Re=0;return ke(N,$e=>({sourceList:$e,entries:Es(Re,W,re,$e)}))},Ev=(N,W)=>{const re=Ui(W);return ke(re,Re=>{const $e=gl(Re)?sa([he.fromHtml(`<!--${Re.content}-->`)]):sa(Re.content),Dt=ra(Re)?Re.itemAttributes:{};return he.fromDom(df(N,$e.dom,Dt))})},Dd=(N,W)=>{const re=Ui(W);return Td(N.contentDocument,re).toArray()},Bo=(N,W)=>pt(Ke(W,qo),re=>Ye(re).exists(qo)?Dd(N,re):Ev(N,re)),Ma=(N,W)=>{Le(O(N,Ad),re=>Do(W,re))},np=N=>{const W=ke(Pl(N),he.fromDom);return _n(Jt(W,Me(hf)),Jt(Lt(W),Me(hf)),(re,Re)=>({start:re,end:Re}))},Rd=(N,W,re)=>{const Re=tp(W,np(N));Le(Re,$e=>{Ma($e.entries,re);const Dt=Bo(N,$e.entries);Le(Dt,Zn=>{gf(N,re==="Indent"?"IndentList":"OutdentList",Zn.dom)}),lr($e.sourceList,Dt),wm($e.sourceList)})},Av=(N,W)=>{const re=Sd(L1(N)),Re=Sd(Qh(N));let $e=!1;if(re.length||Re.length){const Dt=N.selection.getBookmark();Rd(N,re,W),_c(N,W,Re),N.selection.moveToBookmark(Dt),N.selection.setRng(Xs(N.selection.getRng())),N.nodeChanged(),$e=!0}return $e},eu=(N,W)=>!ff(N)&&Av(N,W),Ja=N=>eu(N,"Indent"),tu=N=>eu(N,"Outdent"),bf=N=>eu(N,"Flatten"),Fe="\uFEFF",Em=N=>N===Fe,Ps=(N,W,re)=>Wl(N,W,re).isSome(),Tv=(N,W)=>Ps(N,se(zt,W));var Hg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const nu=nt.DOM,Yo=N=>{const W={},re=Re=>{let $e=N[Re?"startContainer":"endContainer"],Dt=N[Re?"startOffset":"endOffset"];if(Wt($e)){const Zn=nu.create("span",{"data-mce-type":"bookmark"});$e.hasChildNodes()?(Dt=Math.min(Dt,$e.childNodes.length-1),Re?$e.insertBefore(Zn,$e.childNodes[Dt]):nu.insertAfter(Zn,$e.childNodes[Dt])):$e.appendChild(Zn),$e=Zn,Dt=0}W[Re?"startContainer":"endContainer"]=$e,W[Re?"startOffset":"endOffset"]=Dt};return re(!0),N.collapsed||re(),W},ia=N=>{const W=Re=>{const $e=po=>{var lo;let Tn=(lo=po.parentNode)===null||lo===void 0?void 0:lo.firstChild,bs=0;for(;Tn;){if(Tn===po)return bs;(!Wt(Tn)||Tn.getAttribute("data-mce-type")!=="bookmark")&&bs++,Tn=Tn.nextSibling}return-1};let Dt=N[Re?"startContainer":"endContainer"],Zn=N[Re?"startOffset":"endOffset"];if(Dt){if(Wt(Dt)&&Dt.parentNode){const po=Dt;Zn=$e(Dt),Dt=Dt.parentNode,nu.remove(po),!Dt.hasChildNodes()&&nu.isBlock(Dt)&&Dt.appendChild(nu.create("br"))}N[Re?"startContainer":"endContainer"]=Dt,N[Re?"startOffset":"endOffset"]=Zn}};W(!0),W();const re=nu.createRng();return re.setStart(N.startContainer,N.startOffset),N.endContainer&&re.setEnd(N.endContainer,N.endOffset),Xs(re)},Vu=N=>{switch(N){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},tc=(N,W,re)=>{const Re=re["list-style-type"]?re["list-style-type"]:null;N.setStyle(W,"list-style-type",Re)},zu=(N,W)=>{Ne.each(W,(re,Re)=>{N.setAttribute(Re,re)})},Hu=(N,W,re)=>{zu(W,re["list-attributes"]),Ne.each(N.select("li",W),Re=>{zu(Re,re["list-item-attributes"])})},aa=(N,W,re)=>{tc(N,W,re),Hu(N,W,re)},yf=(N,W,re)=>{Ne.each(re,Re=>N.setStyle(W,Re,""))},Am=(N,W)=>I(W)&&!Tr(W,N.schema.getBlockElements()),Ov=(N,W,re,Re)=>{let $e=W[re?"startContainer":"endContainer"];const Dt=W[re?"startOffset":"endOffset"];Wt($e)&&($e=$e.childNodes[Math.min(Dt,$e.childNodes.length-1)]||$e),!re&&ks($e.nextSibling)&&($e=$e.nextSibling);const Zn=lo=>{for(;!N.dom.isBlock(lo)&&lo.parentNode&&Re!==lo;)lo=lo.parentNode;return lo},po=(lo,Tn)=>{var bs;const Zr=new qc(lo,Zn(lo)),Sr=Tn?"next":"prev";let Tc;for(;Tc=Zr[Sr]();)if(!(_o(N,Tc)||Em(Tc.textContent)||((bs=Tc.textContent)===null||bs===void 0?void 0:bs.length)===0))return ee.some(Tc);return ee.none()};if(re&&Je($e))if(Em($e.textContent))$e=po($e,!1).getOr($e);else for($e.parentNode!==null&&Am(N,$e.parentNode)&&($e=$e.parentNode);$e.previousSibling!==null&&(Am(N,$e.previousSibling)||Je($e.previousSibling));)$e=$e.previousSibling;if(!re&&Je($e))if(Em($e.textContent))$e=po($e,!0).getOr($e);else for($e.parentNode!==null&&Am(N,$e.parentNode)&&($e=$e.parentNode);$e.nextSibling!==null&&(Am(N,$e.nextSibling)||Je($e.nextSibling));)$e=$e.nextSibling;for(;$e.parentNode!==Re;){const lo=$e.parentNode;if(Zo(N,$e)||/^(TD|TH)$/.test(lo.nodeName))return $e;$e=lo}return $e},xi=(N,W,re)=>{const Re=[],$e=N.dom,Dt=Ov(N,W,!0,re),Zn=Ov(N,W,!1,re);let po;const lo=[];for(let Tn=Dt;Tn&&(lo.push(Tn),Tn!==Zn);Tn=Tn.nextSibling);return Ne.each(lo,Tn=>{var bs;if(Zo(N,Tn)){Re.push(Tn),po=null;return}if($e.isBlock(Tn)||ks(Tn)){ks(Tn)&&$e.remove(Tn),po=null;return}const Zr=Tn.nextSibling;if(Hg.isBookmarkNode(Tn)&&(nn(Zr)||Zo(N,Zr)||!Zr&&Tn.parentNode===re)){po=null;return}po||(po=$e.create("p"),(bs=Tn.parentNode)===null||bs===void 0||bs.insertBefore(po,Tn),Re.push(po)),po.appendChild(Tn)}),Re},Wn=(N,W,re)=>{const Re=N.getStyle(W,"list-style-type");let $e=re?re["list-style-type"]:"";return $e=$e===null?"":$e,Re===$e},$u=(N,W)=>{const re=N.selection.getStart(!0),Re=Ov(N,W,!0,N.getBody());return Tv(he.fromDom(Re),he.fromDom(W.commonAncestorContainer))?W.commonAncestorContainer:re},Tm=(N,W,re)=>{const Re=N.selection.getRng();let $e="LI";const Dt=Ed(N,$u(N,Re)),Zn=N.dom;if(Zn.getContentEditable(N.selection.getNode())==="false")return;W=W.toUpperCase(),W==="DL"&&($e="DT");const po=Yo(Re),lo=O(xi(N,Re,Dt),N.dom.isEditable);Ne.each(lo,Tn=>{let bs;const Zr=Tn.previousSibling,Sr=Tn.parentNode;an(Sr)||(Zr&&nn(Zr)&&Zr.nodeName===W&&Wn(Zn,Zr,re)?(bs=Zr,Tn=Zn.rename(Tn,$e),Zr.appendChild(Tn)):(bs=Zn.create(W),Sr.insertBefore(bs,Tn),bs.appendChild(Tn),Tn=Zn.rename(Tn,$e)),yf(Zn,Tn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),aa(Zn,bs,re),Id(N.dom,bs))}),N.selection.setRng(ia(po))},la=(N,W)=>nn(N)&&N.nodeName===(W==null?void 0:W.nodeName),Uu=(N,W,re)=>{const Re=N.getStyle(W,"list-style-type",!0),$e=N.getStyle(re,"list-style-type",!0);return Re===$e},Ml=(N,W)=>N.className===W.className,Wu=(N,W,re)=>la(W,re)&&Uu(N,W,re)&&Ml(W,re),Id=(N,W)=>{let re,Re=W.nextSibling;if(Wu(N,W,Re)){const $e=Re;for(;re=$e.firstChild;)W.appendChild(re);N.remove($e)}if(Re=W.previousSibling,Wu(N,W,Re)){const $e=Re;for(;re=$e.lastChild;)W.insertBefore(re,W.firstChild);N.remove($e)}},wi=(N,W,re,Re)=>{if(W.nodeName!==re){const $e=N.dom.rename(W,re);aa(N.dom,$e,Re),gf(N,Vu(re),$e)}else aa(N.dom,W,Re),gf(N,Vu(re),W)},nc=(N,W,re,Re)=>{if(W.classList.forEach(($e,Dt,Zn)=>{$e.startsWith("tox-")&&(Zn.remove($e),Zn.length===0&&W.removeAttribute("class"))}),W.nodeName!==re){const $e=N.dom.rename(W,re);aa(N.dom,$e,Re),gf(N,Vu(re),$e)}else aa(N.dom,W,Re),gf(N,Vu(re),W)},ou=(N,W,re,Re,$e)=>{const Dt=nn(W);if(Dt&&W.nodeName===Re&&!Om($e)&&!ep(W))bf(N);else{Tm(N,Re,$e);const Zn=Yo(N.selection.getRng()),po=Dt?[W,...re]:re,lo=Dt&&ep(W)?nc:wi;Ne.each(po,Tn=>{lo(N,Tn,Re,$e)}),N.selection.setRng(ia(Zn))}},Om=N=>"list-style-type"in N,$1=(N,W,re,Re)=>{if(W!==N.getBody())if(W)if(W.nodeName===re&&!Om(Re)&&!ep(W))bf(N);else{const $e=Yo(N.selection.getRng());ep(W)&&W.classList.forEach((Zn,po,lo)=>{Zn.startsWith("tox-")&&(lo.remove(Zn),lo.length===0&&W.removeAttribute("class"))}),aa(N.dom,W,Re);const Dt=N.dom.rename(W,re);Id(N.dom,Dt),N.selection.setRng(ia($e)),Tm(N,re,Re),gf(N,Vu(re),Dt)}else Tm(N,re,Re),gf(N,Vu(re),W)},Zu=(N,W,re)=>{const Re=na(N);if(mf(N,Re))return;const $e=Xa(N),Dt=x(re)?re:{};$e.length>0?ou(N,Re,$e,W,Dt):$1(N,Re,W,Dt)},xf=nt.DOM,Dv=(N,W)=>{const re=W.parentElement;if(re&&re.nodeName==="LI"&&re.firstChild===W){const Re=re.previousSibling;Re&&Re.nodeName==="LI"?(Re.appendChild(W),ta(N,re)&&xf.remove(re)):xf.setStyle(re,"listStyleType","none")}if(nn(re)){const Re=re.previousSibling;Re&&Re.nodeName==="LI"&&Re.appendChild(W)}},Cr=(N,W)=>{const re=Ne.grep(N.select("ol,ul",W));Ne.each(re,Re=>{Dv(N,Re)})},Ba=(N,W,re,Re)=>{let $e=W.startContainer;const Dt=W.startOffset;if(Je($e)&&(re?Dt<$e.data.length:Dt>0))return $e;const Zn=N.schema.getNonEmptyElements();Wt($e)&&($e=Gc.getNode($e,Dt));const po=new qc($e,Re);re&&Rl(N.dom,$e)&&po.next();const lo=re?po.next.bind(po):po.prev2.bind(po);for(;$e=lo();)if($e.nodeName==="LI"&&!$e.hasChildNodes()||Zn[$e.nodeName]||Je($e)&&$e.data.length>0)return $e;return null},Ea=(N,W)=>{const re=W.childNodes;return re.length===1&&!nn(re[0])&&N.isBlock(re[0])},Qa=N=>ee.from(N).map(he.fromDom).filter(hn).exists(W=>ym(W)&&!qe(["details"],cs(W))),gi=(N,W)=>{Ea(N,W)&&Qa(W.firstChild)&&N.remove(W.firstChild,!0)},op=(N,W,re)=>{let Re;const $e=Ea(N,re)?re.firstChild:re;if(gi(N,W),!ta(N,W,!0))for(;Re=W.firstChild;)$e.appendChild(Re)},ai=(N,W,re)=>{let Re;const $e=W.parentNode;if(!co(N,W)||!co(N,re))return;nn(re.lastChild)&&(Re=re.lastChild),$e===re.lastChild&&ks($e.previousSibling)&&N.remove($e.previousSibling);const Dt=re.lastChild;Dt&&ks(Dt)&&W.hasChildNodes()&&N.remove(Dt),ta(N,re,!0)&&Dl(he.fromDom(re)),op(N,W,re),Re&&re.appendChild(Re);const po=vt(he.fromDom(re),he.fromDom(W))?N.getParents(W,nn,re):[];N.remove(W),Le(po,lo=>{ta(N,lo)&&lo!==N.getRoot()&&N.remove(lo)})},Wi=(N,W,re)=>{Dl(he.fromDom(re)),ai(N.dom,W,re),N.selection.setCursorLocation(re,0)},su=(N,W,re,Re)=>{const $e=N.dom;if($e.isEmpty(Re))Wi(N,re,Re);else{const Dt=Yo(W);ai($e,re,Re),N.selection.setRng(ia(Dt))}},Ot=(N,W,re,Re)=>{const $e=Yo(W);ai(N.dom,re,Re);const Dt=ia($e);N.selection.setRng(Dt)},Zi=(N,W)=>{const re=N.dom,Re=N.selection,$e=Re.getStart(),Dt=Mo(N,$e),Zn=re.getParent(Re.getStart(),"LI",Dt);if(Zn){const po=Zn.parentElement;if(po===N.getBody()&&ta(re,po))return!0;const lo=Xs(Re.getRng()),Tn=re.getParent(Ba(N,lo,W,Dt),"LI",Dt),bs=Tn&&(W?re.isChildOf(Zn,Tn):re.isChildOf(Tn,Zn));if(Tn&&Tn!==Zn&&!bs)return N.undoManager.transact(()=>{W?su(N,lo,Tn,Zn):Po(Zn)?tu(N):Ot(N,lo,Zn,Tn)}),!0;if(bs&&!W&&Tn!==Zn)return N.undoManager.transact(()=>{if(lo.commonAncestorContainer.parentElement){const Zr=Yo(lo),Sr=lo.commonAncestorContainer.parentElement;op(re,lo.commonAncestorContainer.parentElement,Tn),Sr.remove();const Tc=ia(Zr);N.selection.setRng(Tc)}}),!0;if(!Tn&&!W&&lo.startOffset===0&&lo.endOffset===0)return N.undoManager.transact(()=>{bf(N)}),!0}return!1},sp=(N,W,re)=>{const Re=N.getParent(W.parentNode,N.isBlock,re);N.remove(W),Re&&N.isEmpty(Re)&&N.remove(Re)},_r=(N,W)=>{const re=N.dom,Re=N.selection.getStart(),$e=Mo(N,Re),Dt=re.getParent(Re,re.isBlock,$e);if(Dt&&re.isEmpty(Dt,void 0,{checkRootAsContent:!0})){const Zn=Xs(N.selection.getRng()),po=re.getParent(Ba(N,Zn,W,$e),"LI",$e);if(po){const lo=Sr=>qe(["td","th","caption"],cs(Sr)),Tn=Sr=>Sr.dom===$e,bs=Ti(he.fromDom(po),lo,Tn),Zr=Ti(he.fromDom(Zn.startContainer),lo,Tn);return fn(bs,Zr,zt)?(N.undoManager.transact(()=>{const Sr=po.parentNode;sp(re,Dt,$e),Id(re,Sr),N.selection.select(po,!0),N.selection.collapse(W)}),!0):!1}}return!1},ju=(N,W)=>Zi(N,W)||_r(N,W),La=N=>{const W=N.selection.getStart(),re=Mo(N,W);return N.dom.getParent(W,"LI,DT,DD",re)||Pl(N).length>0},Ec=N=>La(N)?(N.undoManager.transact(()=>{N.execCommand("Delete"),Cr(N.dom,N.getBody())}),!0):!1,Dm=(N,W)=>{const re=N.selection;return!mf(N,re.getNode())&&(re.isCollapsed()?ju(N,W):Ec(N))},el=N=>{N.on("ExecCommand",W=>{const re=W.command.toLowerCase();(re==="delete"||re==="forwarddelete")&&La(N)&&Cr(N.dom,N.getBody())}),N.on("keydown",W=>{W.keyCode===uf.BACKSPACE?Dm(N,!1)&&W.preventDefault():W.keyCode===uf.DELETE&&Dm(N,!0)&&W.preventDefault()})},jo=N=>({backspaceDelete:W=>{Dm(N,W)}}),Ur=(N,W)=>{const re=na(N);re===null||mf(N,re)||N.undoManager.transact(()=>{x(W.styles)&&N.dom.setStyles(re,W.styles),x(W.attrs)&&Br(W.attrs,(Re,$e)=>N.dom.setAttrib(re,$e,Re))})},wf=N=>{const W=Lt(tx(N).split("")),re=ke(W,(Re,$e)=>{const Dt=Re.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,$e)*Dt});return ct(re,(Re,$e)=>Re+$e,0)},Lr=N=>{if(N--,N<0)return"";{const W=N%26,re=Math.floor(N/26),Re=Lr(re),$e=String.fromCharCode(65+W);return Re+$e}},$g=N=>/^[A-Z]+$/.test(N),ru=N=>/^[a-z]+$/.test(N),U1=N=>/^[0-9]+$/.test(N),Dr=N=>U1(N)?2:$g(N)?0:ru(N)?1:kv(N)?3:4,it=N=>{switch(Dr(N)){case 2:return ee.some({listStyleType:ee.none(),start:N});case 0:return ee.some({listStyleType:ee.some("upper-alpha"),start:wf(N).toString()});case 1:return ee.some({listStyleType:ee.some("lower-alpha"),start:wf(N).toString()});case 3:return ee.some({listStyleType:ee.none(),start:""});case 4:return ee.none()}},Fa=N=>{const W=parseInt(N.start,10);return Fn(N.listStyleType,"upper-alpha")?Lr(W):Fn(N.listStyleType,"lower-alpha")?Lr(W).toLowerCase():N.start},Wr=N=>{const W=na(N);!vn(W)||mf(N,W)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Fa({start:N.dom.getAttrib(W,"start","1"),listStyleType:ee.from(N.dom.getStyle(W,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:re=>{const Re=re.getData();it(Re.start).each($e=>{N.execCommand("mceListUpdate",!1,{attrs:{start:$e.start==="1"?"":$e.start},styles:{"list-style-type":$e.listStyleType.getOr("")}})}),re.close()}})},Zl=(N,W)=>()=>{const re=na(N);return I(re)&&re.nodeName===W},Ac=N=>{N.addCommand("mceListProps",()=>{Wr(N)})},ei=N=>{N.on("BeforeExecCommand",W=>{const re=W.command.toLowerCase();re==="indent"?Ja(N):re==="outdent"&&tu(N)}),N.addCommand("InsertUnorderedList",(W,re)=>{Zu(N,"UL",re)}),N.addCommand("InsertOrderedList",(W,re)=>{Zu(N,"OL",re)}),N.addCommand("InsertDefinitionList",(W,re)=>{Zu(N,"DL",re)}),N.addCommand("RemoveList",()=>{bf(N)}),Ac(N),N.addCommand("mceListUpdate",(W,re)=>{x(re)&&Ur(N,re)}),N.addQueryStateHandler("InsertUnorderedList",Zl(N,"UL")),N.addQueryStateHandler("InsertOrderedList",Zl(N,"OL")),N.addQueryStateHandler("InsertDefinitionList",Zl(N,"DL"))};var Qs=tinymce.util.Tools.resolve("tinymce.html.Node");const Ds=N=>N.type===3,Va=N=>N.length===0,jl=N=>{const W=($e,Dt)=>{const Zn=Qs.create("li");Le($e,po=>Zn.append(po)),Dt?N.insert(Zn,Dt,!0):N.append(Zn)},re=($e,Dt)=>Ds(Dt)?[...$e,Dt]:!Va($e)&&!Ds(Dt)?(W($e,Dt),[]):$e,Re=ct(N.children(),re,[]);Va(Re)||W(Re)},iu=N=>{N.on("PreInit",()=>{const{parser:W}=N;W.addNodeFilter("ul,ol",re=>Le(re,jl))})},Nd=N=>{N.on("keydown",W=>{W.keyCode!==uf.TAB||uf.metaKeyPressed(W)||N.undoManager.transact(()=>{(W.shiftKey?tu(N):Ja(N))&&W.preventDefault()})})},Rm=N=>{wr(N)&&Nd(N),el(N)},Ug=(N,W)=>re=>{const Re=$e=>{re.setActive(F1($e.parents,W)),re.setEnabled(!mf(N,$e.element)&&N.selection.isEditable())};return re.setEnabled(N.selection.isEditable()),V1(N,Re)},Wg=N=>{const W=re=>()=>N.execCommand(re);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:W("InsertOrderedList"),onSetup:Ug(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:W("InsertUnorderedList"),onSetup:Ug(N,"UL")}))},Rv=(N,W)=>re=>V1(N,$e=>re.setEnabled(F1($e.parents,W)&&!mf(N,$e.element))),Iv=N=>{const W={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:Rv(N,"OL")};N.ui.registry.addMenuItem("listprops",W),N.ui.registry.addContextMenu("lists",{update:re=>{const Re=na(N,re);return vn(Re)?["listprops"]:[]}})};var Ku=()=>{n.add("lists",N=>(fl(N),iu(N),N.hasPlugin("rtc",!0)?Ac(N):(Rm(N),ei(N)),Wg(N),Iv(N),jo(N)))};Ku()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(ae,be)=>ae.dispatch("insertCustomChar",{chr:be}),l=(ae,be)=>{const Be=r(ae,be).chr;ae.execCommand("mceInsertContent",!1,Be)},d=(ae,be,Be)=>{var he;return Be(ae,be.prototype)?!0:((he=ae.constructor)===null||he===void 0?void 0:he.name)===be.name},g=ae=>{const be=typeof ae;return ae===null?"null":be==="object"&&Array.isArray(ae)?"array":be==="object"&&d(ae,String,(Be,he)=>he.isPrototypeOf(Be))?"string":be},v=ae=>be=>g(be)===ae,x=ae=>be=>typeof be===ae,S=ae=>be=>ae===be,M=v("array"),R=S(null),I=S(void 0),L=ae=>ae==null,$=ae=>!L(ae),K=x("function"),ne=(ae=>()=>ae)(!1);class oe{constructor(be,Be){this.tag=be,this.value=Be}static some(be){return new oe(!0,be)}static none(){return oe.singletonNone}fold(be,Be){return this.tag?Be(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?oe.some(be(this.value)):oe.none()}bind(be){return this.tag?be(this.value):oe.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:oe.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return $(be)?oe.some(be):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const se=Array.prototype.push,Me=(ae,be)=>{const Be=ae.length,he=new Array(Be);for(let gt=0;gt<Be;gt++){const zt=ae[gt];he[gt]=be(zt,gt)}return he},xe=(ae,be)=>{for(let Be=0,he=ae.length;Be<he;Be++){const gt=ae[Be];be(gt,Be)}},ee=(ae,be,Be)=>{for(let he=0,gt=ae.length;he<gt;he++){const zt=ae[he];if(be(zt,he))return oe.some(zt);if(Be(zt,he))break}return oe.none()},_e=(ae,be)=>ee(ae,be,ne),le=ae=>{const be=[];for(let Be=0,he=ae.length;Be<he;++Be){if(!M(ae[Be]))throw new Error("Arr.flatten item "+Be+" was not an array, input: "+ae);se.apply(be,ae[Be])}return be},Ue=(ae,be)=>le(Me(ae,be));var We=tinymce.util.Tools.resolve("tinymce.util.Tools");const qe=ae=>be=>be.options.get(ae),st=ae=>{const be=ae.options.register,Be=he=>K(he)||M(he);be("charmap",{processor:Be}),be("charmap_append",{processor:Be})},ke=qe("charmap"),Le=qe("charmap_append"),O=We.isArray,Ke="User Defined",ct=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],$t=ae=>We.grep(ae,be=>O(be)&&be.length===2),Jt=ae=>O(ae)?$t(ae):typeof ae=="function"?ae():[],et=(ae,be)=>{const Be=ke(ae);Be&&(be=[{name:Ke,characters:Jt(Be)}]);const he=Le(ae);if(he){const gt=We.grep(be,zt=>zt.name===Ke);return gt.length?(gt[0].characters=[...gt[0].characters,...Jt(he)],be):be.concat({name:Ke,characters:Jt(he)})}return be},pt=ae=>{const be=et(ae,ct());return be.length>1?[{name:"All",characters:Ue(be,Be=>Be.characters)}].concat(be):be},Lt=ae=>({getCharMap:()=>pt(ae),insertChar:he=>{l(ae,he)}}),tt=ae=>{let be=ae;return{get:()=>be,set:gt=>{be=gt}}},Ye=(ae,be)=>{let Be=null;const he=()=>{R(Be)||(clearTimeout(Be),Be=null)};return{cancel:he,throttle:(...zt)=>{he(),Be=setTimeout(()=>{Be=null,ae.apply(null,zt)},be)}}},Mt=(ae,be,Be=0,he)=>{const gt=ae.indexOf(be,Be);return gt!==-1?I(he)?!0:gt+be.length<=he:!1},oo=String.fromCodePoint,Fn=(ae,be,Be)=>Mt(oo(ae).toLowerCase(),Be)?!0:Mt(be.toLowerCase(),Be)||Mt(be.toLowerCase().replace(/\s+/g,""),Be),fn=(ae,be)=>{const Be=[],he=be.toLowerCase();return xe(ae.characters,gt=>{Fn(gt[0],gt[1],he)&&Be.push(gt)}),Me(Be,gt=>({text:gt[1],value:oo(gt[0]),icon:oo(gt[0])}))},_n="pattern",J=(ae,be)=>{const Be=()=>[{label:"Search",type:"input",name:_n},{type:"collection",name:"results"}],he=()=>Me(be,Oo=>({title:Oo.name,name:Oo.name,items:Be()})),gt=()=>({type:"panel",items:Be()}),zt=()=>({type:"tabpanel",tabs:he()}),vt=be.length===1?tt(Ke):tt("All"),Ft=(Oo,Ho)=>{_e(be,cs=>cs.name===vt.get()).each(cs=>{const ar=fn(cs,Ho);Oo.setData({results:ar})})},wn=Ye(Oo=>{const Ho=Oo.getData().pattern;Ft(Oo,Ho)},40),cn=be.length===1?gt():zt(),An={pattern:"",results:fn(be[0],"")},On={title:"Special Character",size:"normal",body:cn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:An,onAction:(Oo,Ho)=>{Ho.name==="results"&&(l(ae,Ho.value),Oo.close())},onTabChange:(Oo,Ho)=>{vt.set(Ho.newTabName),wn.throttle(Oo)},onChange:(Oo,Ho)=>{Ho.name===_n&&wn.throttle(Oo)}};ae.windowManager.open(On).focus(_n)},xs=(ae,be)=>{ae.addCommand("mceShowCharmap",()=>{J(ae,be)})},eo=(ae,be)=>{ae.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Be,he)=>new Promise((gt,zt)=>{gt(fn(be,Be))}),onAction:(Be,he,gt)=>{ae.selection.setRng(he),ae.insertContent(gt),Be.hide()}})},tn=ae=>be=>{const Be=()=>{be.setEnabled(ae.selection.isEditable())};return ae.on("NodeChange",Be),Be(),()=>{ae.off("NodeChange",Be)}},To=ae=>{const be=()=>ae.execCommand("mceShowCharmap");ae.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:be,onSetup:tn(ae)}),ae.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:be,onSetup:tn(ae)})};var je=()=>{n.add("charmap",ae=>{st(ae);const be=pt(ae);return xs(ae,be),To(ae),eo(ae,be[0]),Lt(ae)})};je()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ae=>be=>ae===be)(null),d=ae=>ae,g=(ae,be)=>{const Be=ae.length,he=new Array(Be);for(let gt=0;gt<Be;gt++){const zt=ae[gt];he[gt]=be(zt,gt)}return he},x={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},M=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],R="",I=new RegExp("^"+x.punctuation+"$"),L=/^\s+$/,$=M,K=S.OTHER,Y=ae=>{let be=K;const Be=$.length;for(let he=0;he<Be;++he){const gt=$[he];if(gt&&gt.test(ae)){be=he;break}}return be},ne=ae=>{const be={};return Be=>{if(be[Be])return be[Be];{const he=ae(Be);return be[Be]=he,he}}},oe=ae=>{const be=ne(Y);return g(ae,be)},se=(ae,be)=>{const Be=ae[be],he=ae[be+1];if(be<0||be>ae.length-1&&be!==0||Be===S.ALETTER&&he===S.ALETTER)return!1;const gt=ae[be+2];if(Be===S.ALETTER&&(he===S.MIDLETTER||he===S.MIDNUMLET||he===S.AT)&&gt===S.ALETTER)return!1;const zt=ae[be-1];return(Be===S.MIDLETTER||Be===S.MIDNUMLET||he===S.AT)&&he===S.ALETTER&&zt===S.ALETTER||(Be===S.NUMERIC||Be===S.ALETTER)&&(he===S.NUMERIC||he===S.ALETTER)||(Be===S.MIDNUM||Be===S.MIDNUMLET)&&he===S.NUMERIC&&zt===S.NUMERIC||Be===S.NUMERIC&&(he===S.MIDNUM||he===S.MIDNUMLET)&&gt===S.NUMERIC||(Be===S.EXTEND||Be===S.FORMAT)&&(he===S.ALETTER||he===S.NUMERIC||he===S.KATAKANA||he===S.EXTEND||he===S.FORMAT)||(he===S.EXTEND||he===S.FORMAT&&(gt===S.ALETTER||gt===S.NUMERIC||gt===S.KATAKANA||gt===S.EXTEND||gt===S.FORMAT))&&(Be===S.ALETTER||Be===S.NUMERIC||Be===S.KATAKANA||Be===S.EXTEND||Be===S.FORMAT)||Be===S.CR&&he===S.LF?!1:Be===S.NEWLINE||Be===S.CR||Be===S.LF||he===S.NEWLINE||he===S.CR||he===S.LF?!0:!(Be===S.KATAKANA&&he===S.KATAKANA||he===S.EXTENDNUMLET&&(Be===S.ALETTER||Be===S.NUMERIC||Be===S.KATAKANA||Be===S.EXTENDNUMLET)||Be===S.EXTENDNUMLET&&(he===S.ALETTER||he===S.NUMERIC||he===S.KATAKANA)||Be===S.AT)},Me=R,xe=L,ee=I,_e=ae=>ae==="http"||ae==="https",le=(ae,be)=>{let Be;for(Be=be;Be<ae.length&&!xe.test(ae[Be]);Be++);return Be},Ue=(ae,be)=>{const Be=le(ae,be+1);return ae.slice(be+1,Be).join(Me).substr(0,3)==="://"?Be:be},We=(ae,be,Be,he)=>{const gt=[],zt=[];let vt=[];for(let Ft=0;Ft<Be.length;++Ft)if(vt.push(ae[Ft]),se(Be,Ft)){const Vt=be[Ft];if((he.includeWhitespace||!xe.test(Vt))&&(he.includePunctuation||!ee.test(Vt))){const wn=Ft-vt.length+1,cn=Ft+1,An=be.slice(wn,cn).join(Me);if(_e(An)){const On=Ue(be,Ft),wo=ae.slice(cn,On);Array.prototype.push.apply(vt,wo),Ft=On}be[Ft+1]==="."&&/^([a-zA-Z]\.)+$/.test(An+".")?(vt.push(ae[Ft+1]),zt.push({start:wn,end:cn+1})):zt.push({start:wn,end:cn}),gt.push(vt)}vt=[]}return{words:gt,indices:zt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),st=(ae,be,Be)=>{Be={...qe(),...Be};const he=g(ae,be),gt=oe(he);return We(ae,he,gt,Be)},Le=(ae,be,Be)=>st(ae,be,Be).words,O=ae=>ae.replace(/\uFEFF/g,"");var Ke=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ct=(ae,be)=>{const Be=be.getBlockElements(),he=be.getVoidElements(),gt=wn=>Be[wn.nodeName]||he[wn.nodeName],zt=[];let vt="";const Ft=new Ke(ae,ae);let Vt;for(;Vt=Ft.next();)Vt.nodeType===3?vt+=O(Vt.data):gt(Vt)&&vt.length&&(zt.push(vt),vt="");return vt.length&&zt.push(vt),zt},$t=ae=>ae.replace(/\u200B/g,""),Jt=ae=>ae.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,et=(ae,be)=>{const Be=$t(ct(ae,be).join(`
`));return Le(Be.split(""),d).length},pt=(ae,be)=>{const Be=ct(ae,be).join("");return Jt(Be)},Lt=(ae,be)=>{const Be=ct(ae,be).join("").replace(/\s/g,"");return Jt(Be)},tt=(ae,be)=>()=>be(ae.getBody(),ae.schema),Ye=(ae,be)=>()=>be(ae.selection.getRng().cloneContents(),ae.schema),Mt=ae=>tt(ae,et),oo=ae=>({body:{getWordCount:Mt(ae),getCharacterCount:tt(ae,pt),getCharacterCountWithoutSpaces:tt(ae,Lt)},selection:{getWordCount:Ye(ae,et),getCharacterCount:Ye(ae,pt),getCharacterCountWithoutSpaces:Ye(ae,Lt)},getCount:Mt(ae)}),Fn=(ae,be)=>{ae.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(be.body.getWordCount()),String(be.selection.getWordCount())],["Characters (no spaces)",String(be.body.getCharacterCountWithoutSpaces()),String(be.selection.getCharacterCountWithoutSpaces())],["Characters",String(be.body.getCharacterCount()),String(be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},fn=(ae,be)=>{ae.addCommand("mceWordCount",()=>Fn(ae,be))},_n=(ae,be)=>{let Be=null;return{cancel:()=>{l(Be)||(clearTimeout(Be),Be=null)},throttle:(...zt)=>{l(Be)&&(Be=setTimeout(()=>{Be=null,ae.apply(null,zt)},be))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const xs=(ae,be)=>{ae.dispatch("wordCountUpdate",{wordCount:{words:be.body.getWordCount(),characters:be.body.getCharacterCount(),charactersWithoutSpaces:be.body.getCharacterCountWithoutSpaces()}})},eo=(ae,be)=>{xs(ae,be)},tn=(ae,be,Be)=>{const he=_n(()=>eo(ae,be),Be);ae.on("init",()=>{eo(ae,be),J.setEditorTimeout(ae,()=>{ae.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",he.throttle)},0),ae.on("remove",he.cancel)})},To=ae=>{const be=()=>ae.execCommand("mceWordCount");ae.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:be}),ae.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:be})};var je=(ae=300)=>{n.add("wordcount",be=>{const Be=oo(be);return fn(be,Be),To(be),tn(be,Be,ae),Be})};je()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var Q0e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],eye=function(n){return Q0e.map(function(r){return r.toLowerCase()}).indexOf(n.toLowerCase())!==-1},tye=function(n,r,l){Object.keys(r).filter(eye).forEach(function(d){var g=r[d];typeof g=="function"&&(d==="onInit"?g(n,l):l.on(d.substring(2),function(v){return g(v,l)}))})},nye=function(n,r,l,d){var g=n.modelEvents?n.modelEvents:null,v=Array.isArray(g)?g.join(" "):g;zn(d,function(x,S){l&&typeof x=="string"&&x!==S&&x!==l.getContent({format:n.outputFormat})&&l.setContent(x)}),l.on(v||"change input undo redo",function(){r.emit("update:modelValue",l.getContent({format:n.outputFormat}))})},oye=function(n,r,l,d,g,v){d.setContent(v()),l.attrs["onUpdate:modelValue"]&&nye(r,l,d,g),tye(n,l.attrs,d)},Lq=0,vee=function(n){var r=Date.now(),l=Math.floor(Math.random()*1e9);return Lq++,n+"_"+l+Lq+String(r)},sye=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},Fq=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},rye=function(n,r){return Fq(n).concat(Fq(r))},iye=function(n){return n==null},Vq=function(){return{listeners:[],scriptId:vee("tiny-script"),scriptLoaded:!1}},aye=function(){var n=Vq(),r=function(g,v,x,S){var M=v.createElement("script");M.referrerPolicy="origin",M.type="application/javascript",M.id=g,M.src=x;var R=function(){M.removeEventListener("load",R),S()};M.addEventListener("load",R),v.head&&v.head.appendChild(M)},l=function(g,v,x){n.scriptLoaded?x():(n.listeners.push(x),g.getElementById(n.scriptId)||r(n.scriptId,g,v,function(){n.listeners.forEach(function(S){return S()}),n.scriptLoaded=!0}))},d=function(){n=Vq()};return{load:l,reinitialize:d}},lye=aye(),cye=function(){return typeof window<"u"?window:global},Xw=function(){var n=cye();return n&&n.tinymce?n.tinymce:null},uye={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},uv=function(){return uv=Object.assign||function(n){for(var r,l=1,d=arguments.length;l<d;l++){r=arguments[l];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(n[g]=r[g])}return n},uv.apply(this,arguments)},dye=function(n,r,l,d){return n(d||"div",{id:r,ref:l})},fye=function(n,r,l){return n("textarea",{id:r,visibility:"hidden",ref:l})},h$={selector:void 0,target:void 0},mye=AY({props:uye,setup:function(n,r){var l=n.init?uv(uv({},n.init),h$):uv({},h$),d=SD(n),g=d.disabled,v=d.modelValue,x=d.tagName,S=Mn(null),M=null,R=n.id||vee("tiny-vue"),I=n.init&&n.init.inline||n.inline,L=!!r.attrs["onUpdate:modelValue"],$=!0,K=n.initialValue?n.initialValue:"",Y="",ne=function(Me){return L?function(){return v!=null&&v.value?v.value:""}:function(){return Me?K:Y}},oe=function(){var Me=ne($),xe=uv(uv({},l),{readonly:n.disabled,target:S.value,plugins:rye(l.plugins,n.plugins),toolbar:n.toolbar||l.toolbar,inline:I,setup:function(ee){M=ee,ee.on("init",function(_e){return oye(_e,n,r,ee,v,Me)}),typeof l.setup=="function"&&l.setup(ee)}});sye(S.value)&&(S.value.style.visibility=""),Xw().init(xe),$=!1};zn(g,function(Me){var xe;M!==null&&(typeof((xe=M.mode)===null||xe===void 0?void 0:xe.set)=="function"?M.mode.set(Me?"readonly":"design"):M.setMode(Me?"readonly":"design"))}),zn(x,function(Me){var xe;L||(Y=M.getContent()),(xe=Xw())===null||xe===void 0||xe.remove(M),Fs(function(){return oe()})}),Ru(function(){if(Xw()!==null)oe();else if(S.value&&S.value.ownerDocument){var Me=n.cloudChannel?n.cloudChannel:"7",xe=n.apiKey?n.apiKey:"no-api-key",ee=iye(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(xe,"/tinymce/").concat(Me,"/tinymce.min.js"):n.tinymceScriptSrc;lye.load(S.value.ownerDocument,ee,oe)}}),wc(function(){Xw()!==null&&Xw().remove(M)}),I||(yU(function(){$||oe()}),$L(function(){var Me;L||(Y=M.getContent()),(Me=Xw())===null||Me===void 0||Me.remove(M)}));var se=function(Me){var xe;Y=M.getContent(),(xe=Xw())===null||xe===void 0||xe.remove(M),l=uv(uv(uv({},l),Me),h$),Fs(function(){return oe()})};return r.expose({rerender:se,getEditor:function(){return M}}),function(){return I?dye(xv,R,S,n.tagName):fye(xv,R,S)}}});const gye=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",hye=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",pye={class:"app-own-summary-text-wrapper"},vye=["for"],bye=["innerHTML"],bee={__name:"OwnSummaryText",props:["editorId"],setup(n){const r=yc(),l=$y(),d=xc(),g=n;function v(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap"}function x(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}function S(){return{underline:{inline:"u",remove:"all"}}}function M(){return[{title:"Absatz",format:"p"},{title:"Überschrift 1",format:"h1"},{title:"Überschrift 2",format:"h2"},{title:"Überschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}function R(){ne(),oe(),I()}async function I(){if(d.focusTarget=="ownSummary"){await Fs();const se=Bq.get(g.editorId);se&&(console.log("editor found"),se.focus())}}zn(()=>d.focusChange,I);function L(){r.updateContent(!0),ne()}function $(){r.updateContent(!0)}function K(){l.zoomSummaryTextIn(),ne()}function Y(){l.zoomSummaryTextOut(),ne()}function ne(){try{const se=Bq.get(g.editorId);se&&(se.dom.setStyle(se.dom.doc.body,"font-size",l.summary_text_zoom+"rem"),se.dom.setStyle(se.dom.select("h1"),"font-size",l.summary_text_zoom*1.3+"rem"),se.dom.setStyle(se.dom.select("h2"),"font-size",l.summary_text_zoom*1.15+"rem"),se.dom.setStyle(se.dom.select("h3"),"font-size",l.summary_text_zoom+"rem"),se.dom.setStyle(se.dom.select("h4"),"font-size",l.summary_text_zoom+"rem"),se.dom.setStyle(se.dom.select("h5"),"font-size",l.summary_text_zoom+"rem"),se.dom.setStyle(se.dom.select("h6"),"font-size",l.summary_text_zoom+"rem"))}catch{}}function oe(){for(const se of document.getElementsByClassName("tox-tinymce-aux"))se.classList.add("headlines-three")}return(se,Me)=>(Ln(),ds("div",pye,[Ae("label",{for:g.editorId,class:"hidden"},"Verborgenes Feld zum Gutachten",8,vye),ce(r).isOwnDisabled?Ts("",!0):(Ln(),rr(ce(mye),{key:0,id:g.editorId,modelValue:ce(r).editSummary.text,"onUpdate:modelValue":Me[0]||(Me[0]=xe=>ce(r).editSummary.text=xe),onChange:L,onKeydown:ce(d).handleKeyDown,onKeyup:$,onInit:R,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!0,elementpath:!1,branding:!1,plugins:"lists charmap wordcount",toolbar:v(),valid_elements:x(),formats:S(),style_formats:M(),custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:ce(gye).toString()+`
`+ce(hye).toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:"Editor Gutachten",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:function(xe){xe.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:Y}),xe.ui.registry.addButton("zoomIn",{tooltip:"Vergrößern",icon:"zoom-in",onAction:K})}}},null,8,["id","modelValue","onKeydown","init"])),ce(r).isOwnDisabled?(Ln(),ds("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:ce(r).editSummary.text},null,8,bye)):Ts("",!0)]))}},yye={id:"app-own-summary-wrapper"},xye={id:"app-own-summary-points"},wye={__name:"OwnSummary",props:["showCriteria","showText"],setup(n){const r=ps(),l=n;function d(){switch((l.showCriteria?1:0)+(l.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",yye,[l.showCriteria?(Ln(),ds("div",{key:0,class:wd(d())},[v[0]||(v[0]=Ae("h2",{class:"headline"},"Übersicht",-1)),j(hee,{class:"content",corrector_key:ce(r).correctorKey},null,8,["corrector_key"])],2)):Ts("",!0),l.showText?(Ln(),ds("div",{key:1,class:wd(d())},[v[1]||(v[1]=Ae("h2",{class:"headline"},"Gutachten",-1)),j(bee,{class:"content",editorId:"summary"})],2)):Ts("",!0),Ae("div",xye,[v[2]||(v[2]=Ae("h2",{class:"headline"},"Gesamtbewertung",-1)),j(X0e,{class:"content"})])]))}},Cye=$l(wye,[["__scopeId","data-v-0c91ce93"]]),_ye={id:"app-summary-points-wrapper"},Sye=["max"],kye={__name:"SummaryPoints",props:["corrector_key"],setup(n){const r=um(),l=Ky(),d=yc(),g=n,v=Mn(0),x=Mn(""),S=Mn(""),M=d.getForCorrector(g.corrector_key);if(M){v.value=M.points;const R=l.getLevel(M.grade_key);R&&(x.value=R.title),S.value=d.getInclusionText(M)}return(R,I)=>(Ln(),ds("div",_ye,[I[2]||(I[2]=Ae("label",{for:"appSummaryPoints"},[Ae("strong",null,"Wertung:")],-1)),Qn(Ae("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:ce(r).max_points,"onUpdate:modelValue":I[0]||(I[0]=L=>v.value=L)},null,8,Sye),[[Zy,v.value]]),I[3]||(I[3]=Ei(" Punkte   ")),I[4]||(I[4]=Ae("strong",null,"Notenstufe:",-1)),Ei(" "+Go(x.value)+" ",1),Ae("p",null,[I[1]||(I[1]=Ae("strong",null,"Einbeziehen:",-1)),Ei(" "+Go(S.value),1)])]))}},Eye=$l(kye,[["__scopeId","data-v-5ce9c5c8"]]),Aye={class:"app-summary-text-wrapper"},Tye=["innerHTML"],Oye={__name:"SummaryText",props:["corrector_key"],setup(n){const r=yc(),l=n;function d(){let g=r.getForCorrector(l.corrector_key);if(g)return g.text}return(g,v)=>(Ln(),ds("div",Aye,[Ae("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:d()},null,8,Tye)]))}},Dye=$l(Oye,[["__scopeId","data-v-089a3707"]]),Rye={id:"app-other-summary-wrapper"},Iye={key:2},Nye={key:3},Pye={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(n){const r=n,l=yc();function d(){switch((r.showCriteria?1:0)+(r.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",Rye,[r.showCriteria&&ce(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:0,class:wd(d())},[v[0]||(v[0]=Ae("div",{class:"headline"},"Übersicht",-1)),j(hee,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):Ts("",!0),r.showText&&ce(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:1,class:wd(d())},[v[1]||(v[1]=Ae("div",{class:"headline"},"Gutachten",-1)),j(Dye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):Ts("",!0),ce(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",Iye,[v[2]||(v[2]=Ae("div",{class:"headline"},"Gesamtbewertung",-1)),j(Eye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])])):Ts("",!0),ce(l).getAuthorizationForCorrector(r.corrector_key)?Ts("",!0):(Ln(),ds("div",Nye," Diese Korrektur ist noch nicht autorisiert. "))]))}},zq=$l(Pye,[["__scopeId","data-v-1f4a6ccd"]]),Mye=Dn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...f8(),...oW()},"VTextarea"),Bye=Ro()({name:"VTextarea",directives:{Intersect:XU},inheritAttrs:!1,props:Mye(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=Hi(n,"modelValue"),{isFocused:x,focus:S,blur:M}=d8(n),R=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):(v.value||"").toString().length),I=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function L(ke,Le){var O,Ke;!n.autofocus||!ke||(Ke=(O=Le[0].target)==null?void 0:O.focus)==null||Ke.call(O)}const $=Mn(),K=Mn(),Y=Ao(""),ne=Mn(),oe=Ge(()=>n.persistentPlaceholder||x.value||n.active);function se(){var ke;ne.value!==document.activeElement&&((ke=ne.value)==null||ke.focus()),x.value||S()}function Me(ke){se(),d("click:control",ke)}function xe(ke){d("mousedown:control",ke)}function ee(ke){ke.stopPropagation(),se(),Fs(()=>{v.value="",pX(n["onClick:clear"],ke)})}function _e(ke){var O;const Le=ke.target;if(v.value=Le.value,(O=n.modelModifiers)!=null&&O.trim){const Ke=[Le.selectionStart,Le.selectionEnd];Fs(()=>{Le.selectionStart=Ke[0],Le.selectionEnd=Ke[1]})}}const le=Mn(),Ue=Mn(+n.rows),We=Ge(()=>["plain","underlined"].includes(n.variant));cf(()=>{n.autoGrow||(Ue.value=+n.rows)});function qe(){n.autoGrow&&Fs(()=>{if(!le.value||!K.value)return;const ke=getComputedStyle(le.value),Le=getComputedStyle(K.value.$el),O=parseFloat(ke.getPropertyValue("--v-field-padding-top"))+parseFloat(ke.getPropertyValue("--v-input-padding-top"))+parseFloat(ke.getPropertyValue("--v-field-padding-bottom")),Ke=le.value.scrollHeight,ct=parseFloat(ke.lineHeight),$t=Math.max(parseFloat(n.rows)*ct+O,parseFloat(Le.getPropertyValue("--v-input-control-height"))),Jt=parseFloat(n.maxRows)*ct+O||1/0,et=$h(Ke??0,$t,Jt);Ue.value=Math.floor((et-O)/ct),Y.value=hs(et)})}Ru(qe),zn(v,qe),zn(()=>n.rows,qe),zn(()=>n.maxRows,qe),zn(()=>n.density,qe);let st;return zn(le,ke=>{ke?(st=new ResizeObserver(qe),st.observe(le.value)):st==null||st.disconnect()}),wc(()=>{st==null||st.disconnect()}),vs(()=>{const ke=!!(g.counter||n.counter||n.counterValue),Le=!!(ke||g.details),[O,Ke]=KL(l),{modelValue:ct,...$t}=Gk.filterProps(n),Jt=CQ(n);return j(Gk,Wo({ref:$,modelValue:v.value,"onUpdate:modelValue":et=>v.value=et,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":We.value},n.class],style:n.style},O,$t,{centerAffix:Ue.value===1&&!We.value,focused:x.value}),{...g,default:et=>{let{id:pt,isDisabled:Lt,isDirty:tt,isReadonly:Ye,isValid:Mt}=et;return j(sW,Wo({ref:K,style:{"--v-textarea-control-height":Y.value},onClick:Me,onMousedown:xe,"onClick:clear":ee,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},Jt,{id:pt.value,active:oe.value||tt.value,centerAffix:Ue.value===1&&!We.value,dirty:tt.value||n.dirty,disabled:Lt.value,focused:x.value,error:Mt.value===!1}),{...g,default:oo=>{let{props:{class:Fn,...fn}}=oo;return j(us,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[n.prefix]),Qn(j("textarea",Wo({ref:ne,class:Fn,value:v.value,onInput:_e,autofocus:n.autofocus,readonly:Ye.value,disabled:Lt.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:se,onBlur:M},fn,Ke),null),[[Xy("intersect"),{handler:L},null,{once:!0}]]),n.autoGrow&&Qn(j("textarea",{class:[Fn,"v-textarea__sizer"],id:`${fn.id}-sizer`,"onUpdate:modelValue":_n=>v.value=_n,ref:le,readonly:!0,"aria-hidden":"true"},null),[[Zy,v.value]]),n.suffix&&j("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Le?et=>{var pt;return j(us,null,[(pt=g.details)==null?void 0:pt.call(g,et),ke&&j(us,null,[j("span",null,null),j(wQ,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),rE({},$,K,ne)}}),Lye={key:0},Fye=["id","value"],Vye=["for"],zye={key:1},Hye=["id","max","disabled"],$ye=["for"],Uye=["id","disabled"],Wye=["for"],Zye=["id","disabled"],jye=["for"],Kye=["id"],Gye={__name:"MarkingComment",props:["comment"],setup(n){const r=ps(),l=Tu(),d=yc(),g=um(),v=Uh(),x=k1(),S=xc(),R=n.comment;Ru(()=>{const ne=document.getElementById("appCommentContainer"+R.key);for(const oe of ne.getElementsByTagName("label"))oe.getAttribute("for").includes("app-comment-")&&(oe.classList.add("sr-only"),oe.getAttribute("aria-hidden")=="true"?oe.getAttribute("for").includes("-sizer")||oe.setAttribute("for",oe.getAttribute("for")+"-sizer"):oe.setAttribute("id","app-comment-"+R.key+"-messages"));for(const oe of ne.getElementsByTagName("textarea"))oe.style.marginTop="-10px"});function I(ne){return ne.key==l.selectedKey?ne.rating_excellent?"#BBEBA5":ne.rating_cardinal?"#FCB494":"#94C3FC":ne.prefix=="own"?ne.rating_excellent?"#E3EFDD":ne.rating_cardinal?"#FBDED1":"#D8E5F4":ne.rating_excellent?"#F7F9F7":ne.rating_cardinal?"#FCF6F4":"#F5F7FB"}function L(ne){return ne.points==0?"white":ne.corrector_key!=r.correctorKey?"grey":l.getPointsOfCorrector(ne.corrector_key)>g.max_points?"red":"grey"}async function $(ne){l.selectComment(ne.key),ne.rating_excellent&&(ne.rating_cardinal=!1),l.setMarkerChange(),l.updateComment(ne)}async function K(ne){l.selectComment(ne.key),ne.rating_cardinal&&(ne.rating_excellent=!1),l.setMarkerChange(),l.updateComment(ne)}async function Y(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),S.showEssay(),await Fs(),l.setCaretRequest();break;case"Delete":event.preventDefault(),l.deleteComment(l.selectedKey);break}}return(ne,oe)=>(Ln(),rr(EQ,{id:"appCommentContainer"+ce(R).key,key:ce(R).key},{default:It(()=>[j(Bk,{class:"row",dense:""},{default:It(()=>[j(im,{class:"col"},{default:It(()=>[j(qn,{size:"small",icon:ce(R).getMarkIcon()},null,8,["icon"]),oe[17]||(oe[17]=Ei("   ")),Ae("button",{tabindex:"0",class:wd("commentLabel "+(ce(R).key==ce(l).selectedKey?"selected":"")),onClick:oe[0]||(oe[0]=se=>ce(l).selectComment(ce(R).key))},Go(ce(R).label),3)]),_:1}),j(im,{class:"col"},{default:It(()=>[Qn(j(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",onClick:oe[1]||(oe[1]=se=>ce(l).deleteComment(ce(R).key))},{default:It(()=>oe[18]||(oe[18]=[Ae("span",{class:"sr-only"},"Anmerkung löschen",-1)])),_:1},512),[[zo,ce(R).corrector_key==ce(r).correctorKey&&!ce(d).isOwnDisabled]])]),_:1}),j(im,{class:"col"},{default:It(()=>[ce(v).getCorrectorHasCriteria(ce(R).corrector_key)?Qn((Ln(),ds("span",Lye,[Ae("input",{class:"pointsInput",disabled:"disabled",id:"pointsInput"+ce(R).key,value:ce(x).getSumOfPointsForComment(ce(R).key)},null,8,Fye),Ae("label",{for:"pointsInput"+ce(R).key,onClick:oe[2]||(oe[2]=se=>ce(l).selectComment(ce(R).key))}," Pkt.",8,Vye)],512)),[[zo,ce(R).key==ce(l).selectedKey||ce(x).getCommentHasPoints(ce(R).key)]]):Ts("",!0),ce(v).getCorrectorHasCriteria(ce(R).corrector_key)?Ts("",!0):Qn((Ln(),ds("span",zye,[Qn(Ae("input",{class:"pointsInput",type:"number",min:"0",style:xD("color: "+L(ce(R))+";"),id:"pointsInput"+ce(R).key,max:ce(g).max_points,disabled:ce(d).isOwnDisabled||ce(R).corrector_key!=ce(r).correctorKey,onChange:oe[3]||(oe[3]=se=>ce(l).updateComment(ce(R))),"onUpdate:modelValue":oe[4]||(oe[4]=se=>ce(R).points=se)},null,44,Hye),[[Zy,ce(R).points]]),Ae("label",{for:"pointsInput"+ce(R).key,onClick:oe[5]||(oe[5]=se=>ce(l).selectComment(ce(R).key))}," Pkt.",8,$ye)],512)),[[zo,ce(R).key==ce(l).selectedKey||ce(R).points>0]])]),_:1}),j(im,{class:"col"},{default:It(()=>[Qn(Ae("span",null,[Qn(Ae("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":oe[6]||(oe[6]=se=>ce(R).rating_excellent=se),id:"ratingExcellent"+ce(R).key,disabled:ce(d).isOwnDisabled||ce(R).corrector_key!=ce(r).correctorKey,onChange:oe[7]||(oe[7]=se=>$(ce(R)))},null,40,Uye),[[iG,ce(R).rating_excellent]]),Ae("label",{for:"ratingExcellent"+ce(R).key,onClick:oe[8]||(oe[8]=se=>ce(l).selectComment(ce(R).key))}," "+Go(ce(g).positive_rating),9,Wye)],512),[[zo,ce(R).rating_excellent||ce(R).key==ce(l).selectedKey]])]),_:1}),j(im,{class:"col"},{default:It(()=>[Qn(Ae("span",null,[Qn(Ae("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":oe[9]||(oe[9]=se=>ce(R).rating_cardinal=se),id:"ratingCardinal"+ce(R).key,disabled:ce(d).isOwnDisabled||ce(R).corrector_key!=ce(r).correctorKey,onChange:oe[10]||(oe[10]=se=>K(ce(R)))},null,40,Zye),[[iG,ce(R).rating_cardinal]]),Ae("label",{for:"ratingCardinal"+ce(R).key,onClick:oe[11]||(oe[11]=se=>ce(l).selectComment(ce(R).key))}," "+Go(ce(g).negative_rating),9,jye)],512),[[zo,ce(R).rating_cardinal||ce(R).key==ce(l).selectedKey]])]),_:1})]),_:1}),j(Bk,null,{default:It(()=>[Ae("div",{id:"appCommentWrapper"+ce(R).key,class:"commentWrapper"},[Qn(j(Bye,{class:"comment","bg-color":I(ce(R)),rounded:"0",density:"compact",variant:"solo",id:"app-comment-"+ce(R).key,label:"Anmerkung zu Markierung "+ce(R).label,rows:"1","auto-grow":"",readonly:ce(d).isOwnDisabled||ce(R).corrector_key!=ce(r).correctorKey,onClick:oe[12]||(oe[12]=se=>ce(l).selectComment(ce(R).key)),onChange:oe[13]||(oe[13]=se=>ce(l).updateComment(ce(R))),onKeyup:oe[14]||(oe[14]=se=>ce(l).updateComment(ce(R))),onKeydown:oe[15]||(oe[15]=se=>Y()),modelValue:ce(R).comment,"onUpdate:modelValue":oe[16]||(oe[16]=se=>ce(R).comment=se)},null,8,["bg-color","id","label","readonly","modelValue"]),[[zo,ce(R).comment!=""||ce(R).key==ce(l).selectedKey]])],8,Kye)]),_:1})]),_:1},8,["id"]))}},qye=$l(Gye,[["__scopeId","data-v-babdb6ae"]]),Yye={id:"appMarkingComments"},Xye={__name:"MarkingComments",setup(n){const r=Tu();async function l(){await Fs();let g=document.getElementById("appCommentWrapper"+r.selectedKey);if(g){let v=g.querySelector("textarea");v&&v.focus()}}zn(()=>r.selectionChange,l);async function d(){await Fs();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return zn(()=>r.firstVisibleKey,d),(g,v)=>(Ln(),ds("div",Yye,[(Ln(!0),ds(us,null,cC(ce(r).activeComments,x=>(Ln(),rr(qye,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},Jye={class:"appMarkingPointsWrapper"},Qye={key:0,class:"info"},exe={class:"col-mid text-right"},txe={class:"col-left"},nxe=["for"],oxe={class:"col-mid text-right"},sxe=["onUpdate:modelValue","id","disabled","max","onChange"],rxe={class:"col-mid text-right"},ixe={class:"sum-points"},axe={class:"col-right text-right"},lxe={__name:"MarkingPoints",setup(n){const r=Uh(),l=Tu(),d=k1(),g=ps(),v=yc();xc();let x=Mn(""),S=Mn(""),M=Mn({});async function R(){const L=l.getComment(l.selectedKey);x.value=L?L.key:"",S.value=L?L.corrector_key:g.correctorKey,M.value={};for(const $ of r.getCorrectorCriteria(S.value))M.value[$.key]=d.getValueByRelation(l.selectedKey,$.key)}R(),zn(()=>l.selectionChange,R);function I(L){d.setValueByRelation(l.selectedKey,L,M.value[L])}return(L,$)=>(Ln(),ds("div",Jye,[ce(S)==""?(Ln(),ds("p",Qye," Bitte Kommentar auswählen. ")):Ts("",!0),ce(S)!=""?(Ln(),rr(w1,{key:1,density:"compact"},{default:It(()=>[Ae("thead",null,[Ae("tr",null,[$[1]||($[1]=Ae("th",{class:"col-left"}," Kriterium ",-1)),Ae("th",exe,[$[0]||($[0]=Ei(" Punkte ")),Qn(Ae("span",{class:"commentLabel"},Go(ce(l).selectedLabel),513),[[zo,ce(l).selectedKey!=""]])]),$[2]||($[2]=Ae("th",{class:"col-right text-right"}," Summe / max. ",-1))])]),Ae("tbody",null,[(Ln(!0),ds(us,null,cC(ce(r).getCorrectorCriteria(ce(S)),K=>(Ln(),ds("tr",{key:K.key},[Ae("td",txe,[Ae("label",{for:"app-points-input-"+K.key},Go(K.title),9,nxe)]),Ae("td",oxe,[Qn(Ae("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":Y=>ce(M)[K.key]=Y,id:"app-points-input-"+K.key,disabled:ce(v).isOwnDisabled||ce(x)==""||ce(S)!=ce(g).correctorKey,max:K.points,onChange:Y=>I(K.key)},null,40,sxe),[[Zy,ce(M)[K.key]]])]),Ae("td",{class:wd("col-right text-right "+(ce(d).getPointsOfCriterionExceeded(K,ce(S))?"red":""))},Go(ce(d).getSumOfPointsForCriterion(K,ce(S)))+" / "+Go(K.points),3)]))),128)),Ae("tr",null,[$[3]||($[3]=Ae("td",{class:"col-left"},[Ae("strong",null,"Summe")],-1)),Ae("td",rxe,[Ae("strong",ixe,Go(ce(d).getSumOfPointsForComment(ce(x))),1)]),Ae("td",axe,[Ae("strong",null,Go(ce(d).getSumOfPointsForCorrector(ce(S))+" / "+ce(r).sumOfMaxPoints),1)])])])]),_:1})):Ts("",!0)]))}},cxe=$l(lxe,[["__scopeId","data-v-d6c357b9"]]),uxe={id:"app-marking-wrapper"},dxe={key:3},fxe={__name:"Marking",setup(n){const r=ps(),l=xc(),d=Uh(),g=yc();function v(){return l.showMarkingComments&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function x(){return l.showMarkingPoints&&d.hasAnyCriteria&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function S(){return l.showMarkingText&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function M(){switch((v()?1:0)+(x()?1:0)+(S()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(R,I)=>(Ln(),ds("div",uxe,[v()?(Ln(),ds("div",{key:0,class:wd(M())},[I[0]||(I[0]=Ae("h2",{class:"headline"},"Anmerkungen",-1)),j(Xye,{class:"content"})],2)):Ts("",!0),x()?(Ln(),ds("div",{key:1,class:wd(M())},[I[1]||(I[1]=Ae("h2",{class:"headline"},"Bewertung",-1)),j(cxe,{class:"content"})],2)):Ts("",!0),S()?(Ln(),ds("div",{key:2,class:wd(M())},[I[2]||(I[2]=Ae("h2",{class:"headline"},"Gutachten",-1)),j(bee,{class:"content",editorId:"marking"})],2)):Ts("",!0),ce(r).isForReviewOrStitch&&!ce(g).isOneAuthorized?(Ln(),ds("div",dxe," Für diese Abgabe ist noch keine Korrektur autorisiert. ")):Ts("",!0)]))}},mxe=$l(fxe,[["__scopeId","data-v-2a8fb273"]]),gxe=Dn({scrollable:Boolean,...Vs(),...Yh(),...Qi({tag:"main"})},"VMain"),yee=Ro()({name:"VMain",props:gxe(),setup(n,r){let{slots:l}=r;const{dimensionStyles:d}=Xh(n),{mainStyles:g}=Vme(),{ssrBootStyles:v}=m8();return vs(()=>j(n.tag,{class:["v-main",{"v-main--scrollable":n.scrollable},n.class],style:[g.value,v.value,d.value,n.style]},{default:()=>{var x,S;return[n.scrollable?j("div",{class:"v-main__scroller"},[(x=l.default)==null?void 0:x.call(l)]):(S=l.default)==null?void 0:S.call(l)]}})),{}}}),hxe={id:"app-main-container"},pxe={class:"col-header"},vxe={id:"appHeadLeft",tabindex:"0",class:"headline"},bxe={class:"col-content"},yxe={class:"col-header"},xxe={id:"appHeadRight",tabindex:"0",class:"headline"},wxe={class:"sr-only"},Cxe={class:"sr-only"},_xe={class:"sr-only"},Sxe={class:"sr-only"},kxe={class:"sr-only"},Exe={class:"sr-only"},Axe={class:"sr-only"},Txe={class:"col-content"},Oxe={__name:"MainContent",setup(n){const r=ps(),l=xc(),d=dC(),g=Tu(),v=Uh(),x=OL();async function S(){l.focusTarget=="appHeadLeft"&&(await Fs(),document.getElementById("appHeadLeft").focus()),l.focusTarget=="appHeadRight"&&(await Fs(),document.getElementById("appHeadRight").focus())}return zn(()=>l.focusChange,S),document.addEventListener("keydown",l.handleKeyDown),(M,R)=>(Ln(),ds(us,null,[j(yee,{"fill-height":""},{default:It(()=>[Ae("div",hxe,[Qn(Ae("section",{class:wd(["column",{colExpanded:ce(l).isLeftExpanded,colNormal:!ce(l).isLeftExpanded}])},[Ae("div",pxe,[Ae("h1",vxe,Go(ce(l).isInstructionsVisible?"Aufgabenstellung":ce(l).isInstructionsPdfVisible?"Aufgabenstellung (PDF)":ce(l).isSolutionVisible?"Lösungshinweise":ce(l).isSolutionPdfVisible?"Lösungshinweise (PDF)":ce(l).isEssayVisible?"Abgegebener Text":ce(l).isResourcesVisible?ce(d).activeTitle:ce(l).isLeftCorrectorVisible?ce(l).leftCorrectorTitle:"Linke Spalte"),1),j(C1,{density:"comfortable"},{default:It(()=>[Qn(j(xo,{size:"small",onClick:R[0]||(R[0]=I=>ce(l).toggleLeftSummaryCriteria())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showLeftSummaryCriteria]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showLeftSummaryCriteria]]),R[15]||(R[15]=Ae("span",null,"Übersicht",-1))]),_:1},512),[[zo,ce(l).isLeftCorrectorVisible]]),Qn(j(xo,{size:"small",onClick:R[1]||(R[1]=I=>ce(l).toggleLeftSummaryText())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showLeftSummaryText]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showLeftSummaryText]]),R[16]||(R[16]=Ae("span",null,"Gutachten",-1))]),_:1},512),[[zo,ce(l).isLeftCorrectorVisible]]),Qn(j(xo,{size:"small",onClick:R[2]||(R[2]=I=>ce(l).setLeftExpanded(!1))},{default:It(()=>[j(qn,{icon:"mdi-chevron-left"}),Ae("span",null,Go(ce(l).isMarkingSelected?"Korrektur":ce(l).isSummarySelected?"Gesamteindruck":ce(l).isRightCorrectorSelected?ce(l).rightCorrectorTitle:"Rechte Spalte erweitern"),1)]),_:1},512),[[zo,ce(l).isLeftExpanded]]),Qn(j(xo,{size:"small",onClick:R[3]||(R[3]=I=>ce(l).setLeftExpanded(!0))},{default:It(()=>[R[17]||(R[17]=Ae("span",{"aria-hidden":"true"},"Erweitern",-1)),R[18]||(R[18]=Ae("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),j(qn,{icon:"mdi-chevron-right"})]),_:1},512),[[zo,!ce(l).isLeftExpanded]])]),_:1})]),Ae("div",bxe,[ce(l).isInstructionsVisible?(Ln(),rr(n1e,{key:0})):Ts("",!0),ce(l).isInstructionsPdfVisible?(Ln(),rr(r1e,{key:1})):Ts("",!0),ce(l).isSolutionVisible?(Ln(),rr(l1e,{key:2})):Ts("",!0),ce(l).isSolutionPdfVisible?(Ln(),rr(d1e,{key:3})):Ts("",!0),ce(l).isEssayVisible&&!ce(x).hasPages?(Ln(),rr(w1e,{key:4})):Ts("",!0),ce(l).isEssayVisible&&ce(x).hasPages?(Ln(),rr(M0e,{key:5})):Ts("",!0),ce(l).isResourcesVisible?(Ln(),rr(p1e,{key:6})):Ts("",!0),ce(l).isLeftCorrectorVisible?(Ln(),rr(zq,{key:7,corrector_key:ce(l).leftCorrectorKey,showCriteria:ce(l).showLeftSummaryCriteria,showText:ce(l).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):Ts("",!0)])],2),[[zo,ce(l).isLeftVisible]]),Qn(Ae("section",{class:wd(["column",{colExpanded:ce(l).isRightExpanded,colNormal:!ce(l).isRightExpanded}])},[Ae("div",yxe,[Ae("h1",xxe,Go(ce(l).isMarkingVisible?"Korrektur":ce(l).isSummaryVisible?"Eigener Gesamteindruck":ce(l).isRightCorrectorVisible?ce(l).rightCorrectorTitle:"Rechte Spalte"),1),j(C1,{density:"comfortable"},{default:It(()=>[ce(l).isMarkingVisible?(Ln(),rr(xo,{key:0,size:"small",variant:"plain",onClick:R[4]||(R[4]=I=>ce(g).setShowOtherCorrectors(!ce(g).isOtherCorrectorsShown))},{default:It(()=>[j(qn,{icon:ce(g).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),Ae("span",wxe,Go("Andere Korrektoren zeigen"+(ce(g).isOtherCorrectorsShown?", ist ausgewählt":"")),1)]),_:1})):Ts("",!0),ce(l).isMarkingVisible?(Ln(),rr(xo,{key:1,size:"small",variant:"plain",disabled:!ce(g).isFilterActive,onClick:R[5]||(R[5]=I=>ce(g).resetFilter())},{default:It(()=>[j(qn,{icon:ce(g).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),Ae("span",Cxe,Go("Filter aktiv"+(ce(g).isFilterActive?", ist ausgewählt":"")),1)]),_:1},8,["disabled"])):Ts("",!0),Qn(j(xo,{size:"small",onClick:R[6]||(R[6]=I=>ce(l).toggleMarkingComments())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showMarkingComments]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showMarkingComments]]),R[19]||(R[19]=Ae("span",null,"Anmerkungen",-1)),Ae("span",_xe,Go("anzeigen"+(ce(l).showMarkingComments?", ist ausgewählt":"")),1)]),_:1},512),[[zo,ce(l).isMarkingVisible]]),Qn(j(xo,{size:"small",onClick:R[7]||(R[7]=I=>ce(l).toggleMarkingPoints())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showMarkingPoints]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showMarkingPoints]]),R[20]||(R[20]=Ae("span",null,"Bewertung",-1)),Ae("span",Sxe,Go("anzeigen"+(ce(l).showMarkingPoints?", ist ausgewählt":"")),1)]),_:1},512),[[zo,ce(v).hasAnyCriteria&&ce(l).isMarkingVisible]]),Qn(j(xo,{size:"small",onClick:R[8]||(R[8]=I=>ce(l).toggleMarkingText())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showMarkingText]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showMarkingText]]),R[21]||(R[21]=Ae("span",null,"Gutachten",-1)),Ae("span",kxe,Go("anzeigen"+(ce(l).showMarkingText?", ist ausgewählt":"")),1)]),_:1},512),[[zo,!ce(r).isForReviewOrStitch&&ce(l).isMarkingVisible]]),Qn(j(xo,{size:"small",onClick:R[9]||(R[9]=I=>ce(l).toggleRightSummaryCriteria())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showRightSummaryCriteria]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showRightSummaryCriteria]]),R[22]||(R[22]=Ae("span",null,"Übersicht",-1)),Ae("span",Exe,Go("anzeigen"+(ce(l).showRightSummaryCriteria?", ist ausgewählt":"")),1)]),_:1},512),[[zo,ce(l).isSummaryVisible||ce(l).isRightCorrectorVisible]]),Qn(j(xo,{size:"small",onClick:R[10]||(R[10]=I=>ce(l).toggleRightSummaryText())},{default:It(()=>[Qn(j(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,ce(l).showRightSummaryText]]),Qn(j(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!ce(l).showRightSummaryText]]),R[23]||(R[23]=Ae("span",null,"Gutachten",-1)),Ae("span",Axe,Go("anzeigen"+(ce(l).showRightSummaryText?", ist ausgewählt":"")),1)]),_:1},512),[[zo,ce(l).isSummaryVisible||ce(l).isRightCorrectorVisible]]),Qn(j(xo,{size:"small",onClick:R[11]||(R[11]=I=>ce(l).setRightExpanded(!1))},{default:It(()=>[Ae("span",null,Go(ce(l).isInstructionsSelected?"Aufgabenstellung":ce(l).isEssaySelected?"Abgegebener Text":ce(l).isResourcesSelected?ce(d).activeTitle:ce(l).isLeftCorrectorSelected?ce(l).leftCorrectorTitle:"Linke Spalte erweitern"),1),j(qn,{icon:"mdi-chevron-right"})]),_:1},512),[[zo,ce(l).isRightExpanded]]),Qn(j(xo,{size:"small",onClick:R[12]||(R[12]=I=>ce(l).setRightExpanded(!0))},{default:It(()=>[j(qn,{icon:"mdi-chevron-left"}),R[24]||(R[24]=Ae("span",{"aria-hidden":"true"},"Erweitern",-1)),R[25]||(R[25]=Ae("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1))]),_:1},512),[[zo,!ce(l).isRightExpanded]])]),_:1})]),Ae("div",Txe,[ce(l).isSummaryVisible?(Ln(),rr(Cye,{key:0,showCriteria:ce(l).showRightSummaryCriteria,showText:ce(l).showRightSummaryText},null,8,["showCriteria","showText"])):Ts("",!0),ce(l).isRightCorrectorVisible?(Ln(),rr(zq,{key:1,corrector_key:ce(l).rightCorrectorKey,showCriteria:ce(l).showRightSummaryCriteria,showText:ce(l).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):Ts("",!0),ce(l).isMarkingVisible?(Ln(),rr(mxe,{key:2})):Ts("",!0)])],2),[[zo,ce(l).isRightVisible]])])]),_:1}),j(pv,{persistent:"",modelValue:ce(r).showSendFailure,"onUpdate:modelValue":R[14]||(R[14]=I=>ce(r).showSendFailure=I)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>R[26]||(R[26]=[Ae("p",null,"Ihre letzen Änderungen zu dieser Korrektur konnten nicht übertragen werden, sind aber lokal gespeichert.",-1),Ae("p",null,"Sie können diese Meldung schließen und warten bis Ihre Änderungen wieder automatisch gespeichert werden (Siehe Seitenfuß).",-1),Ae("p",null,"Alternativ können Sie die Korrektur jetzt abbrechen und später wieder aufrufen, um die Änderungen nachträglich zu speichern.",-1)])),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:R[13]||(R[13]=I=>ce(r).setShowSendFailure(!1))},{default:It(()=>[j(qn,{left:"",icon:"mdi-close"}),R[27]||(R[27]=Ae("span",null,"Meldung schließen",-1))]),_:1}),j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),R[28]||(R[28]=Ae("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Dxe=$l(Oxe,[["__scopeId","data-v-8f72e3fb"]]),Rxe={__name:"StartupContent",setup(n){const r=ps(),l=jy(),d=mv();return(g,v)=>(Ln(),rr(yee,{"fill-height":""},{default:It(()=>[j(HQ,{elevation:"1",color:"white",density:"compact"},{default:It(()=>[v[5]||(v[5]=Ae("p",null,"Lade Daten...",-1)),j(lW),j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),v[4]||(v[4]=Ae("span",null,"Meine Korrekturen",-1))]),_:1},8,["href"])]),_:1}),j(pv,{persistent:"",modelValue:ce(r).showInitFailure,"onUpdate:modelValue":v[0]||(v[0]=x=>ce(r).showInitFailure=x)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>v[6]||(v[6]=[Ae("p",null,"Beim Laden der Basisdaten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Vh,null,{default:It(()=>[j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),v[7]||(v[7]=Ae("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:ce(r).showItemLoadFailure,"onUpdate:modelValue":v[1]||(v[1]=x=>ce(r).showItemLoadFailure=x)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>v[8]||(v[8]=[Ae("p",null,"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Vh,null,{default:It(()=>[j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),v[9]||(v[9]=Ae("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:ce(r).showDataReplaceConfirmation,"onUpdate:modelValue":v[2]||(v[2]=x=>ce(r).showDataReplaceConfirmation=x)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>[v[10]||(v[10]=Ae("p",null,"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht übertragen wurden:",-1)),Ae("p",null,[Ae("strong",null,Go(ce(l).title)+": "+Go(ce(d).getItem(ce(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[11]||(v[11]=Ae("p",null,"Durch das Laden der neuen Korrektur werden diese Daten gelöscht. Möchten Sie die neuen Daten laden?",-1))]),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:ce(r).initAfterReplaceDataConfirmed},{default:It(()=>[j(qn,{left:"",icon:"mdi-reload"}),v[12]||(v[12]=Ae("span",null,"Verwerfen und Laden",-1))]),_:1},8,["onClick"]),j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),v[13]||(v[13]=Ae("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(pv,{persistent:"",modelValue:ce(r).showItemReplaceConfirmation,"onUpdate:modelValue":v[3]||(v[3]=x=>ce(r).showItemReplaceConfirmation=x)},{default:It(()=>[j(hv,null,{default:It(()=>[j(zh,null,{default:It(()=>[v[14]||(v[14]=Ae("p",null,"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht übertragen wurden:",-1)),Ae("p",null,[Ae("strong",null,Go(ce(l).title)+": "+Go(ce(d).getItem(ce(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[15]||(v[15]=Ae("p",null,"Sie können mit diesen Daten weiter arbeiten, um sie nachträglich zu übertragen oder sie verwerfen.",-1))]),_:1}),j(Vh,null,{default:It(()=>[j(xo,{onClick:ce(r).initAfterKeepDataConfirmed},{default:It(()=>[j(qn,{left:"",icon:"mdi-pencil-outline"}),v[16]||(v[16]=Ae("span",null,"Mit lokalen Daten weiter arbeiten",-1))]),_:1},8,["onClick"]),j(xo,{onClick:ce(r).initAfterReplaceDataConfirmed},{default:It(()=>[j(qn,{left:"",icon:"mdi-trash-can-outline"}),v[17]||(v[17]=Ae("span",null,"Lokale Daten verwerfen",-1))]),_:1},8,["onClick"]),j(xo,{href:ce(r).returnUrl},{default:It(()=>[j(qn,{left:"",icon:"mdi-logout-variant"}),v[18]||(v[18]=Ae("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ixe=Dn({...Vs(),...Fme({fullHeight:!0}),...cl()},"VApp"),Nxe=Ro()({name:"VApp",props:Ixe(),setup(n,r){let{slots:l}=r;const d=Hl(n),{layoutClasses:g,getLayoutItem:v,items:x,layoutRef:S}=Hme(n),{rtlClasses:M}=Ng();return vs(()=>{var R;return j("div",{ref:S,class:["v-application",d.themeClasses.value,g.value,M.value,n.class],style:[n.style]},[j("div",{class:"v-application__wrap"},[(R=l.default)==null?void 0:R.call(l)])])}),{getLayoutItem:v,items:x,theme:d}}}),Pxe={__name:"App",setup(n){const r=ps();return r.init(),(l,d)=>(Ln(),rr(Nxe,{"fill-height":""},{default:It(()=>[ce(r).initialized?Ts("",!0):(Ln(),rr(Rxe,{key:0})),ce(r).initialized?(Ln(),rr($be,{key:1})):Ts("",!0),ce(r).initialized?(Ln(),rr(Qbe,{key:2})):Ts("",!0),ce(r).initialized?(Ln(),rr(Dxe,{key:3})):Ts("",!0)]),_:1}))}},xee=Fde(Pxe);Jme(xee);xee.mount("#app");
